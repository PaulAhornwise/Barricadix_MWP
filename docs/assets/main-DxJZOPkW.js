(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let YE,KE;function QE(){return{geminiUrl:YE,vertexUrl:KE}}function XE(o,e,n){var s,l,u;if(!(!((s=o.httpOptions)===null||s===void 0)&&s.baseUrl)){const c=QE();return o.vertexai?(l=c.vertexUrl)!==null&&l!==void 0?l:e:(u=c.geminiUrl)!==null&&u!==void 0?u:n}return o.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ja{}function gt(o,e){const n=/\{([^}]+)\}/g;return o.replace(n,(s,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const u=e[l];return u!=null?String(u):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function m(o,e,n){for(let u=0;u<e.length-1;u++){const c=e[u];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in o))if(Array.isArray(n))o[h]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(o[h])){const y=o[h];if(Array.isArray(n))for(let p=0;p<y.length;p++){const v=y[p];m(v,e.slice(u+1),n[p])}else for(const p of y)m(p,e.slice(u+1),n)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in o||(o[h]=[{}]);const y=o[h];m(y[0],e.slice(u+1),n);return}(!o[c]||typeof o[c]!="object")&&(o[c]={}),o=o[c]}const s=e[e.length-1],l=o[s];if(l!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===l)return;if(typeof l=="object"&&typeof n=="object"&&l!==null&&n!==null)Object.assign(l,n);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else o[s]=n}function d(o,e){try{if(e.length===1&&e[0]==="_self")return o;for(let n=0;n<e.length;n++){if(typeof o!="object"||o===null)return;const s=e[n];if(s.endsWith("[]")){const l=s.slice(0,-2);if(l in o){const u=o[l];return Array.isArray(u)?u.map(c=>d(c,e.slice(n+1))):void 0}else return}else o=o[s]}return o}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qt(o,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(o.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Sv(o,e){const n=Qt(o,e);return n?n.startsWith("publishers/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/${n}`:n.startsWith("models/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/publishers/google/${n}`:n:""}function Ev(o,e){return Array.isArray(e)?e.map(n=>Pl(o,n)):[Pl(o,e)]}function Pl(o,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function ZE(o,e){const n=Pl(o,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function $E(o,e){const n=Pl(o,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Gm(o,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function bv(o,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>Gm(o,n)):[Gm(o,e)]}function Vc(o){return o!=null&&typeof o=="object"&&"parts"in o&&Array.isArray(o.parts)}function qm(o){return o!=null&&typeof o=="object"&&"functionCall"in o}function Hm(o){return o!=null&&typeof o=="object"&&"functionResponse"in o}function Me(o,e){if(e==null)throw new Error("ContentUnion is required");return Vc(e)?e:{role:"user",parts:bv(o,e)}}function Cv(o,e){if(!e)return[];if(o.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const s=Me(o,n);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(o.isVertexAI()){const n=Me(o,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Me(o,n)):[Me(o,e)]}function oi(o,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(qm(e)||Hm(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Me(o,e)]}const n=[],s=[],l=Vc(e[0]);for(const u of e){const c=Vc(u);if(c!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)n.push(u);else{if(qm(u)||Hm(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");s.push(u)}}return l||n.push({role:"user",parts:bv(o,s)}),n}function Av(o,e){return e}function Mv(o,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Yl(o,e){return e}function Kl(o,e){if(!Array.isArray(e))throw new Error("tool is required and must be an array of Tools");return e}function JE(o,e,n,s=1){const l=!e.startsWith(`${n}/`)&&e.split("/").length===s;return o.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${o.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${o.getProject()}/locations/${o.getLocation()}/${e}`:l?`projects/${o.getProject()}/locations/${o.getLocation()}/${n}/${e}`:e:l?`${n}/${e}`:e}function ai(o,e){if(typeof e!="string")throw new Error("name must be a string");return JE(o,e,"cachedContents")}function xv(o,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function si(o,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function _v(o,e){if(typeof e!="string")throw new Error("fromName must be a string");return e.startsWith("files/")?e.split("files/")[1]:e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WE(o,e){const n={};if(d(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const s=d(e,["thought"]);s!=null&&m(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&m(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&m(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&m(n,["fileData"],c);const h=d(e,["functionCall"]);h!=null&&m(n,["functionCall"],h);const y=d(e,["functionResponse"]);y!=null&&m(n,["functionResponse"],y);const p=d(e,["inlineData"]);p!=null&&m(n,["inlineData"],p);const v=d(e,["text"]);return v!=null&&m(n,["text"],v),n}function Fm(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>WE(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function jE(){return{}}function tb(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&m(n,["dynamicThreshold"],l),n}function eb(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&m(n,["dynamicRetrievalConfig"],tb(o,s)),n}function nb(o,e){const n={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(e,["googleSearch"])!=null&&m(n,["googleSearch"],jE());const l=d(e,["googleSearchRetrieval"]);l!=null&&m(n,["googleSearchRetrieval"],eb(o,l));const u=d(e,["codeExecution"]);u!=null&&m(n,["codeExecution"],u);const c=d(e,["functionDeclarations"]);return c!=null&&m(n,["functionDeclarations"],c),n}function ib(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&m(n,["allowedFunctionNames"],l),n}function ob(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&m(n,["functionCallingConfig"],ib(o,s)),n}function ab(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&m(n,["ttl"],l);const u=d(e,["expireTime"]);n!==void 0&&u!=null&&m(n,["expireTime"],u);const c=d(e,["displayName"]);n!==void 0&&c!=null&&m(n,["displayName"],c);const h=d(e,["contents"]);if(n!==void 0&&h!=null){let S=oi(o,h);Array.isArray(S)&&(S=S.map(E=>Fm(o,E))),m(n,["contents"],S)}const y=d(e,["systemInstruction"]);n!==void 0&&y!=null&&m(n,["systemInstruction"],Fm(o,Me(o,y)));const p=d(e,["tools"]);if(n!==void 0&&p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>nb(o,E))),m(n,["tools"],S)}const v=d(e,["toolConfig"]);return n!==void 0&&v!=null&&m(n,["toolConfig"],ob(o,v)),s}function sb(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["model"],Sv(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],ab(o,l,n)),n}function lb(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function rb(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function ub(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&m(n,["ttl"],l);const u=d(e,["expireTime"]);return n!==void 0&&u!=null&&m(n,["expireTime"],u),s}function cb(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],ub(o,l,n)),n}function fb(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&m(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);return n!==void 0&&u!=null&&m(n,["_query","pageToken"],u),s}function db(o,e){const n={},s=d(e,["config"]);return s!=null&&m(n,["config"],fb(o,s,n)),n}function hb(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&m(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&m(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&m(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&m(n,["executableCode"],c);const h=d(e,["fileData"]);h!=null&&m(n,["fileData"],h);const y=d(e,["functionCall"]);y!=null&&m(n,["functionCall"],y);const p=d(e,["functionResponse"]);p!=null&&m(n,["functionResponse"],p);const v=d(e,["inlineData"]);v!=null&&m(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&m(n,["text"],S),n}function Ym(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>hb(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function pb(){return{}}function mb(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&m(n,["dynamicThreshold"],l),n}function gb(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&m(n,["dynamicRetrievalConfig"],mb(o,s)),n}function yb(o,e){const n={},s=d(e,["retrieval"]);s!=null&&m(n,["retrieval"],s),d(e,["googleSearch"])!=null&&m(n,["googleSearch"],pb());const u=d(e,["googleSearchRetrieval"]);u!=null&&m(n,["googleSearchRetrieval"],gb(o,u));const c=d(e,["codeExecution"]);c!=null&&m(n,["codeExecution"],c);const h=d(e,["functionDeclarations"]);return h!=null&&m(n,["functionDeclarations"],h),n}function vb(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&m(n,["allowedFunctionNames"],l),n}function Tb(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&m(n,["functionCallingConfig"],vb(o,s)),n}function Sb(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&m(n,["ttl"],l);const u=d(e,["expireTime"]);n!==void 0&&u!=null&&m(n,["expireTime"],u);const c=d(e,["displayName"]);n!==void 0&&c!=null&&m(n,["displayName"],c);const h=d(e,["contents"]);if(n!==void 0&&h!=null){let S=oi(o,h);Array.isArray(S)&&(S=S.map(E=>Ym(o,E))),m(n,["contents"],S)}const y=d(e,["systemInstruction"]);n!==void 0&&y!=null&&m(n,["systemInstruction"],Ym(o,Me(o,y)));const p=d(e,["tools"]);if(n!==void 0&&p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>yb(o,E))),m(n,["tools"],S)}const v=d(e,["toolConfig"]);return n!==void 0&&v!=null&&m(n,["toolConfig"],Tb(o,v)),s}function Eb(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["model"],Sv(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],Sb(o,l,n)),n}function bb(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function Cb(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function Ab(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&m(n,["ttl"],l);const u=d(e,["expireTime"]);return n!==void 0&&u!=null&&m(n,["expireTime"],u),s}function Mb(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],Ab(o,l,n)),n}function xb(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&m(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);return n!==void 0&&u!=null&&m(n,["_query","pageToken"],u),s}function _b(o,e){const n={},s=d(e,["config"]);return s!=null&&m(n,["config"],xb(o,s,n)),n}function _l(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["displayName"]);l!=null&&m(n,["displayName"],l);const u=d(e,["model"]);u!=null&&m(n,["model"],u);const c=d(e,["createTime"]);c!=null&&m(n,["createTime"],c);const h=d(e,["updateTime"]);h!=null&&m(n,["updateTime"],h);const y=d(e,["expireTime"]);y!=null&&m(n,["expireTime"],y);const p=d(e,["usageMetadata"]);return p!=null&&m(n,["usageMetadata"],p),n}function Rb(){return{}}function wb(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&m(n,["nextPageToken"],s);const l=d(e,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>_l(o,c))),m(n,["cachedContents"],u)}return n}function Rl(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["displayName"]);l!=null&&m(n,["displayName"],l);const u=d(e,["model"]);u!=null&&m(n,["model"],u);const c=d(e,["createTime"]);c!=null&&m(n,["createTime"],c);const h=d(e,["updateTime"]);h!=null&&m(n,["updateTime"],h);const y=d(e,["expireTime"]);y!=null&&m(n,["expireTime"],y);const p=d(e,["usageMetadata"]);return p!=null&&m(n,["usageMetadata"],p),n}function Db(){return{}}function Nb(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&m(n,["nextPageToken"],s);const l=d(e,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Rl(o,c))),m(n,["cachedContents"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ka;(function(o){o.PAGED_ITEM_BATCH_JOBS="batchJobs",o.PAGED_ITEM_MODELS="models",o.PAGED_ITEM_TUNING_JOBS="tuningJobs",o.PAGED_ITEM_FILES="files",o.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ka||(Ka={}));class df{constructor(e,n,s,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,s,l)}init(e,n,s){var l,u;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let c={config:{}};s?typeof s=="object"?c=Object.assign({},s):c=s:c={config:{}},c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(u=(l=c.config)===null||l===void 0?void 0:l.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Km;(function(o){o.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",o.OUTCOME_OK="OUTCOME_OK",o.OUTCOME_FAILED="OUTCOME_FAILED",o.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Km||(Km={}));var Qm;(function(o){o.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",o.PYTHON="PYTHON"})(Qm||(Qm={}));var Xm;(function(o){o.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",o.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",o.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",o.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",o.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Xm||(Xm={}));var Zm;(function(o){o.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",o.SEVERITY="SEVERITY",o.PROBABILITY="PROBABILITY"})(Zm||(Zm={}));var $m;(function(o){o.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE",o.OFF="OFF"})($m||($m={}));var Jm;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(Jm||(Jm={}));var xn;(function(o){o.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",o.STRING="STRING",o.NUMBER="NUMBER",o.INTEGER="INTEGER",o.BOOLEAN="BOOLEAN",o.ARRAY="ARRAY",o.OBJECT="OBJECT"})(xn||(xn={}));var Wm;(function(o){o.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",o.STOP="STOP",o.MAX_TOKENS="MAX_TOKENS",o.SAFETY="SAFETY",o.RECITATION="RECITATION",o.LANGUAGE="LANGUAGE",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.SPII="SPII",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.IMAGE_SAFETY="IMAGE_SAFETY"})(Wm||(Wm={}));var jm;(function(o){o.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",o.NEGLIGIBLE="NEGLIGIBLE",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH"})(jm||(jm={}));var tg;(function(o){o.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",o.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",o.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",o.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",o.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(tg||(tg={}));var eg;(function(o){o.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",o.SAFETY="SAFETY",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(eg||(eg={}));var ng;(function(o){o.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",o.ON_DEMAND="ON_DEMAND",o.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ng||(ng={}));var Vl;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.AUDIO="AUDIO"})(Vl||(Vl={}));var ig;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ig||(ig={}));var Bc;(function(o){o.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",o.JOB_STATE_QUEUED="JOB_STATE_QUEUED",o.JOB_STATE_PENDING="JOB_STATE_PENDING",o.JOB_STATE_RUNNING="JOB_STATE_RUNNING",o.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",o.JOB_STATE_FAILED="JOB_STATE_FAILED",o.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",o.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",o.JOB_STATE_PAUSED="JOB_STATE_PAUSED",o.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",o.JOB_STATE_UPDATING="JOB_STATE_UPDATING",o.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Bc||(Bc={}));var og;(function(o){o.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",o.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",o.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",o.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",o.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",o.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",o.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(og||(og={}));var ag;(function(o){o.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",o.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",o.BALANCED="BALANCED",o.PRIORITIZE_COST="PRIORITIZE_COST"})(ag||(ag={}));var sg;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(sg||(sg={}));var lg;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.AUTO="AUTO",o.ANY="ANY",o.NONE="NONE"})(lg||(lg={}));var rg;(function(o){o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE"})(rg||(rg={}));var ug;(function(o){o.DONT_ALLOW="DONT_ALLOW",o.ALLOW_ADULT="ALLOW_ADULT",o.ALLOW_ALL="ALLOW_ALL"})(ug||(ug={}));var cg;(function(o){o.auto="auto",o.en="en",o.ja="ja",o.ko="ko",o.hi="hi"})(cg||(cg={}));var fg;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.PROCESSING="PROCESSING",o.ACTIVE="ACTIVE",o.FAILED="FAILED"})(fg||(fg={}));var dg;(function(o){o.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",o.UPLOADED="UPLOADED",o.GENERATED="GENERATED"})(dg||(dg={}));var hg;(function(o){o.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",o.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",o.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",o.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",o.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(hg||(hg={}));var pg;(function(o){o.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",o.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",o.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",o.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(pg||(pg={}));var mg;(function(o){o.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",o.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",o.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",o.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(mg||(mg={}));var gg;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.VIDEO="VIDEO",o.AUDIO="AUDIO",o.DOCUMENT="DOCUMENT"})(gg||(gg={}));var yg;(function(o){o.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",o.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",o.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(yg||(yg={}));var vg;(function(o){o.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",o.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",o.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(vg||(vg={}));var Tg;(function(o){o.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",o.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",o.NO_INTERRUPTION="NO_INTERRUPTION"})(Tg||(Tg={}));var Sg;(function(o){o.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",o.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",o.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Sg||(Sg={}));class Tl{get text(){var e,n,s,l,u,c,h,y;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const S=[];for(const E of(y=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[C,A]of Object.entries(E))C!=="text"&&C!=="thought"&&(A!==null||A!==void 0)&&S.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,p+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,n,s,l,u,c,h,y;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const S of(y=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[E,C]of Object.entries(S))E!=="inlineData"&&(C!==null||C!==void 0)&&v.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(p+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,n,s,l,u,c,h,y;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,n,s,l,u,c,h,y,p;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,n,s,l,u,c,h,y,p;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class Eg{}class bg{}class Cg{}class Ag{}class Lb{}class Mg{}class xg{}class _g{}class Pb{}class Ic{constructor(e){const n={};for(const s of e.headers.entries())n[s[0]]=s[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Vb{}class Bb{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ib extends ja{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new df(Ka.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(n),n)}async create(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=Eb(this.apiClient,e);return h=gt("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Rl(this.apiClient,v))}else{const p=sb(this.apiClient,e);return h=gt("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>_l(this.apiClient,v))}}async get(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=bb(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Rl(this.apiClient,v))}else{const p=lb(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>_l(this.apiClient,v))}}async delete(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=Cb(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(()=>{const v=Db(),S=new xg;return Object.assign(S,v),S})}else{const p=rb(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(()=>{const v=Rb(),S=new xg;return Object.assign(S,v),S})}}async update(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=Mb(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Rl(this.apiClient,v))}else{const p=cb(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>_l(this.apiClient,v))}}async listInternal(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=_b(this.apiClient,e);return h=gt("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=Nb(this.apiClient,v),E=new _g;return Object.assign(E,S),E})}else{const p=db(this.apiClient,e);return h=gt("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=wb(this.apiClient,v),E=new _g;return Object.assign(E,S),E})}}}function Rg(o){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&o[e],s=0;if(n)return n.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&s>=o.length&&(o=void 0),{value:o&&o[s++],done:!o}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pe(o){return this instanceof pe?(this.v=o,this):new pe(o)}function Bl(o,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(o,e||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),l[Symbol.asyncIterator]=function(){return this},l;function c(C){return function(A){return Promise.resolve(A).then(C,S)}}function h(C,A){s[C]&&(l[C]=function(w){return new Promise(function(z,k){u.push([C,w,z,k])>1||y(C,w)})},A&&(l[C]=A(l[C])))}function y(C,A){try{p(s[C](A))}catch(w){E(u[0][3],w)}}function p(C){C.value instanceof pe?Promise.resolve(C.value.v).then(v,S):E(u[0][2],C)}function v(C){y("next",C)}function S(C){y("throw",C)}function E(C,A){C(A),u.shift(),u.length&&y(u[0][0],u[0][1])}}function Uc(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=o[Symbol.asyncIterator],n;return e?e.call(o):(o=typeof Rg=="function"?Rg(o):o[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(u){n[u]=o[u]&&function(c){return new Promise(function(h,y){c=o[u](c),l(h,y,c.done,c.value)})}}function l(u,c,h,y){Promise.resolve(y).then(function(p){u({value:p,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ub(o){var e;if(o.candidates==null||o.candidates.length===0)return!1;const n=(e=o.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Rv(n)}function Rv(o){if(o.parts===void 0||o.parts.length===0)return!1;for(const e of o.parts)if(e===void 0||Object.keys(e).length===0||e.text!==void 0&&e.text==="")return!1;return!0}function zb(o){if(o.length!==0){if(o[0].role!=="user")throw new Error("History must start with a user turn.");for(const e of o)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function kb(o){if(o===void 0||o.length===0)return[];const e=[],n=o.length;let s=0,l=o[0];for(;s<n;)if(o[s].role==="user")l=o[s],s++;else{const u=[];let c=!0;for(;s<n&&o[s].role==="model";)u.push(o[s]),c&&!Rv(o[s])&&(c=!1),s++;c&&(e.push(l),e.push(...u))}return e}class Ob{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Gb(this.apiClient,this.modelsModule,e.model,e.config,e.history)}}class Gb{constructor(e,n,s,l={},u=[]){this.apiClient=e,this.modelsModule=n,this.model=s,this.config=l,this.history=u,this.sendPromise=Promise.resolve(),zb(u)}async sendMessage(e){var n;await this.sendPromise;const s=Me(this.apiClient,e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var u,c;const y=(c=(u=(await l).candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content,p=y?[y]:[];this.recordHistory(s,p)})(),await this.sendPromise,l}async sendMessageStream(e){var n;await this.sendPromise;const s=Me(this.apiClient,e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const u=await l;return this.processStreamResponse(u,s)}getHistory(e=!1){return e?kb(this.history):this.history}processStreamResponse(e,n){var s,l;return Bl(this,arguments,function*(){var c,h,y,p;const v=[];try{for(var S=!0,E=Uc(e),C;C=yield pe(E.next()),c=C.done,!c;S=!0){p=C.value,S=!1;const A=p;if(Ub(A)){const w=(l=(s=A.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content;w!==void 0&&v.push(w)}yield yield pe(A)}}catch(A){h={error:A}}finally{try{!S&&!c&&(y=E.return)&&(yield pe(y.call(E)))}finally{if(h)throw h.error}}this.recordHistory(n,v)})}recordHistory(e,n){let s=[];n.length>0&&n.every(l=>l.role==="model")?s=n:s.push({role:"model",parts:[]}),this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qb(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&m(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);return n!==void 0&&u!=null&&m(n,["_query","pageToken"],u),s}function Hb(o,e){const n={},s=d(e,["config"]);return s!=null&&m(n,["config"],qb(o,s,n)),n}function Fb(o,e){const n={},s=d(e,["details"]);s!=null&&m(n,["details"],s);const l=d(e,["message"]);l!=null&&m(n,["message"],l);const u=d(e,["code"]);return u!=null&&m(n,["code"],u),n}function Yb(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["displayName"]);l!=null&&m(n,["displayName"],l);const u=d(e,["mimeType"]);u!=null&&m(n,["mimeType"],u);const c=d(e,["sizeBytes"]);c!=null&&m(n,["sizeBytes"],c);const h=d(e,["createTime"]);h!=null&&m(n,["createTime"],h);const y=d(e,["expirationTime"]);y!=null&&m(n,["expirationTime"],y);const p=d(e,["updateTime"]);p!=null&&m(n,["updateTime"],p);const v=d(e,["sha256Hash"]);v!=null&&m(n,["sha256Hash"],v);const S=d(e,["uri"]);S!=null&&m(n,["uri"],S);const E=d(e,["downloadUri"]);E!=null&&m(n,["downloadUri"],E);const C=d(e,["state"]);C!=null&&m(n,["state"],C);const A=d(e,["source"]);A!=null&&m(n,["source"],A);const w=d(e,["videoMetadata"]);w!=null&&m(n,["videoMetadata"],w);const z=d(e,["error"]);return z!=null&&m(n,["error"],Fb(o,z)),n}function Kb(o,e){const n={},s=d(e,["file"]);s!=null&&m(n,["file"],Yb(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function Qb(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","file"],_v(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function Xb(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","file"],_v(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function Zb(o,e){const n={},s=d(e,["details"]);s!=null&&m(n,["details"],s);const l=d(e,["message"]);l!=null&&m(n,["message"],l);const u=d(e,["code"]);return u!=null&&m(n,["code"],u),n}function zc(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["displayName"]);l!=null&&m(n,["displayName"],l);const u=d(e,["mimeType"]);u!=null&&m(n,["mimeType"],u);const c=d(e,["sizeBytes"]);c!=null&&m(n,["sizeBytes"],c);const h=d(e,["createTime"]);h!=null&&m(n,["createTime"],h);const y=d(e,["expirationTime"]);y!=null&&m(n,["expirationTime"],y);const p=d(e,["updateTime"]);p!=null&&m(n,["updateTime"],p);const v=d(e,["sha256Hash"]);v!=null&&m(n,["sha256Hash"],v);const S=d(e,["uri"]);S!=null&&m(n,["uri"],S);const E=d(e,["downloadUri"]);E!=null&&m(n,["downloadUri"],E);const C=d(e,["state"]);C!=null&&m(n,["state"],C);const A=d(e,["source"]);A!=null&&m(n,["source"],A);const w=d(e,["videoMetadata"]);w!=null&&m(n,["videoMetadata"],w);const z=d(e,["error"]);return z!=null&&m(n,["error"],Zb(o,z)),n}function $b(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&m(n,["nextPageToken"],s);const l=d(e,["files"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>zc(o,c))),m(n,["files"],u)}return n}function Jb(){return{}}function Wb(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jb extends ja{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new df(Ka.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>zc(this.apiClient,n))}async listInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Hb(this.apiClient,e);return u=gt("files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const p=$b(this.apiClient,y),v=new Pb;return Object.assign(v,p),v})}}async createInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Kb(this.apiClient,e);return u=gt("upload/v1beta/files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(()=>{const y=Jb(),p=new Vb;return Object.assign(p,y),p})}}async get(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Qb(this.apiClient,e);return u=gt("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>zc(this.apiClient,y))}}async delete(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Xb(this.apiClient,e);return u=gt("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(()=>{const y=Wb(),p=new Bb;return Object.assign(p,y),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tC(o,e){const n={};if(d(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const s=d(e,["thought"]);s!=null&&m(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&m(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&m(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&m(n,["fileData"],c);const h=d(e,["functionCall"]);h!=null&&m(n,["functionCall"],h);const y=d(e,["functionResponse"]);y!=null&&m(n,["functionResponse"],y);const p=d(e,["inlineData"]);p!=null&&m(n,["inlineData"],p);const v=d(e,["text"]);return v!=null&&m(n,["text"],v),n}function eC(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&m(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&m(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&m(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&m(n,["executableCode"],c);const h=d(e,["fileData"]);h!=null&&m(n,["fileData"],h);const y=d(e,["functionCall"]);y!=null&&m(n,["functionCall"],y);const p=d(e,["functionResponse"]);p!=null&&m(n,["functionResponse"],p);const v=d(e,["inlineData"]);v!=null&&m(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&m(n,["text"],S),n}function nC(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>tC(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function iC(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>eC(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function oC(){return{}}function aC(){return{}}function sC(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&m(n,["dynamicThreshold"],l),n}function lC(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&m(n,["dynamicThreshold"],l),n}function rC(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&m(n,["dynamicRetrievalConfig"],sC(o,s)),n}function uC(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&m(n,["dynamicRetrievalConfig"],lC(o,s)),n}function cC(o,e){const n={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(e,["googleSearch"])!=null&&m(n,["googleSearch"],oC());const l=d(e,["googleSearchRetrieval"]);l!=null&&m(n,["googleSearchRetrieval"],rC(o,l));const u=d(e,["codeExecution"]);u!=null&&m(n,["codeExecution"],u);const c=d(e,["functionDeclarations"]);return c!=null&&m(n,["functionDeclarations"],c),n}function fC(o,e){const n={},s=d(e,["retrieval"]);s!=null&&m(n,["retrieval"],s),d(e,["googleSearch"])!=null&&m(n,["googleSearch"],aC());const u=d(e,["googleSearchRetrieval"]);u!=null&&m(n,["googleSearchRetrieval"],uC(o,u));const c=d(e,["codeExecution"]);c!=null&&m(n,["codeExecution"],c);const h=d(e,["functionDeclarations"]);return h!=null&&m(n,["functionDeclarations"],h),n}function dC(o,e){const n={},s=d(e,["handle"]);if(s!=null&&m(n,["handle"],s),d(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function hC(o,e){const n={},s=d(e,["handle"]);s!=null&&m(n,["handle"],s);const l=d(e,["transparent"]);return l!=null&&m(n,["transparent"],l),n}function pC(){return{}}function wg(){return{}}function mC(o,e){const n={},s=d(e,["disabled"]);s!=null&&m(n,["disabled"],s);const l=d(e,["startOfSpeechSensitivity"]);l!=null&&m(n,["startOfSpeechSensitivity"],l);const u=d(e,["endOfSpeechSensitivity"]);u!=null&&m(n,["endOfSpeechSensitivity"],u);const c=d(e,["prefixPaddingMs"]);c!=null&&m(n,["prefixPaddingMs"],c);const h=d(e,["silenceDurationMs"]);return h!=null&&m(n,["silenceDurationMs"],h),n}function gC(o,e){const n={},s=d(e,["disabled"]);s!=null&&m(n,["disabled"],s);const l=d(e,["startOfSpeechSensitivity"]);l!=null&&m(n,["startOfSpeechSensitivity"],l);const u=d(e,["endOfSpeechSensitivity"]);u!=null&&m(n,["endOfSpeechSensitivity"],u);const c=d(e,["prefixPaddingMs"]);c!=null&&m(n,["prefixPaddingMs"],c);const h=d(e,["silenceDurationMs"]);return h!=null&&m(n,["silenceDurationMs"],h),n}function yC(o,e){const n={},s=d(e,["automaticActivityDetection"]);s!=null&&m(n,["automaticActivityDetection"],mC(o,s));const l=d(e,["activityHandling"]);l!=null&&m(n,["activityHandling"],l);const u=d(e,["turnCoverage"]);return u!=null&&m(n,["turnCoverage"],u),n}function vC(o,e){const n={},s=d(e,["automaticActivityDetection"]);s!=null&&m(n,["automaticActivityDetection"],gC(o,s));const l=d(e,["activityHandling"]);l!=null&&m(n,["activityHandling"],l);const u=d(e,["turnCoverage"]);return u!=null&&m(n,["turnCoverage"],u),n}function TC(o,e){const n={},s=d(e,["targetTokens"]);return s!=null&&m(n,["targetTokens"],s),n}function SC(o,e){const n={},s=d(e,["targetTokens"]);return s!=null&&m(n,["targetTokens"],s),n}function EC(o,e){const n={},s=d(e,["triggerTokens"]);s!=null&&m(n,["triggerTokens"],s);const l=d(e,["slidingWindow"]);return l!=null&&m(n,["slidingWindow"],TC(o,l)),n}function bC(o,e){const n={},s=d(e,["triggerTokens"]);s!=null&&m(n,["triggerTokens"],s);const l=d(e,["slidingWindow"]);return l!=null&&m(n,["slidingWindow"],SC(o,l)),n}function CC(o,e,n){const s={},l=d(e,["generationConfig"]);n!==void 0&&l!=null&&m(n,["setup","generationConfig"],l);const u=d(e,["responseModalities"]);n!==void 0&&u!=null&&m(n,["setup","generationConfig","responseModalities"],u);const c=d(e,["temperature"]);n!==void 0&&c!=null&&m(n,["setup","generationConfig","temperature"],c);const h=d(e,["topP"]);n!==void 0&&h!=null&&m(n,["setup","generationConfig","topP"],h);const y=d(e,["topK"]);n!==void 0&&y!=null&&m(n,["setup","generationConfig","topK"],y);const p=d(e,["maxOutputTokens"]);n!==void 0&&p!=null&&m(n,["setup","generationConfig","maxOutputTokens"],p);const v=d(e,["mediaResolution"]);n!==void 0&&v!=null&&m(n,["setup","generationConfig","mediaResolution"],v);const S=d(e,["seed"]);n!==void 0&&S!=null&&m(n,["setup","generationConfig","seed"],S);const E=d(e,["speechConfig"]);n!==void 0&&E!=null&&m(n,["setup","generationConfig","speechConfig"],E);const C=d(e,["systemInstruction"]);n!==void 0&&C!=null&&m(n,["setup","systemInstruction"],nC(o,Me(o,C)));const A=d(e,["tools"]);if(n!==void 0&&A!=null){let N=Kl(o,A);Array.isArray(N)&&(N=N.map(K=>cC(o,Yl(o,K)))),m(n,["setup","tools"],N)}const w=d(e,["sessionResumption"]);if(n!==void 0&&w!=null&&m(n,["setup","sessionResumption"],dC(o,w)),d(e,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const z=d(e,["outputAudioTranscription"]);n!==void 0&&z!=null&&m(n,["setup","outputAudioTranscription"],pC());const k=d(e,["realtimeInputConfig"]);n!==void 0&&k!=null&&m(n,["setup","realtimeInputConfig"],yC(o,k));const F=d(e,["contextWindowCompression"]);return n!==void 0&&F!=null&&m(n,["setup","contextWindowCompression"],EC(o,F)),s}function AC(o,e,n){const s={},l=d(e,["generationConfig"]);n!==void 0&&l!=null&&m(n,["setup","generationConfig"],l);const u=d(e,["responseModalities"]);n!==void 0&&u!=null&&m(n,["setup","generationConfig","responseModalities"],u);const c=d(e,["temperature"]);n!==void 0&&c!=null&&m(n,["setup","generationConfig","temperature"],c);const h=d(e,["topP"]);n!==void 0&&h!=null&&m(n,["setup","generationConfig","topP"],h);const y=d(e,["topK"]);n!==void 0&&y!=null&&m(n,["setup","generationConfig","topK"],y);const p=d(e,["maxOutputTokens"]);n!==void 0&&p!=null&&m(n,["setup","generationConfig","maxOutputTokens"],p);const v=d(e,["mediaResolution"]);n!==void 0&&v!=null&&m(n,["setup","generationConfig","mediaResolution"],v);const S=d(e,["seed"]);n!==void 0&&S!=null&&m(n,["setup","generationConfig","seed"],S);const E=d(e,["speechConfig"]);n!==void 0&&E!=null&&m(n,["setup","generationConfig","speechConfig"],E);const C=d(e,["systemInstruction"]);n!==void 0&&C!=null&&m(n,["setup","systemInstruction"],iC(o,Me(o,C)));const A=d(e,["tools"]);if(n!==void 0&&A!=null){let K=Kl(o,A);Array.isArray(K)&&(K=K.map(D=>fC(o,Yl(o,D)))),m(n,["setup","tools"],K)}const w=d(e,["sessionResumption"]);n!==void 0&&w!=null&&m(n,["setup","sessionResumption"],hC(o,w));const z=d(e,["inputAudioTranscription"]);n!==void 0&&z!=null&&m(n,["setup","inputAudioTranscription"],wg());const k=d(e,["outputAudioTranscription"]);n!==void 0&&k!=null&&m(n,["setup","outputAudioTranscription"],wg());const F=d(e,["realtimeInputConfig"]);n!==void 0&&F!=null&&m(n,["setup","realtimeInputConfig"],vC(o,F));const N=d(e,["contextWindowCompression"]);return n!==void 0&&N!=null&&m(n,["setup","contextWindowCompression"],bC(o,N)),s}function MC(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["setup","model"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],CC(o,l,n)),n}function xC(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["setup","model"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],AC(o,l,n)),n}function _C(){return{}}function RC(){return{}}function wC(){return{}}function DC(){return{}}function NC(o,e){const n={},s=d(e,["media"]);s!=null&&m(n,["mediaChunks"],Ev(o,s));const l=d(e,["audio"]);l!=null&&m(n,["audio"],$E(o,l));const u=d(e,["audioStreamEnd"]);u!=null&&m(n,["audioStreamEnd"],u);const c=d(e,["video"]);c!=null&&m(n,["video"],ZE(o,c));const h=d(e,["text"]);return h!=null&&m(n,["text"],h),d(e,["activityStart"])!=null&&m(n,["activityStart"],_C()),d(e,["activityEnd"])!=null&&m(n,["activityEnd"],wC()),n}function LC(o,e){const n={},s=d(e,["media"]);if(s!=null&&m(n,["mediaChunks"],Ev(o,s)),d(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const l=d(e,["audioStreamEnd"]);if(l!=null&&m(n,["audioStreamEnd"],l),d(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(d(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return d(e,["activityStart"])!=null&&m(n,["activityStart"],RC()),d(e,["activityEnd"])!=null&&m(n,["activityEnd"],DC()),n}function PC(){return{}}function VC(){return{}}function BC(o,e){const n={},s=d(e,["thought"]);s!=null&&m(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&m(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&m(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&m(n,["fileData"],c);const h=d(e,["functionCall"]);h!=null&&m(n,["functionCall"],h);const y=d(e,["functionResponse"]);y!=null&&m(n,["functionResponse"],y);const p=d(e,["inlineData"]);p!=null&&m(n,["inlineData"],p);const v=d(e,["text"]);return v!=null&&m(n,["text"],v),n}function IC(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&m(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&m(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&m(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&m(n,["executableCode"],c);const h=d(e,["fileData"]);h!=null&&m(n,["fileData"],h);const y=d(e,["functionCall"]);y!=null&&m(n,["functionCall"],y);const p=d(e,["functionResponse"]);p!=null&&m(n,["functionResponse"],p);const v=d(e,["inlineData"]);v!=null&&m(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&m(n,["text"],S),n}function UC(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>BC(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function zC(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>IC(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function Dg(o,e){const n={},s=d(e,["text"]);s!=null&&m(n,["text"],s);const l=d(e,["finished"]);return l!=null&&m(n,["finished"],l),n}function Ng(o,e){const n={},s=d(e,["text"]);s!=null&&m(n,["text"],s);const l=d(e,["finished"]);return l!=null&&m(n,["finished"],l),n}function kC(o,e){const n={},s=d(e,["modelTurn"]);s!=null&&m(n,["modelTurn"],UC(o,s));const l=d(e,["turnComplete"]);l!=null&&m(n,["turnComplete"],l);const u=d(e,["interrupted"]);u!=null&&m(n,["interrupted"],u);const c=d(e,["groundingMetadata"]);c!=null&&m(n,["groundingMetadata"],c);const h=d(e,["generationComplete"]);h!=null&&m(n,["generationComplete"],h);const y=d(e,["inputTranscription"]);y!=null&&m(n,["inputTranscription"],Dg(o,y));const p=d(e,["outputTranscription"]);return p!=null&&m(n,["outputTranscription"],Dg(o,p)),n}function OC(o,e){const n={},s=d(e,["modelTurn"]);s!=null&&m(n,["modelTurn"],zC(o,s));const l=d(e,["turnComplete"]);l!=null&&m(n,["turnComplete"],l);const u=d(e,["interrupted"]);u!=null&&m(n,["interrupted"],u);const c=d(e,["groundingMetadata"]);c!=null&&m(n,["groundingMetadata"],c);const h=d(e,["generationComplete"]);h!=null&&m(n,["generationComplete"],h);const y=d(e,["inputTranscription"]);y!=null&&m(n,["inputTranscription"],Ng(o,y));const p=d(e,["outputTranscription"]);return p!=null&&m(n,["outputTranscription"],Ng(o,p)),n}function GC(o,e){const n={},s=d(e,["id"]);s!=null&&m(n,["id"],s);const l=d(e,["args"]);l!=null&&m(n,["args"],l);const u=d(e,["name"]);return u!=null&&m(n,["name"],u),n}function qC(o,e){const n={},s=d(e,["args"]);s!=null&&m(n,["args"],s);const l=d(e,["name"]);return l!=null&&m(n,["name"],l),n}function HC(o,e){const n={},s=d(e,["functionCalls"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>GC(o,u))),m(n,["functionCalls"],l)}return n}function FC(o,e){const n={},s=d(e,["functionCalls"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>qC(o,u))),m(n,["functionCalls"],l)}return n}function YC(o,e){const n={},s=d(e,["ids"]);return s!=null&&m(n,["ids"],s),n}function KC(o,e){const n={},s=d(e,["ids"]);return s!=null&&m(n,["ids"],s),n}function Sl(o,e){const n={},s=d(e,["modality"]);s!=null&&m(n,["modality"],s);const l=d(e,["tokenCount"]);return l!=null&&m(n,["tokenCount"],l),n}function El(o,e){const n={},s=d(e,["modality"]);s!=null&&m(n,["modality"],s);const l=d(e,["tokenCount"]);return l!=null&&m(n,["tokenCount"],l),n}function QC(o,e){const n={},s=d(e,["promptTokenCount"]);s!=null&&m(n,["promptTokenCount"],s);const l=d(e,["cachedContentTokenCount"]);l!=null&&m(n,["cachedContentTokenCount"],l);const u=d(e,["responseTokenCount"]);u!=null&&m(n,["responseTokenCount"],u);const c=d(e,["toolUsePromptTokenCount"]);c!=null&&m(n,["toolUsePromptTokenCount"],c);const h=d(e,["thoughtsTokenCount"]);h!=null&&m(n,["thoughtsTokenCount"],h);const y=d(e,["totalTokenCount"]);y!=null&&m(n,["totalTokenCount"],y);const p=d(e,["promptTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(A=>Sl(o,A))),m(n,["promptTokensDetails"],C)}const v=d(e,["cacheTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(A=>Sl(o,A))),m(n,["cacheTokensDetails"],C)}const S=d(e,["responseTokensDetails"]);if(S!=null){let C=S;Array.isArray(C)&&(C=C.map(A=>Sl(o,A))),m(n,["responseTokensDetails"],C)}const E=d(e,["toolUsePromptTokensDetails"]);if(E!=null){let C=E;Array.isArray(C)&&(C=C.map(A=>Sl(o,A))),m(n,["toolUsePromptTokensDetails"],C)}return n}function XC(o,e){const n={},s=d(e,["promptTokenCount"]);s!=null&&m(n,["promptTokenCount"],s);const l=d(e,["cachedContentTokenCount"]);l!=null&&m(n,["cachedContentTokenCount"],l);const u=d(e,["candidatesTokenCount"]);u!=null&&m(n,["responseTokenCount"],u);const c=d(e,["toolUsePromptTokenCount"]);c!=null&&m(n,["toolUsePromptTokenCount"],c);const h=d(e,["thoughtsTokenCount"]);h!=null&&m(n,["thoughtsTokenCount"],h);const y=d(e,["totalTokenCount"]);y!=null&&m(n,["totalTokenCount"],y);const p=d(e,["promptTokensDetails"]);if(p!=null){let A=p;Array.isArray(A)&&(A=A.map(w=>El(o,w))),m(n,["promptTokensDetails"],A)}const v=d(e,["cacheTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(w=>El(o,w))),m(n,["cacheTokensDetails"],A)}const S=d(e,["candidatesTokensDetails"]);if(S!=null){let A=S;Array.isArray(A)&&(A=A.map(w=>El(o,w))),m(n,["responseTokensDetails"],A)}const E=d(e,["toolUsePromptTokensDetails"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(w=>El(o,w))),m(n,["toolUsePromptTokensDetails"],A)}const C=d(e,["trafficType"]);return C!=null&&m(n,["trafficType"],C),n}function ZC(o,e){const n={},s=d(e,["timeLeft"]);return s!=null&&m(n,["timeLeft"],s),n}function $C(o,e){const n={},s=d(e,["timeLeft"]);return s!=null&&m(n,["timeLeft"],s),n}function JC(o,e){const n={},s=d(e,["newHandle"]);s!=null&&m(n,["newHandle"],s);const l=d(e,["resumable"]);l!=null&&m(n,["resumable"],l);const u=d(e,["lastConsumedClientMessageIndex"]);return u!=null&&m(n,["lastConsumedClientMessageIndex"],u),n}function WC(o,e){const n={},s=d(e,["newHandle"]);s!=null&&m(n,["newHandle"],s);const l=d(e,["resumable"]);l!=null&&m(n,["resumable"],l);const u=d(e,["lastConsumedClientMessageIndex"]);return u!=null&&m(n,["lastConsumedClientMessageIndex"],u),n}function jC(o,e){const n={};d(e,["setupComplete"])!=null&&m(n,["setupComplete"],PC());const l=d(e,["serverContent"]);l!=null&&m(n,["serverContent"],kC(o,l));const u=d(e,["toolCall"]);u!=null&&m(n,["toolCall"],HC(o,u));const c=d(e,["toolCallCancellation"]);c!=null&&m(n,["toolCallCancellation"],YC(o,c));const h=d(e,["usageMetadata"]);h!=null&&m(n,["usageMetadata"],QC(o,h));const y=d(e,["goAway"]);y!=null&&m(n,["goAway"],ZC(o,y));const p=d(e,["sessionResumptionUpdate"]);return p!=null&&m(n,["sessionResumptionUpdate"],JC(o,p)),n}function tA(o,e){const n={};d(e,["setupComplete"])!=null&&m(n,["setupComplete"],VC());const l=d(e,["serverContent"]);l!=null&&m(n,["serverContent"],OC(o,l));const u=d(e,["toolCall"]);u!=null&&m(n,["toolCall"],FC(o,u));const c=d(e,["toolCallCancellation"]);c!=null&&m(n,["toolCallCancellation"],KC(o,c));const h=d(e,["usageMetadata"]);h!=null&&m(n,["usageMetadata"],XC(o,h));const y=d(e,["goAway"]);y!=null&&m(n,["goAway"],$C(o,y));const p=d(e,["sessionResumptionUpdate"]);return p!=null&&m(n,["sessionResumptionUpdate"],WC(o,p)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eA(o,e){const n={};if(d(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const s=d(e,["thought"]);s!=null&&m(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&m(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&m(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&m(n,["fileData"],c);const h=d(e,["functionCall"]);h!=null&&m(n,["functionCall"],h);const y=d(e,["functionResponse"]);y!=null&&m(n,["functionResponse"],y);const p=d(e,["inlineData"]);p!=null&&m(n,["inlineData"],p);const v=d(e,["text"]);return v!=null&&m(n,["text"],v),n}function Ql(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>eA(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function nA(o,e){const n={};if(d(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=d(e,["category"]);s!=null&&m(n,["category"],s);const l=d(e,["threshold"]);return l!=null&&m(n,["threshold"],l),n}function iA(){return{}}function oA(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&m(n,["dynamicThreshold"],l),n}function aA(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&m(n,["dynamicRetrievalConfig"],oA(o,s)),n}function sA(o,e){const n={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(e,["googleSearch"])!=null&&m(n,["googleSearch"],iA());const l=d(e,["googleSearchRetrieval"]);l!=null&&m(n,["googleSearchRetrieval"],aA(o,l));const u=d(e,["codeExecution"]);u!=null&&m(n,["codeExecution"],u);const c=d(e,["functionDeclarations"]);return c!=null&&m(n,["functionDeclarations"],c),n}function lA(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&m(n,["allowedFunctionNames"],l),n}function rA(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&m(n,["functionCallingConfig"],lA(o,s)),n}function uA(o,e){const n={},s=d(e,["voiceName"]);return s!=null&&m(n,["voiceName"],s),n}function cA(o,e){const n={},s=d(e,["prebuiltVoiceConfig"]);return s!=null&&m(n,["prebuiltVoiceConfig"],uA(o,s)),n}function fA(o,e){const n={},s=d(e,["voiceConfig"]);s!=null&&m(n,["voiceConfig"],cA(o,s));const l=d(e,["languageCode"]);return l!=null&&m(n,["languageCode"],l),n}function dA(o,e){const n={},s=d(e,["includeThoughts"]);s!=null&&m(n,["includeThoughts"],s);const l=d(e,["thinkingBudget"]);return l!=null&&m(n,["thinkingBudget"],l),n}function hA(o,e,n){const s={},l=d(e,["systemInstruction"]);n!==void 0&&l!=null&&m(n,["systemInstruction"],Ql(o,Me(o,l)));const u=d(e,["temperature"]);u!=null&&m(s,["temperature"],u);const c=d(e,["topP"]);c!=null&&m(s,["topP"],c);const h=d(e,["topK"]);h!=null&&m(s,["topK"],h);const y=d(e,["candidateCount"]);y!=null&&m(s,["candidateCount"],y);const p=d(e,["maxOutputTokens"]);p!=null&&m(s,["maxOutputTokens"],p);const v=d(e,["stopSequences"]);v!=null&&m(s,["stopSequences"],v);const S=d(e,["responseLogprobs"]);S!=null&&m(s,["responseLogprobs"],S);const E=d(e,["logprobs"]);E!=null&&m(s,["logprobs"],E);const C=d(e,["presencePenalty"]);C!=null&&m(s,["presencePenalty"],C);const A=d(e,["frequencyPenalty"]);A!=null&&m(s,["frequencyPenalty"],A);const w=d(e,["seed"]);w!=null&&m(s,["seed"],w);const z=d(e,["responseMimeType"]);z!=null&&m(s,["responseMimeType"],z);const k=d(e,["responseSchema"]);if(k!=null&&m(s,["responseSchema"],Av(o,k)),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=d(e,["safetySettings"]);if(n!==void 0&&F!=null){let lt=F;Array.isArray(lt)&&(lt=lt.map(yt=>nA(o,yt))),m(n,["safetySettings"],lt)}const N=d(e,["tools"]);if(n!==void 0&&N!=null){let lt=Kl(o,N);Array.isArray(lt)&&(lt=lt.map(yt=>sA(o,Yl(o,yt)))),m(n,["tools"],lt)}const K=d(e,["toolConfig"]);if(n!==void 0&&K!=null&&m(n,["toolConfig"],rA(o,K)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=d(e,["cachedContent"]);n!==void 0&&D!=null&&m(n,["cachedContent"],ai(o,D));const X=d(e,["responseModalities"]);X!=null&&m(s,["responseModalities"],X);const Z=d(e,["mediaResolution"]);Z!=null&&m(s,["mediaResolution"],Z);const H=d(e,["speechConfig"]);if(H!=null&&m(s,["speechConfig"],fA(o,Mv(o,H))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ot=d(e,["thinkingConfig"]);return ot!=null&&m(s,["thinkingConfig"],dA(o,ot)),s}function Lg(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(h=>Ql(o,h))),m(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&m(n,["generationConfig"],hA(o,u,n)),n}function pA(o,e,n){const s={},l=d(e,["taskType"]);n!==void 0&&l!=null&&m(n,["requests[]","taskType"],l);const u=d(e,["title"]);n!==void 0&&u!=null&&m(n,["requests[]","title"],u);const c=d(e,["outputDimensionality"]);if(n!==void 0&&c!=null&&m(n,["requests[]","outputDimensionality"],c),d(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function mA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);l!=null&&m(n,["requests[]","content"],Cv(o,l));const u=d(e,["config"]);u!=null&&m(n,["config"],pA(o,u,n));const c=d(e,["model"]);return c!==void 0&&m(n,["requests[]","model"],Qt(o,c)),n}function gA(o,e,n){const s={};if(d(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=d(e,["numberOfImages"]);n!==void 0&&l!=null&&m(n,["parameters","sampleCount"],l);const u=d(e,["aspectRatio"]);n!==void 0&&u!=null&&m(n,["parameters","aspectRatio"],u);const c=d(e,["guidanceScale"]);if(n!==void 0&&c!=null&&m(n,["parameters","guidanceScale"],c),d(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=d(e,["safetyFilterLevel"]);n!==void 0&&h!=null&&m(n,["parameters","safetySetting"],h);const y=d(e,["personGeneration"]);n!==void 0&&y!=null&&m(n,["parameters","personGeneration"],y);const p=d(e,["includeSafetyAttributes"]);n!==void 0&&p!=null&&m(n,["parameters","includeSafetyAttributes"],p);const v=d(e,["includeRaiReason"]);n!==void 0&&v!=null&&m(n,["parameters","includeRaiReason"],v);const S=d(e,["language"]);n!==void 0&&S!=null&&m(n,["parameters","language"],S);const E=d(e,["outputMimeType"]);n!==void 0&&E!=null&&m(n,["parameters","outputOptions","mimeType"],E);const C=d(e,["outputCompressionQuality"]);if(n!==void 0&&C!=null&&m(n,["parameters","outputOptions","compressionQuality"],C),d(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function yA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["prompt"]);l!=null&&m(n,["instances[0]","prompt"],l);const u=d(e,["config"]);return u!=null&&m(n,["config"],gA(o,u,n)),n}function vA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function TA(o,e,n){const s={},l=d(e,["displayName"]);n!==void 0&&l!=null&&m(n,["displayName"],l);const u=d(e,["description"]);return n!==void 0&&u!=null&&m(n,["description"],u),s}function SA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],TA(o,l,n)),n}function EA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function bA(o,e){const n={};if(d(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function CA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(h=>Ql(o,h))),m(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&m(n,["config"],bA(o,u)),n}function AA(o,e){const n={};if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=d(e,["imageBytes"]);s!=null&&m(n,["bytesBase64Encoded"],si(o,s));const l=d(e,["mimeType"]);return l!=null&&m(n,["mimeType"],l),n}function MA(o,e,n){const s={},l=d(e,["numberOfVideos"]);if(n!==void 0&&l!=null&&m(n,["parameters","sampleCount"],l),d(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=d(e,["durationSeconds"]);if(n!==void 0&&u!=null&&m(n,["parameters","durationSeconds"],u),d(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(e,["aspectRatio"]);if(n!==void 0&&c!=null&&m(n,["parameters","aspectRatio"],c),d(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const h=d(e,["personGeneration"]);if(n!==void 0&&h!=null&&m(n,["parameters","personGeneration"],h),d(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=d(e,["negativePrompt"]);if(n!==void 0&&y!=null&&m(n,["parameters","negativePrompt"],y),d(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function xA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["prompt"]);l!=null&&m(n,["instances[0]","prompt"],l);const u=d(e,["image"]);u!=null&&m(n,["instances[0]","image"],AA(o,u));const c=d(e,["config"]);return c!=null&&m(n,["config"],MA(o,c,n)),n}function _A(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&m(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&m(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&m(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&m(n,["executableCode"],c);const h=d(e,["fileData"]);h!=null&&m(n,["fileData"],h);const y=d(e,["functionCall"]);y!=null&&m(n,["functionCall"],y);const p=d(e,["functionResponse"]);p!=null&&m(n,["functionResponse"],p);const v=d(e,["inlineData"]);v!=null&&m(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&m(n,["text"],S),n}function No(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>_A(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function RA(o,e){const n={},s=d(e,["featureSelectionPreference"]);return s!=null&&m(n,["featureSelectionPreference"],s),n}function wA(o,e){const n={},s=d(e,["method"]);s!=null&&m(n,["method"],s);const l=d(e,["category"]);l!=null&&m(n,["category"],l);const u=d(e,["threshold"]);return u!=null&&m(n,["threshold"],u),n}function DA(){return{}}function NA(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&m(n,["dynamicThreshold"],l),n}function LA(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&m(n,["dynamicRetrievalConfig"],NA(o,s)),n}function wv(o,e){const n={},s=d(e,["retrieval"]);s!=null&&m(n,["retrieval"],s),d(e,["googleSearch"])!=null&&m(n,["googleSearch"],DA());const u=d(e,["googleSearchRetrieval"]);u!=null&&m(n,["googleSearchRetrieval"],LA(o,u));const c=d(e,["codeExecution"]);c!=null&&m(n,["codeExecution"],c);const h=d(e,["functionDeclarations"]);return h!=null&&m(n,["functionDeclarations"],h),n}function PA(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&m(n,["allowedFunctionNames"],l),n}function VA(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&m(n,["functionCallingConfig"],PA(o,s)),n}function BA(o,e){const n={},s=d(e,["voiceName"]);return s!=null&&m(n,["voiceName"],s),n}function IA(o,e){const n={},s=d(e,["prebuiltVoiceConfig"]);return s!=null&&m(n,["prebuiltVoiceConfig"],BA(o,s)),n}function UA(o,e){const n={},s=d(e,["voiceConfig"]);s!=null&&m(n,["voiceConfig"],IA(o,s));const l=d(e,["languageCode"]);return l!=null&&m(n,["languageCode"],l),n}function zA(o,e){const n={},s=d(e,["includeThoughts"]);s!=null&&m(n,["includeThoughts"],s);const l=d(e,["thinkingBudget"]);return l!=null&&m(n,["thinkingBudget"],l),n}function kA(o,e,n){const s={},l=d(e,["systemInstruction"]);n!==void 0&&l!=null&&m(n,["systemInstruction"],No(o,Me(o,l)));const u=d(e,["temperature"]);u!=null&&m(s,["temperature"],u);const c=d(e,["topP"]);c!=null&&m(s,["topP"],c);const h=d(e,["topK"]);h!=null&&m(s,["topK"],h);const y=d(e,["candidateCount"]);y!=null&&m(s,["candidateCount"],y);const p=d(e,["maxOutputTokens"]);p!=null&&m(s,["maxOutputTokens"],p);const v=d(e,["stopSequences"]);v!=null&&m(s,["stopSequences"],v);const S=d(e,["responseLogprobs"]);S!=null&&m(s,["responseLogprobs"],S);const E=d(e,["logprobs"]);E!=null&&m(s,["logprobs"],E);const C=d(e,["presencePenalty"]);C!=null&&m(s,["presencePenalty"],C);const A=d(e,["frequencyPenalty"]);A!=null&&m(s,["frequencyPenalty"],A);const w=d(e,["seed"]);w!=null&&m(s,["seed"],w);const z=d(e,["responseMimeType"]);z!=null&&m(s,["responseMimeType"],z);const k=d(e,["responseSchema"]);k!=null&&m(s,["responseSchema"],Av(o,k));const F=d(e,["routingConfig"]);F!=null&&m(s,["routingConfig"],F);const N=d(e,["modelSelectionConfig"]);N!=null&&m(s,["modelConfig"],RA(o,N));const K=d(e,["safetySettings"]);if(n!==void 0&&K!=null){let $=K;Array.isArray($)&&($=$.map(tt=>wA(o,tt))),m(n,["safetySettings"],$)}const D=d(e,["tools"]);if(n!==void 0&&D!=null){let $=Kl(o,D);Array.isArray($)&&($=$.map(tt=>wv(o,Yl(o,tt)))),m(n,["tools"],$)}const X=d(e,["toolConfig"]);n!==void 0&&X!=null&&m(n,["toolConfig"],VA(o,X));const Z=d(e,["labels"]);n!==void 0&&Z!=null&&m(n,["labels"],Z);const H=d(e,["cachedContent"]);n!==void 0&&H!=null&&m(n,["cachedContent"],ai(o,H));const ot=d(e,["responseModalities"]);ot!=null&&m(s,["responseModalities"],ot);const lt=d(e,["mediaResolution"]);lt!=null&&m(s,["mediaResolution"],lt);const yt=d(e,["speechConfig"]);yt!=null&&m(s,["speechConfig"],UA(o,Mv(o,yt)));const Tt=d(e,["audioTimestamp"]);Tt!=null&&m(s,["audioTimestamp"],Tt);const dt=d(e,["thinkingConfig"]);return dt!=null&&m(s,["thinkingConfig"],zA(o,dt)),s}function Pg(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(h=>No(o,h))),m(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&m(n,["generationConfig"],kA(o,u,n)),n}function OA(o,e,n){const s={},l=d(e,["taskType"]);n!==void 0&&l!=null&&m(n,["instances[]","task_type"],l);const u=d(e,["title"]);n!==void 0&&u!=null&&m(n,["instances[]","title"],u);const c=d(e,["outputDimensionality"]);n!==void 0&&c!=null&&m(n,["parameters","outputDimensionality"],c);const h=d(e,["mimeType"]);n!==void 0&&h!=null&&m(n,["instances[]","mimeType"],h);const y=d(e,["autoTruncate"]);return n!==void 0&&y!=null&&m(n,["parameters","autoTruncate"],y),s}function GA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);l!=null&&m(n,["instances[]","content"],Cv(o,l));const u=d(e,["config"]);return u!=null&&m(n,["config"],OA(o,u,n)),n}function qA(o,e,n){const s={},l=d(e,["outputGcsUri"]);n!==void 0&&l!=null&&m(n,["parameters","storageUri"],l);const u=d(e,["negativePrompt"]);n!==void 0&&u!=null&&m(n,["parameters","negativePrompt"],u);const c=d(e,["numberOfImages"]);n!==void 0&&c!=null&&m(n,["parameters","sampleCount"],c);const h=d(e,["aspectRatio"]);n!==void 0&&h!=null&&m(n,["parameters","aspectRatio"],h);const y=d(e,["guidanceScale"]);n!==void 0&&y!=null&&m(n,["parameters","guidanceScale"],y);const p=d(e,["seed"]);n!==void 0&&p!=null&&m(n,["parameters","seed"],p);const v=d(e,["safetyFilterLevel"]);n!==void 0&&v!=null&&m(n,["parameters","safetySetting"],v);const S=d(e,["personGeneration"]);n!==void 0&&S!=null&&m(n,["parameters","personGeneration"],S);const E=d(e,["includeSafetyAttributes"]);n!==void 0&&E!=null&&m(n,["parameters","includeSafetyAttributes"],E);const C=d(e,["includeRaiReason"]);n!==void 0&&C!=null&&m(n,["parameters","includeRaiReason"],C);const A=d(e,["language"]);n!==void 0&&A!=null&&m(n,["parameters","language"],A);const w=d(e,["outputMimeType"]);n!==void 0&&w!=null&&m(n,["parameters","outputOptions","mimeType"],w);const z=d(e,["outputCompressionQuality"]);n!==void 0&&z!=null&&m(n,["parameters","outputOptions","compressionQuality"],z);const k=d(e,["addWatermark"]);n!==void 0&&k!=null&&m(n,["parameters","addWatermark"],k);const F=d(e,["enhancePrompt"]);return n!==void 0&&F!=null&&m(n,["parameters","enhancePrompt"],F),s}function HA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["prompt"]);l!=null&&m(n,["instances[0]","prompt"],l);const u=d(e,["config"]);return u!=null&&m(n,["config"],qA(o,u,n)),n}function FA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function YA(o,e,n){const s={},l=d(e,["displayName"]);n!==void 0&&l!=null&&m(n,["displayName"],l);const u=d(e,["description"]);return n!==void 0&&u!=null&&m(n,["description"],u),s}function KA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],YA(o,l,n)),n}function QA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function XA(o,e,n){const s={},l=d(e,["systemInstruction"]);n!==void 0&&l!=null&&m(n,["systemInstruction"],No(o,Me(o,l)));const u=d(e,["tools"]);if(n!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>wv(o,y))),m(n,["tools"],h)}const c=d(e,["generationConfig"]);return n!==void 0&&c!=null&&m(n,["generationConfig"],c),s}function ZA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(h=>No(o,h))),m(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&m(n,["config"],XA(o,u,n)),n}function $A(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(h=>No(o,h))),m(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&m(n,["config"],u),n}function JA(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&m(n,["gcsUri"],s);const l=d(e,["imageBytes"]);l!=null&&m(n,["bytesBase64Encoded"],si(o,l));const u=d(e,["mimeType"]);return u!=null&&m(n,["mimeType"],u),n}function WA(o,e,n){const s={},l=d(e,["numberOfVideos"]);n!==void 0&&l!=null&&m(n,["parameters","sampleCount"],l);const u=d(e,["outputGcsUri"]);n!==void 0&&u!=null&&m(n,["parameters","storageUri"],u);const c=d(e,["fps"]);n!==void 0&&c!=null&&m(n,["parameters","fps"],c);const h=d(e,["durationSeconds"]);n!==void 0&&h!=null&&m(n,["parameters","durationSeconds"],h);const y=d(e,["seed"]);n!==void 0&&y!=null&&m(n,["parameters","seed"],y);const p=d(e,["aspectRatio"]);n!==void 0&&p!=null&&m(n,["parameters","aspectRatio"],p);const v=d(e,["resolution"]);n!==void 0&&v!=null&&m(n,["parameters","resolution"],v);const S=d(e,["personGeneration"]);n!==void 0&&S!=null&&m(n,["parameters","personGeneration"],S);const E=d(e,["pubsubTopic"]);n!==void 0&&E!=null&&m(n,["parameters","pubsubTopic"],E);const C=d(e,["negativePrompt"]);n!==void 0&&C!=null&&m(n,["parameters","negativePrompt"],C);const A=d(e,["enhancePrompt"]);return n!==void 0&&A!=null&&m(n,["parameters","enhancePrompt"],A),s}function jA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["prompt"]);l!=null&&m(n,["instances[0]","prompt"],l);const u=d(e,["image"]);u!=null&&m(n,["instances[0]","image"],JA(o,u));const c=d(e,["config"]);return c!=null&&m(n,["config"],WA(o,c,n)),n}function tM(o,e){const n={},s=d(e,["thought"]);s!=null&&m(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&m(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&m(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&m(n,["fileData"],c);const h=d(e,["functionCall"]);h!=null&&m(n,["functionCall"],h);const y=d(e,["functionResponse"]);y!=null&&m(n,["functionResponse"],y);const p=d(e,["inlineData"]);p!=null&&m(n,["inlineData"],p);const v=d(e,["text"]);return v!=null&&m(n,["text"],v),n}function eM(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>tM(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function nM(o,e){const n={},s=d(e,["citationSources"]);return s!=null&&m(n,["citations"],s),n}function iM(o,e){const n={},s=d(e,["content"]);s!=null&&m(n,["content"],eM(o,s));const l=d(e,["citationMetadata"]);l!=null&&m(n,["citationMetadata"],nM(o,l));const u=d(e,["tokenCount"]);u!=null&&m(n,["tokenCount"],u);const c=d(e,["finishReason"]);c!=null&&m(n,["finishReason"],c);const h=d(e,["avgLogprobs"]);h!=null&&m(n,["avgLogprobs"],h);const y=d(e,["groundingMetadata"]);y!=null&&m(n,["groundingMetadata"],y);const p=d(e,["index"]);p!=null&&m(n,["index"],p);const v=d(e,["logprobsResult"]);v!=null&&m(n,["logprobsResult"],v);const S=d(e,["safetyRatings"]);return S!=null&&m(n,["safetyRatings"],S),n}function Vg(o,e){const n={},s=d(e,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(y=>iM(o,y))),m(n,["candidates"],h)}const l=d(e,["modelVersion"]);l!=null&&m(n,["modelVersion"],l);const u=d(e,["promptFeedback"]);u!=null&&m(n,["promptFeedback"],u);const c=d(e,["usageMetadata"]);return c!=null&&m(n,["usageMetadata"],c),n}function oM(o,e){const n={},s=d(e,["values"]);return s!=null&&m(n,["values"],s),n}function aM(){return{}}function sM(o,e){const n={},s=d(e,["embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>oM(o,c))),m(n,["embeddings"],u)}return d(e,["metadata"])!=null&&m(n,["metadata"],aM()),n}function lM(o,e){const n={},s=d(e,["bytesBase64Encoded"]);s!=null&&m(n,["imageBytes"],si(o,s));const l=d(e,["mimeType"]);return l!=null&&m(n,["mimeType"],l),n}function Dv(o,e){const n={},s=d(e,["safetyAttributes","categories"]);s!=null&&m(n,["categories"],s);const l=d(e,["safetyAttributes","scores"]);l!=null&&m(n,["scores"],l);const u=d(e,["contentType"]);return u!=null&&m(n,["contentType"],u),n}function rM(o,e){const n={},s=d(e,["_self"]);s!=null&&m(n,["image"],lM(o,s));const l=d(e,["raiFilteredReason"]);l!=null&&m(n,["raiFilteredReason"],l);const u=d(e,["_self"]);return u!=null&&m(n,["safetyAttributes"],Dv(o,u)),n}function uM(o,e){const n={},s=d(e,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>rM(o,c))),m(n,["generatedImages"],u)}const l=d(e,["positivePromptSafetyAttributes"]);return l!=null&&m(n,["positivePromptSafetyAttributes"],Dv(o,l)),n}function cM(o,e){const n={},s=d(e,["baseModel"]);s!=null&&m(n,["baseModel"],s);const l=d(e,["createTime"]);l!=null&&m(n,["createTime"],l);const u=d(e,["updateTime"]);return u!=null&&m(n,["updateTime"],u),n}function Bg(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["displayName"]);l!=null&&m(n,["displayName"],l);const u=d(e,["description"]);u!=null&&m(n,["description"],u);const c=d(e,["version"]);c!=null&&m(n,["version"],c);const h=d(e,["_self"]);h!=null&&m(n,["tunedModelInfo"],cM(o,h));const y=d(e,["inputTokenLimit"]);y!=null&&m(n,["inputTokenLimit"],y);const p=d(e,["outputTokenLimit"]);p!=null&&m(n,["outputTokenLimit"],p);const v=d(e,["supportedGenerationMethods"]);return v!=null&&m(n,["supportedActions"],v),n}function fM(){return{}}function dM(o,e){const n={},s=d(e,["totalTokens"]);s!=null&&m(n,["totalTokens"],s);const l=d(e,["cachedContentTokenCount"]);return l!=null&&m(n,["cachedContentTokenCount"],l),n}function hM(o,e){const n={},s=d(e,["video","uri"]);s!=null&&m(n,["uri"],s);const l=d(e,["video","encodedVideo"]);l!=null&&m(n,["videoBytes"],si(o,l));const u=d(e,["encoding"]);return u!=null&&m(n,["mimeType"],u),n}function pM(o,e){const n={},s=d(e,["_self"]);return s!=null&&m(n,["video"],hM(o,s)),n}function mM(o,e){const n={},s=d(e,["generatedSamples"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>pM(o,h))),m(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&m(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&m(n,["raiMediaFilteredReasons"],u),n}function gM(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["metadata"]);l!=null&&m(n,["metadata"],l);const u=d(e,["done"]);u!=null&&m(n,["done"],u);const c=d(e,["error"]);c!=null&&m(n,["error"],c);const h=d(e,["response","generateVideoResponse"]);return h!=null&&m(n,["response"],mM(o,h)),n}function yM(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&m(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&m(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&m(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&m(n,["executableCode"],c);const h=d(e,["fileData"]);h!=null&&m(n,["fileData"],h);const y=d(e,["functionCall"]);y!=null&&m(n,["functionCall"],y);const p=d(e,["functionResponse"]);p!=null&&m(n,["functionResponse"],p);const v=d(e,["inlineData"]);v!=null&&m(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&m(n,["text"],S),n}function vM(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>yM(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function TM(o,e){const n={},s=d(e,["citations"]);return s!=null&&m(n,["citations"],s),n}function SM(o,e){const n={},s=d(e,["content"]);s!=null&&m(n,["content"],vM(o,s));const l=d(e,["citationMetadata"]);l!=null&&m(n,["citationMetadata"],TM(o,l));const u=d(e,["finishMessage"]);u!=null&&m(n,["finishMessage"],u);const c=d(e,["finishReason"]);c!=null&&m(n,["finishReason"],c);const h=d(e,["avgLogprobs"]);h!=null&&m(n,["avgLogprobs"],h);const y=d(e,["groundingMetadata"]);y!=null&&m(n,["groundingMetadata"],y);const p=d(e,["index"]);p!=null&&m(n,["index"],p);const v=d(e,["logprobsResult"]);v!=null&&m(n,["logprobsResult"],v);const S=d(e,["safetyRatings"]);return S!=null&&m(n,["safetyRatings"],S),n}function Ig(o,e){const n={},s=d(e,["candidates"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(v=>SM(o,v))),m(n,["candidates"],p)}const l=d(e,["createTime"]);l!=null&&m(n,["createTime"],l);const u=d(e,["responseId"]);u!=null&&m(n,["responseId"],u);const c=d(e,["modelVersion"]);c!=null&&m(n,["modelVersion"],c);const h=d(e,["promptFeedback"]);h!=null&&m(n,["promptFeedback"],h);const y=d(e,["usageMetadata"]);return y!=null&&m(n,["usageMetadata"],y),n}function EM(o,e){const n={},s=d(e,["truncated"]);s!=null&&m(n,["truncated"],s);const l=d(e,["token_count"]);return l!=null&&m(n,["tokenCount"],l),n}function bM(o,e){const n={},s=d(e,["values"]);s!=null&&m(n,["values"],s);const l=d(e,["statistics"]);return l!=null&&m(n,["statistics"],EM(o,l)),n}function CM(o,e){const n={},s=d(e,["billableCharacterCount"]);return s!=null&&m(n,["billableCharacterCount"],s),n}function AM(o,e){const n={},s=d(e,["predictions[]","embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>bM(o,c))),m(n,["embeddings"],u)}const l=d(e,["metadata"]);return l!=null&&m(n,["metadata"],CM(o,l)),n}function MM(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&m(n,["gcsUri"],s);const l=d(e,["bytesBase64Encoded"]);l!=null&&m(n,["imageBytes"],si(o,l));const u=d(e,["mimeType"]);return u!=null&&m(n,["mimeType"],u),n}function Nv(o,e){const n={},s=d(e,["safetyAttributes","categories"]);s!=null&&m(n,["categories"],s);const l=d(e,["safetyAttributes","scores"]);l!=null&&m(n,["scores"],l);const u=d(e,["contentType"]);return u!=null&&m(n,["contentType"],u),n}function xM(o,e){const n={},s=d(e,["_self"]);s!=null&&m(n,["image"],MM(o,s));const l=d(e,["raiFilteredReason"]);l!=null&&m(n,["raiFilteredReason"],l);const u=d(e,["_self"]);u!=null&&m(n,["safetyAttributes"],Nv(o,u));const c=d(e,["prompt"]);return c!=null&&m(n,["enhancedPrompt"],c),n}function _M(o,e){const n={},s=d(e,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>xM(o,c))),m(n,["generatedImages"],u)}const l=d(e,["positivePromptSafetyAttributes"]);return l!=null&&m(n,["positivePromptSafetyAttributes"],Nv(o,l)),n}function RM(o,e){const n={},s=d(e,["endpoint"]);s!=null&&m(n,["name"],s);const l=d(e,["deployedModelId"]);return l!=null&&m(n,["deployedModelId"],l),n}function wM(o,e){const n={},s=d(e,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&m(n,["baseModel"],s);const l=d(e,["createTime"]);l!=null&&m(n,["createTime"],l);const u=d(e,["updateTime"]);return u!=null&&m(n,["updateTime"],u),n}function Ug(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["displayName"]);l!=null&&m(n,["displayName"],l);const u=d(e,["description"]);u!=null&&m(n,["description"],u);const c=d(e,["versionId"]);c!=null&&m(n,["version"],c);const h=d(e,["deployedModels"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(S=>RM(o,S))),m(n,["endpoints"],v)}const y=d(e,["labels"]);y!=null&&m(n,["labels"],y);const p=d(e,["_self"]);return p!=null&&m(n,["tunedModelInfo"],wM(o,p)),n}function DM(){return{}}function NM(o,e){const n={},s=d(e,["totalTokens"]);return s!=null&&m(n,["totalTokens"],s),n}function LM(o,e){const n={},s=d(e,["tokensInfo"]);return s!=null&&m(n,["tokensInfo"],s),n}function PM(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&m(n,["uri"],s);const l=d(e,["bytesBase64Encoded"]);l!=null&&m(n,["videoBytes"],si(o,l));const u=d(e,["mimeType"]);return u!=null&&m(n,["mimeType"],u),n}function VM(o,e){const n={},s=d(e,["_self"]);return s!=null&&m(n,["video"],PM(o,s)),n}function BM(o,e){const n={},s=d(e,["videos"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>VM(o,h))),m(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&m(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&m(n,["raiMediaFilteredReasons"],u),n}function IM(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["metadata"]);l!=null&&m(n,["metadata"],l);const u=d(e,["done"]);u!=null&&m(n,["done"],u);const c=d(e,["error"]);c!=null&&m(n,["error"],c);const h=d(e,["response"]);return h!=null&&m(n,["response"],BM(o,h)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function zM(o,e,n){let s,l;n.data instanceof Blob?l=JSON.parse(await n.data.text()):l=JSON.parse(n.data),o.isVertexAI()?s=tA(o,l):s=jC(o,l),e(s)}class kM{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s}async connect(e){var n,s,l,u;const c=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let y;const p=HM(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())y=`${c}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p);else{const K=this.apiClient.getApiKey();y=`${c}/ws/google.ai.generativelanguage.${h}.GenerativeService.BidiGenerateContent?key=${K}`}let v=()=>{};const S=new Promise(K=>{v=K}),E=e.callbacks,C=function(){var K;(K=E==null?void 0:E.onopen)===null||K===void 0||K.call(E),v({})},A=this.apiClient,w={onopen:C,onmessage:K=>{zM(A,E.onmessage,K)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(K){},onclose:(s=E==null?void 0:E.onclose)!==null&&s!==void 0?s:function(K){}},z=this.webSocketFactory.create(y,qM(p),w);z.connect(),await S;let k=Qt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const K=this.apiClient.getProject(),D=this.apiClient.getLocation();k=`projects/${K}/locations/${D}/`+k}let F={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Vl.AUDIO]}:e.config.responseModalities=[Vl.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N={model:k,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=xC(this.apiClient,N):F=MC(this.apiClient,N),delete F.config,z.send(JSON.stringify(F)),new GM(z,this.apiClient)}}const OM={turnComplete:!0};class GM{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let s=[];try{s=oi(e,n.turns),e.isVertexAI()?s=s.map(l=>No(e,l)):s=s.map(l=>Ql(e,l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:s,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let s=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?s=n.functionResponses:s=[n.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(UM)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},OM),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:LC(this.apiClient,e)}:n={realtimeInput:NC(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function qM(o){const e={};return o.forEach((n,s)=>{e[s]=n}),e}function HM(o){const e=new Headers;for(const[n,s]of Object.entries(o))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FM extends ja{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(s=>{var l;let u;const c=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((l=y==null?void 0:y.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:c.push(y);let h;return u?h={generatedImages:c,positivePromptSafetyAttributes:u}:h={generatedImages:c},h})}async generateContentInternal(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=Pg(this.apiClient,e);return h=gt("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=Ig(this.apiClient,v),E=new Tl;return Object.assign(E,S),E})}else{const p=Lg(this.apiClient,e);return h=gt("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=Vg(this.apiClient,v),E=new Tl;return Object.assign(E,S),E})}}async generateContentStreamInternal(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=Pg(this.apiClient,e);h=gt("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query;const v=this.apiClient;return c=v.requestStream({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(S){return Bl(this,arguments,function*(){var E,C,A,w;try{for(var z=!0,k=Uc(S),F;F=yield pe(k.next()),E=F.done,!E;z=!0){w=F.value,z=!1;const K=Ig(v,yield pe(w.json())),D=new Tl;Object.assign(D,K),yield yield pe(D)}}catch(N){C={error:N}}finally{try{!z&&!E&&(A=k.return)&&(yield pe(A.call(k)))}finally{if(C)throw C.error}}})})}else{const p=Lg(this.apiClient,e);h=gt("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query;const v=this.apiClient;return c=v.requestStream({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),c.then(function(S){return Bl(this,arguments,function*(){var E,C,A,w;try{for(var z=!0,k=Uc(S),F;F=yield pe(k.next()),E=F.done,!E;z=!0){w=F.value,z=!1;const K=Vg(v,yield pe(w.json())),D=new Tl;Object.assign(D,K),yield yield pe(D)}}catch(N){C={error:N}}finally{try{!z&&!E&&(A=k.return)&&(yield pe(A.call(k)))}finally{if(C)throw C.error}}})})}}async embedContent(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=GA(this.apiClient,e);return h=gt("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=AM(this.apiClient,v),E=new Eg;return Object.assign(E,S),E})}else{const p=mA(this.apiClient,e);return h=gt("{model}:batchEmbedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=sM(this.apiClient,v),E=new Eg;return Object.assign(E,S),E})}}async generateImagesInternal(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=HA(this.apiClient,e);return h=gt("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=_M(this.apiClient,v),E=new bg;return Object.assign(E,S),E})}else{const p=yA(this.apiClient,e);return h=gt("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=uM(this.apiClient,v),E=new bg;return Object.assign(E,S),E})}}async get(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=FA(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Ug(this.apiClient,v))}else{const p=vA(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Bg(this.apiClient,v))}}async update(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=KA(this.apiClient,e);return h=gt("{model}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Ug(this.apiClient,v))}else{const p=SA(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Bg(this.apiClient,v))}}async delete(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=QA(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(()=>{const v=DM(),S=new Cg;return Object.assign(S,v),S})}else{const p=EA(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(()=>{const v=fM(),S=new Cg;return Object.assign(S,v),S})}}async countTokens(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=ZA(this.apiClient,e);return h=gt("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=NM(this.apiClient,v),E=new Ag;return Object.assign(E,S),E})}else{const p=CA(this.apiClient,e);return h=gt("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=dM(this.apiClient,v),E=new Ag;return Object.assign(E,S),E})}}async computeTokens(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=$A(this.apiClient,e);return u=gt("{model}:computeTokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const p=LM(this.apiClient,y),v=new Lb;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=jA(this.apiClient,e);return h=gt("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>IM(this.apiClient,v))}else{const p=xA(this.apiClient,e);return h=gt("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>gM(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YM(o,e){const n={},s=d(e,["operationName"]);s!=null&&m(n,["_url","operationName"],s);const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function KM(o,e){const n={},s=d(e,["operationName"]);s!=null&&m(n,["_url","operationName"],s);const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function QM(o,e){const n={},s=d(e,["operationName"]);s!=null&&m(n,["operationName"],s);const l=d(e,["resourceName"]);l!=null&&m(n,["_url","resourceName"],l);const u=d(e,["config"]);return u!=null&&m(n,["config"],u),n}function XM(o,e){const n={},s=d(e,["video","uri"]);s!=null&&m(n,["uri"],s);const l=d(e,["video","encodedVideo"]);l!=null&&m(n,["videoBytes"],si(o,l));const u=d(e,["encoding"]);return u!=null&&m(n,["mimeType"],u),n}function ZM(o,e){const n={},s=d(e,["_self"]);return s!=null&&m(n,["video"],XM(o,s)),n}function $M(o,e){const n={},s=d(e,["generatedSamples"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>ZM(o,h))),m(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&m(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&m(n,["raiMediaFilteredReasons"],u),n}function JM(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["metadata"]);l!=null&&m(n,["metadata"],l);const u=d(e,["done"]);u!=null&&m(n,["done"],u);const c=d(e,["error"]);c!=null&&m(n,["error"],c);const h=d(e,["response","generateVideoResponse"]);return h!=null&&m(n,["response"],$M(o,h)),n}function WM(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&m(n,["uri"],s);const l=d(e,["bytesBase64Encoded"]);l!=null&&m(n,["videoBytes"],si(o,l));const u=d(e,["mimeType"]);return u!=null&&m(n,["mimeType"],u),n}function jM(o,e){const n={},s=d(e,["_self"]);return s!=null&&m(n,["video"],WM(o,s)),n}function tx(o,e){const n={},s=d(e,["videos"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>jM(o,h))),m(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&m(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&m(n,["raiMediaFilteredReasons"],u),n}function zg(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["metadata"]);l!=null&&m(n,["metadata"],l);const u=d(e,["done"]);u!=null&&m(n,["done"],u);const c=d(e,["error"]);c!=null&&m(n,["error"],c);const h=d(e,["response"]);return h!=null&&m(n,["response"],tx(o,h)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ex extends ja{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let u;return s&&"httpOptions"in s&&(u=s.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:u}})}else return this.getVideosOperationInternal({operationName:n.name,config:s})}async getVideosOperationInternal(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=KM(this.apiClient,e);return h=gt("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>zg(this.apiClient,v))}else{const p=YM(this.apiClient,e);return h=gt("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>JM(this.apiClient,v))}}async fetchPredictVideosOperationInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=QM(this.apiClient,e);return u=gt("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>zg(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nx="Content-Type",ix="X-Server-Timeout",ox="User-Agent",ax="x-goog-api-client",sx="0.12.0",lx=`google-genai-sdk/${sx}`,rx="v1beta1",ux="v1beta",kg=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Lv extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class kc extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class cx{constructor(e){var n,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:rx,this.getProject()||this.getLocation()?(l.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(l.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(l.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:ux,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,s){const l=[this.getRequestUrlInternal(n)];return s&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,s);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))l.searchParams.append(c,String(h));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,n,e.abortSignal),this.unaryApiCall(l,u,e.httpMethod)}patchHttpOptions(e,n){const s=JSON.parse(JSON.stringify(e));for(const[l,u]of Object.entries(n))typeof u=="object"?s[l]=Object.assign(Object.assign({},s[l]),u):u!==void 0&&(s[l]=u);return s}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,s);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,n,e.abortSignal),this.streamApiCall(l,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,s){if(n&&n.timeout||s){const l=new AbortController,u=l.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>l.abort(),n.timeout),s&&s.addEventListener("abort",()=>{l.abort()}),e.signal=u}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async l=>(await Og(l),new Ic(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async l=>(await Og(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var n;return Bl(this,arguments,function*(){const l=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),u=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let c="";for(;;){const{done:h,value:y}=yield pe(l.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=u.decode(y);try{const S=JSON.parse(p);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),C=E.status,A=E.code,w=`got status: ${C}. ${JSON.stringify(S)}`;if(A>=400&&A<500)throw new Lv(w);if(A>=500&&A<600)throw new kc(w)}}catch(S){const E=S;if(E.name==="ClientError"||E.name==="ServerError")throw S}c+=p;let v=c.match(kg);for(;v;){const S=v[1];try{const E=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield pe(new Ic(E)),c=c.slice(v[0].length),v=c.match(kg)}catch(E){throw new Error(`exception parsing stream chunk ${S}. ${E}`)}}}}finally{l.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},n=lx+" "+this.clientOptions.userAgentExtra;return e[ox]=n,e[ax]=n,e[nx]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[s,l]of Object.entries(e.headers))n.append(s,l);e.timeout&&e.timeout>0&&n.append(ix,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var s;const l={};n!=null&&(l.mimeType=n.mimeType,l.name=n.name,l.displayName=n.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const u=this.clientOptions.uploader,c=await u.stat(e);l.sizeBytes=String(c.size);const h=(s=n==null?void 0:n.mimeType)!==null&&s!==void 0?s:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=h;const y=await this.fetchUploadUrl(l,n);return u.upload(e,y,this)}async fetchUploadUrl(e,n){var s;let l={};n!=null&&n.httpOptions?l=n.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const u={file:e},c=await this.request({path:gt("upload/v1beta/files",u._url),body:JSON.stringify(u),httpMethod:"POST",httpOptions:l});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(s=c==null?void 0:c.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function Og(o){var e;if(o===void 0)throw new kc("response is undefined");if(!o.ok){const n=o.status,s=o.statusText;let l;!((e=o.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await o.json():l={error:{message:await o.text(),code:o.status,status:o.statusText}};const u=`got status: ${n} ${s}. ${JSON.stringify(l)}`;throw n>=400&&n<500?new Lv(u):n>=500&&n<600?new kc(u):new Error(u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fx(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],s);const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function dx(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&m(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);n!==void 0&&u!=null&&m(n,["_query","pageToken"],u);const c=d(e,["filter"]);return n!==void 0&&c!=null&&m(n,["_query","filter"],c),s}function hx(o,e){const n={},s=d(e,["config"]);return s!=null&&m(n,["config"],dx(o,s,n)),n}function px(o,e){const n={},s=d(e,["textInput"]);s!=null&&m(n,["textInput"],s);const l=d(e,["output"]);return l!=null&&m(n,["output"],l),n}function mx(o,e){const n={};if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=d(e,["examples"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>px(o,u))),m(n,["examples","examples"],l)}return n}function gx(o,e,n){const s={};if(d(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=d(e,["tunedModelDisplayName"]);if(n!==void 0&&l!=null&&m(n,["displayName"],l),d(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=d(e,["epochCount"]);n!==void 0&&u!=null&&m(n,["tuningTask","hyperparameters","epochCount"],u);const c=d(e,["learningRateMultiplier"]);if(c!=null&&m(s,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=d(e,["batchSize"]);n!==void 0&&h!=null&&m(n,["tuningTask","hyperparameters","batchSize"],h);const y=d(e,["learningRate"]);return n!==void 0&&y!=null&&m(n,["tuningTask","hyperparameters","learningRate"],y),s}function yx(o,e){const n={},s=d(e,["baseModel"]);s!=null&&m(n,["baseModel"],s);const l=d(e,["trainingDataset"]);l!=null&&m(n,["tuningTask","trainingData"],mx(o,l));const u=d(e,["config"]);return u!=null&&m(n,["config"],gx(o,u,n)),n}function vx(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],s);const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function Tx(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&m(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);n!==void 0&&u!=null&&m(n,["_query","pageToken"],u);const c=d(e,["filter"]);return n!==void 0&&c!=null&&m(n,["_query","filter"],c),s}function Sx(o,e){const n={},s=d(e,["config"]);return s!=null&&m(n,["config"],Tx(o,s,n)),n}function Ex(o,e,n){const s={},l=d(e,["gcsUri"]);if(n!==void 0&&l!=null&&m(n,["supervisedTuningSpec","trainingDatasetUri"],l),d(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function bx(o,e){const n={},s=d(e,["gcsUri"]);return s!=null&&m(n,["validationDatasetUri"],s),n}function Cx(o,e,n){const s={},l=d(e,["validationDataset"]);n!==void 0&&l!=null&&m(n,["supervisedTuningSpec"],bx(o,l));const u=d(e,["tunedModelDisplayName"]);n!==void 0&&u!=null&&m(n,["tunedModelDisplayName"],u);const c=d(e,["description"]);n!==void 0&&c!=null&&m(n,["description"],c);const h=d(e,["epochCount"]);n!==void 0&&h!=null&&m(n,["supervisedTuningSpec","hyperParameters","epochCount"],h);const y=d(e,["learningRateMultiplier"]);n!==void 0&&y!=null&&m(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const p=d(e,["adapterSize"]);if(n!==void 0&&p!=null&&m(n,["supervisedTuningSpec","hyperParameters","adapterSize"],p),d(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return s}function Ax(o,e){const n={},s=d(e,["baseModel"]);s!=null&&m(n,["baseModel"],s);const l=d(e,["trainingDataset"]);l!=null&&m(n,["supervisedTuningSpec","trainingDatasetUri"],Ex(o,l,n));const u=d(e,["config"]);return u!=null&&m(n,["config"],Cx(o,u,n)),n}function Mx(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["model"],s);const l=d(e,["name"]);return l!=null&&m(n,["endpoint"],l),n}function Pv(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["state"]);l!=null&&m(n,["state"],xv(o,l));const u=d(e,["createTime"]);u!=null&&m(n,["createTime"],u);const c=d(e,["tuningTask","startTime"]);c!=null&&m(n,["startTime"],c);const h=d(e,["tuningTask","completeTime"]);h!=null&&m(n,["endTime"],h);const y=d(e,["updateTime"]);y!=null&&m(n,["updateTime"],y);const p=d(e,["description"]);p!=null&&m(n,["description"],p);const v=d(e,["baseModel"]);v!=null&&m(n,["baseModel"],v);const S=d(e,["_self"]);S!=null&&m(n,["tunedModel"],Mx(o,S));const E=d(e,["distillationSpec"]);E!=null&&m(n,["distillationSpec"],E);const C=d(e,["experiment"]);C!=null&&m(n,["experiment"],C);const A=d(e,["labels"]);A!=null&&m(n,["labels"],A);const w=d(e,["pipelineJob"]);w!=null&&m(n,["pipelineJob"],w);const z=d(e,["tunedModelDisplayName"]);return z!=null&&m(n,["tunedModelDisplayName"],z),n}function xx(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&m(n,["nextPageToken"],s);const l=d(e,["tunedModels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Pv(o,c))),m(n,["tuningJobs"],u)}return n}function _x(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["metadata"]);l!=null&&m(n,["metadata"],l);const u=d(e,["done"]);u!=null&&m(n,["done"],u);const c=d(e,["error"]);return c!=null&&m(n,["error"],c),n}function Rx(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["model"],s);const l=d(e,["endpoint"]);return l!=null&&m(n,["endpoint"],l),n}function Oc(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["state"]);l!=null&&m(n,["state"],xv(o,l));const u=d(e,["createTime"]);u!=null&&m(n,["createTime"],u);const c=d(e,["startTime"]);c!=null&&m(n,["startTime"],c);const h=d(e,["endTime"]);h!=null&&m(n,["endTime"],h);const y=d(e,["updateTime"]);y!=null&&m(n,["updateTime"],y);const p=d(e,["error"]);p!=null&&m(n,["error"],p);const v=d(e,["description"]);v!=null&&m(n,["description"],v);const S=d(e,["baseModel"]);S!=null&&m(n,["baseModel"],S);const E=d(e,["tunedModel"]);E!=null&&m(n,["tunedModel"],Rx(o,E));const C=d(e,["supervisedTuningSpec"]);C!=null&&m(n,["supervisedTuningSpec"],C);const A=d(e,["tuningDataStats"]);A!=null&&m(n,["tuningDataStats"],A);const w=d(e,["encryptionSpec"]);w!=null&&m(n,["encryptionSpec"],w);const z=d(e,["partnerModelTuningSpec"]);z!=null&&m(n,["partnerModelTuningSpec"],z);const k=d(e,["distillationSpec"]);k!=null&&m(n,["distillationSpec"],k);const F=d(e,["experiment"]);F!=null&&m(n,["experiment"],F);const N=d(e,["labels"]);N!=null&&m(n,["labels"],N);const K=d(e,["pipelineJob"]);K!=null&&m(n,["pipelineJob"],K);const D=d(e,["tunedModelDisplayName"]);return D!=null&&m(n,["tunedModelDisplayName"],D),n}function wx(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&m(n,["nextPageToken"],s);const l=d(e,["tuningJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Oc(o,c))),m(n,["tuningJobs"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dx extends ja{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new df(Ka.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const s=await this.tuneMldevInternal(n);let l="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?l=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(l=s.name.split("/operations/")[0]),{name:l,state:Bc.JOB_STATE_QUEUED}}}}async getInternal(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=vx(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Oc(this.apiClient,v))}else{const p=fx(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Pv(this.apiClient,v))}}async listInternal(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=Sx(this.apiClient,e);return h=gt("tuningJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=wx(this.apiClient,v),E=new Mg;return Object.assign(E,S),E})}else{const p=hx(this.apiClient,e);return h=gt("tunedModels",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=xx(this.apiClient,v),E=new Mg;return Object.assign(E,S),E})}}async tuneInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=Ax(this.apiClient,e);return u=gt("tuningJobs",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>Oc(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=yx(this.apiClient,e);return u=gt("tunedModels",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>_x(this.apiClient,y))}}}const Nx=1024*1024*8;async function Lx(o,e,n){var s,l;let u=0,c=0,h=new Ic(new Response),y="upload";for(u=o.size;c<u;){const v=Math.min(Nx,u-c),S=o.slice(c,c+v);if(c+v>=u&&(y+=", finalize"),h=await n.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(c),"Content-Length":String(v)}}}),c+=v,((s=h==null?void 0:h.headers)===null||s===void 0?void 0:s["x-goog-upload-status"])!=="active")break;if(u<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const p=await(h==null?void 0:h.json());if(((l=h==null?void 0:h.headers)===null||l===void 0?void 0:l["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return p.file}async function Px(o){return{size:o.size,type:o.type}}class Vx{async upload(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Lx(e,n,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Px(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bx{create(e,n,s){return new Ix(e,n,s)}}class Ix{constructor(e,n,s){this.url=e,this.headers=n,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gg="x-goog-api-key";class Ux{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(Gg)===null&&e.append(Gg,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zx="gl-node/";class kx{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const s=XE(e,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion;const l=new Ux(this.apiKey);this.apiClient=new cx({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:zx+"web",uploader:new Vx}),this.models=new FM(this.apiClient),this.live=new kM(this.apiClient,l,new Bx),this.chats=new Ob(this.models,this.apiClient),this.caches=new Ib(this.apiClient),this.files=new jb(this.apiClient),this.operations=new ex(this.apiClient),this.tunings=new Dx(this.apiClient)}}var hc={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg;function Ox(){if(qg)return vt;qg=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function E(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,w={};function z(x,Q,it){this.props=x,this.context=Q,this.refs=w,this.updater=it||C}z.prototype.isReactComponent={},z.prototype.setState=function(x,Q){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Q,"setState")},z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function k(){}k.prototype=z.prototype;function F(x,Q,it){this.props=x,this.context=Q,this.refs=w,this.updater=it||C}var N=F.prototype=new k;N.constructor=F,A(N,z.prototype),N.isPureReactComponent=!0;var K=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function Z(x,Q,it,j,ut,xt){return it=xt.ref,{$$typeof:o,type:x,key:Q,ref:it!==void 0?it:null,props:xt}}function H(x,Q){return Z(x.type,Q,void 0,void 0,void 0,x.props)}function ot(x){return typeof x=="object"&&x!==null&&x.$$typeof===o}function lt(x){var Q={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(it){return Q[it]})}var yt=/\/+/g;function Tt(x,Q){return typeof x=="object"&&x!==null&&x.key!=null?lt(""+x.key):Q.toString(36)}function dt(){}function $(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(dt,dt):(x.status="pending",x.then(function(Q){x.status==="pending"&&(x.status="fulfilled",x.value=Q)},function(Q){x.status==="pending"&&(x.status="rejected",x.reason=Q)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function tt(x,Q,it,j,ut){var xt=typeof x;(xt==="undefined"||xt==="boolean")&&(x=null);var mt=!1;if(x===null)mt=!0;else switch(xt){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(x.$$typeof){case o:case e:mt=!0;break;case v:return mt=x._init,tt(mt(x._payload),Q,it,j,ut)}}if(mt)return ut=ut(x),mt=j===""?"."+Tt(x,0):j,K(ut)?(it="",mt!=null&&(it=mt.replace(yt,"$&/")+"/"),tt(ut,Q,it,"",function(Dn){return Dn})):ut!=null&&(ot(ut)&&(ut=H(ut,it+(ut.key==null||x&&x.key===ut.key?"":(""+ut.key).replace(yt,"$&/")+"/")+mt)),Q.push(ut)),1;mt=0;var _e=j===""?".":j+":";if(K(x))for(var kt=0;kt<x.length;kt++)j=x[kt],xt=_e+Tt(j,kt),mt+=tt(j,Q,it,xt,ut);else if(kt=E(x),typeof kt=="function")for(x=kt.call(x),kt=0;!(j=x.next()).done;)j=j.value,xt=_e+Tt(j,kt++),mt+=tt(j,Q,it,xt,ut);else if(xt==="object"){if(typeof x.then=="function")return tt($(x),Q,it,j,ut);throw Q=String(x),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return mt}function V(x,Q,it){if(x==null)return x;var j=[],ut=0;return tt(x,j,"","",function(xt){return Q.call(it,xt,ut++)}),j}function G(x){if(x._status===-1){var Q=x._result;Q=Q(),Q.then(function(it){(x._status===0||x._status===-1)&&(x._status=1,x._result=it)},function(it){(x._status===0||x._status===-1)&&(x._status=2,x._result=it)}),x._status===-1&&(x._status=0,x._result=Q)}if(x._status===1)return x._result.default;throw x._result}var J=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function rt(){}return vt.Children={map:V,forEach:function(x,Q,it){V(x,function(){Q.apply(this,arguments)},it)},count:function(x){var Q=0;return V(x,function(){Q++}),Q},toArray:function(x){return V(x,function(Q){return Q})||[]},only:function(x){if(!ot(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},vt.Component=z,vt.Fragment=n,vt.Profiler=l,vt.PureComponent=F,vt.StrictMode=s,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,vt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return D.H.useMemoCache(x)}},vt.cache=function(x){return function(){return x.apply(null,arguments)}},vt.cloneElement=function(x,Q,it){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var j=A({},x.props),ut=x.key,xt=void 0;if(Q!=null)for(mt in Q.ref!==void 0&&(xt=void 0),Q.key!==void 0&&(ut=""+Q.key),Q)!X.call(Q,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&Q.ref===void 0||(j[mt]=Q[mt]);var mt=arguments.length-2;if(mt===1)j.children=it;else if(1<mt){for(var _e=Array(mt),kt=0;kt<mt;kt++)_e[kt]=arguments[kt+2];j.children=_e}return Z(x.type,ut,void 0,void 0,xt,j)},vt.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},vt.createElement=function(x,Q,it){var j,ut={},xt=null;if(Q!=null)for(j in Q.key!==void 0&&(xt=""+Q.key),Q)X.call(Q,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(ut[j]=Q[j]);var mt=arguments.length-2;if(mt===1)ut.children=it;else if(1<mt){for(var _e=Array(mt),kt=0;kt<mt;kt++)_e[kt]=arguments[kt+2];ut.children=_e}if(x&&x.defaultProps)for(j in mt=x.defaultProps,mt)ut[j]===void 0&&(ut[j]=mt[j]);return Z(x,xt,void 0,void 0,null,ut)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(x){return{$$typeof:h,render:x}},vt.isValidElement=ot,vt.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:G}},vt.memo=function(x,Q){return{$$typeof:p,type:x,compare:Q===void 0?null:Q}},vt.startTransition=function(x){var Q=D.T,it={};D.T=it;try{var j=x(),ut=D.S;ut!==null&&ut(it,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(rt,J)}catch(xt){J(xt)}finally{D.T=Q}},vt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},vt.use=function(x){return D.H.use(x)},vt.useActionState=function(x,Q,it){return D.H.useActionState(x,Q,it)},vt.useCallback=function(x,Q){return D.H.useCallback(x,Q)},vt.useContext=function(x){return D.H.useContext(x)},vt.useDebugValue=function(){},vt.useDeferredValue=function(x,Q){return D.H.useDeferredValue(x,Q)},vt.useEffect=function(x,Q,it){var j=D.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return j.useEffect(x,Q)},vt.useId=function(){return D.H.useId()},vt.useImperativeHandle=function(x,Q,it){return D.H.useImperativeHandle(x,Q,it)},vt.useInsertionEffect=function(x,Q){return D.H.useInsertionEffect(x,Q)},vt.useLayoutEffect=function(x,Q){return D.H.useLayoutEffect(x,Q)},vt.useMemo=function(x,Q){return D.H.useMemo(x,Q)},vt.useOptimistic=function(x,Q){return D.H.useOptimistic(x,Q)},vt.useReducer=function(x,Q,it){return D.H.useReducer(x,Q,it)},vt.useRef=function(x){return D.H.useRef(x)},vt.useState=function(x){return D.H.useState(x)},vt.useSyncExternalStore=function(x,Q,it){return D.H.useSyncExternalStore(x,Q,it)},vt.useTransition=function(){return D.H.useTransition()},vt.version="19.1.1",vt}var Hg;function hf(){return Hg||(Hg=1,hc.exports=Ox()),hc.exports}var et=hf(),pc={exports:{}},Pa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function Gx(){if(Fg)return Pa;Fg=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:o,type:s,key:c,ref:l!==void 0?l:null,props:u}}return Pa.Fragment=e,Pa.jsx=n,Pa.jsxs=n,Pa}var Yg;function qx(){return Yg||(Yg=1,pc.exports=Gx()),pc.exports}var zt=qx();const pf=et.createContext({});function mf(o){const e=et.useRef(null);return e.current===null&&(e.current=o()),e.current}const gf=typeof window<"u",Vv=gf?et.useLayoutEffect:et.useEffect,Xl=et.createContext(null);function yf(o,e){o.indexOf(e)===-1&&o.push(e)}function vf(o,e){const n=o.indexOf(e);n>-1&&o.splice(n,1)}const Rn=(o,e,n)=>n>e?e:n<o?o:n;let Tf=()=>{};const wn={},Bv=o=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(o);function Iv(o){return typeof o=="object"&&o!==null}const Uv=o=>/^0[^.\s]+$/u.test(o);function Sf(o){let e;return()=>(e===void 0&&(e=o()),e)}const Xe=o=>o,Hx=(o,e)=>n=>e(o(n)),ts=(...o)=>o.reduce(Hx),Qa=(o,e,n)=>{const s=e-o;return s===0?1:(n-o)/s};class Ef{constructor(){this.subscriptions=[]}add(e){return yf(this.subscriptions,e),()=>vf(this.subscriptions,e)}notify(e,n,s){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](e,n,s);else for(let u=0;u<l;u++){const c=this.subscriptions[u];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rn=o=>o*1e3,un=o=>o/1e3;function zv(o,e){return e?o*(1e3/e):0}const kv=(o,e,n)=>(((1-3*n+3*e)*o+(3*n-6*e))*o+3*e)*o,Fx=1e-7,Yx=12;function Kx(o,e,n,s,l){let u,c,h=0;do c=e+(n-e)/2,u=kv(c,s,l)-o,u>0?n=c:e=c;while(Math.abs(u)>Fx&&++h<Yx);return c}function es(o,e,n,s){if(o===e&&n===s)return Xe;const l=u=>Kx(u,0,1,o,n);return u=>u===0||u===1?u:kv(l(u),e,s)}const Ov=o=>e=>e<=.5?o(2*e)/2:(2-o(2*(1-e)))/2,Gv=o=>e=>1-o(1-e),qv=es(.33,1.53,.69,.99),bf=Gv(qv),Hv=Ov(bf),Fv=o=>(o*=2)<1?.5*bf(o):.5*(2-Math.pow(2,-10*(o-1))),Cf=o=>1-Math.sin(Math.acos(o)),Yv=Gv(Cf),Kv=Ov(Cf),Qx=es(.42,0,1,1),Xx=es(0,0,.58,1),Qv=es(.42,0,.58,1),Zx=o=>Array.isArray(o)&&typeof o[0]!="number",Xv=o=>Array.isArray(o)&&typeof o[0]=="number",$x={linear:Xe,easeIn:Qx,easeInOut:Qv,easeOut:Xx,circIn:Cf,circInOut:Kv,circOut:Yv,backIn:bf,backInOut:Hv,backOut:qv,anticipate:Fv},Jx=o=>typeof o=="string",Kg=o=>{if(Xv(o)){Tf(o.length===4);const[e,n,s,l]=o;return es(e,n,s,l)}else if(Jx(o))return $x[o];return o},bl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Wx(o,e){let n=new Set,s=new Set,l=!1,u=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function y(v){c.has(v)&&(p.schedule(v),o()),v(h)}const p={schedule:(v,S=!1,E=!1)=>{const A=E&&l?n:s;return S&&c.add(v),A.has(v)||A.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(h=v,l){u=!0;return}l=!0,[n,s]=[s,n],n.forEach(y),n.clear(),l=!1,u&&(u=!1,p.process(v))}};return p}const jx=40;function Zv(o,e){let n=!1,s=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=bl.reduce((N,K)=>(N[K]=Wx(u),N),{}),{setup:h,read:y,resolveKeyframes:p,preUpdate:v,update:S,preRender:E,render:C,postRender:A}=c,w=()=>{const N=wn.useManualTiming?l.timestamp:performance.now();n=!1,wn.useManualTiming||(l.delta=s?1e3/60:Math.max(Math.min(N-l.timestamp,jx),1)),l.timestamp=N,l.isProcessing=!0,h.process(l),y.process(l),p.process(l),v.process(l),S.process(l),E.process(l),C.process(l),A.process(l),l.isProcessing=!1,n&&e&&(s=!1,o(w))},z=()=>{n=!0,s=!0,l.isProcessing||o(w)};return{schedule:bl.reduce((N,K)=>{const D=c[K];return N[K]=(X,Z=!1,H=!1)=>(n||z(),D.schedule(X,Z,H)),N},{}),cancel:N=>{for(let K=0;K<bl.length;K++)c[bl[K]].cancel(N)},state:l,steps:c}}const{schedule:Gt,cancel:ni,state:ue,steps:mc}=Zv(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xe,!0);let wl;function t1(){wl=void 0}const xe={now:()=>(wl===void 0&&xe.set(ue.isProcessing||wn.useManualTiming?ue.timestamp:performance.now()),wl),set:o=>{wl=o,queueMicrotask(t1)}},$v=o=>e=>typeof e=="string"&&e.startsWith(o),Af=$v("--"),e1=$v("var(--"),Mf=o=>e1(o)?n1.test(o.split("/*")[0].trim()):!1,n1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Lo={test:o=>typeof o=="number",parse:parseFloat,transform:o=>o},Xa={...Lo,transform:o=>Rn(0,1,o)},Cl={...Lo,default:1},Oa=o=>Math.round(o*1e5)/1e5,xf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function i1(o){return o==null}const o1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_f=(o,e)=>n=>!!(typeof n=="string"&&o1.test(n)&&n.startsWith(o)||e&&!i1(n)&&Object.prototype.hasOwnProperty.call(n,e)),Jv=(o,e,n)=>s=>{if(typeof s!="string")return s;const[l,u,c,h]=s.match(xf);return{[o]:parseFloat(l),[e]:parseFloat(u),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},a1=o=>Rn(0,255,o),gc={...Lo,transform:o=>Math.round(a1(o))},Di={test:_f("rgb","red"),parse:Jv("red","green","blue"),transform:({red:o,green:e,blue:n,alpha:s=1})=>"rgba("+gc.transform(o)+", "+gc.transform(e)+", "+gc.transform(n)+", "+Oa(Xa.transform(s))+")"};function s1(o){let e="",n="",s="",l="";return o.length>5?(e=o.substring(1,3),n=o.substring(3,5),s=o.substring(5,7),l=o.substring(7,9)):(e=o.substring(1,2),n=o.substring(2,3),s=o.substring(3,4),l=o.substring(4,5),e+=e,n+=n,s+=s,l+=l),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:l?parseInt(l,16)/255:1}}const Gc={test:_f("#"),parse:s1,transform:Di.transform},ns=o=>({test:e=>typeof e=="string"&&e.endsWith(o)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${o}`}),ei=ns("deg"),cn=ns("%"),pt=ns("px"),l1=ns("vh"),r1=ns("vw"),Qg={...cn,parse:o=>cn.parse(o)/100,transform:o=>cn.transform(o*100)},Co={test:_f("hsl","hue"),parse:Jv("hue","saturation","lightness"),transform:({hue:o,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(o)+", "+cn.transform(Oa(e))+", "+cn.transform(Oa(n))+", "+Oa(Xa.transform(s))+")"},jt={test:o=>Di.test(o)||Gc.test(o)||Co.test(o),parse:o=>Di.test(o)?Di.parse(o):Co.test(o)?Co.parse(o):Gc.parse(o),transform:o=>typeof o=="string"?o:o.hasOwnProperty("red")?Di.transform(o):Co.transform(o),getAnimatableNone:o=>{const e=jt.parse(o);return e.alpha=0,jt.transform(e)}},u1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function c1(o){var e,n;return isNaN(o)&&typeof o=="string"&&(((e=o.match(xf))==null?void 0:e.length)||0)+(((n=o.match(u1))==null?void 0:n.length)||0)>0}const Wv="number",jv="color",f1="var",d1="var(",Xg="${}",h1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Za(o){const e=o.toString(),n=[],s={color:[],number:[],var:[]},l=[];let u=0;const h=e.replace(h1,y=>(jt.test(y)?(s.color.push(u),l.push(jv),n.push(jt.parse(y))):y.startsWith(d1)?(s.var.push(u),l.push(f1),n.push(y)):(s.number.push(u),l.push(Wv),n.push(parseFloat(y))),++u,Xg)).split(Xg);return{values:n,split:h,indexes:s,types:l}}function tT(o){return Za(o).values}function eT(o){const{split:e,types:n}=Za(o),s=e.length;return l=>{let u="";for(let c=0;c<s;c++)if(u+=e[c],l[c]!==void 0){const h=n[c];h===Wv?u+=Oa(l[c]):h===jv?u+=jt.transform(l[c]):u+=l[c]}return u}}const p1=o=>typeof o=="number"?0:jt.test(o)?jt.getAnimatableNone(o):o;function m1(o){const e=tT(o);return eT(o)(e.map(p1))}const ii={test:c1,parse:tT,createTransformer:eT,getAnimatableNone:m1};function yc(o,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?o+(e-o)*6*n:n<1/2?e:n<2/3?o+(e-o)*(2/3-n)*6:o}function g1({hue:o,saturation:e,lightness:n,alpha:s}){o/=360,e/=100,n/=100;let l=0,u=0,c=0;if(!e)l=u=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,y=2*n-h;l=yc(y,h,o+1/3),u=yc(y,h,o),c=yc(y,h,o-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function Il(o,e){return n=>n>0?e:o}const Ht=(o,e,n)=>o+(e-o)*n,vc=(o,e,n)=>{const s=o*o,l=n*(e*e-s)+s;return l<0?0:Math.sqrt(l)},y1=[Gc,Di,Co],v1=o=>y1.find(e=>e.test(o));function Zg(o){const e=v1(o);if(!e)return!1;let n=e.parse(o);return e===Co&&(n=g1(n)),n}const $g=(o,e)=>{const n=Zg(o),s=Zg(e);if(!n||!s)return Il(o,e);const l={...n};return u=>(l.red=vc(n.red,s.red,u),l.green=vc(n.green,s.green,u),l.blue=vc(n.blue,s.blue,u),l.alpha=Ht(n.alpha,s.alpha,u),Di.transform(l))},qc=new Set(["none","hidden"]);function T1(o,e){return qc.has(o)?n=>n<=0?o:e:n=>n>=1?e:o}function S1(o,e){return n=>Ht(o,e,n)}function Rf(o){return typeof o=="number"?S1:typeof o=="string"?Mf(o)?Il:jt.test(o)?$g:C1:Array.isArray(o)?nT:typeof o=="object"?jt.test(o)?$g:E1:Il}function nT(o,e){const n=[...o],s=n.length,l=o.map((u,c)=>Rf(u)(u,e[c]));return u=>{for(let c=0;c<s;c++)n[c]=l[c](u);return n}}function E1(o,e){const n={...o,...e},s={};for(const l in n)o[l]!==void 0&&e[l]!==void 0&&(s[l]=Rf(o[l])(o[l],e[l]));return l=>{for(const u in s)n[u]=s[u](l);return n}}function b1(o,e){const n=[],s={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],c=o.indexes[u][s[u]],h=o.values[c]??0;n[l]=h,s[u]++}return n}const C1=(o,e)=>{const n=ii.createTransformer(e),s=Za(o),l=Za(e);return s.indexes.var.length===l.indexes.var.length&&s.indexes.color.length===l.indexes.color.length&&s.indexes.number.length>=l.indexes.number.length?qc.has(o)&&!l.values.length||qc.has(e)&&!s.values.length?T1(o,e):ts(nT(b1(s,l),l.values),n):Il(o,e)};function iT(o,e,n){return typeof o=="number"&&typeof e=="number"&&typeof n=="number"?Ht(o,e,n):Rf(o)(o,e)}const A1=o=>{const e=({timestamp:n})=>o(n);return{start:(n=!0)=>Gt.update(e,n),stop:()=>ni(e),now:()=>ue.isProcessing?ue.timestamp:xe.now()}},oT=(o,e,n=10)=>{let s="";const l=Math.max(Math.round(e/n),2);for(let u=0;u<l;u++)s+=Math.round(o(u/(l-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Ul=2e4;function wf(o){let e=0;const n=50;let s=o.next(e);for(;!s.done&&e<Ul;)e+=n,s=o.next(e);return e>=Ul?1/0:e}function M1(o,e=100,n){const s=n({...o,keyframes:[0,e]}),l=Math.min(wf(s),Ul);return{type:"keyframes",ease:u=>s.next(l*u).value/e,duration:un(l)}}const x1=5;function aT(o,e,n){const s=Math.max(e-x1,0);return zv(n-o(s),e-s)}const Kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tc=.001;function _1({duration:o=Kt.duration,bounce:e=Kt.bounce,velocity:n=Kt.velocity,mass:s=Kt.mass}){let l,u,c=1-e;c=Rn(Kt.minDamping,Kt.maxDamping,c),o=Rn(Kt.minDuration,Kt.maxDuration,un(o)),c<1?(l=p=>{const v=p*c,S=v*o,E=v-n,C=Hc(p,c),A=Math.exp(-S);return Tc-E/C*A},u=p=>{const S=p*c*o,E=S*n+n,C=Math.pow(c,2)*Math.pow(p,2)*o,A=Math.exp(-S),w=Hc(Math.pow(p,2),c);return(-l(p)+Tc>0?-1:1)*((E-C)*A)/w}):(l=p=>{const v=Math.exp(-p*o),S=(p-n)*o+1;return-Tc+v*S},u=p=>{const v=Math.exp(-p*o),S=(n-p)*(o*o);return v*S});const h=5/o,y=w1(l,u,h);if(o=rn(o),isNaN(y))return{stiffness:Kt.stiffness,damping:Kt.damping,duration:o};{const p=Math.pow(y,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:o}}}const R1=12;function w1(o,e,n){let s=n;for(let l=1;l<R1;l++)s=s-o(s)/e(s);return s}function Hc(o,e){return o*Math.sqrt(1-e*e)}const D1=["duration","bounce"],N1=["stiffness","damping","mass"];function Jg(o,e){return e.some(n=>o[n]!==void 0)}function L1(o){let e={velocity:Kt.velocity,stiffness:Kt.stiffness,damping:Kt.damping,mass:Kt.mass,isResolvedFromDuration:!1,...o};if(!Jg(o,N1)&&Jg(o,D1))if(o.visualDuration){const n=o.visualDuration,s=2*Math.PI/(n*1.2),l=s*s,u=2*Rn(.05,1,1-(o.bounce||0))*Math.sqrt(l);e={...e,mass:Kt.mass,stiffness:l,damping:u}}else{const n=_1(o);e={...e,...n,mass:Kt.mass},e.isResolvedFromDuration=!0}return e}function zl(o=Kt.visualDuration,e=Kt.bounce){const n=typeof o!="object"?{visualDuration:o,keyframes:[0,1],bounce:e}:o;let{restSpeed:s,restDelta:l}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:u},{stiffness:y,damping:p,mass:v,duration:S,velocity:E,isResolvedFromDuration:C}=L1({...n,velocity:-un(n.velocity||0)}),A=E||0,w=p/(2*Math.sqrt(y*v)),z=c-u,k=un(Math.sqrt(y/v)),F=Math.abs(z)<5;s||(s=F?Kt.restSpeed.granular:Kt.restSpeed.default),l||(l=F?Kt.restDelta.granular:Kt.restDelta.default);let N;if(w<1){const D=Hc(k,w);N=X=>{const Z=Math.exp(-w*k*X);return c-Z*((A+w*k*z)/D*Math.sin(D*X)+z*Math.cos(D*X))}}else if(w===1)N=D=>c-Math.exp(-k*D)*(z+(A+k*z)*D);else{const D=k*Math.sqrt(w*w-1);N=X=>{const Z=Math.exp(-w*k*X),H=Math.min(D*X,300);return c-Z*((A+w*k*z)*Math.sinh(H)+D*z*Math.cosh(H))/D}}const K={calculatedDuration:C&&S||null,next:D=>{const X=N(D);if(C)h.done=D>=S;else{let Z=D===0?A:0;w<1&&(Z=D===0?rn(A):aT(N,D,X));const H=Math.abs(Z)<=s,ot=Math.abs(c-X)<=l;h.done=H&&ot}return h.value=h.done?c:X,h},toString:()=>{const D=Math.min(wf(K),Ul),X=oT(Z=>K.next(D*Z).value,D,30);return D+"ms "+X},toTransition:()=>{}};return K}zl.applyToOptions=o=>{const e=M1(o,100,zl);return o.ease=e.ease,o.duration=rn(e.duration),o.type="keyframes",o};function Fc({keyframes:o,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:c,min:h,max:y,restDelta:p=.5,restSpeed:v}){const S=o[0],E={done:!1,value:S},C=H=>h!==void 0&&H<h||y!==void 0&&H>y,A=H=>h===void 0?y:y===void 0||Math.abs(h-H)<Math.abs(y-H)?h:y;let w=n*e;const z=S+w,k=c===void 0?z:c(z);k!==z&&(w=k-S);const F=H=>-w*Math.exp(-H/s),N=H=>k+F(H),K=H=>{const ot=F(H),lt=N(H);E.done=Math.abs(ot)<=p,E.value=E.done?k:lt};let D,X;const Z=H=>{C(E.value)&&(D=H,X=zl({keyframes:[E.value,A(E.value)],velocity:aT(N,H,E.value),damping:l,stiffness:u,restDelta:p,restSpeed:v}))};return Z(0),{calculatedDuration:null,next:H=>{let ot=!1;return!X&&D===void 0&&(ot=!0,K(H),Z(H)),D!==void 0&&H>=D?X.next(H-D):(!ot&&K(H),E)}}}function P1(o,e,n){const s=[],l=n||wn.mix||iT,u=o.length-1;for(let c=0;c<u;c++){let h=l(o[c],o[c+1]);if(e){const y=Array.isArray(e)?e[c]||Xe:e;h=ts(y,h)}s.push(h)}return s}function V1(o,e,{clamp:n=!0,ease:s,mixer:l}={}){const u=o.length;if(Tf(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=o[0]===o[1];o[0]>o[u-1]&&(o=[...o].reverse(),e=[...e].reverse());const h=P1(e,s,l),y=h.length,p=v=>{if(c&&v<o[0])return e[0];let S=0;if(y>1)for(;S<o.length-2&&!(v<o[S+1]);S++);const E=Qa(o[S],o[S+1],v);return h[S](E)};return n?v=>p(Rn(o[0],o[u-1],v)):p}function B1(o,e){const n=o[o.length-1];for(let s=1;s<=e;s++){const l=Qa(0,e,s);o.push(Ht(n,1,l))}}function I1(o){const e=[0];return B1(e,o.length-1),e}function U1(o,e){return o.map(n=>n*e)}function z1(o,e){return o.map(()=>e||Qv).splice(0,o.length-1)}function Ga({duration:o=300,keyframes:e,times:n,ease:s="easeInOut"}){const l=Zx(s)?s.map(Kg):Kg(s),u={done:!1,value:e[0]},c=U1(n&&n.length===e.length?n:I1(e),o),h=V1(c,e,{ease:Array.isArray(l)?l:z1(e,l)});return{calculatedDuration:o,next:y=>(u.value=h(y),u.done=y>=o,u)}}const k1=o=>o!==null;function Df(o,{repeat:e,repeatType:n="loop"},s,l=1){const u=o.filter(k1),h=l<0||e&&n!=="loop"&&e%2===1?0:u.length-1;return!h||s===void 0?u[h]:s}const O1={decay:Fc,inertia:Fc,tween:Ga,keyframes:Ga,spring:zl};function sT(o){typeof o.type=="string"&&(o.type=O1[o.type])}class Nf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const G1=o=>o/100;class Lf extends Nf{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,l;const{motionValue:n}=this.options;n&&n.updatedAt!==xe.now()&&this.tick(xe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(l=(s=this.options).onStop)==null||l.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;sT(e);const{type:n=Ga,repeat:s=0,repeatDelay:l=0,repeatType:u,velocity:c=0}=e;let{keyframes:h}=e;const y=n||Ga;y!==Ga&&typeof h[0]!="number"&&(this.mixKeyframes=ts(G1,iT(h[0],h[1])),h=[0,100]);const p=y({...e,keyframes:h});u==="mirror"&&(this.mirroredGenerator=y({...e,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=wf(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+l,this.totalDuration=this.resolvedDuration*(s+1)-l,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:l,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:y}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:v,repeat:S,repeatType:E,repeatDelay:C,type:A,onUpdate:w,finalKeyframe:z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-l/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const k=this.currentTime-p*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?k<0:k>l;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let N=this.currentTime,K=s;if(S){const H=Math.min(this.currentTime,l)/h;let ot=Math.floor(H),lt=H%1;!lt&&H>=1&&(lt=1),lt===1&&ot--,ot=Math.min(ot,S+1),!!(ot%2)&&(E==="reverse"?(lt=1-lt,C&&(lt-=C/h)):E==="mirror"&&(K=c)),N=Rn(0,1,lt)*h}const D=F?{done:!1,value:v[0]}:K.next(N);u&&(D.value=u(D.value));let{done:X}=D;!F&&y!==null&&(X=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return Z&&A!==Fc&&(D.value=Df(v,this.options,z,this.speed)),w&&w(D.value),Z&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return un(this.calculatedDuration)}get time(){return un(this.currentTime)}set time(e){var n;e=rn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xe.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=un(this.currentTime))}play(){var l,u;if(this.isStopped)return;const{driver:e=A1,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(u=(l=this.options).onPlay)==null||u.call(l);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function q1(o){for(let e=1;e<o.length;e++)o[e]??(o[e]=o[e-1])}const Ni=o=>o*180/Math.PI,Yc=o=>{const e=Ni(Math.atan2(o[1],o[0]));return Kc(e)},H1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:o=>(Math.abs(o[0])+Math.abs(o[3]))/2,rotate:Yc,rotateZ:Yc,skewX:o=>Ni(Math.atan(o[1])),skewY:o=>Ni(Math.atan(o[2])),skew:o=>(Math.abs(o[1])+Math.abs(o[2]))/2},Kc=o=>(o=o%360,o<0&&(o+=360),o),Wg=Yc,jg=o=>Math.sqrt(o[0]*o[0]+o[1]*o[1]),ty=o=>Math.sqrt(o[4]*o[4]+o[5]*o[5]),F1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jg,scaleY:ty,scale:o=>(jg(o)+ty(o))/2,rotateX:o=>Kc(Ni(Math.atan2(o[6],o[5]))),rotateY:o=>Kc(Ni(Math.atan2(-o[2],o[0]))),rotateZ:Wg,rotate:Wg,skewX:o=>Ni(Math.atan(o[4])),skewY:o=>Ni(Math.atan(o[1])),skew:o=>(Math.abs(o[1])+Math.abs(o[4]))/2};function Qc(o){return o.includes("scale")?1:0}function Xc(o,e){if(!o||o==="none")return Qc(e);const n=o.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,l;if(n)s=F1,l=n;else{const h=o.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=H1,l=h}if(!l)return Qc(e);const u=s[e],c=l[1].split(",").map(K1);return typeof u=="function"?u(c):c[u]}const Y1=(o,e)=>{const{transform:n="none"}=getComputedStyle(o);return Xc(n,e)};function K1(o){return parseFloat(o.trim())}const Po=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vo=new Set(Po),ey=o=>o===Lo||o===pt,Q1=new Set(["x","y","z"]),X1=Po.filter(o=>!Q1.has(o));function Z1(o){const e=[];return X1.forEach(n=>{const s=o.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Vi={width:({x:o},{paddingLeft:e="0",paddingRight:n="0"})=>o.max-o.min-parseFloat(e)-parseFloat(n),height:({y:o},{paddingTop:e="0",paddingBottom:n="0"})=>o.max-o.min-parseFloat(e)-parseFloat(n),top:(o,{top:e})=>parseFloat(e),left:(o,{left:e})=>parseFloat(e),bottom:({y:o},{top:e})=>parseFloat(e)+(o.max-o.min),right:({x:o},{left:e})=>parseFloat(e)+(o.max-o.min),x:(o,{transform:e})=>Xc(e,"x"),y:(o,{transform:e})=>Xc(e,"y")};Vi.translateX=Vi.x;Vi.translateY=Vi.y;const Bi=new Set;let Zc=!1,$c=!1,Jc=!1;function lT(){if($c){const o=Array.from(Bi).filter(s=>s.needsMeasurement),e=new Set(o.map(s=>s.element)),n=new Map;e.forEach(s=>{const l=Z1(s);l.length&&(n.set(s,l),s.render())}),o.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const l=n.get(s);l&&l.forEach(([u,c])=>{var h;(h=s.getValue(u))==null||h.set(c)})}),o.forEach(s=>s.measureEndState()),o.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}$c=!1,Zc=!1,Bi.forEach(o=>o.complete(Jc)),Bi.clear()}function rT(){Bi.forEach(o=>{o.readKeyframes(),o.needsMeasurement&&($c=!0)})}function $1(){Jc=!0,rT(),lT(),Jc=!1}class Pf{constructor(e,n,s,l,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=l,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Bi.add(this),Zc||(Zc=!0,Gt.read(rT),Gt.resolveKeyframes(lT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:l}=this;if(e[0]===null){const u=l==null?void 0:l.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(s&&n){const h=s.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),l&&u===void 0&&l.set(e[0])}q1(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Bi.delete(this)}cancel(){this.state==="scheduled"&&(Bi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const J1=o=>o.startsWith("--");function W1(o,e,n){J1(e)?o.style.setProperty(e,n):o.style[e]=n}const j1=Sf(()=>window.ScrollTimeline!==void 0),t_={};function e_(o,e){const n=Sf(o);return()=>t_[e]??n()}const uT=e_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ua=([o,e,n,s])=>`cubic-bezier(${o}, ${e}, ${n}, ${s})`,ny={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ua([0,.65,.55,1]),circOut:Ua([.55,0,1,.45]),backIn:Ua([.31,.01,.66,-.59]),backOut:Ua([.33,1.53,.69,.99])};function cT(o,e){if(o)return typeof o=="function"?uT()?oT(o,e):"ease-out":Xv(o)?Ua(o):Array.isArray(o)?o.map(n=>cT(n,e)||ny.easeOut):ny[o]}function n_(o,e,n,{delay:s=0,duration:l=300,repeat:u=0,repeatType:c="loop",ease:h="easeOut",times:y}={},p=void 0){const v={[e]:n};y&&(v.offset=y);const S=cT(h,l);Array.isArray(S)&&(v.easing=S);const E={delay:s,duration:l,easing:Array.isArray(S)?"linear":S,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),o.animate(v,E)}function fT(o){return typeof o=="function"&&"applyToOptions"in o}function i_({type:o,...e}){return fT(o)&&uT()?o.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class o_ extends Nf{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:l,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:h,onComplete:y}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,Tf(typeof e.type!="string");const p=i_(e);this.animation=n_(n,s,l,p,u),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Df(l,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(v):W1(n,s,v),this.animation.cancel()}y==null||y(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return un(Number(e))}get time(){return un(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=rn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&j1()?(this.animation.timeline=e,Xe):n(this)}}const dT={anticipate:Fv,backInOut:Hv,circInOut:Kv};function a_(o){return o in dT}function s_(o){typeof o.ease=="string"&&a_(o.ease)&&(o.ease=dT[o.ease])}const iy=10;class l_ extends o_{constructor(e){s_(e),sT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:l,element:u,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Lf({...c,autoplay:!1}),y=rn(this.finishedTime??this.time);n.setWithVelocity(h.sample(y-iy).value,h.sample(y).value,iy),h.stop()}}const oy=(o,e)=>e==="zIndex"?!1:!!(typeof o=="number"||Array.isArray(o)||typeof o=="string"&&(ii.test(o)||o==="0")&&!o.startsWith("url("));function r_(o){const e=o[0];if(o.length===1)return!0;for(let n=0;n<o.length;n++)if(o[n]!==e)return!0}function u_(o,e,n,s){const l=o[0];if(l===null)return!1;if(e==="display"||e==="visibility")return!0;const u=o[o.length-1],c=oy(l,e),h=oy(u,e);return!c||!h?!1:r_(o)||(n==="spring"||fT(n))&&s}function Wc(o){o.duration=0,o.type}const c_=new Set(["opacity","clipPath","filter","transform"]),f_=Sf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function d_(o){var v;const{motionValue:e,name:n,repeatDelay:s,repeatType:l,damping:u,type:c}=o;if(!(((v=e==null?void 0:e.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:p}=e.owner.getProps();return f_()&&n&&c_.has(n)&&(n!=="transform"||!p)&&!y&&!s&&l!=="mirror"&&u!==0&&c!=="inertia"}const h_=40;class p_ extends Nf{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:c="loop",keyframes:h,name:y,motionValue:p,element:v,...S}){var A;super(),this.stop=()=>{var w,z;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(z=this.keyframeResolver)==null||z.cancel()},this.createdAt=xe.now();const E={autoplay:e,delay:n,type:s,repeat:l,repeatDelay:u,repeatType:c,name:y,motionValue:p,element:v,...S},C=(v==null?void 0:v.KeyframeResolver)||Pf;this.keyframeResolver=new C(h,(w,z,k)=>this.onKeyframesResolved(w,z,E,!k),y,p,v),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(e,n,s,l){this.keyframeResolver=void 0;const{name:u,type:c,velocity:h,delay:y,isHandoff:p,onUpdate:v}=s;this.resolvedAt=xe.now(),u_(e,u,c,h)||((wn.instantAnimations||!y)&&(v==null||v(Df(e,s,n))),e[0]=e[e.length-1],Wc(s),s.repeat=0);const E={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>h_?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},C=!p&&d_(E)?new l_({...E,element:E.motionValue.owner.current}):new Lf(E);C.finished.then(()=>this.notifyFinished()).catch(Xe),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),$1()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const m_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function g_(o){const e=m_.exec(o);if(!e)return[,];const[,n,s,l]=e;return[`--${n??s}`,l]}function hT(o,e,n=1){const[s,l]=g_(o);if(!s)return;const u=window.getComputedStyle(e).getPropertyValue(s);if(u){const c=u.trim();return Bv(c)?parseFloat(c):c}return Mf(l)?hT(l,e,n+1):l}function Vf(o,e){return(o==null?void 0:o[e])??(o==null?void 0:o.default)??o}const pT=new Set(["width","height","top","left","right","bottom",...Po]),y_={test:o=>o==="auto",parse:o=>o},mT=o=>e=>e.test(o),gT=[Lo,pt,cn,ei,r1,l1,y_],ay=o=>gT.find(mT(o));function v_(o){return typeof o=="number"?o===0:o!==null?o==="none"||o==="0"||Uv(o):!0}const T_=new Set(["brightness","contrast","saturate","opacity"]);function S_(o){const[e,n]=o.slice(0,-1).split("(");if(e==="drop-shadow")return o;const[s]=n.match(xf)||[];if(!s)return o;const l=n.replace(s,"");let u=T_.has(e)?1:0;return s!==n&&(u*=100),e+"("+u+l+")"}const E_=/\b([a-z-]*)\(.*?\)/gu,jc={...ii,getAnimatableNone:o=>{const e=o.match(E_);return e?e.map(S_).join(" "):o}},sy={...Lo,transform:Math.round},b_={rotate:ei,rotateX:ei,rotateY:ei,rotateZ:ei,scale:Cl,scaleX:Cl,scaleY:Cl,scaleZ:Cl,skew:ei,skewX:ei,skewY:ei,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:Xa,originX:Qg,originY:Qg,originZ:pt},Bf={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,radius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,backgroundPositionX:pt,backgroundPositionY:pt,...b_,zIndex:sy,fillOpacity:Xa,strokeOpacity:Xa,numOctaves:sy},C_={...Bf,color:jt,backgroundColor:jt,outlineColor:jt,fill:jt,stroke:jt,borderColor:jt,borderTopColor:jt,borderRightColor:jt,borderBottomColor:jt,borderLeftColor:jt,filter:jc,WebkitFilter:jc},yT=o=>C_[o];function vT(o,e){let n=yT(o);return n!==jc&&(n=ii),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const A_=new Set(["auto","none","0"]);function M_(o,e,n){let s=0,l;for(;s<o.length&&!l;){const u=o[s];typeof u=="string"&&!A_.has(u)&&Za(u).values.length&&(l=o[s]),s++}if(l&&n)for(const u of e)o[u]=vT(n,l)}class x_ extends Pf{constructor(e,n,s,l,u){super(e,n,s,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let p=e[y];if(typeof p=="string"&&(p=p.trim(),Mf(p))){const v=hT(p,n.current);v!==void 0&&(e[y]=v),y===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!pT.has(s)||e.length!==2)return;const[l,u]=e,c=ay(l),h=ay(u);if(c!==h)if(ey(c)&&ey(h))for(let y=0;y<e.length;y++){const p=e[y];typeof p=="string"&&(e[y]=parseFloat(p))}else Vi[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let l=0;l<e.length;l++)(e[l]===null||v_(e[l]))&&s.push(l);s.length&&M_(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vi[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const l=n[n.length-1];l!==void 0&&e.getValue(s,l).jump(l,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const l=e.getValue(n);l&&l.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=Vi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([y,p])=>{e.getValue(y).set(p)}),this.resolveNoneKeyframes()}}function __(o,e,n){if(o instanceof EventTarget)return[o];if(typeof o=="string"){let s=document;const l=(n==null?void 0:n[o])??s.querySelectorAll(o);return l?Array.from(l):[]}return Array.from(o)}const TT=(o,e)=>e&&typeof o=="number"?e.transform(o):o;function ST(o){return Iv(o)&&"offsetHeight"in o}const ly=30,R_=o=>!isNaN(parseFloat(o));class w_{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var u;const l=xe.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=xe.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=R_(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ef);const s=this.events[e].add(n);return e==="change"?()=>{s(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ly)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ly);return zv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wo(o,e){return new w_(o,e)}const{schedule:If}=Zv(queueMicrotask,!1),We={x:!1,y:!1};function ET(){return We.x||We.y}function D_(o){return o==="x"||o==="y"?We[o]?null:(We[o]=!0,()=>{We[o]=!1}):We.x||We.y?null:(We.x=We.y=!0,()=>{We.x=We.y=!1})}function bT(o,e){const n=__(o),s=new AbortController,l={passive:!0,...e,signal:s.signal};return[n,l,()=>s.abort()]}function ry(o){return!(o.pointerType==="touch"||ET())}function N_(o,e,n={}){const[s,l,u]=bT(o,n),c=h=>{if(!ry(h))return;const{target:y}=h,p=e(y,h);if(typeof p!="function"||!y)return;const v=S=>{ry(S)&&(p(S),y.removeEventListener("pointerleave",v))};y.addEventListener("pointerleave",v,l)};return s.forEach(h=>{h.addEventListener("pointerenter",c,l)}),u}const CT=(o,e)=>e?o===e?!0:CT(o,e.parentElement):!1,Uf=o=>o.pointerType==="mouse"?typeof o.button!="number"||o.button<=0:o.isPrimary!==!1,L_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function P_(o){return L_.has(o.tagName)||o.tabIndex!==-1}const Dl=new WeakSet;function uy(o){return e=>{e.key==="Enter"&&o(e)}}function Sc(o,e){o.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const V_=(o,e)=>{const n=o.currentTarget;if(!n)return;const s=uy(()=>{if(Dl.has(n))return;Sc(n,"down");const l=uy(()=>{Sc(n,"up")}),u=()=>Sc(n,"cancel");n.addEventListener("keyup",l,e),n.addEventListener("blur",u,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function cy(o){return Uf(o)&&!ET()}function B_(o,e,n={}){const[s,l,u]=bT(o,n),c=h=>{const y=h.currentTarget;if(!cy(h))return;Dl.add(y);const p=e(y,h),v=(C,A)=>{window.removeEventListener("pointerup",S),window.removeEventListener("pointercancel",E),Dl.has(y)&&Dl.delete(y),cy(C)&&typeof p=="function"&&p(C,{success:A})},S=C=>{v(C,y===window||y===document||n.useGlobalTarget||CT(y,C.target))},E=C=>{v(C,!1)};window.addEventListener("pointerup",S,l),window.addEventListener("pointercancel",E,l)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,l),ST(h)&&(h.addEventListener("focus",p=>V_(p,l)),!P_(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),u}function AT(o){return Iv(o)&&"ownerSVGElement"in o}function I_(o){return AT(o)&&o.tagName==="svg"}const me=o=>!!(o&&o.getVelocity),U_=[...gT,jt,ii],z_=o=>U_.find(mT(o)),zf=et.createContext({transformPagePoint:o=>o,isStatic:!1,reducedMotion:"never"});class k_ extends et.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,l=ST(s)&&s.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function O_({children:o,isPresent:e,anchorX:n,root:s}){const l=et.useId(),u=et.useRef(null),c=et.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=et.useContext(zf);return et.useInsertionEffect(()=>{const{width:y,height:p,top:v,left:S,right:E}=c.current;if(e||!u.current||!y||!p)return;const C=n==="left"?`left: ${S}`:`right: ${E}`;u.current.dataset.motionPopId=l;const A=document.createElement("style");h&&(A.nonce=h);const w=s??document.head;return w.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${p}px !important;
            ${C}px !important;
            top: ${v}px !important;
          }
        `),()=>{w.contains(A)&&w.removeChild(A)}},[e]),zt.jsx(k_,{isPresent:e,childRef:u,sizeRef:c,children:et.cloneElement(o,{ref:u})})}const G_=({children:o,initial:e,isPresent:n,onExitComplete:s,custom:l,presenceAffectsLayout:u,mode:c,anchorX:h,root:y})=>{const p=mf(q_),v=et.useId();let S=!0,E=et.useMemo(()=>(S=!1,{id:v,initial:e,isPresent:n,custom:l,onExitComplete:C=>{p.set(C,!0);for(const A of p.values())if(!A)return;s&&s()},register:C=>(p.set(C,!1),()=>p.delete(C))}),[n,p,s]);return u&&S&&(E={...E}),et.useMemo(()=>{p.forEach((C,A)=>p.set(A,!1))},[n]),et.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),c==="popLayout"&&(o=zt.jsx(O_,{isPresent:n,anchorX:h,root:y,children:o})),zt.jsx(Xl.Provider,{value:E,children:o})};function q_(){return new Map}function MT(o=!0){const e=et.useContext(Xl);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:l}=e,u=et.useId();et.useEffect(()=>{if(o)return l(u)},[o]);const c=et.useCallback(()=>o&&s&&s(u),[u,s,o]);return!n&&s?[!1,c]:[!0]}const Al=o=>o.key||"";function fy(o){const e=[];return et.Children.forEach(o,n=>{et.isValidElement(n)&&e.push(n)}),e}const H_=({children:o,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:l=!0,mode:u="sync",propagate:c=!1,anchorX:h="left",root:y})=>{const[p,v]=MT(c),S=et.useMemo(()=>fy(o),[o]),E=c&&!p?[]:S.map(Al),C=et.useRef(!0),A=et.useRef(S),w=mf(()=>new Map),[z,k]=et.useState(S),[F,N]=et.useState(S);Vv(()=>{C.current=!1,A.current=S;for(let X=0;X<F.length;X++){const Z=Al(F[X]);E.includes(Z)?w.delete(Z):w.get(Z)!==!0&&w.set(Z,!1)}},[F,E.length,E.join("-")]);const K=[];if(S!==z){let X=[...S];for(let Z=0;Z<F.length;Z++){const H=F[Z],ot=Al(H);E.includes(ot)||(X.splice(Z,0,H),K.push(H))}return u==="wait"&&K.length&&(X=K),N(fy(X)),k(S),null}const{forceRender:D}=et.useContext(pf);return zt.jsx(zt.Fragment,{children:F.map(X=>{const Z=Al(X),H=c&&!p?!1:S===F||E.includes(Z),ot=()=>{if(w.has(Z))w.set(Z,!0);else return;let lt=!0;w.forEach(yt=>{yt||(lt=!1)}),lt&&(D==null||D(),N(A.current),c&&(v==null||v()),s&&s())};return zt.jsx(G_,{isPresent:H,initial:!C.current||n?void 0:!1,custom:e,presenceAffectsLayout:l,mode:u,root:y,onExitComplete:H?void 0:ot,anchorX:h,children:X},Z)})})},xT=et.createContext({strict:!1}),dy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Do={};for(const o in dy)Do[o]={isEnabled:e=>dy[o].some(n=>!!e[n])};function F_(o){for(const e in o)Do[e]={...Do[e],...o[e]}}const Y_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kl(o){return o.startsWith("while")||o.startsWith("drag")&&o!=="draggable"||o.startsWith("layout")||o.startsWith("onTap")||o.startsWith("onPan")||o.startsWith("onLayout")||Y_.has(o)}let _T=o=>!kl(o);function K_(o){typeof o=="function"&&(_T=e=>e.startsWith("on")?!kl(e):o(e))}try{K_(require("@emotion/is-prop-valid").default)}catch{}function Q_(o,e,n){const s={};for(const l in o)l==="values"&&typeof o.values=="object"||(_T(l)||n===!0&&kl(l)||!e&&!kl(l)||o.draggable&&l.startsWith("onDrag"))&&(s[l]=o[l]);return s}const Zl=et.createContext({});function $l(o){return o!==null&&typeof o=="object"&&typeof o.start=="function"}function $a(o){return typeof o=="string"||Array.isArray(o)}const kf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Of=["initial",...kf];function Jl(o){return $l(o.animate)||Of.some(e=>$a(o[e]))}function RT(o){return!!(Jl(o)||o.variants)}function X_(o,e){if(Jl(o)){const{initial:n,animate:s}=o;return{initial:n===!1||$a(n)?n:void 0,animate:$a(s)?s:void 0}}return o.inherit!==!1?e:{}}function Z_(o){const{initial:e,animate:n}=X_(o,et.useContext(Zl));return et.useMemo(()=>({initial:e,animate:n}),[hy(e),hy(n)])}function hy(o){return Array.isArray(o)?o.join(" "):o}const Ja={};function $_(o){for(const e in o)Ja[e]=o[e],Af(e)&&(Ja[e].isCSSVariable=!0)}function wT(o,{layout:e,layoutId:n}){return Vo.has(o)||o.startsWith("origin")||(e||n!==void 0)&&(!!Ja[o]||o==="opacity")}const J_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},W_=Po.length;function j_(o,e,n){let s="",l=!0;for(let u=0;u<W_;u++){const c=Po[u],h=o[c];if(h===void 0)continue;let y=!0;if(typeof h=="number"?y=h===(c.startsWith("scale")?1:0):y=parseFloat(h)===0,!y||n){const p=TT(h,Bf[c]);if(!y){l=!1;const v=J_[c]||c;s+=`${v}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,l?"":s):l&&(s="none"),s}function Gf(o,e,n){const{style:s,vars:l,transformOrigin:u}=o;let c=!1,h=!1;for(const y in e){const p=e[y];if(Vo.has(y)){c=!0;continue}else if(Af(y)){l[y]=p;continue}else{const v=TT(p,Bf[y]);y.startsWith("origin")?(h=!0,u[y]=v):s[y]=v}}if(e.transform||(c||n?s.transform=j_(e,o.transform,n):s.transform&&(s.transform="none")),h){const{originX:y="50%",originY:p="50%",originZ:v=0}=u;s.transformOrigin=`${y} ${p} ${v}`}}const qf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function DT(o,e,n){for(const s in e)!me(e[s])&&!wT(s,n)&&(o[s]=e[s])}function tR({transformTemplate:o},e){return et.useMemo(()=>{const n=qf();return Gf(n,e,o),Object.assign({},n.vars,n.style)},[e])}function eR(o,e){const n=o.style||{},s={};return DT(s,n,o),Object.assign(s,tR(o,e)),s}function nR(o,e){const n={},s=eR(o,e);return o.drag&&o.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=o.drag===!0?"none":`pan-${o.drag==="x"?"y":"x"}`),o.tabIndex===void 0&&(o.onTap||o.onTapStart||o.whileTap)&&(n.tabIndex=0),n.style=s,n}const iR={offset:"stroke-dashoffset",array:"stroke-dasharray"},oR={offset:"strokeDashoffset",array:"strokeDasharray"};function aR(o,e,n=1,s=0,l=!0){o.pathLength=1;const u=l?iR:oR;o[u.offset]=pt.transform(-s);const c=pt.transform(e),h=pt.transform(n);o[u.array]=`${c} ${h}`}function NT(o,{attrX:e,attrY:n,attrScale:s,pathLength:l,pathSpacing:u=1,pathOffset:c=0,...h},y,p,v){if(Gf(o,h,p),y){o.style.viewBox&&(o.attrs.viewBox=o.style.viewBox);return}o.attrs=o.style,o.style={};const{attrs:S,style:E}=o;S.transform&&(E.transform=S.transform,delete S.transform),(E.transform||S.transformOrigin)&&(E.transformOrigin=S.transformOrigin??"50% 50%",delete S.transformOrigin),E.transform&&(E.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete S.transformBox),e!==void 0&&(S.x=e),n!==void 0&&(S.y=n),s!==void 0&&(S.scale=s),l!==void 0&&aR(S,l,u,c,!1)}const LT=()=>({...qf(),attrs:{}}),PT=o=>typeof o=="string"&&o.toLowerCase()==="svg";function sR(o,e,n,s){const l=et.useMemo(()=>{const u=LT();return NT(u,e,PT(s),o.transformTemplate,o.style),{...u.attrs,style:{...u.style}}},[e]);if(o.style){const u={};DT(u,o.style,o),l.style={...u,...l.style}}return l}const lR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hf(o){return typeof o!="string"||o.includes("-")?!1:!!(lR.indexOf(o)>-1||/[A-Z]/u.test(o))}function rR(o,e,n,{latestValues:s},l,u=!1){const h=(Hf(o)?sR:nR)(e,s,l,o),y=Q_(e,typeof o=="string",u),p=o!==et.Fragment?{...y,...h,ref:n}:{},{children:v}=e,S=et.useMemo(()=>me(v)?v.get():v,[v]);return et.createElement(o,{...p,children:S})}function py(o){const e=[{},{}];return o==null||o.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Ff(o,e,n,s){if(typeof e=="function"){const[l,u]=py(s);e=e(n!==void 0?n:o.custom,l,u)}if(typeof e=="string"&&(e=o.variants&&o.variants[e]),typeof e=="function"){const[l,u]=py(s);e=e(n!==void 0?n:o.custom,l,u)}return e}function Nl(o){return me(o)?o.get():o}function uR({scrapeMotionValuesFromProps:o,createRenderState:e},n,s,l){return{latestValues:cR(n,s,l,o),renderState:e()}}function cR(o,e,n,s){const l={},u=s(o,{});for(const E in u)l[E]=Nl(u[E]);let{initial:c,animate:h}=o;const y=Jl(o),p=RT(o);e&&p&&!y&&o.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const S=v?h:c;if(S&&typeof S!="boolean"&&!$l(S)){const E=Array.isArray(S)?S:[S];for(let C=0;C<E.length;C++){const A=Ff(o,E[C]);if(A){const{transitionEnd:w,transition:z,...k}=A;for(const F in k){let N=k[F];if(Array.isArray(N)){const K=v?N.length-1:0;N=N[K]}N!==null&&(l[F]=N)}for(const F in w)l[F]=w[F]}}}return l}const VT=o=>(e,n)=>{const s=et.useContext(Zl),l=et.useContext(Xl),u=()=>uR(o,e,s,l);return n?u():mf(u)};function Yf(o,e,n){var u;const{style:s}=o,l={};for(const c in s)(me(s[c])||e.style&&me(e.style[c])||wT(c,o)||((u=n==null?void 0:n.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(l[c]=s[c]);return l}const fR=VT({scrapeMotionValuesFromProps:Yf,createRenderState:qf});function BT(o,e,n){const s=Yf(o,e,n);for(const l in o)if(me(o[l])||me(e[l])){const u=Po.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;s[u]=o[l]}return s}const dR=VT({scrapeMotionValuesFromProps:BT,createRenderState:LT}),hR=Symbol.for("motionComponentSymbol");function Ao(o){return o&&typeof o=="object"&&Object.prototype.hasOwnProperty.call(o,"current")}function pR(o,e,n){return et.useCallback(s=>{s&&o.onMount&&o.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Ao(n)&&(n.current=s))},[e])}const Kf=o=>o.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mR="framerAppearId",IT="data-"+Kf(mR),UT=et.createContext({});function gR(o,e,n,s,l){var w,z;const{visualElement:u}=et.useContext(Zl),c=et.useContext(xT),h=et.useContext(Xl),y=et.useContext(zf).reducedMotion,p=et.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(o,{visualState:e,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:y}));const v=p.current,S=et.useContext(UT);v&&!v.projection&&l&&(v.type==="html"||v.type==="svg")&&yR(p.current,n,l,S);const E=et.useRef(!1);et.useInsertionEffect(()=>{v&&E.current&&v.update(n,h)});const C=n[IT],A=et.useRef(!!C&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,C))&&((z=window.MotionHasOptimisedAnimation)==null?void 0:z.call(window,C)));return Vv(()=>{v&&(E.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),A.current&&v.animationState&&v.animationState.animateChanges())}),et.useEffect(()=>{v&&(!A.current&&v.animationState&&v.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,C)}),A.current=!1),v.enteringChildren=void 0)}),v}function yR(o,e,n,s){const{layoutId:l,layout:u,drag:c,dragConstraints:h,layoutScroll:y,layoutRoot:p,layoutCrossfade:v}=e;o.projection=new n(o.latestValues,e["data-framer-portal-id"]?void 0:zT(o.parent)),o.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||h&&Ao(h),visualElement:o,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:y,layoutRoot:p})}function zT(o){if(o)return o.options.allowProjection!==!1?o.projection:zT(o.parent)}function Ec(o,{forwardMotionProps:e=!1}={},n,s){n&&F_(n);const l=Hf(o)?dR:fR;function u(h,y){let p;const v={...et.useContext(zf),...h,layoutId:vR(h)},{isStatic:S}=v,E=Z_(h),C=l(h,S);if(!S&&gf){TR();const A=SR(v);p=A.MeasureLayout,E.visualElement=gR(o,C,v,s,A.ProjectionNode)}return zt.jsxs(Zl.Provider,{value:E,children:[p&&E.visualElement?zt.jsx(p,{visualElement:E.visualElement,...v}):null,rR(o,h,pR(C,E.visualElement,y),C,S,e)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=et.forwardRef(u);return c[hR]=o,c}function vR({layoutId:o}){const e=et.useContext(pf).id;return e&&o!==void 0?e+"-"+o:o}function TR(o,e){et.useContext(xT).strict}function SR(o){const{drag:e,layout:n}=Do;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(o)||n!=null&&n.isEnabled(o)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function ER(o,e){if(typeof Proxy>"u")return Ec;const n=new Map,s=(u,c)=>Ec(u,c,o,e),l=(u,c)=>s(u,c);return new Proxy(l,{get:(u,c)=>c==="create"?s:(n.has(c)||n.set(c,Ec(c,void 0,o,e)),n.get(c))})}function kT({top:o,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:o,max:s}}}function bR({x:o,y:e}){return{top:e.min,right:o.max,bottom:e.max,left:o.min}}function CR(o,e){if(!e)return o;const n=e({x:o.left,y:o.top}),s=e({x:o.right,y:o.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function bc(o){return o===void 0||o===1}function tf({scale:o,scaleX:e,scaleY:n}){return!bc(o)||!bc(e)||!bc(n)}function Ri(o){return tf(o)||OT(o)||o.z||o.rotate||o.rotateX||o.rotateY||o.skewX||o.skewY}function OT(o){return my(o.x)||my(o.y)}function my(o){return o&&o!=="0%"}function Ol(o,e,n){const s=o-n,l=e*s;return n+l}function gy(o,e,n,s,l){return l!==void 0&&(o=Ol(o,l,s)),Ol(o,n,s)+e}function ef(o,e=0,n=1,s,l){o.min=gy(o.min,e,n,s,l),o.max=gy(o.max,e,n,s,l)}function GT(o,{x:e,y:n}){ef(o.x,e.translate,e.scale,e.originPoint),ef(o.y,n.translate,n.scale,n.originPoint)}const yy=.999999999999,vy=1.0000000000001;function AR(o,e,n,s=!1){const l=n.length;if(!l)return;e.x=e.y=1;let u,c;for(let h=0;h<l;h++){u=n[h],c=u.projectionDelta;const{visualElement:y}=u.options;y&&y.props.style&&y.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&xo(o,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,GT(o,c)),s&&Ri(u.latestValues)&&xo(o,u.latestValues))}e.x<vy&&e.x>yy&&(e.x=1),e.y<vy&&e.y>yy&&(e.y=1)}function Mo(o,e){o.min=o.min+e,o.max=o.max+e}function Ty(o,e,n,s,l=.5){const u=Ht(o.min,o.max,l);ef(o,e,n,u,s)}function xo(o,e){Ty(o.x,e.x,e.scaleX,e.scale,e.originX),Ty(o.y,e.y,e.scaleY,e.scale,e.originY)}function qT(o,e){return kT(CR(o.getBoundingClientRect(),e))}function MR(o,e,n){const s=qT(o,n),{scroll:l}=e;return l&&(Mo(s.x,l.offset.x),Mo(s.y,l.offset.y)),s}const Sy=()=>({translate:0,scale:1,origin:0,originPoint:0}),_o=()=>({x:Sy(),y:Sy()}),Ey=()=>({min:0,max:0}),$t=()=>({x:Ey(),y:Ey()}),nf={current:null},HT={current:!1};function xR(){if(HT.current=!0,!!gf)if(window.matchMedia){const o=window.matchMedia("(prefers-reduced-motion)"),e=()=>nf.current=o.matches;o.addEventListener("change",e),e()}else nf.current=!1}const _R=new WeakMap;function RR(o,e,n){for(const s in e){const l=e[s],u=n[s];if(me(l))o.addValue(s,l);else if(me(u))o.addValue(s,wo(l,{owner:o}));else if(u!==l)if(o.hasValue(s)){const c=o.getValue(s);c.liveStyle===!0?c.jump(l):c.hasAnimated||c.set(l)}else{const c=o.getStaticValue(s);o.addValue(s,wo(c!==void 0?c:l,{owner:o}))}}for(const s in n)e[s]===void 0&&o.removeValue(s);return e}const by=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wR{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:l,blockInitialAnimation:u,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Pf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=xe.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Gt.render(this.render,!1,!0))};const{latestValues:y,renderState:p}=c;this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=l,this.options=h,this.blockInitialAnimation=!!u,this.isControllingVariants=Jl(n),this.isVariantNode=RT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...S}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in S){const C=S[E];y[E]!==void 0&&me(C)&&C.set(y[E])}}mount(e){var n;this.current=e,_R.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,l)=>this.bindToMotionValue(l,s)),HT.current||xR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nf.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ni(this.notifyUpdate),ni(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Vo.has(e);s&&this.onBindTransform&&this.onBindTransform();const l=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Gt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Do){const n=Do[e];if(!n)continue;const{isEnabled:s,Feature:l}=n;if(!this.features[e]&&l&&s(this.props)&&(this.features[e]=new l(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<by.length;s++){const l=by[s];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,c=e[u];c&&(this.propEventSubscriptions[l]=this.on(l,c))}this.prevMotionValues=RR(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=wo(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Bv(s)||Uv(s))?s=parseFloat(s):!z_(s)&&ii.test(n)&&(s=vT(e,n)),this.setBaseTarget(e,me(s)?s.get():s)),me(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var u;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=Ff(this.props,n,(u=this.presenceContext)==null?void 0:u.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!me(l)?l:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ef),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){If.render(this.render)}}class FT extends wR{constructor(){super(...arguments),this.KeyframeResolver=x_}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;me(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function YT(o,{style:e,vars:n},s,l){const u=o.style;let c;for(c in e)u[c]=e[c];l==null||l.applyProjectionStyles(u,s);for(c in n)u.setProperty(c,n[c])}function DR(o){return window.getComputedStyle(o)}class NR extends FT{constructor(){super(...arguments),this.type="html",this.renderInstance=YT}readValueFromInstance(e,n){var s;if(Vo.has(n))return(s=this.projection)!=null&&s.isProjecting?Qc(n):Y1(e,n);{const l=DR(e),u=(Af(n)?l.getPropertyValue(n):l[n])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(e,{transformPagePoint:n}){return qT(e,n)}build(e,n,s){Gf(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Yf(e,n,s)}}const KT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function LR(o,e,n,s){YT(o,e,void 0,s);for(const l in e.attrs)o.setAttribute(KT.has(l)?l:Kf(l),e.attrs[l])}class PR extends FT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$t}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Vo.has(n)){const s=yT(n);return s&&s.default||0}return n=KT.has(n)?n:Kf(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return BT(e,n,s)}build(e,n,s){NT(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,l){LR(e,n,s,l)}mount(e){this.isSVGTag=PT(e.tagName),super.mount(e)}}const VR=(o,e)=>Hf(o)?new PR(e):new NR(e,{allowProjection:o!==et.Fragment});function Ro(o,e,n){const s=o.getProps();return Ff(s,e,n!==void 0?n:s.custom,o)}const of=o=>Array.isArray(o);function BR(o,e,n){o.hasValue(e)?o.getValue(e).set(n):o.addValue(e,wo(n))}function IR(o){return of(o)?o[o.length-1]||0:o}function UR(o,e){const n=Ro(o,e);let{transitionEnd:s={},transition:l={},...u}=n||{};u={...u,...s};for(const c in u){const h=IR(u[c]);BR(o,c,h)}}function zR(o){return!!(me(o)&&o.add)}function af(o,e){const n=o.getValue("willChange");if(zR(n))return n.add(e);if(!n&&wn.WillChange){const s=new wn.WillChange("auto");o.addValue("willChange",s),s.add(e)}}function QT(o){return o.props[IT]}const kR=o=>o!==null;function OR(o,{repeat:e,repeatType:n="loop"},s){const l=o.filter(kR),u=e&&n!=="loop"&&e%2===1?0:l.length-1;return l[u]}const GR={type:"spring",stiffness:500,damping:25,restSpeed:10},qR=o=>({type:"spring",stiffness:550,damping:o===0?2*Math.sqrt(550):30,restSpeed:10}),HR={type:"keyframes",duration:.8},FR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},YR=(o,{keyframes:e})=>e.length>2?HR:Vo.has(o)?o.startsWith("scale")?qR(e[1]):GR:FR;function KR({when:o,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:l,repeat:u,repeatType:c,repeatDelay:h,from:y,elapsed:p,...v}){return!!Object.keys(v).length}const Qf=(o,e,n,s={},l,u)=>c=>{const h=Vf(s,o)||{},y=h.delay||s.delay||0;let{elapsed:p=0}=s;p=p-rn(y);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:o,motionValue:e,element:u?void 0:l};KR(h)||Object.assign(v,YR(o,v)),v.duration&&(v.duration=rn(v.duration)),v.repeatDelay&&(v.repeatDelay=rn(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let S=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Wc(v),v.delay===0&&(S=!0)),(wn.instantAnimations||wn.skipAnimations)&&(S=!0,Wc(v),v.delay=0),v.allowFlatten=!h.type&&!h.ease,S&&!u&&e.get()!==void 0){const E=OR(v.keyframes,h);if(E!==void 0){Gt.update(()=>{v.onUpdate(E),v.onComplete()});return}}return h.isSync?new Lf(v):new p_(v)};function QR({protectedKeys:o,needsAnimating:e},n){const s=o.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function XT(o,e,{delay:n=0,transitionOverride:s,type:l}={}){let{transition:u=o.getDefaultTransition(),transitionEnd:c,...h}=e;s&&(u=s);const y=[],p=l&&o.animationState&&o.animationState.getState()[l];for(const v in h){const S=o.getValue(v,o.latestValues[v]??null),E=h[v];if(E===void 0||p&&QR(p,v))continue;const C={delay:n,...Vf(u||{},v)},A=S.get();if(A!==void 0&&!S.isAnimating&&!Array.isArray(E)&&E===A&&!C.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const k=QT(o);if(k){const F=window.MotionHandoffAnimation(k,v,Gt);F!==null&&(C.startTime=F,w=!0)}}af(o,v),S.start(Qf(v,S,E,o.shouldReduceMotion&&pT.has(v)?{type:!1}:C,o,w));const z=S.animation;z&&y.push(z)}return c&&Promise.all(y).then(()=>{Gt.update(()=>{c&&UR(o,c)})}),y}function ZT(o,e,n,s=0,l=1){const u=Array.from(o).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=o.size,h=(c-1)*s;return typeof n=="function"?n(u,c):l===1?u*s:h-u*s}function sf(o,e,n={}){var y;const s=Ro(o,e,n.type==="exit"?(y=o.presenceContext)==null?void 0:y.custom:void 0);let{transition:l=o.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(l=n.transitionOverride);const u=s?()=>Promise.all(XT(o,s,n)):()=>Promise.resolve(),c=o.variantChildren&&o.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:S,staggerDirection:E}=l;return XR(o,e,p,v,S,E,n)}:()=>Promise.resolve(),{when:h}=l;if(h){const[p,v]=h==="beforeChildren"?[u,c]:[c,u];return p().then(()=>v())}else return Promise.all([u(),c(n.delay)])}function XR(o,e,n=0,s=0,l=0,u=1,c){const h=[];for(const y of o.variantChildren)y.notify("AnimationStart",e),h.push(sf(y,e,{...c,delay:n+(typeof s=="function"?0:s)+ZT(o.variantChildren,y,s,l,u)}).then(()=>y.notify("AnimationComplete",e)));return Promise.all(h)}function ZR(o,e,n={}){o.notify("AnimationStart",e);let s;if(Array.isArray(e)){const l=e.map(u=>sf(o,u,n));s=Promise.all(l)}else if(typeof e=="string")s=sf(o,e,n);else{const l=typeof e=="function"?Ro(o,e,n.custom):e;s=Promise.all(XT(o,l,n))}return s.then(()=>{o.notify("AnimationComplete",e)})}function $T(o,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==o.length)return!1;for(let s=0;s<n;s++)if(e[s]!==o[s])return!1;return!0}const $R=Of.length;function JT(o){if(!o)return;if(!o.isControllingVariants){const n=o.parent?JT(o.parent)||{}:{};return o.props.initial!==void 0&&(n.initial=o.props.initial),n}const e={};for(let n=0;n<$R;n++){const s=Of[n],l=o.props[s];($a(l)||l===!1)&&(e[s]=l)}return e}const JR=[...kf].reverse(),WR=kf.length;function jR(o){return e=>Promise.all(e.map(({animation:n,options:s})=>ZR(o,n,s)))}function tw(o){let e=jR(o),n=Cy(),s=!0;const l=y=>(p,v)=>{var E;const S=Ro(o,v,y==="exit"?(E=o.presenceContext)==null?void 0:E.custom:void 0);if(S){const{transition:C,transitionEnd:A,...w}=S;p={...p,...w,...A}}return p};function u(y){e=y(o)}function c(y){const{props:p}=o,v=JT(o.parent)||{},S=[],E=new Set;let C={},A=1/0;for(let z=0;z<WR;z++){const k=JR[z],F=n[k],N=p[k]!==void 0?p[k]:v[k],K=$a(N),D=k===y?F.isActive:null;D===!1&&(A=z);let X=N===v[k]&&N!==p[k]&&K;if(X&&s&&o.manuallyAnimateOnMount&&(X=!1),F.protectedKeys={...C},!F.isActive&&D===null||!N&&!F.prevProp||$l(N)||typeof N=="boolean")continue;const Z=ew(F.prevProp,N);let H=Z||k===y&&F.isActive&&!X&&K||z>A&&K,ot=!1;const lt=Array.isArray(N)?N:[N];let yt=lt.reduce(l(k),{});D===!1&&(yt={});const{prevResolvedValues:Tt={}}=F,dt={...Tt,...yt},$=G=>{H=!0,E.has(G)&&(ot=!0,E.delete(G)),F.needsAnimating[G]=!0;const J=o.getValue(G);J&&(J.liveStyle=!1)};for(const G in dt){const J=yt[G],rt=Tt[G];if(C.hasOwnProperty(G))continue;let x=!1;of(J)&&of(rt)?x=!$T(J,rt):x=J!==rt,x?J!=null?$(G):E.add(G):J!==void 0&&E.has(G)?$(G):F.protectedKeys[G]=!0}F.prevProp=N,F.prevResolvedValues=yt,F.isActive&&(C={...C,...yt}),s&&o.blockInitialAnimation&&(H=!1);const tt=X&&Z;H&&(!tt||ot)&&S.push(...lt.map(G=>{const J={type:k};if(typeof G=="string"&&s&&!tt&&o.manuallyAnimateOnMount&&o.parent){const{parent:rt}=o,x=Ro(rt,G);if(rt.enteringChildren&&x){const{delayChildren:Q}=x.transition||{};J.delay=ZT(rt.enteringChildren,o,Q)}}return{animation:G,options:J}}))}if(E.size){const z={};if(typeof p.initial!="boolean"){const k=Ro(o,Array.isArray(p.initial)?p.initial[0]:p.initial);k&&k.transition&&(z.transition=k.transition)}E.forEach(k=>{const F=o.getBaseTarget(k),N=o.getValue(k);N&&(N.liveStyle=!0),z[k]=F??null}),S.push({animation:z})}let w=!!S.length;return s&&(p.initial===!1||p.initial===p.animate)&&!o.manuallyAnimateOnMount&&(w=!1),s=!1,w?e(S):Promise.resolve()}function h(y,p){var S;if(n[y].isActive===p)return Promise.resolve();(S=o.variantChildren)==null||S.forEach(E=>{var C;return(C=E.animationState)==null?void 0:C.setActive(y,p)}),n[y].isActive=p;const v=c(y);for(const E in n)n[E].protectedKeys={};return v}return{animateChanges:c,setActive:h,setAnimateFunction:u,getState:()=>n,reset:()=>{n=Cy(),s=!0}}}function ew(o,e){return typeof e=="string"?e!==o:Array.isArray(e)?!$T(e,o):!1}function xi(o=!1){return{isActive:o,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cy(){return{animate:xi(!0),whileInView:xi(),whileHover:xi(),whileTap:xi(),whileDrag:xi(),whileFocus:xi(),exit:xi()}}class li{constructor(e){this.isMounted=!1,this.node=e}update(){}}class nw extends li{constructor(e){super(e),e.animationState||(e.animationState=tw(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();$l(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let iw=0;class ow extends li{constructor(){super(...arguments),this.id=iw++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const l=this.node.animationState.setActive("exit",!e);n&&!e&&l.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const aw={animation:{Feature:nw},exit:{Feature:ow}};function Wa(o,e,n,s={passive:!0}){return o.addEventListener(e,n,s),()=>o.removeEventListener(e,n)}function is(o){return{point:{x:o.pageX,y:o.pageY}}}const sw=o=>e=>Uf(e)&&o(e,is(e));function qa(o,e,n,s){return Wa(o,e,sw(n),s)}const WT=1e-4,lw=1-WT,rw=1+WT,jT=.01,uw=0-jT,cw=0+jT;function ve(o){return o.max-o.min}function fw(o,e,n){return Math.abs(o-e)<=n}function Ay(o,e,n,s=.5){o.origin=s,o.originPoint=Ht(e.min,e.max,o.origin),o.scale=ve(n)/ve(e),o.translate=Ht(n.min,n.max,o.origin)-o.originPoint,(o.scale>=lw&&o.scale<=rw||isNaN(o.scale))&&(o.scale=1),(o.translate>=uw&&o.translate<=cw||isNaN(o.translate))&&(o.translate=0)}function Ha(o,e,n,s){Ay(o.x,e.x,n.x,s?s.originX:void 0),Ay(o.y,e.y,n.y,s?s.originY:void 0)}function My(o,e,n){o.min=n.min+e.min,o.max=o.min+ve(e)}function dw(o,e,n){My(o.x,e.x,n.x),My(o.y,e.y,n.y)}function xy(o,e,n){o.min=e.min-n.min,o.max=o.min+ve(e)}function Fa(o,e,n){xy(o.x,e.x,n.x),xy(o.y,e.y,n.y)}function Qe(o){return[o("x"),o("y")]}const t0=({current:o})=>o?o.ownerDocument.defaultView:null,_y=(o,e)=>Math.abs(o-e);function hw(o,e){const n=_y(o.x,e.x),s=_y(o.y,e.y);return Math.sqrt(n**2+s**2)}class e0{constructor(e,n,{transformPagePoint:s,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Ac(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,A=hw(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!A)return;const{point:w}=E,{timestamp:z}=ue;this.history.push({...w,timestamp:z});const{onStart:k,onMove:F}=this.handlers;C||(k&&k(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,E)},this.handlePointerMove=(E,C)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Cc(C,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(E,C)=>{this.end();const{onEnd:A,onSessionEnd:w,resumeAnimation:z}=this.handlers;if(this.dragSnapToOrigin&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Ac(E.type==="pointercancel"?this.lastMoveEventInfo:Cc(C,this.transformPagePoint),this.history);this.startEvent&&A&&A(E,k),w&&w(E,k)},!Uf(e))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=l||window;const h=is(e),y=Cc(h,this.transformPagePoint),{point:p}=y,{timestamp:v}=ue;this.history=[{...p,timestamp:v}];const{onSessionStart:S}=n;S&&S(e,Ac(y,this.history)),this.removeListeners=ts(qa(this.contextWindow,"pointermove",this.handlePointerMove),qa(this.contextWindow,"pointerup",this.handlePointerUp),qa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ni(this.updatePoint)}}function Cc(o,e){return e?{point:e(o.point)}:o}function Ry(o,e){return{x:o.x-e.x,y:o.y-e.y}}function Ac({point:o},e){return{point:o,delta:Ry(o,n0(e)),offset:Ry(o,pw(e)),velocity:mw(e,.1)}}function pw(o){return o[0]}function n0(o){return o[o.length-1]}function mw(o,e){if(o.length<2)return{x:0,y:0};let n=o.length-1,s=null;const l=n0(o);for(;n>=0&&(s=o[n],!(l.timestamp-s.timestamp>rn(e)));)n--;if(!s)return{x:0,y:0};const u=un(l.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(l.x-s.x)/u,y:(l.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function gw(o,{min:e,max:n},s){return e!==void 0&&o<e?o=s?Ht(e,o,s.min):Math.max(o,e):n!==void 0&&o>n&&(o=s?Ht(n,o,s.max):Math.min(o,n)),o}function wy(o,e,n){return{min:e!==void 0?o.min+e:void 0,max:n!==void 0?o.max+n-(o.max-o.min):void 0}}function yw(o,{top:e,left:n,bottom:s,right:l}){return{x:wy(o.x,n,l),y:wy(o.y,e,s)}}function Dy(o,e){let n=e.min-o.min,s=e.max-o.max;return e.max-e.min<o.max-o.min&&([n,s]=[s,n]),{min:n,max:s}}function vw(o,e){return{x:Dy(o.x,e.x),y:Dy(o.y,e.y)}}function Tw(o,e){let n=.5;const s=ve(o),l=ve(e);return l>s?n=Qa(e.min,e.max-s,o.min):s>l&&(n=Qa(o.min,o.max-l,e.min)),Rn(0,1,n)}function Sw(o,e){const n={};return e.min!==void 0&&(n.min=e.min-o.min),e.max!==void 0&&(n.max=e.max-o.min),n}const lf=.35;function Ew(o=lf){return o===!1?o=0:o===!0&&(o=lf),{x:Ny(o,"left","right"),y:Ny(o,"top","bottom")}}function Ny(o,e,n){return{min:Ly(o,e),max:Ly(o,n)}}function Ly(o,e){return typeof o=="number"?o:o[e]||0}const bw=new WeakMap;class Cw{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$t(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=S=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(is(S).point)},c=(S,E)=>{const{drag:C,dragPropagation:A,onDragStart:w}=this.getProps();if(C&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=D_(C),!this.openDragLock))return;this.latestPointerEvent=S,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qe(k=>{let F=this.getAxisMotionValue(k).get()||0;if(cn.test(F)){const{projection:N}=this.visualElement;if(N&&N.layout){const K=N.layout.layoutBox[k];K&&(F=ve(K)*(parseFloat(F)/100))}}this.originPoint[k]=F}),w&&Gt.postRender(()=>w(S,E)),af(this.visualElement,"transform");const{animationState:z}=this.visualElement;z&&z.setActive("whileDrag",!0)},h=(S,E)=>{this.latestPointerEvent=S,this.latestPanInfo=E;const{dragPropagation:C,dragDirectionLock:A,onDirectionLock:w,onDrag:z}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:k}=E;if(A&&this.currentDirection===null){this.currentDirection=Aw(k),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",E.point,k),this.updateAxis("y",E.point,k),this.visualElement.render(),z&&z(S,E)},y=(S,E)=>{this.latestPointerEvent=S,this.latestPanInfo=E,this.stop(S,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Qe(S=>{var E;return this.getAnimationState(S)==="paused"&&((E=this.getAxisMotionValue(S).animation)==null?void 0:E.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new e0(e,{onSessionStart:u,onStart:c,onMove:h,onSessionEnd:y,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:t0(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,l=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!s)return;const{velocity:c}=l;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&Gt.postRender(()=>h(s,l))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:l}=this.getProps();if(!s||!Ml(e,l,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=gw(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,l=this.constraints;e&&Ao(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=yw(s.layoutBox,e):this.constraints=!1,this.elastic=Ew(n),l!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Qe(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=Sw(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ao(e))return!1;const s=e.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=MR(s,l.root,this.visualElement.getTransformPagePoint());let c=vw(l.layout.layoutBox,u);if(n){const h=n(bR(c));this.hasMutatedConstraints=!!h,h&&(c=kT(h))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:l,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),y=this.constraints||{},p=Qe(v=>{if(!Ml(v,n,this.currentDirection))return;let S=y&&y[v]||{};c&&(S={min:0,max:0});const E=l?200:1e6,C=l?40:1e7,A={type:"inertia",velocity:s?e[v]:0,bounceStiffness:E,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...S};return this.startAxisValueAnimation(v,A)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return af(this.visualElement,e),s.start(Qf(e,s,0,n,this.visualElement,!1))}stopAnimation(){Qe(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qe(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),l=s[n];return l||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Qe(n=>{const{drag:s}=this.getProps();if(!Ml(n,s,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(n);if(l&&l.layout){const{min:c,max:h}=l.layout.layoutBox[n];u.set(e[n]-Ht(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ao(n)||!s||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Qe(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const y=h.get();l[c]=Tw({min:y,max:y},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Qe(c=>{if(!Ml(c,e,null))return;const h=this.getAxisMotionValue(c),{min:y,max:p}=this.constraints[c];h.set(Ht(y,p,l[c]))})}addListeners(){if(!this.visualElement.current)return;bw.set(this.visualElement,this);const e=this.visualElement.current,n=qa(e,"pointerdown",y=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(y)}),s=()=>{const{dragConstraints:y}=this.getProps();Ao(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",s);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),Gt.read(s);const c=Wa(window,"resize",()=>this.scalePositionWithinConstraints()),h=l.addEventListener("didUpdate",({delta:y,hasLayoutChanged:p})=>{this.isDragging&&p&&(Qe(v=>{const S=this.getAxisMotionValue(v);S&&(this.originPoint[v]+=y[v].translate,S.set(S.get()+y[v].translate))}),this.visualElement.render())});return()=>{c(),n(),u(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:c=lf,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:l,dragConstraints:u,dragElastic:c,dragMomentum:h}}}function Ml(o,e,n){return(e===!0||e===o)&&(n===null||n===o)}function Aw(o,e=10){let n=null;return Math.abs(o.y)>e?n="y":Math.abs(o.x)>e&&(n="x"),n}class Mw extends li{constructor(e){super(e),this.removeGroupControls=Xe,this.removeListeners=Xe,this.controls=new Cw(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xe}unmount(){this.removeGroupControls(),this.removeListeners()}}const Py=o=>(e,n)=>{o&&Gt.postRender(()=>o(e,n))};class xw extends li{constructor(){super(...arguments),this.removePointerDownListener=Xe}onPointerDown(e){this.session=new e0(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:t0(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:l}=this.node.getProps();return{onSessionStart:Py(e),onStart:Py(n),onMove:s,onEnd:(u,c)=>{delete this.session,l&&Gt.postRender(()=>l(u,c))}}}mount(){this.removePointerDownListener=qa(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ll={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Vy(o,e){return e.max===e.min?0:o/(e.max-e.min)*100}const Va={correct:(o,e)=>{if(!e.target)return o;if(typeof o=="string")if(pt.test(o))o=parseFloat(o);else return o;const n=Vy(o,e.target.x),s=Vy(o,e.target.y);return`${n}% ${s}%`}},_w={correct:(o,{treeScale:e,projectionDelta:n})=>{const s=o,l=ii.parse(o);if(l.length>5)return s;const u=ii.createTransformer(o),c=typeof l[0]!="number"?1:0,h=n.x.scale*e.x,y=n.y.scale*e.y;l[0+c]/=h,l[1+c]/=y;const p=Ht(h,y,.5);return typeof l[2+c]=="number"&&(l[2+c]/=p),typeof l[3+c]=="number"&&(l[3+c]/=p),u(l)}};let Mc=!1;class Rw extends et.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:l}=this.props,{projection:u}=e;$_(ww),u&&(n.group&&n.group.add(u),s&&s.register&&l&&s.register(u),Mc&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Ll.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:l,isPresent:u}=this.props,{projection:c}=s;return c&&(c.isPresent=u,Mc=!0,l||e.layoutDependency!==n||n===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||Gt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),If.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:l}=e;Mc=!0,l&&(l.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(l),s&&s.deregister&&s.deregister(l))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function i0(o){const[e,n]=MT(),s=et.useContext(pf);return zt.jsx(Rw,{...o,layoutGroup:s,switchLayoutGroup:et.useContext(UT),isPresent:e,safeToRemove:n})}const ww={borderRadius:{...Va,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Va,borderTopRightRadius:Va,borderBottomLeftRadius:Va,borderBottomRightRadius:Va,boxShadow:_w};function Dw(o,e,n){const s=me(o)?o:wo(o);return s.start(Qf("",s,e,n)),s.animation}const Nw=(o,e)=>o.depth-e.depth;class Lw{constructor(){this.children=[],this.isDirty=!1}add(e){yf(this.children,e),this.isDirty=!0}remove(e){vf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Nw),this.isDirty=!1,this.children.forEach(e)}}function Pw(o,e){const n=xe.now(),s=({timestamp:l})=>{const u=l-n;u>=e&&(ni(s),o(u-e))};return Gt.setup(s,!0),()=>ni(s)}const o0=["TopLeft","TopRight","BottomLeft","BottomRight"],Vw=o0.length,By=o=>typeof o=="string"?parseFloat(o):o,Iy=o=>typeof o=="number"||pt.test(o);function Bw(o,e,n,s,l,u){l?(o.opacity=Ht(0,n.opacity??1,Iw(s)),o.opacityExit=Ht(e.opacity??1,0,Uw(s))):u&&(o.opacity=Ht(e.opacity??1,n.opacity??1,s));for(let c=0;c<Vw;c++){const h=`border${o0[c]}Radius`;let y=Uy(e,h),p=Uy(n,h);if(y===void 0&&p===void 0)continue;y||(y=0),p||(p=0),y===0||p===0||Iy(y)===Iy(p)?(o[h]=Math.max(Ht(By(y),By(p),s),0),(cn.test(p)||cn.test(y))&&(o[h]+="%")):o[h]=p}(e.rotate||n.rotate)&&(o.rotate=Ht(e.rotate||0,n.rotate||0,s))}function Uy(o,e){return o[e]!==void 0?o[e]:o.borderRadius}const Iw=a0(0,.5,Yv),Uw=a0(.5,.95,Xe);function a0(o,e,n){return s=>s<o?0:s>e?1:n(Qa(o,e,s))}function zy(o,e){o.min=e.min,o.max=e.max}function Ke(o,e){zy(o.x,e.x),zy(o.y,e.y)}function ky(o,e){o.translate=e.translate,o.scale=e.scale,o.originPoint=e.originPoint,o.origin=e.origin}function Oy(o,e,n,s,l){return o-=e,o=Ol(o,1/n,s),l!==void 0&&(o=Ol(o,1/l,s)),o}function zw(o,e=0,n=1,s=.5,l,u=o,c=o){if(cn.test(e)&&(e=parseFloat(e),e=Ht(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Ht(u.min,u.max,s);o===u&&(h-=e),o.min=Oy(o.min,e,n,h,l),o.max=Oy(o.max,e,n,h,l)}function Gy(o,e,[n,s,l],u,c){zw(o,e[n],e[s],e[l],e.scale,u,c)}const kw=["x","scaleX","originX"],Ow=["y","scaleY","originY"];function qy(o,e,n,s){Gy(o.x,e,kw,n?n.x:void 0,s?s.x:void 0),Gy(o.y,e,Ow,n?n.y:void 0,s?s.y:void 0)}function Hy(o){return o.translate===0&&o.scale===1}function s0(o){return Hy(o.x)&&Hy(o.y)}function Fy(o,e){return o.min===e.min&&o.max===e.max}function Gw(o,e){return Fy(o.x,e.x)&&Fy(o.y,e.y)}function Yy(o,e){return Math.round(o.min)===Math.round(e.min)&&Math.round(o.max)===Math.round(e.max)}function l0(o,e){return Yy(o.x,e.x)&&Yy(o.y,e.y)}function Ky(o){return ve(o.x)/ve(o.y)}function Qy(o,e){return o.translate===e.translate&&o.scale===e.scale&&o.originPoint===e.originPoint}class qw{constructor(){this.members=[]}add(e){yf(this.members,e),e.scheduleRender()}remove(e){if(vf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(l=>e===l);if(n===0)return!1;let s;for(let l=n;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:l}=e.options;l===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Hw(o,e,n){let s="";const l=o.x.translate/e.x,u=o.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((l||u||c)&&(s=`translate3d(${l}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:S,rotateY:E,skewX:C,skewY:A}=n;p&&(s=`perspective(${p}px) ${s}`),v&&(s+=`rotate(${v}deg) `),S&&(s+=`rotateX(${S}deg) `),E&&(s+=`rotateY(${E}deg) `),C&&(s+=`skewX(${C}deg) `),A&&(s+=`skewY(${A}deg) `)}const h=o.x.scale*e.x,y=o.y.scale*e.y;return(h!==1||y!==1)&&(s+=`scale(${h}, ${y})`),s||"none"}const xc=["","X","Y","Z"],Fw=1e3;let Yw=0;function _c(o,e,n,s){const{latestValues:l}=e;l[o]&&(n[o]=l[o],e.setStaticValue(o,0),s&&(s[o]=0))}function r0(o){if(o.hasCheckedOptimisedAppear=!0,o.root===o)return;const{visualElement:e}=o.options;if(!e)return;const n=QT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:l,layoutId:u}=o.options;window.MotionCancelOptimisedAnimation(n,"transform",Gt,!(l||u))}const{parent:s}=o;s&&!s.hasCheckedOptimisedAppear&&r0(s)}function u0({attachResizeListener:o,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:l}){return class{constructor(c={},h=e==null?void 0:e()){this.id=Yw++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Xw),this.nodes.forEach(Ww),this.nodes.forEach(jw),this.nodes.forEach(Zw)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new Lw)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ef),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const y=this.eventHandlers.get(c);y&&y.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=AT(c)&&!I_(c),this.instance=c;const{layoutId:h,layout:y,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||h)&&(this.isLayoutDirty=!0),o){let v,S=0;const E=()=>this.root.updateBlockedByResize=!1;Gt.read(()=>{S=window.innerWidth}),o(c,()=>{const C=window.innerWidth;C!==S&&(S=C,this.root.updateBlockedByResize=!0,v&&v(),v=Pw(E,250),Ll.hasAnimatedSinceResize&&(Ll.hasAnimatedSinceResize=!1,this.nodes.forEach($y)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||y)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:S,hasRelativeLayoutChanged:E,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||p.getDefaultTransition()||oD,{onLayoutAnimationStart:w,onLayoutAnimationComplete:z}=p.getProps(),k=!this.targetLayout||!l0(this.targetLayout,C),F=!S&&E;if(this.options.layoutRoot||this.resumeFrom||F||S&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...Vf(A,"layout"),onPlay:w,onComplete:z};(p.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(v,F)}else S||$y(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ni(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tD),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&r0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const S=this.path[v];S.shouldResetTransform=!0,S.updateScroll("snapshot"),S.options.layoutRoot&&S.willUpdate(!1)}const{layoutId:h,layout:y}=this.options;if(h===void 0&&!y)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xy);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Zy);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Jw),this.nodes.forEach(Kw),this.nodes.forEach(Qw)):this.nodes.forEach(Zy),this.clearAllSnapshots();const h=xe.now();ue.delta=Rn(0,1e3/60,h-ue.timestamp),ue.timestamp=h,ue.isProcessing=!0,mc.update.process(ue),mc.preRender.process(ue),mc.render.process(ue),ue.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,If.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($w),this.sharedNodes.forEach(eD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ve(this.snapshot.measuredBox.x)&&!ve(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const y=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:y,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!l)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!s0(this.projectionDelta),y=this.getTransformTemplate(),p=y?y(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(h||Ri(this.latestValues)||v)&&(l(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let y=this.removeElementScroll(h);return c&&(y=this.removeTransform(y)),aD(y),{animationId:this.root.animationId,measuredBox:h,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return $t();const h=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(sD))){const{scroll:v}=this.root;v&&(Mo(h.x,v.offset.x),Mo(h.y,v.offset.y))}return h}removeElementScroll(c){var y;const h=$t();if(Ke(h,c),(y=this.scroll)!=null&&y.wasRoot)return h;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:S,options:E}=v;v!==this.root&&S&&E.layoutScroll&&(S.wasRoot&&Ke(h,c),Mo(h.x,S.offset.x),Mo(h.y,S.offset.y))}return h}applyTransform(c,h=!1){const y=$t();Ke(y,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&xo(y,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ri(v.latestValues)&&xo(y,v.latestValues)}return Ri(this.latestValues)&&xo(y,this.latestValues),y}removeTransform(c){const h=$t();Ke(h,c);for(let y=0;y<this.path.length;y++){const p=this.path[y];if(!p.instance||!Ri(p.latestValues))continue;tf(p.latestValues)&&p.updateSnapshot();const v=$t(),S=p.measurePageBox();Ke(v,S),qy(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Ri(this.latestValues)&&qy(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ue.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var E;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==h;if(!(c||y&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:S}=this.options;if(!(!this.layout||!(v||S))){if(this.resolvedRelativeTargetAt=ue.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),Fa(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),Ke(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$t(),this.targetWithTransforms=$t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dw(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ke(this.target,this.layout.layoutBox),GT(this.target,this.targetDelta)):Ke(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),Fa(this.relativeTargetOrigin,this.target,C.target),Ke(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||tf(this.parent.latestValues)||OT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let y=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(y=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===ue.timestamp&&(y=!1),y)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;Ke(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,E=this.treeScale.y;AR(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=$t());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ky(this.prevProjectionDelta.x,this.projectionDelta.x),ky(this.prevProjectionDelta.y,this.projectionDelta.y)),Ha(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==E||!Qy(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const y=this.getStack();y&&y.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_o(),this.projectionDelta=_o(),this.projectionDeltaWithTransform=_o()}setAnimationOrigin(c,h=!1){const y=this.snapshot,p=y?y.latestValues:{},v={...this.latestValues},S=_o();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=$t(),C=y?y.source:void 0,A=this.layout?this.layout.source:void 0,w=C!==A,z=this.getStack(),k=!z||z.members.length<=1,F=!!(w&&!k&&this.options.crossfade===!0&&!this.path.some(iD));this.animationProgress=0;let N;this.mixTargetDelta=K=>{const D=K/1e3;Jy(S.x,c.x,D),Jy(S.y,c.y,D),this.setTargetDelta(S),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fa(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nD(this.relativeTarget,this.relativeTargetOrigin,E,D),N&&Gw(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=$t()),Ke(N,this.relativeTarget)),w&&(this.animationValues=v,Bw(v,p,this.latestValues,D,F,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,y,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(p=(y=this.resumingFrom)==null?void 0:y.currentAnimation)==null||p.stop(),this.pendingAnimation&&(ni(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{Ll.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=wo(0)),this.currentAnimation=Dw(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Fw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:y,layout:p,latestValues:v}=c;if(!(!h||!y||!p)){if(this!==c&&this.layout&&p&&c0(this.options.animationType,this.layout.layoutBox,p.layoutBox)){y=this.target||$t();const S=ve(this.layout.layoutBox.x);y.x.min=c.target.x.min,y.x.max=y.x.min+S;const E=ve(this.layout.layoutBox.y);y.y.min=c.target.y.min,y.y.max=y.y.min+E}Ke(h,y),xo(h,v),Ha(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new qw),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:y}={}){const p=this.getStack();p&&p.promote(this,y),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:y}=c;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(h=!0),!h)return;const p={};y.z&&_c("z",c,p,this.animationValues);for(let v=0;v<xc.length;v++)_c(`rotate${xc[v]}`,c,p,this.animationValues),_c(`skew${xc[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Nl(h==null?void 0:h.pointerEvents)||"",c.transform=y?y(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Nl(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Ri(this.latestValues)&&(c.transform=y?y({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let S=Hw(this.projectionDeltaWithTransform,this.treeScale,v);y&&(S=y(v,S)),c.transform=S;const{x:E,y:C}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${C.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const A in Ja){if(v[A]===void 0)continue;const{correct:w,applyTo:z,isCSSVariable:k}=Ja[A],F=S==="none"?v[A]:w(v[A],p);if(z){const N=z.length;for(let K=0;K<N;K++)c[z[K]]=F}else k?this.options.visualElement.renderState.vars[A]=F:c[A]=F}this.options.layoutId&&(c.pointerEvents=p===this?Nl(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(Xy),this.root.sharedNodes.clear()}}}function Kw(o){o.updateLayout()}function Qw(o){var n;const e=((n=o.resumeFrom)==null?void 0:n.snapshot)||o.snapshot;if(o.isLead()&&o.layout&&e&&o.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:l}=o.layout,{animationType:u}=o.options,c=e.source!==o.layout.source;u==="size"?Qe(S=>{const E=c?e.measuredBox[S]:e.layoutBox[S],C=ve(E);E.min=s[S].min,E.max=E.min+C}):c0(u,e.layoutBox,s)&&Qe(S=>{const E=c?e.measuredBox[S]:e.layoutBox[S],C=ve(s[S]);E.max=E.min+C,o.relativeTarget&&!o.currentAnimation&&(o.isProjectionDirty=!0,o.relativeTarget[S].max=o.relativeTarget[S].min+C)});const h=_o();Ha(h,s,e.layoutBox);const y=_o();c?Ha(y,o.applyTransform(l,!0),e.measuredBox):Ha(y,s,e.layoutBox);const p=!s0(h);let v=!1;if(!o.resumeFrom){const S=o.getClosestProjectingParent();if(S&&!S.resumeFrom){const{snapshot:E,layout:C}=S;if(E&&C){const A=$t();Fa(A,e.layoutBox,E.layoutBox);const w=$t();Fa(w,s,C.layoutBox),l0(A,w)||(v=!0),S.options.layoutRoot&&(o.relativeTarget=w,o.relativeTargetOrigin=A,o.relativeParent=S)}}}o.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:y,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(o.isLead()){const{onExitComplete:s}=o.options;s&&s()}o.options.transition=void 0}function Xw(o){o.parent&&(o.isProjecting()||(o.isProjectionDirty=o.parent.isProjectionDirty),o.isSharedProjectionDirty||(o.isSharedProjectionDirty=!!(o.isProjectionDirty||o.parent.isProjectionDirty||o.parent.isSharedProjectionDirty)),o.isTransformDirty||(o.isTransformDirty=o.parent.isTransformDirty))}function Zw(o){o.isProjectionDirty=o.isSharedProjectionDirty=o.isTransformDirty=!1}function $w(o){o.clearSnapshot()}function Xy(o){o.clearMeasurements()}function Zy(o){o.isLayoutDirty=!1}function Jw(o){const{visualElement:e}=o.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),o.resetTransform()}function $y(o){o.finishAnimation(),o.targetDelta=o.relativeTarget=o.target=void 0,o.isProjectionDirty=!0}function Ww(o){o.resolveTargetDelta()}function jw(o){o.calcProjection()}function tD(o){o.resetSkewAndRotation()}function eD(o){o.removeLeadSnapshot()}function Jy(o,e,n){o.translate=Ht(e.translate,0,n),o.scale=Ht(e.scale,1,n),o.origin=e.origin,o.originPoint=e.originPoint}function Wy(o,e,n,s){o.min=Ht(e.min,n.min,s),o.max=Ht(e.max,n.max,s)}function nD(o,e,n,s){Wy(o.x,e.x,n.x,s),Wy(o.y,e.y,n.y,s)}function iD(o){return o.animationValues&&o.animationValues.opacityExit!==void 0}const oD={duration:.45,ease:[.4,0,.1,1]},jy=o=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(o),tv=jy("applewebkit/")&&!jy("chrome/")?Math.round:Xe;function ev(o){o.min=tv(o.min),o.max=tv(o.max)}function aD(o){ev(o.x),ev(o.y)}function c0(o,e,n){return o==="position"||o==="preserve-aspect"&&!fw(Ky(e),Ky(n),.2)}function sD(o){var e;return o!==o.root&&((e=o.scroll)==null?void 0:e.wasRoot)}const lD=u0({attachResizeListener:(o,e)=>Wa(o,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rc={current:void 0},f0=u0({measureScroll:o=>({x:o.scrollLeft,y:o.scrollTop}),defaultParent:()=>{if(!Rc.current){const o=new lD({});o.mount(window),o.setOptions({layoutScroll:!0}),Rc.current=o}return Rc.current},resetTransform:(o,e)=>{o.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:o=>window.getComputedStyle(o).position==="fixed"}),rD={pan:{Feature:xw},drag:{Feature:Mw,ProjectionNode:f0,MeasureLayout:i0}};function nv(o,e,n){const{props:s}=o;o.animationState&&s.whileHover&&o.animationState.setActive("whileHover",n==="Start");const l="onHover"+n,u=s[l];u&&Gt.postRender(()=>u(e,is(e)))}class uD extends li{mount(){const{current:e}=this.node;e&&(this.unmount=N_(e,(n,s)=>(nv(this.node,s,"Start"),l=>nv(this.node,l,"End"))))}unmount(){}}class cD extends li{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ts(Wa(this.node.current,"focus",()=>this.onFocus()),Wa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iv(o,e,n){const{props:s}=o;if(o.current instanceof HTMLButtonElement&&o.current.disabled)return;o.animationState&&s.whileTap&&o.animationState.setActive("whileTap",n==="Start");const l="onTap"+(n==="End"?"":n),u=s[l];u&&Gt.postRender(()=>u(e,is(e)))}class fD extends li{mount(){const{current:e}=this.node;e&&(this.unmount=B_(e,(n,s)=>(iv(this.node,s,"Start"),(l,{success:u})=>iv(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rf=new WeakMap,wc=new WeakMap,dD=o=>{const e=rf.get(o.target);e&&e(o)},hD=o=>{o.forEach(dD)};function pD({root:o,...e}){const n=o||document;wc.has(n)||wc.set(n,{});const s=wc.get(n),l=JSON.stringify(e);return s[l]||(s[l]=new IntersectionObserver(hD,{root:o,...e})),s[l]}function mD(o,e,n){const s=pD(e);return rf.set(o,n),s.observe(o),()=>{rf.delete(o),s.unobserve(o)}}const gD={some:0,all:1};class yD extends li{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:l="some",once:u}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof l=="number"?l:gD[l]},h=y=>{const{isIntersecting:p}=y;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:S}=this.node.getProps(),E=p?v:S;E&&E(y)};return mD(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(vD(e,n))&&this.startObserver()}unmount(){}}function vD({viewport:o={}},{viewport:e={}}={}){return n=>o[n]!==e[n]}const TD={inView:{Feature:yD},tap:{Feature:fD},focus:{Feature:cD},hover:{Feature:uD}},SD={layout:{ProjectionNode:f0,MeasureLayout:i0}},ED={...aw,...TD,...rD,...SD},bD=ER(ED,VR);function ov(o,e){return e.split(".").reduce((n,s)=>n?n[s]:void 0,o)}function av(o,e,n){const s=e.split("."),l=s.pop();let u=o;for(const c of s)(typeof u[c]!="object"||u[c]===null)&&(u[c]={}),u=u[c];u[l]=n}function uf(o,e=[],n=.7){if(!e||e.length===0)return{ask:!0,reason:"missing"};const s=[...e].sort((l,u)=>u.confidence-l.confidence)[0];return s.confidence>=n?{value:s.value,ask:!1}:{value:s.value,ask:!0,reason:"low_confidence"}}function Mt(o){var s;if(typeof window<"u"&&window.t)try{const l=window.t(o);if(l&&l!==o)return console.log(`Chatbot: Using global translation for "${o}":`,l),l}catch{console.log("Chatbot: Global translation failed, using fallback")}const e={de:{"ai.chatbot.title":"Zufahrtsschutz-Assistent","ai.chatbot.welcome":"Willkommen zum Zufahrtsschutz-Assistenten. Ich stelle nur Fragen, die noch fehlen oder unsicher sind. Bereit?","ai.chatbot.assetQuestion":"Welche Schutzgüter möchten Sie absichern?","ai.chatbot.inputPlaceholder":"Antwort eingeben...","ai.chatbot.sendButton":"Senden","ai.chatbot.stakeholderQuestion":"Wer sind die relevanten Stakeholder (Behörden, Veranstalter, Betreiber)?","ai.chatbot.restRiskQuestion":"Welches akzeptable Restrisiko gilt?","ai.chatbot.operationalQuestion":"Betriebsanforderungen (mehrfach wählbar)","ai.chatbot.threatQuestion":"Welche Art fahrzeuggestützter Bedrohung ist zu erwarten?","ai.chatbot.vehicleTypesQuestion":"Welche Fahrzeugtypen sind relevant?","ai.chatbot.accessCorridorsQuestion":"Wo könnten Fahrzeuge eindringen? (Karte markieren oder beschreiben)","ai.chatbot.speedQuestion":"Maximale Zufahrtsgeschwindigkeit (km/h)","ai.chatbot.angleQuestion":"Wahrscheinlicher Anprallwinkel (°)","ai.chatbot.groundQuestion":"Untergrund/Fundamente am Standort","ai.chatbot.riskMatrixQuestion":"Risikobewertung: Eintrittswahrscheinlichkeit & Schadensausmaß","ai.chatbot.completionMessage":"Danke! Alle erforderlichen Angaben sind vorhanden. Möchten Sie den normkonformen PDF-Plan erzeugen?","ai.chatbot.infoPrefix":"Hinweis: ","ai.chatbot.assetQuestionInfo":"Grundlage für Schutzziel & Schutzklasse (DIN SPEC 91414-2 / ISO 22343-2)","ai.chatbot.restRiskQuestionInfo":"Steuert Schutzklasse/Sicherungsgrad (DIN SPEC 91414-2)","ai.chatbot.speedQuestionInfo":"Pflichtparameter für FSB-Performance (ISO 22343-2/-1)","ai.chatbot.angleQuestionInfo":"Pflichtparameter für FSB-Performance (ISO 22343-2/-1)","ai.chatbot.riskMatrixQuestionInfo":"Erzeugt Sicherungsgrad & Schutzklasse (DIN SPEC 91414-2)","ai.chatbot.assetOptions":"Menschenmenge,Gebäude,KRITIS-Prozess,Veranstaltungsfläche","ai.chatbot.assetPlaceholder":"z. B. Menschenmenge, Bühne","ai.chatbot.stakeholderOptions":"Behörden,Veranstalter,Betreiber","ai.chatbot.restRiskOptions":"niedrig,mittel,hoch","ai.chatbot.operationalOptions":"Feuerwehrzufahrt,Fluchtwege,Verkehrssicherheit,Betriebssicherheit","ai.chatbot.threatOptions":"intentional,unbeabsichtigt,beides","ai.chatbot.vehicleOptions":"PKW,Transporter,LKW,Bus","ai.chatbot.groundOptions":"Asphalt,Beton,Pflaster,Erde,Unbekannt","ai.chatbot.riskMatrixOptions":"EW:niedrig|SA:gering,EW:niedrig|SA:mittel,EW:mittel|SA:mittel,EW:hoch|SA:schwer","ai.chatbot.accessCorridorsPlaceholder":"Polyline/Polygon auswählen oder kurz beschreiben"},en:{"ai.chatbot.title":"Access Protection Assistant","ai.chatbot.welcome":"Welcome to the Access Protection Assistant. I only ask questions that are still missing or uncertain. Ready?","ai.chatbot.assetQuestion":"Which protective assets would you like to secure?","ai.chatbot.inputPlaceholder":"Enter answer...","ai.chatbot.sendButton":"Send","ai.chatbot.stakeholderQuestion":"Who are the relevant stakeholders (authorities, organizers, operators)?","ai.chatbot.restRiskQuestion":"What acceptable residual risk applies?","ai.chatbot.operationalQuestion":"Operational requirements (multiple choice)","ai.chatbot.threatQuestion":"What type of vehicle-based threat is expected?","ai.chatbot.vehicleTypesQuestion":"Which vehicle types are relevant?","ai.chatbot.accessCorridorsQuestion":"Where could vehicles penetrate? (Mark on map or describe)","ai.chatbot.speedQuestion":"Maximum access speed (km/h)","ai.chatbot.angleQuestion":"Probable impact angle (°)","ai.chatbot.groundQuestion":"Ground/foundations at the site","ai.chatbot.riskMatrixQuestion":"Risk assessment: probability of occurrence & extent of damage","ai.chatbot.completionMessage":"Thank you! All required information is available. Would you like to generate the standards-compliant PDF plan?","ai.chatbot.infoPrefix":"Note: ","ai.chatbot.assetQuestionInfo":"Basis for Protection Goal & Protection Class (DIN SPEC 91414-2 / ISO 22343-2)","ai.chatbot.restRiskQuestionInfo":"Controls Protection Class/Security Level (DIN SPEC 91414-2)","ai.chatbot.speedQuestionInfo":"Required parameter for FSB performance (ISO 22343-2/-1)","ai.chatbot.angleQuestionInfo":"Required parameter for FSB performance (ISO 22343-2/-1)","ai.chatbot.riskMatrixQuestionInfo":"Generates Security Level & Protection Class (DIN SPEC 91414-2)","ai.chatbot.assetOptions":"Crowd,Building,CRITIS Process,Event Area","ai.chatbot.assetPlaceholder":"e.g. crowd, stage","ai.chatbot.stakeholderOptions":"Authorities,Organizers,Operators","ai.chatbot.restRiskOptions":"low,medium,high","ai.chatbot.operationalOptions":"Fire Brigade Access,Escape Routes,Traffic Safety,Operational Safety","ai.chatbot.threatOptions":"intentional,unintentional,both","ai.chatbot.vehicleOptions":"Car,Van,Truck,Bus","ai.chatbot.groundOptions":"Asphalt,Concrete,Pavement,Earth,Unknown","ai.chatbot.riskMatrixOptions":"PO:low|SD:medium,PO:medium|SD:medium,PO:high|SD:severe","ai.chatbot.accessCorridorsPlaceholder":"Select polyline/polygon or describe briefly"}};let n="de";if(typeof window<"u")if(window.currentLanguage)n=window.currentLanguage,console.log("Chatbot: Language from window.currentLanguage:",n);else if(window.translations&&window.translations.currentLanguage)n=window.translations.currentLanguage,console.log("Chatbot: Language from window.translations.currentLanguage:",n);else{const l=document.querySelector('.lang-btn[data-lang="de"].active'),u=document.querySelector('.lang-btn[data-lang="en"].active');if(console.log("Chatbot: DOM flag detection - German flag:",l,"English flag:",u),u)n="en",console.log("Chatbot: Language from DOM flag detection (EN):",n);else if(l)n="de",console.log("Chatbot: Language from DOM flag detection (DE):",n);else{console.log("Chatbot: Language detection failed, using default (DE)");const c=document.querySelectorAll(".lang-btn");console.log("Chatbot: All lang-btn elements found:",c),c.forEach((h,y)=>{console.log(`Chatbot: lang-btn ${y}:`,{classList:h.classList.toString(),dataLang:h.dataset.lang,isActive:h.classList.contains("active")})})}}return console.log(`Chatbot translation for key "${o}": language="${n}", result="${((s=e[n])==null?void 0:s[o])||o}"`),e[n]&&e[n][o]?e[n][o]:o}function CD(){return[{id:"schutzgueter",label:Mt("ai.chatbot.assetQuestion"),field:"schutzgüter",type:"chips",options:Mt("ai.chatbot.assetOptions").split(","),placeholder:Mt("ai.chatbot.assetPlaceholder"),info:Mt("ai.chatbot.assetQuestionInfo")},{id:"stakeholder",label:Mt("ai.chatbot.stakeholderQuestion"),field:"stakeholder",type:"chips",options:Mt("ai.chatbot.stakeholderOptions").split(",")},{id:"restrisiko",label:Mt("ai.chatbot.restRiskQuestion"),field:"restrisiko.klasse",type:"select",options:Mt("ai.chatbot.restRiskOptions").split(","),info:Mt("ai.chatbot.restRiskQuestionInfo")},{id:"betrieb",label:Mt("ai.chatbot.operationalQuestion"),field:"betrieb",type:"multiselect",options:Mt("ai.chatbot.operationalOptions").split(",")},{id:"bedrohung",label:Mt("ai.chatbot.threatQuestion"),field:"risiko.bedrohung.art",type:"select",options:Mt("ai.chatbot.threatOptions").split(",")},{id:"fahrzeugtypen",label:Mt("ai.chatbot.vehicleTypesQuestion"),field:"risiko.bedrohung.fahrzeugtypen",type:"chips",options:Mt("ai.chatbot.vehicleOptions").split(",")},{id:"anfahrkorridore",label:Mt("ai.chatbot.accessCorridorsQuestion"),field:"risiko.site.anfahrkorridore",type:"geo",placeholder:Mt("ai.chatbot.accessCorridorsPlaceholder")},{id:"geschwindigkeit",label:Mt("ai.chatbot.speedQuestion"),field:"risiko.dynamik.v_kmh",type:"number",info:Mt("ai.chatbot.speedQuestionInfo"),resolver:o=>uf("risiko.dynamik.v_kmh",o,.7)},{id:"winkel",label:Mt("ai.chatbot.angleQuestion"),field:"risiko.dynamik.winkel_grad",type:"number",info:Mt("ai.chatbot.angleQuestionInfo"),resolver:o=>uf("risiko.dynamik.winkel_grad",o,.7)},{id:"untergrund",label:Mt("ai.chatbot.groundQuestion"),field:"risiko.site.untergrund",type:"select",options:Mt("ai.chatbot.groundOptions").split(",")},{id:"risikomatrix",label:Mt("ai.chatbot.riskMatrixQuestion"),field:"risiko.matrix",type:"select",options:Mt("ai.chatbot.riskMatrixOptions").split(","),info:Mt("ai.chatbot.riskMatrixQuestionInfo")}]}function AD({open:o,onToggle:e}){return zt.jsx("button",{"aria-label":Mt("ai.chatbot.title"),onClick:e,className:"zb-btn",children:zt.jsx("span",{className:"text-xl",children:o?"×":"💬"})})}function MD({role:o,text:e}){const n=o==="bot";return zt.jsx("div",{className:`zb-msg ${n?"zb-msg-left":"zb-msg-right"}`,children:zt.jsx("div",{className:`zb-bubble ${n?"zb-bot":"zb-user"}`,children:e})})}function xD({onSend:o}){const[e,n]=et.useState("");return zt.jsxs("div",{className:"zb-input",children:[zt.jsx("input",{className:"zb-input-field",placeholder:Mt("ai.chatbot.inputPlaceholder"),value:e,onChange:s=>n(s.target.value),onKeyDown:s=>{s.key==="Enter"&&e.trim()&&(o(e.trim()),n(""))}}),zt.jsx("button",{className:"zb-input-send",onClick:()=>{e.trim()&&(o(e.trim()),n(""))},children:Mt("ai.chatbot.sendButton")})]})}function _D({planningState:o,setPlanningState:e,getCandidatesFor:n}){const[s,l]=et.useState({}),u=o??s,c=e??(D=>l(X=>D(X)));window.planningState=u;const[h,y]=et.useState(!0),[p,v]=et.useState([]),[S,E]=et.useState(null),[C,A]=et.useState(!1),w=et.useRef(null);et.useEffect(()=>{p.length===0&&z(Mt("ai.chatbot.welcome"))},[]),et.useEffect(()=>{p.length>0&&(w.current&&(w.current.scrollTop=w.current.scrollHeight),setTimeout(()=>{w.current&&(w.current.scrollTop=w.current.scrollHeight)},50))},[p.length]);function z(D){v(X=>[...X,{role:"bot",text:D}])}function k(D,X){v(Z=>[...Z,{role:"user",text:D,field:X}])}const F=D=>{const X=ov(u,D.field);if(X!=null&&X!=="")return{ask:!1,value:X};const Z=n?n(D.field):[];return D.resolver?D.resolver(Z):uf(D.field,Z,.7)};function N(){for(const D of CD()){if(D.dependsOn&&D.dependsOn.find(H=>!ov(u,H)))continue;const X=F(D);if(X.ask)return D;X.value!==void 0&&c(Z=>{const H={...Z??{}};return av(H,D.field,X.value),H})}return null}et.useEffect(()=>{if(C||S)return;const D=N();if(D){E(D);const X=D.label,Z=D.info?Mt("ai.chatbot.infoPrefix")+D.info:"";z(X+(Z?`

${Z}`:""))}else!C&&p.length>0&&(z(Mt("ai.chatbot.completionMessage")),A(!0))},[u,h,S,C]),et.useEffect(()=>{const D=()=>{console.log("Language changed, re-rendering chatbot"),v([]),E(null),A(!1),setTimeout(()=>{z(Mt("ai.chatbot.welcome"))},100)};window.addEventListener("languageChanged",D);const X=setInterval(()=>{const Z=window.currentLanguage;Z&&Z!==window.lastChatbotLanguage&&(window.lastChatbotLanguage=Z,console.log("Chatbot: Language change detected via polling:",Z),D());const H=document.querySelector('.lang-btn[data-lang="de"].active'),ot=document.querySelector('.lang-btn[data-lang="en"].active');let lt=null;ot?lt="en":H&&(lt="de"),lt&&lt!==window.lastChatbotDetectedLanguage&&(window.lastChatbotDetectedLanguage=lt,console.log("Chatbot: Language change detected via DOM flags:",lt),D())},100);return()=>{window.removeEventListener("languageChanged",D),clearInterval(X)}},[]);function K(D){if(!S){/^(ja|start|bereit|ok|okay|los)/i.test(D)&&(A(!1),E(null)),k(D);return}k(D,S.field);let X=D;if(S.type==="number"){const Z=parseFloat(D.replace(",","."));X=isNaN(Z)?void 0:Z}else S.type==="chips"?X=D.split(",").map(Z=>Z.trim()).filter(Boolean):S.type==="multiselect"?X=D.split(",").map(Z=>Z.trim()).filter(Boolean):S.type==="select"?X=D.trim():S.type==="bool"&&(X=/^(ja|true|y|yes)$/i.test(D));c(Z=>{const H={...Z??{}};return X!==void 0&&av(H,S.field,X),H}),E(null)}return zt.jsxs(zt.Fragment,{children:[zt.jsx(AD,{open:h,onToggle:()=>y(D=>!D)}),zt.jsx(H_,{children:h&&zt.jsxs(bD.aside,{initial:{x:380,opacity:0},animate:{x:0,opacity:1},exit:{x:380,opacity:0},transition:{type:"spring",stiffness:240,damping:28},className:"zb-panel","aria-label":"Zufahrtsschutz-Assistent Panel",children:[zt.jsx("header",{className:"zb-header",children:zt.jsx("div",{className:"zb-title",children:Mt("ai.chatbot.title")})}),zt.jsx("div",{className:"zb-messages",ref:w,children:p.map((D,X)=>zt.jsx(MD,{role:D.role,text:D.text},X))}),zt.jsx(xD,{onSend:K})]})})]})}var Dc={exports:{}},Ba={},Nc={exports:{}},Lc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function RD(){return sv||(sv=1,function(o){function e(V,G){var J=V.length;V.push(G);t:for(;0<J;){var rt=J-1>>>1,x=V[rt];if(0<l(x,G))V[rt]=G,V[J]=x,J=rt;else break t}}function n(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var G=V[0],J=V.pop();if(J!==G){V[0]=J;t:for(var rt=0,x=V.length,Q=x>>>1;rt<Q;){var it=2*(rt+1)-1,j=V[it],ut=it+1,xt=V[ut];if(0>l(j,J))ut<x&&0>l(xt,j)?(V[rt]=xt,V[ut]=J,rt=ut):(V[rt]=j,V[it]=J,rt=it);else if(ut<x&&0>l(xt,J))V[rt]=xt,V[ut]=J,rt=ut;else break t}}return G}function l(V,G){var J=V.sortIndex-G.sortIndex;return J!==0?J:V.id-G.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;o.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();o.unstable_now=function(){return c.now()-h}}var y=[],p=[],v=1,S=null,E=3,C=!1,A=!1,w=!1,z=!1,k=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function K(V){for(var G=n(p);G!==null;){if(G.callback===null)s(p);else if(G.startTime<=V)s(p),G.sortIndex=G.expirationTime,e(y,G);else break;G=n(p)}}function D(V){if(w=!1,K(V),!A)if(n(y)!==null)A=!0,X||(X=!0,Tt());else{var G=n(p);G!==null&&tt(D,G.startTime-V)}}var X=!1,Z=-1,H=5,ot=-1;function lt(){return z?!0:!(o.unstable_now()-ot<H)}function yt(){if(z=!1,X){var V=o.unstable_now();ot=V;var G=!0;try{t:{A=!1,w&&(w=!1,F(Z),Z=-1),C=!0;var J=E;try{e:{for(K(V),S=n(y);S!==null&&!(S.expirationTime>V&&lt());){var rt=S.callback;if(typeof rt=="function"){S.callback=null,E=S.priorityLevel;var x=rt(S.expirationTime<=V);if(V=o.unstable_now(),typeof x=="function"){S.callback=x,K(V),G=!0;break e}S===n(y)&&s(y),K(V)}else s(y);S=n(y)}if(S!==null)G=!0;else{var Q=n(p);Q!==null&&tt(D,Q.startTime-V),G=!1}}break t}finally{S=null,E=J,C=!1}G=void 0}}finally{G?Tt():X=!1}}}var Tt;if(typeof N=="function")Tt=function(){N(yt)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,$=dt.port2;dt.port1.onmessage=yt,Tt=function(){$.postMessage(null)}}else Tt=function(){k(yt,0)};function tt(V,G){Z=k(function(){V(o.unstable_now())},G)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(V){V.callback=null},o.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<V?Math.floor(1e3/V):5},o.unstable_getCurrentPriorityLevel=function(){return E},o.unstable_next=function(V){switch(E){case 1:case 2:case 3:var G=3;break;default:G=E}var J=E;E=G;try{return V()}finally{E=J}},o.unstable_requestPaint=function(){z=!0},o.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var J=E;E=V;try{return G()}finally{E=J}},o.unstable_scheduleCallback=function(V,G,J){var rt=o.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?rt+J:rt):J=rt,V){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=J+x,V={id:v++,callback:G,priorityLevel:V,startTime:J,expirationTime:x,sortIndex:-1},J>rt?(V.sortIndex=J,e(p,V),n(y)===null&&V===n(p)&&(w?(F(Z),Z=-1):w=!0,tt(D,J-rt))):(V.sortIndex=x,e(y,V),A||C||(A=!0,X||(X=!0,Tt()))),V},o.unstable_shouldYield=lt,o.unstable_wrapCallback=function(V){var G=E;return function(){var J=E;E=G;try{return V.apply(this,arguments)}finally{E=J}}}}(Lc)),Lc}var lv;function wD(){return lv||(lv=1,Nc.exports=RD()),Nc.exports}var Pc={exports:{}},he={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function DD(){if(rv)return he;rv=1;var o=hf();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,p,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:p,implementation:v}}var c=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return he.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,he.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,v)},he.flushSync=function(y){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,y)return y()}finally{c.T=p,s.p=v,s.d.f()}},he.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},he.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},he.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,S=h(v,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:C}):v==="script"&&s.d.X(y,{crossOrigin:S,integrity:E,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},he.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},he.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,S=h(v,p.crossOrigin);s.d.L(y,v,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},he.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=h(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},he.requestFormReset=function(y){s.d.r(y)},he.unstable_batchedUpdates=function(y,p){return y(p)},he.useFormState=function(y,p,v){return c.H.useFormState(y,p,v)},he.useFormStatus=function(){return c.H.useHostTransitionStatus()},he.version="19.1.1",he}var uv;function ND(){if(uv)return Pc.exports;uv=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),Pc.exports=DD(),Pc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function LD(){if(cv)return Ba;cv=1;var o=wD(),e=hf(),n=ND();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,r=i;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(r=f.return,r!==null){a=r;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return h(f),t;if(g===r)return h(f),i;g=g.sibling}throw Error(s(188))}if(a.return!==r.return)a=f,r=g;else{for(var T=!1,b=f.child;b;){if(b===a){T=!0,a=f,r=g;break}if(b===r){T=!0,r=f,a=g;break}b=b.sibling}if(!T){for(b=g.child;b;){if(b===a){T=!0,a=g,r=f;break}if(b===r){T=!0,r=g,a=f;break}b=b.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==r)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),N=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),ot=Symbol.for("react.activity"),lt=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function Tt(t){return t===null||typeof t!="object"?null:(t=yt&&t[yt]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Symbol.for("react.client.reference");function $(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===dt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case z:return"Profiler";case w:return"StrictMode";case D:return"Suspense";case X:return"SuspenseList";case ot:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case N:return(t.displayName||"Context")+".Provider";case F:return(t._context.displayName||"Context")+".Consumer";case K:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z:return i=t.displayName||null,i!==null?i:$(t.type)||"Memo";case H:i=t._payload,t=t._init;try{return $(t(i))}catch{}}return null}var tt=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},rt=[],x=-1;function Q(t){return{current:t}}function it(t){0>x||(t.current=rt[x],rt[x]=null,x--)}function j(t,i){x++,rt[x]=t.current,t.current=i}var ut=Q(null),xt=Q(null),mt=Q(null),_e=Q(null);function kt(t,i){switch(j(mt,i),j(xt,t),j(ut,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?mm(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=mm(i),t=gm(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(ut),j(ut,t)}function Dn(){it(ut),it(xt),it(mt)}function Wl(t){t.memoizedState!==null&&j(_e,t);var i=ut.current,a=gm(i,t.type);i!==a&&(j(xt,t),j(ut,a))}function os(t){xt.current===t&&(it(ut),it(xt)),_e.current===t&&(it(_e),Ra._currentValue=J)}var jl=Object.prototype.hasOwnProperty,tr=o.unstable_scheduleCallback,er=o.unstable_cancelCallback,C0=o.unstable_shouldYield,A0=o.unstable_requestPaint,tn=o.unstable_now,M0=o.unstable_getCurrentPriorityLevel,Zf=o.unstable_ImmediatePriority,$f=o.unstable_UserBlockingPriority,as=o.unstable_NormalPriority,x0=o.unstable_LowPriority,Jf=o.unstable_IdlePriority,_0=o.log,R0=o.unstable_setDisableYieldValue,Io=null,Re=null;function Nn(t){if(typeof _0=="function"&&R0(t),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(Io,t)}catch{}}var we=Math.clz32?Math.clz32:N0,w0=Math.log,D0=Math.LN2;function N0(t){return t>>>=0,t===0?32:31-(w0(t)/D0|0)|0}var ss=256,ls=4194304;function ri(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function rs(t,i,a){var r=t.pendingLanes;if(r===0)return 0;var f=0,g=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var b=r&134217727;return b!==0?(r=b&~g,r!==0?f=ri(r):(T&=b,T!==0?f=ri(T):a||(a=b&~t,a!==0&&(f=ri(a))))):(b=r&~g,b!==0?f=ri(b):T!==0?f=ri(T):a||(a=r&~t,a!==0&&(f=ri(a)))),f===0?0:i!==0&&i!==f&&(i&g)===0&&(g=f&-f,a=i&-i,g>=a||g===32&&(a&4194048)!==0)?i:f}function Uo(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function L0(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wf(){var t=ss;return ss<<=1,(ss&4194048)===0&&(ss=256),t}function jf(){var t=ls;return ls<<=1,(ls&62914560)===0&&(ls=4194304),t}function nr(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function zo(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function P0(t,i,a,r,f,g){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,M=t.expirationTimes,B=t.hiddenUpdates;for(a=T&~a;0<a;){var O=31-we(a),Y=1<<O;b[O]=0,M[O]=-1;var I=B[O];if(I!==null)for(B[O]=null,O=0;O<I.length;O++){var U=I[O];U!==null&&(U.lane&=-536870913)}a&=~Y}r!==0&&td(t,r,0),g!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=g&~(T&~i))}function td(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var r=31-we(i);t.entangledLanes|=i,t.entanglements[r]=t.entanglements[r]|1073741824|a&4194090}function ed(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var r=31-we(a),f=1<<r;f&i|t[r]&i&&(t[r]|=i),a&=~f}}function ir(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function or(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function nd(){var t=G.p;return t!==0?t:(t=window.event,t===void 0?32:Bm(t.type))}function V0(t,i){var a=G.p;try{return G.p=t,i()}finally{G.p=a}}var Ln=Math.random().toString(36).slice(2),fe="__reactFiber$"+Ln,Se="__reactProps$"+Ln,Ii="__reactContainer$"+Ln,ar="__reactEvents$"+Ln,B0="__reactListeners$"+Ln,I0="__reactHandles$"+Ln,id="__reactResources$"+Ln,ko="__reactMarker$"+Ln;function sr(t){delete t[fe],delete t[Se],delete t[ar],delete t[B0],delete t[I0]}function Ui(t){var i=t[fe];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ii]||a[fe]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Sm(t);t!==null;){if(a=t[fe])return a;t=Sm(t)}return i}t=a,a=t.parentNode}return null}function zi(t){if(t=t[fe]||t[Ii]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Oo(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function ki(t){var i=t[id];return i||(i=t[id]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ne(t){t[ko]=!0}var od=new Set,ad={};function ui(t,i){Oi(t,i),Oi(t+"Capture",i)}function Oi(t,i){for(ad[t]=i,t=0;t<i.length;t++)od.add(i[t])}var U0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sd={},ld={};function z0(t){return jl.call(ld,t)?!0:jl.call(sd,t)?!1:U0.test(t)?ld[t]=!0:(sd[t]=!0,!1)}function us(t,i,a){if(z0(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function cs(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function fn(t,i,a,r){if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+r)}}var lr,rd;function Gi(t){if(lr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);lr=i&&i[1]||"",rd=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lr+t+rd}var rr=!1;function ur(t,i){if(!t||rr)return"";rr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(U){var I=U}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(U){I=U}t.call(Y.prototype)}}else{try{throw Error()}catch(U){I=U}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(U){if(U&&I&&typeof U.stack=="string")return[U.stack,I.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=r.DetermineComponentFrameRoot(),T=g[0],b=g[1];if(T&&b){var M=T.split(`
`),B=b.split(`
`);for(f=r=0;r<M.length&&!M[r].includes("DetermineComponentFrameRoot");)r++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(r===M.length||f===B.length)for(r=M.length-1,f=B.length-1;1<=r&&0<=f&&M[r]!==B[f];)f--;for(;1<=r&&0<=f;r--,f--)if(M[r]!==B[f]){if(r!==1||f!==1)do if(r--,f--,0>f||M[r]!==B[f]){var O=`
`+M[r].replace(" at new "," at ");return t.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",t.displayName)),O}while(1<=r&&0<=f);break}}}finally{rr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Gi(a):""}function k0(t){switch(t.tag){case 26:case 27:case 5:return Gi(t.type);case 16:return Gi("Lazy");case 13:return Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 15:return ur(t.type,!1);case 11:return ur(t.type.render,!1);case 1:return ur(t.type,!0);case 31:return Gi("Activity");default:return""}}function ud(t){try{var i="";do i+=k0(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ue(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cd(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function O0(t){var i=cd(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),r=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){r=""+T,g.call(this,T)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(T){r=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function fs(t){t._valueTracker||(t._valueTracker=O0(t))}function fd(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),r="";return t&&(r=cd(t)?t.checked?"true":"false":t.value),t=r,t!==a?(i.setValue(t),!0):!1}function ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var G0=/[\n"\\]/g;function ze(t){return t.replace(G0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function cr(t,i,a,r,f,g,T,b){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ue(i)):t.value!==""+Ue(i)&&(t.value=""+Ue(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?fr(t,T,Ue(i)):a!=null?fr(t,T,Ue(a)):r!=null&&t.removeAttribute("value"),f==null&&g!=null&&(t.defaultChecked=!!g),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Ue(b):t.removeAttribute("name")}function dd(t,i,a,r,f,g,T,b){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),i!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;a=a!=null?""+Ue(a):"",i=i!=null?""+Ue(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}r=r??f,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=b?t.checked:!!r,t.defaultChecked=!!r,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function fr(t,i,a){i==="number"&&ds(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function qi(t,i,a,r){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&r&&(t[a].defaultSelected=!0)}else{for(a=""+Ue(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,r&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function hd(t,i,a){if(i!=null&&(i=""+Ue(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ue(a):""}function pd(t,i,a,r){if(i==null){if(r!=null){if(a!=null)throw Error(s(92));if(tt(r)){if(1<r.length)throw Error(s(93));r=r[0]}a=r}a==null&&(a=""),i=a}a=Ue(i),t.defaultValue=a,r=t.textContent,r===a&&r!==""&&r!==null&&(t.value=r)}function Hi(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var q0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function md(t,i,a){var r=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":r?t.setProperty(i,a):typeof a!="number"||a===0||q0.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function gd(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var f in i)r=i[f],i.hasOwnProperty(f)&&a[f]!==r&&md(t,f,r)}else for(var g in i)i.hasOwnProperty(g)&&md(t,g,i[g])}function dr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var H0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),F0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hs(t){return F0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var hr=null;function pr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fi=null,Yi=null;function yd(t){var i=zi(t);if(i&&(t=i.stateNode)){var a=t[Se]||null;t:switch(t=i.stateNode,i.type){case"input":if(cr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ze(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var r=a[i];if(r!==t&&r.form===t.form){var f=r[Se]||null;if(!f)throw Error(s(90));cr(r,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)r=a[i],r.form===t.form&&fd(r)}break t;case"textarea":hd(t,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&qi(t,!!a.multiple,i,!1)}}}var mr=!1;function vd(t,i,a){if(mr)return t(i,a);mr=!0;try{var r=t(i);return r}finally{if(mr=!1,(Fi!==null||Yi!==null)&&(Ws(),Fi&&(i=Fi,t=Yi,Yi=Fi=null,yd(i),t)))for(i=0;i<t.length;i++)yd(t[i])}}function Go(t,i){var a=t.stateNode;if(a===null)return null;var r=a[Se]||null;if(r===null)return null;a=r[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gr=!1;if(dn)try{var qo={};Object.defineProperty(qo,"passive",{get:function(){gr=!0}}),window.addEventListener("test",qo,qo),window.removeEventListener("test",qo,qo)}catch{gr=!1}var Pn=null,yr=null,ps=null;function Td(){if(ps)return ps;var t,i=yr,a=i.length,r,f="value"in Pn?Pn.value:Pn.textContent,g=f.length;for(t=0;t<a&&i[t]===f[t];t++);var T=a-t;for(r=1;r<=T&&i[a-r]===f[g-r];r++);return ps=f.slice(t,1<r?1-r:void 0)}function ms(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function gs(){return!0}function Sd(){return!1}function Ee(t){function i(a,r,f,g,T){this._reactName=a,this._targetInst=f,this.type=r,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?gs:Sd,this.isPropagationStopped=Sd,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),i}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ys=Ee(ci),Ho=v({},ci,{view:0,detail:0}),Y0=Ee(Ho),vr,Tr,Fo,vs=v({},Ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fo&&(Fo&&t.type==="mousemove"?(vr=t.screenX-Fo.screenX,Tr=t.screenY-Fo.screenY):Tr=vr=0,Fo=t),vr)},movementY:function(t){return"movementY"in t?t.movementY:Tr}}),Ed=Ee(vs),K0=v({},vs,{dataTransfer:0}),Q0=Ee(K0),X0=v({},Ho,{relatedTarget:0}),Sr=Ee(X0),Z0=v({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),$0=Ee(Z0),J0=v({},ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),W0=Ee(J0),j0=v({},ci,{data:0}),bd=Ee(j0),tS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iS(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=nS[t])?!!i[t]:!1}function Er(){return iS}var oS=v({},Ho,{key:function(t){if(t.key){var i=tS[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(t){return t.type==="keypress"?ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aS=Ee(oS),sS=v({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cd=Ee(sS),lS=v({},Ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),rS=Ee(lS),uS=v({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),cS=Ee(uS),fS=v({},vs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dS=Ee(fS),hS=v({},ci,{newState:0,oldState:0}),pS=Ee(hS),mS=[9,13,27,32],br=dn&&"CompositionEvent"in window,Yo=null;dn&&"documentMode"in document&&(Yo=document.documentMode);var gS=dn&&"TextEvent"in window&&!Yo,Ad=dn&&(!br||Yo&&8<Yo&&11>=Yo),Md=" ",xd=!1;function _d(t,i){switch(t){case"keyup":return mS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ki=!1;function yS(t,i){switch(t){case"compositionend":return Rd(i);case"keypress":return i.which!==32?null:(xd=!0,Md);case"textInput":return t=i.data,t===Md&&xd?null:t;default:return null}}function vS(t,i){if(Ki)return t==="compositionend"||!br&&_d(t,i)?(t=Td(),ps=yr=Pn=null,Ki=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ad&&i.locale!=="ko"?null:i.data;default:return null}}var TS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!TS[t.type]:i==="textarea"}function Dd(t,i,a,r){Fi?Yi?Yi.push(r):Yi=[r]:Fi=r,i=ol(i,"onChange"),0<i.length&&(a=new ys("onChange","change",null,a,r),t.push({event:a,listeners:i}))}var Ko=null,Qo=null;function SS(t){cm(t,0)}function Ts(t){var i=Oo(t);if(fd(i))return t}function Nd(t,i){if(t==="change")return i}var Ld=!1;if(dn){var Cr;if(dn){var Ar="oninput"in document;if(!Ar){var Pd=document.createElement("div");Pd.setAttribute("oninput","return;"),Ar=typeof Pd.oninput=="function"}Cr=Ar}else Cr=!1;Ld=Cr&&(!document.documentMode||9<document.documentMode)}function Vd(){Ko&&(Ko.detachEvent("onpropertychange",Bd),Qo=Ko=null)}function Bd(t){if(t.propertyName==="value"&&Ts(Qo)){var i=[];Dd(i,Qo,t,pr(t)),vd(SS,i)}}function ES(t,i,a){t==="focusin"?(Vd(),Ko=i,Qo=a,Ko.attachEvent("onpropertychange",Bd)):t==="focusout"&&Vd()}function bS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ts(Qo)}function CS(t,i){if(t==="click")return Ts(i)}function AS(t,i){if(t==="input"||t==="change")return Ts(i)}function MS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var De=typeof Object.is=="function"?Object.is:MS;function Xo(t,i){if(De(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),r=Object.keys(i);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var f=a[r];if(!jl.call(i,f)||!De(t[f],i[f]))return!1}return!0}function Id(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ud(t,i){var a=Id(t);t=0;for(var r;a;){if(a.nodeType===3){if(r=t+a.textContent.length,t<=i&&r>=i)return{node:a,offset:i-t};t=r}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Id(a)}}function zd(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?zd(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function kd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ds(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ds(t.document)}return i}function Mr(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var xS=dn&&"documentMode"in document&&11>=document.documentMode,Qi=null,xr=null,Zo=null,_r=!1;function Od(t,i,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_r||Qi==null||Qi!==ds(r)||(r=Qi,"selectionStart"in r&&Mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zo&&Xo(Zo,r)||(Zo=r,r=ol(xr,"onSelect"),0<r.length&&(i=new ys("onSelect","select",null,i,a),t.push({event:i,listeners:r}),i.target=Qi)))}function fi(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Xi={animationend:fi("Animation","AnimationEnd"),animationiteration:fi("Animation","AnimationIteration"),animationstart:fi("Animation","AnimationStart"),transitionrun:fi("Transition","TransitionRun"),transitionstart:fi("Transition","TransitionStart"),transitioncancel:fi("Transition","TransitionCancel"),transitionend:fi("Transition","TransitionEnd")},Rr={},Gd={};dn&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function di(t){if(Rr[t])return Rr[t];if(!Xi[t])return t;var i=Xi[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Gd)return Rr[t]=i[a];return t}var qd=di("animationend"),Hd=di("animationiteration"),Fd=di("animationstart"),_S=di("transitionrun"),RS=di("transitionstart"),wS=di("transitioncancel"),Yd=di("transitionend"),Kd=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wr.push("scrollEnd");function Ze(t,i){Kd.set(t,i),ui(i,[t])}var Qd=new WeakMap;function ke(t,i){if(typeof t=="object"&&t!==null){var a=Qd.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ud(i)},Qd.set(t,i),i)}return{value:t,source:i,stack:ud(i)}}var Oe=[],Zi=0,Dr=0;function Ss(){for(var t=Zi,i=Dr=Zi=0;i<t;){var a=Oe[i];Oe[i++]=null;var r=Oe[i];Oe[i++]=null;var f=Oe[i];Oe[i++]=null;var g=Oe[i];if(Oe[i++]=null,r!==null&&f!==null){var T=r.pending;T===null?f.next=f:(f.next=T.next,T.next=f),r.pending=f}g!==0&&Xd(a,f,g)}}function Es(t,i,a,r){Oe[Zi++]=t,Oe[Zi++]=i,Oe[Zi++]=a,Oe[Zi++]=r,Dr|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Nr(t,i,a,r){return Es(t,i,a,r),bs(t)}function $i(t,i){return Es(t,null,null,i),bs(t)}function Xd(t,i,a){t.lanes|=a;var r=t.alternate;r!==null&&(r.lanes|=a);for(var f=!1,g=t.return;g!==null;)g.childLanes|=a,r=g.alternate,r!==null&&(r.childLanes|=a),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(f=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,f&&i!==null&&(f=31-we(a),t=g.hiddenUpdates,r=t[f],r===null?t[f]=[i]:r.push(i),i.lane=a|536870912),g):null}function bs(t){if(50<Sa)throw Sa=0,Uu=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ji={};function DS(t,i,a,r){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ne(t,i,a,r){return new DS(t,i,a,r)}function Lr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hn(t,i){var a=t.alternate;return a===null?(a=Ne(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Zd(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Cs(t,i,a,r,f,g){var T=0;if(r=t,typeof t=="function")Lr(t)&&(T=1);else if(typeof t=="string")T=LE(t,a,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case ot:return t=Ne(31,a,i,f),t.elementType=ot,t.lanes=g,t;case A:return hi(a.children,f,g,i);case w:T=8,f|=24;break;case z:return t=Ne(12,a,i,f|2),t.elementType=z,t.lanes=g,t;case D:return t=Ne(13,a,i,f),t.elementType=D,t.lanes=g,t;case X:return t=Ne(19,a,i,f),t.elementType=X,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:case N:T=10;break t;case F:T=9;break t;case K:T=11;break t;case Z:T=14;break t;case H:T=16,r=null;break t}T=29,a=Error(s(130,t===null?"null":typeof t,"")),r=null}return i=Ne(T,a,i,f),i.elementType=t,i.type=r,i.lanes=g,i}function hi(t,i,a,r){return t=Ne(7,t,r,i),t.lanes=a,t}function Pr(t,i,a){return t=Ne(6,t,null,i),t.lanes=a,t}function Vr(t,i,a){return i=Ne(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Wi=[],ji=0,As=null,Ms=0,Ge=[],qe=0,pi=null,pn=1,mn="";function mi(t,i){Wi[ji++]=Ms,Wi[ji++]=As,As=t,Ms=i}function $d(t,i,a){Ge[qe++]=pn,Ge[qe++]=mn,Ge[qe++]=pi,pi=t;var r=pn;t=mn;var f=32-we(r)-1;r&=~(1<<f),a+=1;var g=32-we(i)+f;if(30<g){var T=f-f%5;g=(r&(1<<T)-1).toString(32),r>>=T,f-=T,pn=1<<32-we(i)+f|a<<f|r,mn=g+t}else pn=1<<g|a<<f|r,mn=t}function Br(t){t.return!==null&&(mi(t,1),$d(t,1,0))}function Ir(t){for(;t===As;)As=Wi[--ji],Wi[ji]=null,Ms=Wi[--ji],Wi[ji]=null;for(;t===pi;)pi=Ge[--qe],Ge[qe]=null,mn=Ge[--qe],Ge[qe]=null,pn=Ge[--qe],Ge[qe]=null}var ge=null,Ft=null,Rt=!1,gi=null,en=!1,Ur=Error(s(519));function yi(t){var i=Error(s(418,""));throw Wo(ke(i,t)),Ur}function Jd(t){var i=t.stateNode,a=t.type,r=t.memoizedProps;switch(i[fe]=t,i[Se]=r,a){case"dialog":Ct("cancel",i),Ct("close",i);break;case"iframe":case"object":case"embed":Ct("load",i);break;case"video":case"audio":for(a=0;a<ba.length;a++)Ct(ba[a],i);break;case"source":Ct("error",i);break;case"img":case"image":case"link":Ct("error",i),Ct("load",i);break;case"details":Ct("toggle",i);break;case"input":Ct("invalid",i),dd(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),fs(i);break;case"select":Ct("invalid",i);break;case"textarea":Ct("invalid",i),pd(i,r.value,r.defaultValue,r.children),fs(i)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||r.suppressHydrationWarning===!0||pm(i.textContent,a)?(r.popover!=null&&(Ct("beforetoggle",i),Ct("toggle",i)),r.onScroll!=null&&Ct("scroll",i),r.onScrollEnd!=null&&Ct("scrollend",i),r.onClick!=null&&(i.onclick=al),i=!0):i=!1,i||yi(t)}function Wd(t){for(ge=t.return;ge;)switch(ge.tag){case 5:case 13:en=!1;return;case 27:case 3:en=!0;return;default:ge=ge.return}}function $o(t){if(t!==ge)return!1;if(!Rt)return Wd(t),Rt=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ju(t.type,t.memoizedProps)),a=!a),a&&Ft&&yi(t),Wd(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Ft=Je(t.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Ft=null}}else i===27?(i=Ft,Zn(t.type)?(t=ic,ic=null,Ft=t):Ft=i):Ft=ge?Je(t.stateNode.nextSibling):null;return!0}function Jo(){Ft=ge=null,Rt=!1}function jd(){var t=gi;return t!==null&&(Ae===null?Ae=t:Ae.push.apply(Ae,t),gi=null),t}function Wo(t){gi===null?gi=[t]:gi.push(t)}var zr=Q(null),vi=null,gn=null;function Vn(t,i,a){j(zr,i._currentValue),i._currentValue=a}function yn(t){t._currentValue=zr.current,it(zr)}function kr(t,i,a){for(;t!==null;){var r=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),t===a)break;t=t.return}}function Or(t,i,a,r){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var g=f.dependencies;if(g!==null){var T=f.child;g=g.firstContext;t:for(;g!==null;){var b=g;g=f;for(var M=0;M<i.length;M++)if(b.context===i[M]){g.lanes|=a,b=g.alternate,b!==null&&(b.lanes|=a),kr(g.return,a,t),r||(T=null);break t}g=b.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,g=T.alternate,g!==null&&(g.lanes|=a),kr(T,a,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function jo(t,i,a,r){t=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var b=f.type;De(f.pendingProps.value,T.value)||(t!==null?t.push(b):t=[b])}}else if(f===_e.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ra):t=[Ra])}f=f.return}t!==null&&Or(i,t,a,r),i.flags|=262144}function xs(t){for(t=t.firstContext;t!==null;){if(!De(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ti(t){vi=t,gn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function de(t){return th(vi,t)}function _s(t,i){return vi===null&&Ti(t),th(t,i)}function th(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},gn===null){if(t===null)throw Error(s(308));gn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else gn=gn.next=i;return a}var NS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,r){t.push(r)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},LS=o.unstable_scheduleCallback,PS=o.unstable_NormalPriority,te={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gr(){return{controller:new NS,data:new Map,refCount:0}}function ta(t){t.refCount--,t.refCount===0&&LS(PS,function(){t.controller.abort()})}var ea=null,qr=0,to=0,eo=null;function VS(t,i){if(ea===null){var a=ea=[];qr=0,to=Fu(),eo={status:"pending",value:void 0,then:function(r){a.push(r)}}}return qr++,i.then(eh,eh),i}function eh(){if(--qr===0&&ea!==null){eo!==null&&(eo.status="fulfilled");var t=ea;ea=null,to=0,eo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function BS(t,i){var a=[],r={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){r.status="fulfilled",r.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(r.status="rejected",r.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),r}var nh=V.S;V.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&VS(t,i),nh!==null&&nh(t,i)};var Si=Q(null);function Hr(){var t=Si.current;return t!==null?t:Ut.pooledCache}function Rs(t,i){i===null?j(Si,Si.current):j(Si,i.pool)}function ih(){var t=Hr();return t===null?null:{parent:te._currentValue,pool:t}}var na=Error(s(460)),oh=Error(s(474)),ws=Error(s(542)),Fr={then:function(){}};function ah(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ds(){}function sh(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Ds,Ds),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,rh(t),t;default:if(typeof i.status=="string")i.then(Ds,Ds);else{if(t=Ut,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(r){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=r}},function(r){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,rh(t),t}throw ia=i,na}}var ia=null;function lh(){if(ia===null)throw Error(s(459));var t=ia;return ia=null,t}function rh(t){if(t===na||t===ws)throw Error(s(483))}var Bn=!1;function Yr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kr(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function In(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Un(t,i,a){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(wt&2)!==0){var f=r.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),r.pending=i,i=bs(t),Xd(t,null,a),i}return Es(t,r,i,a),bs(t)}function oa(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var r=i.lanes;r&=t.pendingLanes,a|=r,i.lanes=a,ed(t,a)}}function Qr(t,i){var a=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?f=g=T:g=g.next=T,a=a.next}while(a!==null);g===null?f=g=i:g=g.next=i}else f=g=i;a={baseState:r.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:r.shared,callbacks:r.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Xr=!1;function aa(){if(Xr){var t=eo;if(t!==null)throw t}}function sa(t,i,a,r){Xr=!1;var f=t.updateQueue;Bn=!1;var g=f.firstBaseUpdate,T=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var M=b,B=M.next;M.next=null,T===null?g=B:T.next=B,T=M;var O=t.alternate;O!==null&&(O=O.updateQueue,b=O.lastBaseUpdate,b!==T&&(b===null?O.firstBaseUpdate=B:b.next=B,O.lastBaseUpdate=M))}if(g!==null){var Y=f.baseState;T=0,O=B=M=null,b=g;do{var I=b.lane&-536870913,U=I!==b.lane;if(U?(At&I)===I:(r&I)===I){I!==0&&I===to&&(Xr=!0),O!==null&&(O=O.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var ht=t,ct=b;I=i;var Vt=a;switch(ct.tag){case 1:if(ht=ct.payload,typeof ht=="function"){Y=ht.call(Vt,Y,I);break t}Y=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=ct.payload,I=typeof ht=="function"?ht.call(Vt,Y,I):ht,I==null)break t;Y=v({},Y,I);break t;case 2:Bn=!0}}I=b.callback,I!==null&&(t.flags|=64,U&&(t.flags|=8192),U=f.callbacks,U===null?f.callbacks=[I]:U.push(I))}else U={lane:I,tag:b.tag,payload:b.payload,callback:b.callback,next:null},O===null?(B=O=U,M=Y):O=O.next=U,T|=I;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;U=b,b=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);O===null&&(M=Y),f.baseState=M,f.firstBaseUpdate=B,f.lastBaseUpdate=O,g===null&&(f.shared.lanes=0),Yn|=T,t.lanes=T,t.memoizedState=Y}}function uh(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ch(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)uh(a[t],i)}var no=Q(null),Ns=Q(0);function fh(t,i){t=An,j(Ns,t),j(no,i),An=t|i.baseLanes}function Zr(){j(Ns,An),j(no,no.current)}function $r(){An=Ns.current,it(no),it(Ns)}var zn=0,St=null,Lt=null,Jt=null,Ls=!1,io=!1,Ei=!1,Ps=0,la=0,oo=null,IS=0;function Xt(){throw Error(s(321))}function Jr(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!De(t[a],i[a]))return!1;return!0}function Wr(t,i,a,r,f,g){return zn=g,St=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,V.H=t===null||t.memoizedState===null?Xh:Zh,Ei=!1,g=a(r,f),Ei=!1,io&&(g=hh(i,a,r,f)),dh(t),g}function dh(t){V.H=ks;var i=Lt!==null&&Lt.next!==null;if(zn=0,Jt=Lt=St=null,Ls=!1,la=0,oo=null,i)throw Error(s(300));t===null||ie||(t=t.dependencies,t!==null&&xs(t)&&(ie=!0))}function hh(t,i,a,r){St=t;var f=0;do{if(io&&(oo=null),la=0,io=!1,25<=f)throw Error(s(301));if(f+=1,Jt=Lt=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}V.H=HS,g=i(a,r)}while(io);return g}function US(){var t=V.H,i=t.useState()[0];return i=typeof i.then=="function"?ra(i):i,t=t.useState()[0],(Lt!==null?Lt.memoizedState:null)!==t&&(St.flags|=1024),i}function jr(){var t=Ps!==0;return Ps=0,t}function tu(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function eu(t){if(Ls){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ls=!1}zn=0,Jt=Lt=St=null,io=!1,la=Ps=0,oo=null}function be(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?St.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function Wt(){if(Lt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var i=Jt===null?St.memoizedState:Jt.next;if(i!==null)Jt=i,Lt=t;else{if(t===null)throw St.alternate===null?Error(s(467)):Error(s(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Jt===null?St.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function nu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ra(t){var i=la;return la+=1,oo===null&&(oo=[]),t=sh(oo,t,i),i=St,(Jt===null?i.memoizedState:Jt.next)===null&&(i=i.alternate,V.H=i===null||i.memoizedState===null?Xh:Zh),t}function Vs(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ra(t);if(t.$$typeof===N)return de(t)}throw Error(s(438,String(t)))}function iu(t){var i=null,a=St.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var r=St.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=nu(),St.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),r=0;r<t;r++)a[r]=lt;return i.index++,a}function vn(t,i){return typeof i=="function"?i(t):i}function Bs(t){var i=Wt();return ou(i,Lt,t)}function ou(t,i,a){var r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=a;var f=t.baseQueue,g=r.pending;if(g!==null){if(f!==null){var T=f.next;f.next=g.next,g.next=T}i.baseQueue=f=g,r.pending=null}if(g=t.baseState,f===null)t.memoizedState=g;else{i=f.next;var b=T=null,M=null,B=i,O=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(At&Y)===Y:(zn&Y)===Y){var I=B.revertLane;if(I===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===to&&(O=!0);else if((zn&I)===I){B=B.next,I===to&&(O=!0);continue}else Y={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(b=M=Y,T=g):M=M.next=Y,St.lanes|=I,Yn|=I;Y=B.action,Ei&&a(g,Y),g=B.hasEagerState?B.eagerState:a(g,Y)}else I={lane:Y,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(b=M=I,T=g):M=M.next=I,St.lanes|=Y,Yn|=Y;B=B.next}while(B!==null&&B!==i);if(M===null?T=g:M.next=b,!De(g,t.memoizedState)&&(ie=!0,O&&(a=eo,a!==null)))throw a;t.memoizedState=g,t.baseState=T,t.baseQueue=M,r.lastRenderedState=g}return f===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function au(t){var i=Wt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var r=a.dispatch,f=a.pending,g=i.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do g=t(g,T.action),T=T.next;while(T!==f);De(g,i.memoizedState)||(ie=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,r]}function ph(t,i,a){var r=St,f=Wt(),g=Rt;if(g){if(a===void 0)throw Error(s(407));a=a()}else a=i();var T=!De((Lt||f).memoizedState,a);T&&(f.memoizedState=a,ie=!0),f=f.queue;var b=yh.bind(null,r,f,t);if(ua(2048,8,b,[t]),f.getSnapshot!==i||T||Jt!==null&&Jt.memoizedState.tag&1){if(r.flags|=2048,ao(9,Is(),gh.bind(null,r,f,a,i),null),Ut===null)throw Error(s(349));g||(zn&124)!==0||mh(r,i,a)}return a}function mh(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=St.updateQueue,i===null?(i=nu(),St.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function gh(t,i,a,r){i.value=a,i.getSnapshot=r,vh(i)&&Th(t)}function yh(t,i,a){return a(function(){vh(i)&&Th(t)})}function vh(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!De(t,a)}catch{return!0}}function Th(t){var i=$i(t,2);i!==null&&Ie(i,t,2)}function su(t){var i=be();if(typeof t=="function"){var a=t;if(t=a(),Ei){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:t},i}function Sh(t,i,a,r){return t.baseState=a,ou(t,Lt,typeof r=="function"?r:vn)}function zS(t,i,a,r,f){if(zs(t))throw Error(s(485));if(t=i.action,t!==null){var g={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};V.T!==null?a(!0):g.isTransition=!1,r(g),a=i.pending,a===null?(g.next=i.pending=g,Eh(i,g)):(g.next=a.next,i.pending=a.next=g)}}function Eh(t,i){var a=i.action,r=i.payload,f=t.state;if(i.isTransition){var g=V.T,T={};V.T=T;try{var b=a(f,r),M=V.S;M!==null&&M(T,b),bh(t,i,b)}catch(B){lu(t,i,B)}finally{V.T=g}}else try{g=a(f,r),bh(t,i,g)}catch(B){lu(t,i,B)}}function bh(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){Ch(t,i,r)},function(r){return lu(t,i,r)}):Ch(t,i,a)}function Ch(t,i,a){i.status="fulfilled",i.value=a,Ah(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Eh(t,a)))}function lu(t,i,a){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=a,Ah(i),i=i.next;while(i!==r)}t.action=null}function Ah(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Mh(t,i){return i}function xh(t,i){if(Rt){var a=Ut.formState;if(a!==null){t:{var r=St;if(Rt){if(Ft){e:{for(var f=Ft,g=en;f.nodeType!==8;){if(!g){f=null;break e}if(f=Je(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Ft=Je(f.nextSibling),r=f.data==="F!";break t}}yi(r)}r=!1}r&&(i=a[0])}}return a=be(),a.memoizedState=a.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mh,lastRenderedState:i},a.queue=r,a=Yh.bind(null,St,r),r.dispatch=a,r=su(!1),g=du.bind(null,St,!1,r.queue),r=be(),f={state:i,dispatch:null,action:t,pending:null},r.queue=f,a=zS.bind(null,St,f,g,a),f.dispatch=a,r.memoizedState=t,[i,a,!1]}function _h(t){var i=Wt();return Rh(i,Lt,t)}function Rh(t,i,a){if(i=ou(t,i,Mh)[0],t=Bs(vn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=ra(i)}catch(T){throw T===na?ws:T}else r=i;i=Wt();var f=i.queue,g=f.dispatch;return a!==i.memoizedState&&(St.flags|=2048,ao(9,Is(),kS.bind(null,f,a),null)),[r,g,t]}function kS(t,i){t.action=i}function wh(t){var i=Wt(),a=Lt;if(a!==null)return Rh(i,a,t);Wt(),i=i.memoizedState,a=Wt();var r=a.queue.dispatch;return a.memoizedState=t,[i,r,!1]}function ao(t,i,a,r){return t={tag:t,create:a,deps:r,inst:i,next:null},i=St.updateQueue,i===null&&(i=nu(),St.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(r=a.next,a.next=t,t.next=r,i.lastEffect=t),t}function Is(){return{destroy:void 0,resource:void 0}}function Dh(){return Wt().memoizedState}function Us(t,i,a,r){var f=be();r=r===void 0?null:r,St.flags|=t,f.memoizedState=ao(1|i,Is(),a,r)}function ua(t,i,a,r){var f=Wt();r=r===void 0?null:r;var g=f.memoizedState.inst;Lt!==null&&r!==null&&Jr(r,Lt.memoizedState.deps)?f.memoizedState=ao(i,g,a,r):(St.flags|=t,f.memoizedState=ao(1|i,g,a,r))}function Nh(t,i){Us(8390656,8,t,i)}function Lh(t,i){ua(2048,8,t,i)}function Ph(t,i){return ua(4,2,t,i)}function Vh(t,i){return ua(4,4,t,i)}function Bh(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ih(t,i,a){a=a!=null?a.concat([t]):null,ua(4,4,Bh.bind(null,i,t),a)}function ru(){}function Uh(t,i){var a=Wt();i=i===void 0?null:i;var r=a.memoizedState;return i!==null&&Jr(i,r[1])?r[0]:(a.memoizedState=[t,i],t)}function zh(t,i){var a=Wt();i=i===void 0?null:i;var r=a.memoizedState;if(i!==null&&Jr(i,r[1]))return r[0];if(r=t(),Ei){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[r,i],r}function uu(t,i,a){return a===void 0||(zn&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Gp(),St.lanes|=t,Yn|=t,a)}function kh(t,i,a,r){return De(a,i)?a:no.current!==null?(t=uu(t,a,r),De(t,i)||(ie=!0),t):(zn&42)===0?(ie=!0,t.memoizedState=a):(t=Gp(),St.lanes|=t,Yn|=t,i)}function Oh(t,i,a,r,f){var g=G.p;G.p=g!==0&&8>g?g:8;var T=V.T,b={};V.T=b,du(t,!1,i,a);try{var M=f(),B=V.S;if(B!==null&&B(b,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var O=BS(M,r);ca(t,i,O,Be(t))}else ca(t,i,r,Be(t))}catch(Y){ca(t,i,{then:function(){},status:"rejected",reason:Y},Be())}finally{G.p=g,V.T=T}}function OS(){}function cu(t,i,a,r){if(t.tag!==5)throw Error(s(476));var f=Gh(t).queue;Oh(t,f,i,J,a===null?OS:function(){return qh(t),a(r)})}function Gh(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:J},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function qh(t){var i=Gh(t).next.queue;ca(t,i,{},Be())}function fu(){return de(Ra)}function Hh(){return Wt().memoizedState}function Fh(){return Wt().memoizedState}function GS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Be();t=In(a);var r=Un(i,t,a);r!==null&&(Ie(r,i,a),oa(r,i,a)),i={cache:Gr()},t.payload=i;return}i=i.return}}function qS(t,i,a){var r=Be();a={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},zs(t)?Kh(i,a):(a=Nr(t,i,a,r),a!==null&&(Ie(a,t,r),Qh(a,i,r)))}function Yh(t,i,a){var r=Be();ca(t,i,a,r)}function ca(t,i,a,r){var f={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(zs(t))Kh(i,f);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var T=i.lastRenderedState,b=g(T,a);if(f.hasEagerState=!0,f.eagerState=b,De(b,T))return Es(t,i,f,0),Ut===null&&Ss(),!1}catch{}finally{}if(a=Nr(t,i,f,r),a!==null)return Ie(a,t,r),Qh(a,i,r),!0}return!1}function du(t,i,a,r){if(r={lane:2,revertLane:Fu(),action:r,hasEagerState:!1,eagerState:null,next:null},zs(t)){if(i)throw Error(s(479))}else i=Nr(t,a,r,2),i!==null&&Ie(i,t,2)}function zs(t){var i=t.alternate;return t===St||i!==null&&i===St}function Kh(t,i){io=Ls=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Qh(t,i,a){if((a&4194048)!==0){var r=i.lanes;r&=t.pendingLanes,a|=r,i.lanes=a,ed(t,a)}}var ks={readContext:de,use:Vs,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt},Xh={readContext:de,use:Vs,useCallback:function(t,i){return be().memoizedState=[t,i===void 0?null:i],t},useContext:de,useEffect:Nh,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Us(4194308,4,Bh.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Us(4194308,4,t,i)},useInsertionEffect:function(t,i){Us(4,2,t,i)},useMemo:function(t,i){var a=be();i=i===void 0?null:i;var r=t();if(Ei){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[r,i],r},useReducer:function(t,i,a){var r=be();if(a!==void 0){var f=a(i);if(Ei){Nn(!0);try{a(i)}finally{Nn(!1)}}}else f=i;return r.memoizedState=r.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},r.queue=t,t=t.dispatch=qS.bind(null,St,t),[r.memoizedState,t]},useRef:function(t){var i=be();return t={current:t},i.memoizedState=t},useState:function(t){t=su(t);var i=t.queue,a=Yh.bind(null,St,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ru,useDeferredValue:function(t,i){var a=be();return uu(a,t,i)},useTransition:function(){var t=su(!1);return t=Oh.bind(null,St,t.queue,!0,!1),be().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var r=St,f=be();if(Rt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ut===null)throw Error(s(349));(At&124)!==0||mh(r,i,a)}f.memoizedState=a;var g={value:a,getSnapshot:i};return f.queue=g,Nh(yh.bind(null,r,g,t),[t]),r.flags|=2048,ao(9,Is(),gh.bind(null,r,g,a,i),null),a},useId:function(){var t=be(),i=Ut.identifierPrefix;if(Rt){var a=mn,r=pn;a=(r&~(1<<32-we(r)-1)).toString(32)+a,i="«"+i+"R"+a,a=Ps++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=IS++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:fu,useFormState:xh,useActionState:xh,useOptimistic:function(t){var i=be();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=du.bind(null,St,!0,a),a.dispatch=i,[t,i]},useMemoCache:iu,useCacheRefresh:function(){return be().memoizedState=GS.bind(null,St)}},Zh={readContext:de,use:Vs,useCallback:Uh,useContext:de,useEffect:Lh,useImperativeHandle:Ih,useInsertionEffect:Ph,useLayoutEffect:Vh,useMemo:zh,useReducer:Bs,useRef:Dh,useState:function(){return Bs(vn)},useDebugValue:ru,useDeferredValue:function(t,i){var a=Wt();return kh(a,Lt.memoizedState,t,i)},useTransition:function(){var t=Bs(vn)[0],i=Wt().memoizedState;return[typeof t=="boolean"?t:ra(t),i]},useSyncExternalStore:ph,useId:Hh,useHostTransitionStatus:fu,useFormState:_h,useActionState:_h,useOptimistic:function(t,i){var a=Wt();return Sh(a,Lt,t,i)},useMemoCache:iu,useCacheRefresh:Fh},HS={readContext:de,use:Vs,useCallback:Uh,useContext:de,useEffect:Lh,useImperativeHandle:Ih,useInsertionEffect:Ph,useLayoutEffect:Vh,useMemo:zh,useReducer:au,useRef:Dh,useState:function(){return au(vn)},useDebugValue:ru,useDeferredValue:function(t,i){var a=Wt();return Lt===null?uu(a,t,i):kh(a,Lt.memoizedState,t,i)},useTransition:function(){var t=au(vn)[0],i=Wt().memoizedState;return[typeof t=="boolean"?t:ra(t),i]},useSyncExternalStore:ph,useId:Hh,useHostTransitionStatus:fu,useFormState:wh,useActionState:wh,useOptimistic:function(t,i){var a=Wt();return Lt!==null?Sh(a,Lt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:iu,useCacheRefresh:Fh},so=null,fa=0;function Os(t){var i=fa;return fa+=1,so===null&&(so=[]),sh(so,t,i)}function da(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Gs(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function $h(t){var i=t._init;return i(t._payload)}function Jh(t){function i(R,_){if(t){var P=R.deletions;P===null?(R.deletions=[_],R.flags|=16):P.push(_)}}function a(R,_){if(!t)return null;for(;_!==null;)i(R,_),_=_.sibling;return null}function r(R){for(var _=new Map;R!==null;)R.key!==null?_.set(R.key,R):_.set(R.index,R),R=R.sibling;return _}function f(R,_){return R=hn(R,_),R.index=0,R.sibling=null,R}function g(R,_,P){return R.index=P,t?(P=R.alternate,P!==null?(P=P.index,P<_?(R.flags|=67108866,_):P):(R.flags|=67108866,_)):(R.flags|=1048576,_)}function T(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function b(R,_,P,q){return _===null||_.tag!==6?(_=Pr(P,R.mode,q),_.return=R,_):(_=f(_,P),_.return=R,_)}function M(R,_,P,q){var at=P.type;return at===A?O(R,_,P.props.children,q,P.key):_!==null&&(_.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===H&&$h(at)===_.type)?(_=f(_,P.props),da(_,P),_.return=R,_):(_=Cs(P.type,P.key,P.props,null,R.mode,q),da(_,P),_.return=R,_)}function B(R,_,P,q){return _===null||_.tag!==4||_.stateNode.containerInfo!==P.containerInfo||_.stateNode.implementation!==P.implementation?(_=Vr(P,R.mode,q),_.return=R,_):(_=f(_,P.children||[]),_.return=R,_)}function O(R,_,P,q,at){return _===null||_.tag!==7?(_=hi(P,R.mode,q,at),_.return=R,_):(_=f(_,P),_.return=R,_)}function Y(R,_,P){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Pr(""+_,R.mode,P),_.return=R,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case E:return P=Cs(_.type,_.key,_.props,null,R.mode,P),da(P,_),P.return=R,P;case C:return _=Vr(_,R.mode,P),_.return=R,_;case H:var q=_._init;return _=q(_._payload),Y(R,_,P)}if(tt(_)||Tt(_))return _=hi(_,R.mode,P,null),_.return=R,_;if(typeof _.then=="function")return Y(R,Os(_),P);if(_.$$typeof===N)return Y(R,_s(R,_),P);Gs(R,_)}return null}function I(R,_,P,q){var at=_!==null?_.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return at!==null?null:b(R,_,""+P,q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case E:return P.key===at?M(R,_,P,q):null;case C:return P.key===at?B(R,_,P,q):null;case H:return at=P._init,P=at(P._payload),I(R,_,P,q)}if(tt(P)||Tt(P))return at!==null?null:O(R,_,P,q,null);if(typeof P.then=="function")return I(R,_,Os(P),q);if(P.$$typeof===N)return I(R,_,_s(R,P),q);Gs(R,P)}return null}function U(R,_,P,q,at){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return R=R.get(P)||null,b(_,R,""+q,at);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return R=R.get(q.key===null?P:q.key)||null,M(_,R,q,at);case C:return R=R.get(q.key===null?P:q.key)||null,B(_,R,q,at);case H:var Et=q._init;return q=Et(q._payload),U(R,_,P,q,at)}if(tt(q)||Tt(q))return R=R.get(P)||null,O(_,R,q,at,null);if(typeof q.then=="function")return U(R,_,P,Os(q),at);if(q.$$typeof===N)return U(R,_,P,_s(_,q),at);Gs(_,q)}return null}function ht(R,_,P,q){for(var at=null,Et=null,st=_,ft=_=0,ae=null;st!==null&&ft<P.length;ft++){st.index>ft?(ae=st,st=null):ae=st.sibling;var _t=I(R,st,P[ft],q);if(_t===null){st===null&&(st=ae);break}t&&st&&_t.alternate===null&&i(R,st),_=g(_t,_,ft),Et===null?at=_t:Et.sibling=_t,Et=_t,st=ae}if(ft===P.length)return a(R,st),Rt&&mi(R,ft),at;if(st===null){for(;ft<P.length;ft++)st=Y(R,P[ft],q),st!==null&&(_=g(st,_,ft),Et===null?at=st:Et.sibling=st,Et=st);return Rt&&mi(R,ft),at}for(st=r(st);ft<P.length;ft++)ae=U(st,R,ft,P[ft],q),ae!==null&&(t&&ae.alternate!==null&&st.delete(ae.key===null?ft:ae.key),_=g(ae,_,ft),Et===null?at=ae:Et.sibling=ae,Et=ae);return t&&st.forEach(function(ti){return i(R,ti)}),Rt&&mi(R,ft),at}function ct(R,_,P,q){if(P==null)throw Error(s(151));for(var at=null,Et=null,st=_,ft=_=0,ae=null,_t=P.next();st!==null&&!_t.done;ft++,_t=P.next()){st.index>ft?(ae=st,st=null):ae=st.sibling;var ti=I(R,st,_t.value,q);if(ti===null){st===null&&(st=ae);break}t&&st&&ti.alternate===null&&i(R,st),_=g(ti,_,ft),Et===null?at=ti:Et.sibling=ti,Et=ti,st=ae}if(_t.done)return a(R,st),Rt&&mi(R,ft),at;if(st===null){for(;!_t.done;ft++,_t=P.next())_t=Y(R,_t.value,q),_t!==null&&(_=g(_t,_,ft),Et===null?at=_t:Et.sibling=_t,Et=_t);return Rt&&mi(R,ft),at}for(st=r(st);!_t.done;ft++,_t=P.next())_t=U(st,R,ft,_t.value,q),_t!==null&&(t&&_t.alternate!==null&&st.delete(_t.key===null?ft:_t.key),_=g(_t,_,ft),Et===null?at=_t:Et.sibling=_t,Et=_t);return t&&st.forEach(function(FE){return i(R,FE)}),Rt&&mi(R,ft),at}function Vt(R,_,P,q){if(typeof P=="object"&&P!==null&&P.type===A&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case E:t:{for(var at=P.key;_!==null;){if(_.key===at){if(at=P.type,at===A){if(_.tag===7){a(R,_.sibling),q=f(_,P.props.children),q.return=R,R=q;break t}}else if(_.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===H&&$h(at)===_.type){a(R,_.sibling),q=f(_,P.props),da(q,P),q.return=R,R=q;break t}a(R,_);break}else i(R,_);_=_.sibling}P.type===A?(q=hi(P.props.children,R.mode,q,P.key),q.return=R,R=q):(q=Cs(P.type,P.key,P.props,null,R.mode,q),da(q,P),q.return=R,R=q)}return T(R);case C:t:{for(at=P.key;_!==null;){if(_.key===at)if(_.tag===4&&_.stateNode.containerInfo===P.containerInfo&&_.stateNode.implementation===P.implementation){a(R,_.sibling),q=f(_,P.children||[]),q.return=R,R=q;break t}else{a(R,_);break}else i(R,_);_=_.sibling}q=Vr(P,R.mode,q),q.return=R,R=q}return T(R);case H:return at=P._init,P=at(P._payload),Vt(R,_,P,q)}if(tt(P))return ht(R,_,P,q);if(Tt(P)){if(at=Tt(P),typeof at!="function")throw Error(s(150));return P=at.call(P),ct(R,_,P,q)}if(typeof P.then=="function")return Vt(R,_,Os(P),q);if(P.$$typeof===N)return Vt(R,_,_s(R,P),q);Gs(R,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,_!==null&&_.tag===6?(a(R,_.sibling),q=f(_,P),q.return=R,R=q):(a(R,_),q=Pr(P,R.mode,q),q.return=R,R=q),T(R)):a(R,_)}return function(R,_,P,q){try{fa=0;var at=Vt(R,_,P,q);return so=null,at}catch(st){if(st===na||st===ws)throw st;var Et=Ne(29,st,null,R.mode);return Et.lanes=q,Et.return=R,Et}finally{}}}var lo=Jh(!0),Wh=Jh(!1),He=Q(null),nn=null;function kn(t){var i=t.alternate;j(ee,ee.current&1),j(He,t),nn===null&&(i===null||no.current!==null||i.memoizedState!==null)&&(nn=t)}function jh(t){if(t.tag===22){if(j(ee,ee.current),j(He,t),nn===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(nn=t)}}else On()}function On(){j(ee,ee.current),j(He,He.current)}function Tn(t){it(He),nn===t&&(nn=null),it(ee)}var ee=Q(0);function qs(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||nc(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function hu(t,i,a,r){i=t.memoizedState,a=a(r,i),a=a==null?i:v({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var pu={enqueueSetState:function(t,i,a){t=t._reactInternals;var r=Be(),f=In(r);f.payload=i,a!=null&&(f.callback=a),i=Un(t,f,r),i!==null&&(Ie(i,t,r),oa(i,t,r))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var r=Be(),f=In(r);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Un(t,f,r),i!==null&&(Ie(i,t,r),oa(i,t,r))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Be(),r=In(a);r.tag=2,i!=null&&(r.callback=i),i=Un(t,r,a),i!==null&&(Ie(i,t,a),oa(i,t,a))}};function tp(t,i,a,r,f,g,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,g,T):i.prototype&&i.prototype.isPureReactComponent?!Xo(a,r)||!Xo(f,g):!0}function ep(t,i,a,r){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,r),i.state!==t&&pu.enqueueReplaceState(i,i.state,null)}function bi(t,i){var a=i;if("ref"in i){a={};for(var r in i)r!=="ref"&&(a[r]=i[r])}if(t=t.defaultProps){a===i&&(a=v({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var Hs=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function np(t){Hs(t)}function ip(t){console.error(t)}function op(t){Hs(t)}function Fs(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function ap(t,i,a){try{var r=t.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function mu(t,i,a){return a=In(a),a.tag=3,a.payload={element:null},a.callback=function(){Fs(t,i)},a}function sp(t){return t=In(t),t.tag=3,t}function lp(t,i,a,r){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var g=r.value;t.payload=function(){return f(g)},t.callback=function(){ap(i,a,r)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){ap(i,a,r),typeof f!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var b=r.stack;this.componentDidCatch(r.value,{componentStack:b!==null?b:""})})}function FS(t,i,a,r,f){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=a.alternate,i!==null&&jo(i,a,f,!0),a=He.current,a!==null){switch(a.tag){case 13:return nn===null?ku():a.alternate===null&&Yt===0&&(Yt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,r===Fr?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([r]):i.add(r),Gu(t,r,f)),!1;case 22:return a.flags|=65536,r===Fr?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([r]):a.add(r)),Gu(t,r,f)),!1}throw Error(s(435,a.tag))}return Gu(t,r,f),ku(),!1}if(Rt)return i=He.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,r!==Ur&&(t=Error(s(422),{cause:r}),Wo(ke(t,a)))):(r!==Ur&&(i=Error(s(423),{cause:r}),Wo(ke(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,r=ke(r,a),f=mu(t.stateNode,r,f),Qr(t,f),Yt!==4&&(Yt=2)),!1;var g=Error(s(520),{cause:r});if(g=ke(g,a),Ta===null?Ta=[g]:Ta.push(g),Yt!==4&&(Yt=2),i===null)return!0;r=ke(r,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=mu(a.stateNode,r,t),Qr(a,t),!1;case 1:if(i=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Kn===null||!Kn.has(g))))return a.flags|=65536,f&=-f,a.lanes|=f,f=sp(f),lp(f,t,a,r),Qr(a,f),!1}a=a.return}while(a!==null);return!1}var rp=Error(s(461)),ie=!1;function se(t,i,a,r){i.child=t===null?Wh(i,null,a,r):lo(i,t.child,a,r)}function up(t,i,a,r,f){a=a.render;var g=i.ref;if("ref"in r){var T={};for(var b in r)b!=="ref"&&(T[b]=r[b])}else T=r;return Ti(i),r=Wr(t,i,a,T,g,f),b=jr(),t!==null&&!ie?(tu(t,i,f),Sn(t,i,f)):(Rt&&b&&Br(i),i.flags|=1,se(t,i,r,f),i.child)}function cp(t,i,a,r,f){if(t===null){var g=a.type;return typeof g=="function"&&!Lr(g)&&g.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=g,fp(t,i,g,r,f)):(t=Cs(a.type,null,r,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(g=t.child,!Cu(t,f)){var T=g.memoizedProps;if(a=a.compare,a=a!==null?a:Xo,a(T,r)&&t.ref===i.ref)return Sn(t,i,f)}return i.flags|=1,t=hn(g,r),t.ref=i.ref,t.return=i,i.child=t}function fp(t,i,a,r,f){if(t!==null){var g=t.memoizedProps;if(Xo(g,r)&&t.ref===i.ref)if(ie=!1,i.pendingProps=r=g,Cu(t,f))(t.flags&131072)!==0&&(ie=!0);else return i.lanes=t.lanes,Sn(t,i,f)}return gu(t,i,a,r,f)}function dp(t,i,a){var r=i.pendingProps,f=r.children,g=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if((i.flags&128)!==0){if(r=g!==null?g.baseLanes|a:a,t!==null){for(f=i.child=t.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;i.childLanes=g&~r}else i.childLanes=0,i.child=null;return hp(t,i,r,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Rs(i,g!==null?g.cachePool:null),g!==null?fh(i,g):Zr(),jh(i);else return i.lanes=i.childLanes=536870912,hp(t,i,g!==null?g.baseLanes|a:a,a)}else g!==null?(Rs(i,g.cachePool),fh(i,g),On(),i.memoizedState=null):(t!==null&&Rs(i,null),Zr(),On());return se(t,i,f,a),i.child}function hp(t,i,a,r){var f=Hr();return f=f===null?null:{parent:te._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Rs(i,null),Zr(),jh(i),t!==null&&jo(t,i,r,!0),null}function Ys(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function gu(t,i,a,r,f){return Ti(i),a=Wr(t,i,a,r,void 0,f),r=jr(),t!==null&&!ie?(tu(t,i,f),Sn(t,i,f)):(Rt&&r&&Br(i),i.flags|=1,se(t,i,a,f),i.child)}function pp(t,i,a,r,f,g){return Ti(i),i.updateQueue=null,a=hh(i,r,a,f),dh(t),r=jr(),t!==null&&!ie?(tu(t,i,g),Sn(t,i,g)):(Rt&&r&&Br(i),i.flags|=1,se(t,i,a,g),i.child)}function mp(t,i,a,r,f){if(Ti(i),i.stateNode===null){var g=Ji,T=a.contextType;typeof T=="object"&&T!==null&&(g=de(T)),g=new a(r,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=pu,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=r,g.state=i.memoizedState,g.refs={},Yr(i),T=a.contextType,g.context=typeof T=="object"&&T!==null?de(T):Ji,g.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(hu(i,a,T,r),g.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&pu.enqueueReplaceState(g,g.state,null),sa(i,r,g,f),aa(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(t===null){g=i.stateNode;var b=i.memoizedProps,M=bi(a,b);g.props=M;var B=g.context,O=a.contextType;T=Ji,typeof O=="object"&&O!==null&&(T=de(O));var Y=a.getDerivedStateFromProps;O=typeof Y=="function"||typeof g.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,O||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b||B!==T)&&ep(i,g,r,T),Bn=!1;var I=i.memoizedState;g.state=I,sa(i,r,g,f),aa(),B=i.memoizedState,b||I!==B||Bn?(typeof Y=="function"&&(hu(i,a,Y,r),B=i.memoizedState),(M=Bn||tp(i,a,M,r,I,B,T))?(O||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=B),g.props=r,g.state=B,g.context=T,r=M):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{g=i.stateNode,Kr(t,i),T=i.memoizedProps,O=bi(a,T),g.props=O,Y=i.pendingProps,I=g.context,B=a.contextType,M=Ji,typeof B=="object"&&B!==null&&(M=de(B)),b=a.getDerivedStateFromProps,(B=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==Y||I!==M)&&ep(i,g,r,M),Bn=!1,I=i.memoizedState,g.state=I,sa(i,r,g,f),aa();var U=i.memoizedState;T!==Y||I!==U||Bn||t!==null&&t.dependencies!==null&&xs(t.dependencies)?(typeof b=="function"&&(hu(i,a,b,r),U=i.memoizedState),(O=Bn||tp(i,a,O,r,I,U,M)||t!==null&&t.dependencies!==null&&xs(t.dependencies))?(B||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(r,U,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(r,U,M)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=U),g.props=r,g.state=U,g.context=M,r=O):(typeof g.componentDidUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=1024),r=!1)}return g=r,Ys(t,i),r=(i.flags&128)!==0,g||r?(g=i.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,t!==null&&r?(i.child=lo(i,t.child,null,f),i.child=lo(i,null,a,f)):se(t,i,a,f),i.memoizedState=g.state,t=i.child):t=Sn(t,i,f),t}function gp(t,i,a,r){return Jo(),i.flags|=256,se(t,i,a,r),i.child}var yu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vu(t){return{baseLanes:t,cachePool:ih()}}function Tu(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Fe),t}function yp(t,i,a){var r=i.pendingProps,f=!1,g=(i.flags&128)!==0,T;if((T=g)||(T=t!==null&&t.memoizedState===null?!1:(ee.current&2)!==0),T&&(f=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(Rt){if(f?kn(i):On(),Rt){var b=Ft,M;if(M=b){t:{for(M=b,b=en;M.nodeType!==8;){if(!b){b=null;break t}if(M=Je(M.nextSibling),M===null){b=null;break t}}b=M}b!==null?(i.memoizedState={dehydrated:b,treeContext:pi!==null?{id:pn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},M=Ne(18,null,null,0),M.stateNode=b,M.return=i,i.child=M,ge=i,Ft=null,M=!0):M=!1}M||yi(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return nc(b)?i.lanes=32:i.lanes=536870912,null;Tn(i)}return b=r.children,r=r.fallback,f?(On(),f=i.mode,b=Ks({mode:"hidden",children:b},f),r=hi(r,f,a,null),b.return=i,r.return=i,b.sibling=r,i.child=b,f=i.child,f.memoizedState=vu(a),f.childLanes=Tu(t,T,a),i.memoizedState=yu,r):(kn(i),Su(i,b))}if(M=t.memoizedState,M!==null&&(b=M.dehydrated,b!==null)){if(g)i.flags&256?(kn(i),i.flags&=-257,i=Eu(t,i,a)):i.memoizedState!==null?(On(),i.child=t.child,i.flags|=128,i=null):(On(),f=r.fallback,b=i.mode,r=Ks({mode:"visible",children:r.children},b),f=hi(f,b,a,null),f.flags|=2,r.return=i,f.return=i,r.sibling=f,i.child=r,lo(i,t.child,null,a),r=i.child,r.memoizedState=vu(a),r.childLanes=Tu(t,T,a),i.memoizedState=yu,i=f);else if(kn(i),nc(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var B=T.dgst;T=B,r=Error(s(419)),r.stack="",r.digest=T,Wo({value:r,source:null,stack:null}),i=Eu(t,i,a)}else if(ie||jo(t,i,a,!1),T=(a&t.childLanes)!==0,ie||T){if(T=Ut,T!==null&&(r=a&-a,r=(r&42)!==0?1:ir(r),r=(r&(T.suspendedLanes|a))!==0?0:r,r!==0&&r!==M.retryLane))throw M.retryLane=r,$i(t,r),Ie(T,t,r),rp;b.data==="$?"||ku(),i=Eu(t,i,a)}else b.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=M.treeContext,Ft=Je(b.nextSibling),ge=i,Rt=!0,gi=null,en=!1,t!==null&&(Ge[qe++]=pn,Ge[qe++]=mn,Ge[qe++]=pi,pn=t.id,mn=t.overflow,pi=i),i=Su(i,r.children),i.flags|=4096);return i}return f?(On(),f=r.fallback,b=i.mode,M=t.child,B=M.sibling,r=hn(M,{mode:"hidden",children:r.children}),r.subtreeFlags=M.subtreeFlags&65011712,B!==null?f=hn(B,f):(f=hi(f,b,a,null),f.flags|=2),f.return=i,r.return=i,r.sibling=f,i.child=r,r=f,f=i.child,b=t.child.memoizedState,b===null?b=vu(a):(M=b.cachePool,M!==null?(B=te._currentValue,M=M.parent!==B?{parent:B,pool:B}:M):M=ih(),b={baseLanes:b.baseLanes|a,cachePool:M}),f.memoizedState=b,f.childLanes=Tu(t,T,a),i.memoizedState=yu,r):(kn(i),a=t.child,t=a.sibling,a=hn(a,{mode:"visible",children:r.children}),a.return=i,a.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=a,i.memoizedState=null,a)}function Su(t,i){return i=Ks({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ks(t,i){return t=Ne(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Eu(t,i,a){return lo(i,t.child,null,a),t=Su(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function vp(t,i,a){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i),kr(t.return,i,a)}function bu(t,i,a,r,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=r,g.tail=a,g.tailMode=f)}function Tp(t,i,a){var r=i.pendingProps,f=r.revealOrder,g=r.tail;if(se(t,i,r.children,a),r=ee.current,(r&2)!==0)r=r&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vp(t,a,i);else if(t.tag===19)vp(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break t;for(;t.sibling===null;){if(t.return===null||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(j(ee,r),f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&qs(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),bu(i,!1,f,a,g);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&qs(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}bu(i,!0,a,null,g);break;case"together":bu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Sn(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Yn|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(jo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=hn(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=hn(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Cu(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&xs(t)))}function YS(t,i,a){switch(i.tag){case 3:kt(i,i.stateNode.containerInfo),Vn(i,te,t.memoizedState.cache),Jo();break;case 27:case 5:Wl(i);break;case 4:kt(i,i.stateNode.containerInfo);break;case 10:Vn(i,i.type,i.memoizedProps.value);break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(kn(i),i.flags|=128,null):(a&i.child.childLanes)!==0?yp(t,i,a):(kn(i),t=Sn(t,i,a),t!==null?t.sibling:null);kn(i);break;case 19:var f=(t.flags&128)!==0;if(r=(a&i.childLanes)!==0,r||(jo(t,i,a,!1),r=(a&i.childLanes)!==0),f){if(r)return Tp(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),j(ee,ee.current),r)break;return null;case 22:case 23:return i.lanes=0,dp(t,i,a);case 24:Vn(i,te,t.memoizedState.cache)}return Sn(t,i,a)}function Sp(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)ie=!0;else{if(!Cu(t,a)&&(i.flags&128)===0)return ie=!1,YS(t,i,a);ie=(t.flags&131072)!==0}else ie=!1,Rt&&(i.flags&1048576)!==0&&$d(i,Ms,i.index);switch(i.lanes=0,i.tag){case 16:t:{t=i.pendingProps;var r=i.elementType,f=r._init;if(r=f(r._payload),i.type=r,typeof r=="function")Lr(r)?(t=bi(r,t),i.tag=1,i=mp(null,i,r,t,a)):(i.tag=0,i=gu(null,i,r,t,a));else{if(r!=null){if(f=r.$$typeof,f===K){i.tag=11,i=up(null,i,r,t,a);break t}else if(f===Z){i.tag=14,i=cp(null,i,r,t,a);break t}}throw i=$(r)||r,Error(s(306,i,""))}}return i;case 0:return gu(t,i,i.type,i.pendingProps,a);case 1:return r=i.type,f=bi(r,i.pendingProps),mp(t,i,r,f,a);case 3:t:{if(kt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));r=i.pendingProps;var g=i.memoizedState;f=g.element,Kr(t,i),sa(i,r,null,a);var T=i.memoizedState;if(r=T.cache,Vn(i,te,r),r!==g.cache&&Or(i,[te],a,!0),aa(),r=T.element,g.isDehydrated)if(g={element:r,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=gp(t,i,r,a);break t}else if(r!==f){f=ke(Error(s(424)),i),Wo(f),i=gp(t,i,r,a);break t}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ft=Je(t.firstChild),ge=i,Rt=!0,gi=null,en=!0,a=Wh(i,null,r,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Jo(),r===f){i=Sn(t,i,a);break t}se(t,i,r,a)}i=i.child}return i;case 26:return Ys(t,i),t===null?(a=Am(i.type,null,i.pendingProps,null))?i.memoizedState=a:Rt||(a=i.type,t=i.pendingProps,r=sl(mt.current).createElement(a),r[fe]=i,r[Se]=t,re(r,a,t),ne(r),i.stateNode=r):i.memoizedState=Am(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Wl(i),t===null&&Rt&&(r=i.stateNode=Em(i.type,i.pendingProps,mt.current),ge=i,en=!0,f=Ft,Zn(i.type)?(ic=f,Ft=Je(r.firstChild)):Ft=f),se(t,i,i.pendingProps.children,a),Ys(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Rt&&((f=r=Ft)&&(r=TE(r,i.type,i.pendingProps,en),r!==null?(i.stateNode=r,ge=i,Ft=Je(r.firstChild),en=!1,f=!0):f=!1),f||yi(i)),Wl(i),f=i.type,g=i.pendingProps,T=t!==null?t.memoizedProps:null,r=g.children,ju(f,g)?r=null:T!==null&&ju(f,T)&&(i.flags|=32),i.memoizedState!==null&&(f=Wr(t,i,US,null,null,a),Ra._currentValue=f),Ys(t,i),se(t,i,r,a),i.child;case 6:return t===null&&Rt&&((t=a=Ft)&&(a=SE(a,i.pendingProps,en),a!==null?(i.stateNode=a,ge=i,Ft=null,t=!0):t=!1),t||yi(i)),null;case 13:return yp(t,i,a);case 4:return kt(i,i.stateNode.containerInfo),r=i.pendingProps,t===null?i.child=lo(i,null,r,a):se(t,i,r,a),i.child;case 11:return up(t,i,i.type,i.pendingProps,a);case 7:return se(t,i,i.pendingProps,a),i.child;case 8:return se(t,i,i.pendingProps.children,a),i.child;case 12:return se(t,i,i.pendingProps.children,a),i.child;case 10:return r=i.pendingProps,Vn(i,i.type,r.value),se(t,i,r.children,a),i.child;case 9:return f=i.type._context,r=i.pendingProps.children,Ti(i),f=de(f),r=r(f),i.flags|=1,se(t,i,r,a),i.child;case 14:return cp(t,i,i.type,i.pendingProps,a);case 15:return fp(t,i,i.type,i.pendingProps,a);case 19:return Tp(t,i,a);case 31:return r=i.pendingProps,a=i.mode,r={mode:r.mode,children:r.children},t===null?(a=Ks(r,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=hn(t.child,r),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return dp(t,i,a);case 24:return Ti(i),r=de(te),t===null?(f=Hr(),f===null&&(f=Ut,g=Gr(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=a),f=g),i.memoizedState={parent:r,cache:f},Yr(i),Vn(i,te,f)):((t.lanes&a)!==0&&(Kr(t,i),sa(i,null,null,a),aa()),f=t.memoizedState,g=i.memoizedState,f.parent!==r?(f={parent:r,cache:r},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Vn(i,te,r)):(r=g.cache,Vn(i,te,r),r!==f.cache&&Or(i,[te],a,!0))),se(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function En(t){t.flags|=4}function Ep(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!wm(i)){if(i=He.current,i!==null&&((At&4194048)===At?nn!==null:(At&62914560)!==At&&(At&536870912)===0||i!==nn))throw ia=Fr,oh;t.flags|=8192}}function Qs(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?jf():536870912,t.lanes|=i,fo|=i)}function ha(t,i){if(!Rt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,r=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,r|=f.subtreeFlags&65011712,r|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,r|=f.subtreeFlags,r|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=r,t.childLanes=a,i}function KS(t,i,a){var r=i.pendingProps;switch(Ir(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(i),null;case 1:return qt(i),null;case 3:return a=i.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),yn(te),Dn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&($o(i)?En(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,jd())),qt(i),null;case 26:return a=i.memoizedState,t===null?(En(i),a!==null?(qt(i),Ep(i,a)):(qt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(En(i),qt(i),Ep(i,a)):(qt(i),i.flags&=-16777217):(t.memoizedProps!==r&&En(i),qt(i),i.flags&=-16777217),null;case 27:os(i),a=mt.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==r&&En(i);else{if(!r){if(i.stateNode===null)throw Error(s(166));return qt(i),null}t=ut.current,$o(i)?Jd(i):(t=Em(f,r,a),i.stateNode=t,En(i))}return qt(i),null;case 5:if(os(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==r&&En(i);else{if(!r){if(i.stateNode===null)throw Error(s(166));return qt(i),null}if(t=ut.current,$o(i))Jd(i);else{switch(f=sl(mt.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?f.createElement("select",{is:r.is}):f.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?f.createElement(a,{is:r.is}):f.createElement(a)}}t[fe]=i,t[Se]=r;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;t:switch(re(t,a,r),a){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&En(i)}}return qt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==r&&En(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(s(166));if(t=mt.current,$o(i)){if(t=i.stateNode,a=i.memoizedProps,r=null,f=ge,f!==null)switch(f.tag){case 27:case 5:r=f.memoizedProps}t[fe]=i,t=!!(t.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||pm(t.nodeValue,a)),t||yi(i)}else t=sl(t).createTextNode(r),t[fe]=i,i.stateNode=t}return qt(i),null;case 13:if(r=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=$o(i),r!==null&&r.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[fe]=i}else Jo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;qt(i),f=!1}else f=jd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Tn(i),i):(Tn(i),null)}if(Tn(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=r!==null,t=t!==null&&t.memoizedState!==null,a){r=i.child,f=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(f=r.alternate.memoizedState.cachePool.pool);var g=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(g=r.memoizedState.cachePool.pool),g!==f&&(r.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Qs(i,i.updateQueue),qt(i),null;case 4:return Dn(),t===null&&Xu(i.stateNode.containerInfo),qt(i),null;case 10:return yn(i.type),qt(i),null;case 19:if(it(ee),f=i.memoizedState,f===null)return qt(i),null;if(r=(i.flags&128)!==0,g=f.rendering,g===null)if(r)ha(f,!1);else{if(Yt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(g=qs(t),g!==null){for(i.flags|=128,ha(f,!1),t=g.updateQueue,i.updateQueue=t,Qs(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Zd(a,t),a=a.sibling;return j(ee,ee.current&1|2),i.child}t=t.sibling}f.tail!==null&&tn()>$s&&(i.flags|=128,r=!0,ha(f,!1),i.lanes=4194304)}else{if(!r)if(t=qs(g),t!==null){if(i.flags|=128,r=!0,t=t.updateQueue,i.updateQueue=t,Qs(i,t),ha(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Rt)return qt(i),null}else 2*tn()-f.renderingStartTime>$s&&a!==536870912&&(i.flags|=128,r=!0,ha(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(t=f.last,t!==null?t.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=tn(),i.sibling=null,t=ee.current,j(ee,r?t&1|2:t&1),i):(qt(i),null);case 22:case 23:return Tn(i),$r(),r=i.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(a&536870912)!==0&&(i.flags&128)===0&&(qt(i),i.subtreeFlags&6&&(i.flags|=8192)):qt(i),a=i.updateQueue,a!==null&&Qs(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(i.flags|=2048),t!==null&&it(Si),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),yn(te),qt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function QS(t,i){switch(Ir(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return yn(te),Dn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return os(i),null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Jo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return it(ee),null;case 4:return Dn(),null;case 10:return yn(i.type),null;case 22:case 23:return Tn(i),$r(),t!==null&&it(Si),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return yn(te),null;case 25:return null;default:return null}}function bp(t,i){switch(Ir(i),i.tag){case 3:yn(te),Dn();break;case 26:case 27:case 5:os(i);break;case 4:Dn();break;case 13:Tn(i);break;case 19:it(ee);break;case 10:yn(i.type);break;case 22:case 23:Tn(i),$r(),t!==null&&it(Si);break;case 24:yn(te)}}function pa(t,i){try{var a=i.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var f=r.next;a=f;do{if((a.tag&t)===t){r=void 0;var g=a.create,T=a.inst;r=g(),T.destroy=r}a=a.next}while(a!==f)}}catch(b){Bt(i,i.return,b)}}function Gn(t,i,a){try{var r=i.updateQueue,f=r!==null?r.lastEffect:null;if(f!==null){var g=f.next;r=g;do{if((r.tag&t)===t){var T=r.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,f=i;var M=a,B=b;try{B()}catch(O){Bt(f,M,O)}}}r=r.next}while(r!==g)}}catch(O){Bt(i,i.return,O)}}function Cp(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ch(i,a)}catch(r){Bt(t,t.return,r)}}}function Ap(t,i,a){a.props=bi(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(r){Bt(t,i,r)}}function ma(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof a=="function"?t.refCleanup=a(r):a.current=r}}catch(f){Bt(t,i,f)}}function on(t,i){var a=t.ref,r=t.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(f){Bt(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Bt(t,i,f)}else a.current=null}function Mp(t){var i=t.type,a=t.memoizedProps,r=t.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break t;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(f){Bt(t,t.return,f)}}function Au(t,i,a){try{var r=t.stateNode;pE(r,t.type,a,i),r[Se]=i}catch(f){Bt(t,t.return,f)}}function xp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zn(t.type)||t.tag===4}function Mu(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||xp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zn(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xu(t,i,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=al));else if(r!==4&&(r===27&&Zn(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(xu(t,i,a),t=t.sibling;t!==null;)xu(t,i,a),t=t.sibling}function Xs(t,i,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(r!==4&&(r===27&&Zn(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Xs(t,i,a),t=t.sibling;t!==null;)Xs(t,i,a),t=t.sibling}function _p(t){var i=t.stateNode,a=t.memoizedProps;try{for(var r=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);re(i,r,a),i[fe]=t,i[Se]=a}catch(g){Bt(t,t.return,g)}}var bn=!1,Zt=!1,_u=!1,Rp=typeof WeakSet=="function"?WeakSet:Set,oe=null;function XS(t,i){if(t=t.containerInfo,Ju=dl,t=kd(t),Mr(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var f=r.anchorOffset,g=r.focusNode;r=r.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break t}var T=0,b=-1,M=-1,B=0,O=0,Y=t,I=null;e:for(;;){for(var U;Y!==a||f!==0&&Y.nodeType!==3||(b=T+f),Y!==g||r!==0&&Y.nodeType!==3||(M=T+r),Y.nodeType===3&&(T+=Y.nodeValue.length),(U=Y.firstChild)!==null;)I=Y,Y=U;for(;;){if(Y===t)break e;if(I===a&&++B===f&&(b=T),I===g&&++O===r&&(M=T),(U=Y.nextSibling)!==null)break;Y=I,I=Y.parentNode}Y=U}a=b===-1||M===-1?null:{start:b,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wu={focusedElem:t,selectionRange:a},dl=!1,oe=i;oe!==null;)if(i=oe,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,oe=t;else for(;oe!==null;){switch(i=oe,g=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,a=i,f=g.memoizedProps,g=g.memoizedState,r=a.stateNode;try{var ht=bi(a.type,f,a.elementType===a.type);t=r.getSnapshotBeforeUpdate(ht,g),r.__reactInternalSnapshotBeforeUpdate=t}catch(ct){Bt(a,a.return,ct)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)ec(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ec(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,oe=t;break}oe=i.return}}function wp(t,i,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:qn(t,a),r&4&&pa(5,a);break;case 1:if(qn(t,a),r&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){Bt(a,a.return,T)}else{var f=bi(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Bt(a,a.return,T)}}r&64&&Cp(a),r&512&&ma(a,a.return);break;case 3:if(qn(t,a),r&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ch(t,i)}catch(T){Bt(a,a.return,T)}}break;case 27:i===null&&r&4&&_p(a);case 26:case 5:qn(t,a),i===null&&r&4&&Mp(a),r&512&&ma(a,a.return);break;case 12:qn(t,a);break;case 13:qn(t,a),r&4&&Lp(t,a),r&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=iE.bind(null,a),EE(t,a))));break;case 22:if(r=a.memoizedState!==null||bn,!r){i=i!==null&&i.memoizedState!==null||Zt,f=bn;var g=Zt;bn=r,(Zt=i)&&!g?Hn(t,a,(a.subtreeFlags&8772)!==0):qn(t,a),bn=f,Zt=g}break;case 30:break;default:qn(t,a)}}function Dp(t){var i=t.alternate;i!==null&&(t.alternate=null,Dp(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&sr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ot=null,Ce=!1;function Cn(t,i,a){for(a=a.child;a!==null;)Np(t,i,a),a=a.sibling}function Np(t,i,a){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(Io,a)}catch{}switch(a.tag){case 26:Zt||on(a,i),Cn(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Zt||on(a,i);var r=Ot,f=Ce;Zn(a.type)&&(Ot=a.stateNode,Ce=!1),Cn(t,i,a),Aa(a.stateNode),Ot=r,Ce=f;break;case 5:Zt||on(a,i);case 6:if(r=Ot,f=Ce,Ot=null,Cn(t,i,a),Ot=r,Ce=f,Ot!==null)if(Ce)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(a.stateNode)}catch(g){Bt(a,i,g)}else try{Ot.removeChild(a.stateNode)}catch(g){Bt(a,i,g)}break;case 18:Ot!==null&&(Ce?(t=Ot,Tm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),La(t)):Tm(Ot,a.stateNode));break;case 4:r=Ot,f=Ce,Ot=a.stateNode.containerInfo,Ce=!0,Cn(t,i,a),Ot=r,Ce=f;break;case 0:case 11:case 14:case 15:Zt||Gn(2,a,i),Zt||Gn(4,a,i),Cn(t,i,a);break;case 1:Zt||(on(a,i),r=a.stateNode,typeof r.componentWillUnmount=="function"&&Ap(a,i,r)),Cn(t,i,a);break;case 21:Cn(t,i,a);break;case 22:Zt=(r=Zt)||a.memoizedState!==null,Cn(t,i,a),Zt=r;break;default:Cn(t,i,a)}}function Lp(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{La(t)}catch(a){Bt(i,i.return,a)}}function ZS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Rp),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Rp),i;default:throw Error(s(435,t.tag))}}function Ru(t,i){var a=ZS(t);i.forEach(function(r){var f=oE.bind(null,t,r);a.has(r)||(a.add(r),r.then(f,f))})}function Le(t,i){var a=i.deletions;if(a!==null)for(var r=0;r<a.length;r++){var f=a[r],g=t,T=i,b=T;t:for(;b!==null;){switch(b.tag){case 27:if(Zn(b.type)){Ot=b.stateNode,Ce=!1;break t}break;case 5:Ot=b.stateNode,Ce=!1;break t;case 3:case 4:Ot=b.stateNode.containerInfo,Ce=!0;break t}b=b.return}if(Ot===null)throw Error(s(160));Np(g,T,f),Ot=null,Ce=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Pp(i,t),i=i.sibling}var $e=null;function Pp(t,i){var a=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Le(i,t),Pe(t),r&4&&(Gn(3,t,t.return),pa(3,t),Gn(5,t,t.return));break;case 1:Le(i,t),Pe(t),r&512&&(Zt||a===null||on(a,a.return)),r&64&&bn&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var f=$e;if(Le(i,t),Pe(t),r&512&&(Zt||a===null||on(a,a.return)),r&4){var g=a!==null?a.memoizedState:null;if(r=t.memoizedState,a===null)if(r===null)if(t.stateNode===null){t:{r=t.type,a=t.memoizedProps,f=f.ownerDocument||f;e:switch(r){case"title":g=f.getElementsByTagName("title")[0],(!g||g[ko]||g[fe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(r),f.head.insertBefore(g,f.querySelector("head > title"))),re(g,r,a),g[fe]=t,ne(g),r=g;break t;case"link":var T=_m("link","href",f).get(r+(a.href||""));if(T){for(var b=0;b<T.length;b++)if(g=T[b],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(b,1);break e}}g=f.createElement(r),re(g,r,a),f.head.appendChild(g);break;case"meta":if(T=_m("meta","content",f).get(r+(a.content||""))){for(b=0;b<T.length;b++)if(g=T[b],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(b,1);break e}}g=f.createElement(r),re(g,r,a),f.head.appendChild(g);break;default:throw Error(s(468,r))}g[fe]=t,ne(g),r=g}t.stateNode=r}else Rm(f,t.type,t.stateNode);else t.stateNode=xm(f,r,t.memoizedProps);else g!==r?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,r===null?Rm(f,t.type,t.stateNode):xm(f,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Au(t,t.memoizedProps,a.memoizedProps)}break;case 27:Le(i,t),Pe(t),r&512&&(Zt||a===null||on(a,a.return)),a!==null&&r&4&&Au(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Le(i,t),Pe(t),r&512&&(Zt||a===null||on(a,a.return)),t.flags&32){f=t.stateNode;try{Hi(f,"")}catch(U){Bt(t,t.return,U)}}r&4&&t.stateNode!=null&&(f=t.memoizedProps,Au(t,f,a!==null?a.memoizedProps:f)),r&1024&&(_u=!0);break;case 6:if(Le(i,t),Pe(t),r&4){if(t.stateNode===null)throw Error(s(162));r=t.memoizedProps,a=t.stateNode;try{a.nodeValue=r}catch(U){Bt(t,t.return,U)}}break;case 3:if(ul=null,f=$e,$e=ll(i.containerInfo),Le(i,t),$e=f,Pe(t),r&4&&a!==null&&a.memoizedState.isDehydrated)try{La(i.containerInfo)}catch(U){Bt(t,t.return,U)}_u&&(_u=!1,Vp(t));break;case 4:r=$e,$e=ll(t.stateNode.containerInfo),Le(i,t),Pe(t),$e=r;break;case 12:Le(i,t),Pe(t);break;case 13:Le(i,t),Pe(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vu=tn()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ru(t,r)));break;case 22:f=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,B=bn,O=Zt;if(bn=B||f,Zt=O||M,Le(i,t),Zt=O,bn=B,Pe(t),r&8192)t:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||M||bn||Zt||Ci(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){M=a=i;try{if(g=M.stateNode,f)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=M.stateNode;var Y=M.memoizedProps.style,I=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;b.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(U){Bt(M,M.return,U)}}}else if(i.tag===6){if(a===null){M=i;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(U){Bt(M,M.return,U)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=t.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Ru(t,a))));break;case 19:Le(i,t),Pe(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ru(t,r)));break;case 30:break;case 21:break;default:Le(i,t),Pe(t)}}function Pe(t){var i=t.flags;if(i&2){try{for(var a,r=t.return;r!==null;){if(xp(r)){a=r;break}r=r.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,g=Mu(t);Xs(t,g,f);break;case 5:var T=a.stateNode;a.flags&32&&(Hi(T,""),a.flags&=-33);var b=Mu(t);Xs(t,b,T);break;case 3:case 4:var M=a.stateNode.containerInfo,B=Mu(t);xu(t,B,M);break;default:throw Error(s(161))}}catch(O){Bt(t,t.return,O)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Vp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Vp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function qn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)wp(t,i.alternate,i),i=i.sibling}function Ci(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Gn(4,i,i.return),Ci(i);break;case 1:on(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ap(i,i.return,a),Ci(i);break;case 27:Aa(i.stateNode);case 26:case 5:on(i,i.return),Ci(i);break;case 22:i.memoizedState===null&&Ci(i);break;case 30:Ci(i);break;default:Ci(i)}t=t.sibling}}function Hn(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,f=t,g=i,T=g.flags;switch(g.tag){case 0:case 11:case 15:Hn(f,g,a),pa(4,g);break;case 1:if(Hn(f,g,a),r=g,f=r.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Bt(r,r.return,B)}if(r=g,f=r.updateQueue,f!==null){var b=r.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)uh(M[f],b)}catch(B){Bt(r,r.return,B)}}a&&T&64&&Cp(g),ma(g,g.return);break;case 27:_p(g);case 26:case 5:Hn(f,g,a),a&&r===null&&T&4&&Mp(g),ma(g,g.return);break;case 12:Hn(f,g,a);break;case 13:Hn(f,g,a),a&&T&4&&Lp(f,g);break;case 22:g.memoizedState===null&&Hn(f,g,a),ma(g,g.return);break;case 30:break;default:Hn(f,g,a)}i=i.sibling}}function wu(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ta(a))}function Du(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ta(t))}function an(t,i,a,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Bp(t,i,a,r),i=i.sibling}function Bp(t,i,a,r){var f=i.flags;switch(i.tag){case 0:case 11:case 15:an(t,i,a,r),f&2048&&pa(9,i);break;case 1:an(t,i,a,r);break;case 3:an(t,i,a,r),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ta(t)));break;case 12:if(f&2048){an(t,i,a,r),t=i.stateNode;try{var g=i.memoizedProps,T=g.id,b=g.onPostCommit;typeof b=="function"&&b(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Bt(i,i.return,M)}}else an(t,i,a,r);break;case 13:an(t,i,a,r);break;case 23:break;case 22:g=i.stateNode,T=i.alternate,i.memoizedState!==null?g._visibility&2?an(t,i,a,r):ga(t,i):g._visibility&2?an(t,i,a,r):(g._visibility|=2,ro(t,i,a,r,(i.subtreeFlags&10256)!==0)),f&2048&&wu(T,i);break;case 24:an(t,i,a,r),f&2048&&Du(i.alternate,i);break;default:an(t,i,a,r)}}function ro(t,i,a,r,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=t,T=i,b=a,M=r,B=T.flags;switch(T.tag){case 0:case 11:case 15:ro(g,T,b,M,f),pa(8,T);break;case 23:break;case 22:var O=T.stateNode;T.memoizedState!==null?O._visibility&2?ro(g,T,b,M,f):ga(g,T):(O._visibility|=2,ro(g,T,b,M,f)),f&&B&2048&&wu(T.alternate,T);break;case 24:ro(g,T,b,M,f),f&&B&2048&&Du(T.alternate,T);break;default:ro(g,T,b,M,f)}i=i.sibling}}function ga(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,r=i,f=r.flags;switch(r.tag){case 22:ga(a,r),f&2048&&wu(r.alternate,r);break;case 24:ga(a,r),f&2048&&Du(r.alternate,r);break;default:ga(a,r)}i=i.sibling}}var ya=8192;function uo(t){if(t.subtreeFlags&ya)for(t=t.child;t!==null;)Ip(t),t=t.sibling}function Ip(t){switch(t.tag){case 26:uo(t),t.flags&ya&&t.memoizedState!==null&&VE($e,t.memoizedState,t.memoizedProps);break;case 5:uo(t);break;case 3:case 4:var i=$e;$e=ll(t.stateNode.containerInfo),uo(t),$e=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ya,ya=16777216,uo(t),ya=i):uo(t));break;default:uo(t)}}function Up(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function va(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var r=i[a];oe=r,kp(r,t)}Up(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zp(t),t=t.sibling}function zp(t){switch(t.tag){case 0:case 11:case 15:va(t),t.flags&2048&&Gn(9,t,t.return);break;case 3:va(t);break;case 12:va(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Zs(t)):va(t);break;default:va(t)}}function Zs(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var r=i[a];oe=r,kp(r,t)}Up(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Gn(8,i,i.return),Zs(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Zs(i));break;default:Zs(i)}t=t.sibling}}function kp(t,i){for(;oe!==null;){var a=oe;switch(a.tag){case 0:case 11:case 15:Gn(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ta(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,oe=r;else t:for(a=t;oe!==null;){r=oe;var f=r.sibling,g=r.return;if(Dp(r),r===a){oe=null;break t}if(f!==null){f.return=g,oe=f;break t}oe=g}}}var $S={getCacheForType:function(t){var i=de(te),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},JS=typeof WeakMap=="function"?WeakMap:Map,wt=0,Ut=null,bt=null,At=0,Dt=0,Ve=null,Fn=!1,co=!1,Nu=!1,An=0,Yt=0,Yn=0,Ai=0,Lu=0,Fe=0,fo=0,Ta=null,Ae=null,Pu=!1,Vu=0,$s=1/0,Js=null,Kn=null,le=0,Qn=null,ho=null,po=0,Bu=0,Iu=null,Op=null,Sa=0,Uu=null;function Be(){if((wt&2)!==0&&At!==0)return At&-At;if(V.T!==null){var t=to;return t!==0?t:Fu()}return nd()}function Gp(){Fe===0&&(Fe=(At&536870912)===0||Rt?Wf():536870912);var t=He.current;return t!==null&&(t.flags|=32),Fe}function Ie(t,i,a){(t===Ut&&(Dt===2||Dt===9)||t.cancelPendingCommit!==null)&&(mo(t,0),Xn(t,At,Fe,!1)),zo(t,a),((wt&2)===0||t!==Ut)&&(t===Ut&&((wt&2)===0&&(Ai|=a),Yt===4&&Xn(t,At,Fe,!1)),sn(t))}function qp(t,i,a){if((wt&6)!==0)throw Error(s(327));var r=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Uo(t,i),f=r?tE(t,i):Ou(t,i,!0),g=r;do{if(f===0){co&&!r&&Xn(t,i,0,!1);break}else{if(a=t.current.alternate,g&&!WS(a)){f=Ou(t,i,!1),g=!1;continue}if(f===2){if(g=i,t.errorRecoveryDisabledLanes&g)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;t:{var b=t;f=Ta;var M=b.current.memoizedState.isDehydrated;if(M&&(mo(b,T).flags|=256),T=Ou(b,T,!1),T!==2){if(Nu&&!M){b.errorRecoveryDisabledLanes|=g,Ai|=g,f=4;break t}g=Ae,Ae=f,g!==null&&(Ae===null?Ae=g:Ae.push.apply(Ae,g))}f=T}if(g=!1,f!==2)continue}}if(f===1){mo(t,0),Xn(t,i,0,!0);break}t:{switch(r=t,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Xn(r,i,Fe,!Fn);break t;case 2:Ae=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Vu+300-tn(),10<f)){if(Xn(r,i,Fe,!Fn),rs(r,0,!0)!==0)break t;r.timeoutHandle=ym(Hp.bind(null,r,a,Ae,Js,Pu,i,Fe,Ai,fo,Fn,g,2,-0,0),f);break t}Hp(r,a,Ae,Js,Pu,i,Fe,Ai,fo,Fn,g,0,-0,0)}}break}while(!0);sn(t)}function Hp(t,i,a,r,f,g,T,b,M,B,O,Y,I,U){if(t.timeoutHandle=-1,Y=i.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(_a={stylesheets:null,count:0,unsuspend:PE},Ip(i),Y=BE(),Y!==null)){t.cancelPendingCommit=Y($p.bind(null,t,i,g,a,r,f,T,b,M,O,1,I,U)),Xn(t,g,T,!B);return}$p(t,i,g,a,r,f,T,b,M)}function WS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var f=a[r],g=f.getSnapshot;f=f.value;try{if(!De(g(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xn(t,i,a,r){i&=~Lu,i&=~Ai,t.suspendedLanes|=i,t.pingedLanes&=~i,r&&(t.warmLanes|=i),r=t.expirationTimes;for(var f=i;0<f;){var g=31-we(f),T=1<<g;r[g]=-1,f&=~T}a!==0&&td(t,a,i)}function Ws(){return(wt&6)===0?(Ea(0),!1):!0}function zu(){if(bt!==null){if(Dt===0)var t=bt.return;else t=bt,gn=vi=null,eu(t),so=null,fa=0,t=bt;for(;t!==null;)bp(t.alternate,t),t=t.return;bt=null}}function mo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,gE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),zu(),Ut=t,bt=a=hn(t.current,null),At=i,Dt=0,Ve=null,Fn=!1,co=Uo(t,i),Nu=!1,fo=Fe=Lu=Ai=Yn=Yt=0,Ae=Ta=null,Pu=!1,(i&8)!==0&&(i|=i&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=i;0<r;){var f=31-we(r),g=1<<f;i|=t[f],r&=~g}return An=i,Ss(),a}function Fp(t,i){St=null,V.H=ks,i===na||i===ws?(i=lh(),Dt=3):i===oh?(i=lh(),Dt=4):Dt=i===rp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ve=i,bt===null&&(Yt=1,Fs(t,ke(i,t.current)))}function Yp(){var t=V.H;return V.H=ks,t===null?ks:t}function Kp(){var t=V.A;return V.A=$S,t}function ku(){Yt=4,Fn||(At&4194048)!==At&&He.current!==null||(co=!0),(Yn&134217727)===0&&(Ai&134217727)===0||Ut===null||Xn(Ut,At,Fe,!1)}function Ou(t,i,a){var r=wt;wt|=2;var f=Yp(),g=Kp();(Ut!==t||At!==i)&&(Js=null,mo(t,i)),i=!1;var T=Yt;t:do try{if(Dt!==0&&bt!==null){var b=bt,M=Ve;switch(Dt){case 8:zu(),T=6;break t;case 3:case 2:case 9:case 6:He.current===null&&(i=!0);var B=Dt;if(Dt=0,Ve=null,go(t,b,M,B),a&&co){T=0;break t}break;default:B=Dt,Dt=0,Ve=null,go(t,b,M,B)}}jS(),T=Yt;break}catch(O){Fp(t,O)}while(!0);return i&&t.shellSuspendCounter++,gn=vi=null,wt=r,V.H=f,V.A=g,bt===null&&(Ut=null,At=0,Ss()),T}function jS(){for(;bt!==null;)Qp(bt)}function tE(t,i){var a=wt;wt|=2;var r=Yp(),f=Kp();Ut!==t||At!==i?(Js=null,$s=tn()+500,mo(t,i)):co=Uo(t,i);t:do try{if(Dt!==0&&bt!==null){i=bt;var g=Ve;e:switch(Dt){case 1:Dt=0,Ve=null,go(t,i,g,1);break;case 2:case 9:if(ah(g)){Dt=0,Ve=null,Xp(i);break}i=function(){Dt!==2&&Dt!==9||Ut!==t||(Dt=7),sn(t)},g.then(i,i);break t;case 3:Dt=7;break t;case 4:Dt=5;break t;case 7:ah(g)?(Dt=0,Ve=null,Xp(i)):(Dt=0,Ve=null,go(t,i,g,7));break;case 5:var T=null;switch(bt.tag){case 26:T=bt.memoizedState;case 5:case 27:var b=bt;if(!T||wm(T)){Dt=0,Ve=null;var M=b.sibling;if(M!==null)bt=M;else{var B=b.return;B!==null?(bt=B,js(B)):bt=null}break e}}Dt=0,Ve=null,go(t,i,g,5);break;case 6:Dt=0,Ve=null,go(t,i,g,6);break;case 8:zu(),Yt=6;break t;default:throw Error(s(462))}}eE();break}catch(O){Fp(t,O)}while(!0);return gn=vi=null,V.H=r,V.A=f,wt=a,bt!==null?0:(Ut=null,At=0,Ss(),Yt)}function eE(){for(;bt!==null&&!C0();)Qp(bt)}function Qp(t){var i=Sp(t.alternate,t,An);t.memoizedProps=t.pendingProps,i===null?js(t):bt=i}function Xp(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=pp(a,i,i.pendingProps,i.type,void 0,At);break;case 11:i=pp(a,i,i.pendingProps,i.type.render,i.ref,At);break;case 5:eu(i);default:bp(a,i),i=bt=Zd(i,An),i=Sp(a,i,An)}t.memoizedProps=t.pendingProps,i===null?js(t):bt=i}function go(t,i,a,r){gn=vi=null,eu(i),so=null,fa=0;var f=i.return;try{if(FS(t,f,i,a,At)){Yt=1,Fs(t,ke(a,t.current)),bt=null;return}}catch(g){if(f!==null)throw bt=f,g;Yt=1,Fs(t,ke(a,t.current)),bt=null;return}i.flags&32768?(Rt||r===1?t=!0:co||(At&536870912)!==0?t=!1:(Fn=t=!0,(r===2||r===9||r===3||r===6)&&(r=He.current,r!==null&&r.tag===13&&(r.flags|=16384))),Zp(i,t)):js(i)}function js(t){var i=t;do{if((i.flags&32768)!==0){Zp(i,Fn);return}t=i.return;var a=KS(i.alternate,i,An);if(a!==null){bt=a;return}if(i=i.sibling,i!==null){bt=i;return}bt=i=t}while(i!==null);Yt===0&&(Yt=5)}function Zp(t,i){do{var a=QS(t.alternate,t);if(a!==null){a.flags&=32767,bt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){bt=t;return}bt=t=a}while(t!==null);Yt=6,bt=null}function $p(t,i,a,r,f,g,T,b,M){t.cancelPendingCommit=null;do tl();while(le!==0);if((wt&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=Dr,P0(t,a,g,T,b,M),t===Ut&&(bt=Ut=null,At=0),ho=i,Qn=t,po=a,Bu=g,Iu=f,Op=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,aE(as,function(){return em(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=V.T,V.T=null,f=G.p,G.p=2,T=wt,wt|=4;try{XS(t,i,a)}finally{wt=T,G.p=f,V.T=r}}le=1,Jp(),Wp(),jp()}}function Jp(){if(le===1){le=0;var t=Qn,i=ho,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=V.T,V.T=null;var r=G.p;G.p=2;var f=wt;wt|=4;try{Pp(i,t);var g=Wu,T=kd(t.containerInfo),b=g.focusedElem,M=g.selectionRange;if(T!==b&&b&&b.ownerDocument&&zd(b.ownerDocument.documentElement,b)){if(M!==null&&Mr(b)){var B=M.start,O=M.end;if(O===void 0&&(O=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min(O,b.value.length);else{var Y=b.ownerDocument||document,I=Y&&Y.defaultView||window;if(I.getSelection){var U=I.getSelection(),ht=b.textContent.length,ct=Math.min(M.start,ht),Vt=M.end===void 0?ct:Math.min(M.end,ht);!U.extend&&ct>Vt&&(T=Vt,Vt=ct,ct=T);var R=Ud(b,ct),_=Ud(b,Vt);if(R&&_&&(U.rangeCount!==1||U.anchorNode!==R.node||U.anchorOffset!==R.offset||U.focusNode!==_.node||U.focusOffset!==_.offset)){var P=Y.createRange();P.setStart(R.node,R.offset),U.removeAllRanges(),ct>Vt?(U.addRange(P),U.extend(_.node,_.offset)):(P.setEnd(_.node,_.offset),U.addRange(P))}}}}for(Y=[],U=b;U=U.parentNode;)U.nodeType===1&&Y.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Y.length;b++){var q=Y[b];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}dl=!!Ju,Wu=Ju=null}finally{wt=f,G.p=r,V.T=a}}t.current=i,le=2}}function Wp(){if(le===2){le=0;var t=Qn,i=ho,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=V.T,V.T=null;var r=G.p;G.p=2;var f=wt;wt|=4;try{wp(t,i.alternate,i)}finally{wt=f,G.p=r,V.T=a}}le=3}}function jp(){if(le===4||le===3){le=0,A0();var t=Qn,i=ho,a=po,r=Op;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?le=5:(le=0,ho=Qn=null,tm(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Kn=null),or(a),i=i.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(Io,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=V.T,f=G.p,G.p=2,V.T=null;try{for(var g=t.onRecoverableError,T=0;T<r.length;T++){var b=r[T];g(b.value,{componentStack:b.stack})}}finally{V.T=i,G.p=f}}(po&3)!==0&&tl(),sn(t),f=t.pendingLanes,(a&4194090)!==0&&(f&42)!==0?t===Uu?Sa++:(Sa=0,Uu=t):Sa=0,Ea(0)}}function tm(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ta(i)))}function tl(t){return Jp(),Wp(),jp(),em()}function em(){if(le!==5)return!1;var t=Qn,i=Bu;Bu=0;var a=or(po),r=V.T,f=G.p;try{G.p=32>a?32:a,V.T=null,a=Iu,Iu=null;var g=Qn,T=po;if(le=0,ho=Qn=null,po=0,(wt&6)!==0)throw Error(s(331));var b=wt;if(wt|=4,zp(g.current),Bp(g,g.current,T,a),wt=b,Ea(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(Io,g)}catch{}return!0}finally{G.p=f,V.T=r,tm(t,i)}}function nm(t,i,a){i=ke(a,i),i=mu(t.stateNode,i,2),t=Un(t,i,2),t!==null&&(zo(t,2),sn(t))}function Bt(t,i,a){if(t.tag===3)nm(t,t,a);else for(;i!==null;){if(i.tag===3){nm(i,t,a);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kn===null||!Kn.has(r))){t=ke(a,t),a=sp(2),r=Un(i,a,2),r!==null&&(lp(a,r,i,t),zo(r,2),sn(r));break}}i=i.return}}function Gu(t,i,a){var r=t.pingCache;if(r===null){r=t.pingCache=new JS;var f=new Set;r.set(i,f)}else f=r.get(i),f===void 0&&(f=new Set,r.set(i,f));f.has(a)||(Nu=!0,f.add(a),t=nE.bind(null,t,i,a),i.then(t,t))}function nE(t,i,a){var r=t.pingCache;r!==null&&r.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ut===t&&(At&a)===a&&(Yt===4||Yt===3&&(At&62914560)===At&&300>tn()-Vu?(wt&2)===0&&mo(t,0):Lu|=a,fo===At&&(fo=0)),sn(t)}function im(t,i){i===0&&(i=jf()),t=$i(t,i),t!==null&&(zo(t,i),sn(t))}function iE(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),im(t,a)}function oE(t,i){var a=0;switch(t.tag){case 13:var r=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(i),im(t,a)}function aE(t,i){return tr(t,i)}var el=null,yo=null,qu=!1,nl=!1,Hu=!1,Mi=0;function sn(t){t!==yo&&t.next===null&&(yo===null?el=yo=t:yo=yo.next=t),nl=!0,qu||(qu=!0,lE())}function Ea(t,i){if(!Hu&&nl){Hu=!0;do for(var a=!1,r=el;r!==null;){if(t!==0){var f=r.pendingLanes;if(f===0)var g=0;else{var T=r.suspendedLanes,b=r.pingedLanes;g=(1<<31-we(42|t)+1)-1,g&=f&~(T&~b),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,lm(r,g))}else g=At,g=rs(r,r===Ut?g:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(g&3)===0||Uo(r,g)||(a=!0,lm(r,g));r=r.next}while(a);Hu=!1}}function sE(){om()}function om(){nl=qu=!1;var t=0;Mi!==0&&(mE()&&(t=Mi),Mi=0);for(var i=tn(),a=null,r=el;r!==null;){var f=r.next,g=am(r,i);g===0?(r.next=null,a===null?el=f:a.next=f,f===null&&(yo=a)):(a=r,(t!==0||(g&3)!==0)&&(nl=!0)),r=f}Ea(t)}function am(t,i){for(var a=t.suspendedLanes,r=t.pingedLanes,f=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var T=31-we(g),b=1<<T,M=f[T];M===-1?((b&a)===0||(b&r)!==0)&&(f[T]=L0(b,i)):M<=i&&(t.expiredLanes|=b),g&=~b}if(i=Ut,a=At,a=rs(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,a===0||t===i&&(Dt===2||Dt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&er(r),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Uo(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(r!==null&&er(r),or(a)){case 2:case 8:a=$f;break;case 32:a=as;break;case 268435456:a=Jf;break;default:a=as}return r=sm.bind(null,t),a=tr(a,r),t.callbackPriority=i,t.callbackNode=a,i}return r!==null&&r!==null&&er(r),t.callbackPriority=2,t.callbackNode=null,2}function sm(t,i){if(le!==0&&le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(tl()&&t.callbackNode!==a)return null;var r=At;return r=rs(t,t===Ut?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(qp(t,r,i),am(t,tn()),t.callbackNode!=null&&t.callbackNode===a?sm.bind(null,t):null)}function lm(t,i){if(tl())return null;qp(t,i,!0)}function lE(){yE(function(){(wt&6)!==0?tr(Zf,sE):om()})}function Fu(){return Mi===0&&(Mi=Wf()),Mi}function rm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:hs(""+t)}function um(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function rE(t,i,a,r,f){if(i==="submit"&&a&&a.stateNode===f){var g=rm((f[Se]||null).action),T=r.submitter;T&&(i=(i=T[Se]||null)?rm(i.formAction):T.getAttribute("formAction"),i!==null&&(g=i,T=null));var b=new ys("action","action",null,r,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Mi!==0){var M=T?um(f,T):new FormData(f);cu(a,{pending:!0,data:M,method:f.method,action:g},null,M)}}else typeof g=="function"&&(b.preventDefault(),M=T?um(f,T):new FormData(f),cu(a,{pending:!0,data:M,method:f.method,action:g},g,M))},currentTarget:f}]})}}for(var Yu=0;Yu<wr.length;Yu++){var Ku=wr[Yu],uE=Ku.toLowerCase(),cE=Ku[0].toUpperCase()+Ku.slice(1);Ze(uE,"on"+cE)}Ze(qd,"onAnimationEnd"),Ze(Hd,"onAnimationIteration"),Ze(Fd,"onAnimationStart"),Ze("dblclick","onDoubleClick"),Ze("focusin","onFocus"),Ze("focusout","onBlur"),Ze(_S,"onTransitionRun"),Ze(RS,"onTransitionStart"),Ze(wS,"onTransitionCancel"),Ze(Yd,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ba));function cm(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var r=t[a],f=r.event;r=r.listeners;t:{var g=void 0;if(i)for(var T=r.length-1;0<=T;T--){var b=r[T],M=b.instance,B=b.currentTarget;if(b=b.listener,M!==g&&f.isPropagationStopped())break t;g=b,f.currentTarget=B;try{g(f)}catch(O){Hs(O)}f.currentTarget=null,g=M}else for(T=0;T<r.length;T++){if(b=r[T],M=b.instance,B=b.currentTarget,b=b.listener,M!==g&&f.isPropagationStopped())break t;g=b,f.currentTarget=B;try{g(f)}catch(O){Hs(O)}f.currentTarget=null,g=M}}}}function Ct(t,i){var a=i[ar];a===void 0&&(a=i[ar]=new Set);var r=t+"__bubble";a.has(r)||(fm(i,t,2,!1),a.add(r))}function Qu(t,i,a){var r=0;i&&(r|=4),fm(a,t,r,i)}var il="_reactListening"+Math.random().toString(36).slice(2);function Xu(t){if(!t[il]){t[il]=!0,od.forEach(function(a){a!=="selectionchange"&&(fE.has(a)||Qu(a,!1,t),Qu(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[il]||(i[il]=!0,Qu("selectionchange",!1,i))}}function fm(t,i,a,r){switch(Bm(i)){case 2:var f=zE;break;case 8:f=kE;break;default:f=rc}a=f.bind(null,i,a,t),f=void 0,!gr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),r?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Zu(t,i,a,r,f){var g=r;if((i&1)===0&&(i&2)===0&&r!==null)t:for(;;){if(r===null)return;var T=r.tag;if(T===3||T===4){var b=r.stateNode.containerInfo;if(b===f)break;if(T===4)for(T=r.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;b!==null;){if(T=Ui(b),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){r=g=T;continue t}b=b.parentNode}}r=r.return}vd(function(){var B=g,O=pr(a),Y=[];t:{var I=Kd.get(t);if(I!==void 0){var U=ys,ht=t;switch(t){case"keypress":if(ms(a)===0)break t;case"keydown":case"keyup":U=aS;break;case"focusin":ht="focus",U=Sr;break;case"focusout":ht="blur",U=Sr;break;case"beforeblur":case"afterblur":U=Sr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Ed;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Q0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=rS;break;case qd:case Hd:case Fd:U=$0;break;case Yd:U=cS;break;case"scroll":case"scrollend":U=Y0;break;case"wheel":U=dS;break;case"copy":case"cut":case"paste":U=W0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Cd;break;case"toggle":case"beforetoggle":U=pS}var ct=(i&4)!==0,Vt=!ct&&(t==="scroll"||t==="scrollend"),R=ct?I!==null?I+"Capture":null:I;ct=[];for(var _=B,P;_!==null;){var q=_;if(P=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||P===null||R===null||(q=Go(_,R),q!=null&&ct.push(Ca(_,q,P))),Vt)break;_=_.return}0<ct.length&&(I=new U(I,ht,null,a,O),Y.push({event:I,listeners:ct}))}}if((i&7)===0){t:{if(I=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",I&&a!==hr&&(ht=a.relatedTarget||a.fromElement)&&(Ui(ht)||ht[Ii]))break t;if((U||I)&&(I=O.window===O?O:(I=O.ownerDocument)?I.defaultView||I.parentWindow:window,U?(ht=a.relatedTarget||a.toElement,U=B,ht=ht?Ui(ht):null,ht!==null&&(Vt=u(ht),ct=ht.tag,ht!==Vt||ct!==5&&ct!==27&&ct!==6)&&(ht=null)):(U=null,ht=B),U!==ht)){if(ct=Ed,q="onMouseLeave",R="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(ct=Cd,q="onPointerLeave",R="onPointerEnter",_="pointer"),Vt=U==null?I:Oo(U),P=ht==null?I:Oo(ht),I=new ct(q,_+"leave",U,a,O),I.target=Vt,I.relatedTarget=P,q=null,Ui(O)===B&&(ct=new ct(R,_+"enter",ht,a,O),ct.target=P,ct.relatedTarget=Vt,q=ct),Vt=q,U&&ht)e:{for(ct=U,R=ht,_=0,P=ct;P;P=vo(P))_++;for(P=0,q=R;q;q=vo(q))P++;for(;0<_-P;)ct=vo(ct),_--;for(;0<P-_;)R=vo(R),P--;for(;_--;){if(ct===R||R!==null&&ct===R.alternate)break e;ct=vo(ct),R=vo(R)}ct=null}else ct=null;U!==null&&dm(Y,I,U,ct,!1),ht!==null&&Vt!==null&&dm(Y,Vt,ht,ct,!0)}}t:{if(I=B?Oo(B):window,U=I.nodeName&&I.nodeName.toLowerCase(),U==="select"||U==="input"&&I.type==="file")var at=Nd;else if(wd(I))if(Ld)at=AS;else{at=bS;var Et=ES}else U=I.nodeName,!U||U.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?B&&dr(B.elementType)&&(at=Nd):at=CS;if(at&&(at=at(t,B))){Dd(Y,at,a,O);break t}Et&&Et(t,I,B),t==="focusout"&&B&&I.type==="number"&&B.memoizedProps.value!=null&&fr(I,"number",I.value)}switch(Et=B?Oo(B):window,t){case"focusin":(wd(Et)||Et.contentEditable==="true")&&(Qi=Et,xr=B,Zo=null);break;case"focusout":Zo=xr=Qi=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,Od(Y,a,O);break;case"selectionchange":if(xS)break;case"keydown":case"keyup":Od(Y,a,O)}var st;if(br)t:{switch(t){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else Ki?_d(t,a)&&(ft="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ft="onCompositionStart");ft&&(Ad&&a.locale!=="ko"&&(Ki||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Ki&&(st=Td()):(Pn=O,yr="value"in Pn?Pn.value:Pn.textContent,Ki=!0)),Et=ol(B,ft),0<Et.length&&(ft=new bd(ft,t,null,a,O),Y.push({event:ft,listeners:Et}),st?ft.data=st:(st=Rd(a),st!==null&&(ft.data=st)))),(st=gS?yS(t,a):vS(t,a))&&(ft=ol(B,"onBeforeInput"),0<ft.length&&(Et=new bd("onBeforeInput","beforeinput",null,a,O),Y.push({event:Et,listeners:ft}),Et.data=st)),rE(Y,t,B,a,O)}cm(Y,i)})}function Ca(t,i,a){return{instance:t,listener:i,currentTarget:a}}function ol(t,i){for(var a=i+"Capture",r=[];t!==null;){var f=t,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Go(t,a),f!=null&&r.unshift(Ca(t,f,g)),f=Go(t,i),f!=null&&r.push(Ca(t,f,g))),t.tag===3)return r;t=t.return}return[]}function vo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function dm(t,i,a,r,f){for(var g=i._reactName,T=[];a!==null&&a!==r;){var b=a,M=b.alternate,B=b.stateNode;if(b=b.tag,M!==null&&M===r)break;b!==5&&b!==26&&b!==27||B===null||(M=B,f?(B=Go(a,g),B!=null&&T.unshift(Ca(a,B,M))):f||(B=Go(a,g),B!=null&&T.push(Ca(a,B,M)))),a=a.return}T.length!==0&&t.push({event:i,listeners:T})}var dE=/\r\n?/g,hE=/\u0000|\uFFFD/g;function hm(t){return(typeof t=="string"?t:""+t).replace(dE,`
`).replace(hE,"")}function pm(t,i){return i=hm(i),hm(t)===i}function al(){}function Pt(t,i,a,r,f,g){switch(a){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||Hi(t,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&Hi(t,""+r);break;case"className":cs(t,"class",r);break;case"tabIndex":cs(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":cs(t,a,r);break;case"style":gd(t,r,g);break;case"data":if(i!=="object"){cs(t,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=hs(""+r),t.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(i!=="input"&&Pt(t,i,"name",f.name,f,null),Pt(t,i,"formEncType",f.formEncType,f,null),Pt(t,i,"formMethod",f.formMethod,f,null),Pt(t,i,"formTarget",f.formTarget,f,null)):(Pt(t,i,"encType",f.encType,f,null),Pt(t,i,"method",f.method,f,null),Pt(t,i,"target",f.target,f,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=hs(""+r),t.setAttribute(a,r);break;case"onClick":r!=null&&(t.onclick=al);break;case"onScroll":r!=null&&Ct("scroll",t);break;case"onScrollEnd":r!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(a=r.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}a=hs(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""+r):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":r===!0?t.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,r):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(a,r):t.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(a):t.setAttribute(a,r);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),us(t,"popover",r);break;case"xlinkActuate":fn(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":fn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":fn(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":fn(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":fn(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":fn(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":fn(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":fn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":fn(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":us(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=H0.get(a)||a,us(t,a,r))}}function $u(t,i,a,r,f,g){switch(a){case"style":gd(t,r,g);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(a=r.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof r=="string"?Hi(t,r):(typeof r=="number"||typeof r=="bigint")&&Hi(t,""+r);break;case"onScroll":r!=null&&Ct("scroll",t);break;case"onScrollEnd":r!=null&&Ct("scrollend",t);break;case"onClick":r!=null&&(t.onclick=al);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ad.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),g=t[Se]||null,g=g!=null?g[a]:null,typeof g=="function"&&t.removeEventListener(i,g,f),typeof r=="function")){typeof g!="function"&&g!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,r,f);break t}a in t?t[a]=r:r===!0?t.setAttribute(a,""):us(t,a,r)}}}function re(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var r=!1,f=!1,g;for(g in a)if(a.hasOwnProperty(g)){var T=a[g];if(T!=null)switch(g){case"src":r=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Pt(t,i,g,T,a,null)}}f&&Pt(t,i,"srcSet",a.srcSet,a,null),r&&Pt(t,i,"src",a.src,a,null);return;case"input":Ct("invalid",t);var b=g=T=f=null,M=null,B=null;for(r in a)if(a.hasOwnProperty(r)){var O=a[r];if(O!=null)switch(r){case"name":f=O;break;case"type":T=O;break;case"checked":M=O;break;case"defaultChecked":B=O;break;case"value":g=O;break;case"defaultValue":b=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,i));break;default:Pt(t,i,r,O,a,null)}}dd(t,g,b,M,B,T,f,!1),fs(t);return;case"select":Ct("invalid",t),r=T=g=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":g=b;break;case"defaultValue":T=b;break;case"multiple":r=b;default:Pt(t,i,f,b,a,null)}i=g,a=T,t.multiple=!!r,i!=null?qi(t,!!r,i,!1):a!=null&&qi(t,!!r,a,!0);return;case"textarea":Ct("invalid",t),g=f=r=null;for(T in a)if(a.hasOwnProperty(T)&&(b=a[T],b!=null))switch(T){case"value":r=b;break;case"defaultValue":f=b;break;case"children":g=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Pt(t,i,T,b,a,null)}pd(t,r,f,g),fs(t);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(r=a[M],r!=null))switch(M){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Pt(t,i,M,r,a,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(r=0;r<ba.length;r++)Ct(ba[r],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(r=a[B],r!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Pt(t,i,B,r,a,null)}return;default:if(dr(i)){for(O in a)a.hasOwnProperty(O)&&(r=a[O],r!==void 0&&$u(t,i,O,r,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(r=a[b],r!=null&&Pt(t,i,b,r,a,null))}function pE(t,i,a,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,T=null,b=null,M=null,B=null,O=null;for(U in a){var Y=a[U];if(a.hasOwnProperty(U)&&Y!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":M=Y;default:r.hasOwnProperty(U)||Pt(t,i,U,null,r,Y)}}for(var I in r){var U=r[I];if(Y=a[I],r.hasOwnProperty(I)&&(U!=null||Y!=null))switch(I){case"type":g=U;break;case"name":f=U;break;case"checked":B=U;break;case"defaultChecked":O=U;break;case"value":T=U;break;case"defaultValue":b=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,i));break;default:U!==Y&&Pt(t,i,I,U,r,Y)}}cr(t,T,b,M,B,O,g,f);return;case"select":U=T=b=I=null;for(g in a)if(M=a[g],a.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":U=M;default:r.hasOwnProperty(g)||Pt(t,i,g,null,r,M)}for(f in r)if(g=r[f],M=a[f],r.hasOwnProperty(f)&&(g!=null||M!=null))switch(f){case"value":I=g;break;case"defaultValue":b=g;break;case"multiple":T=g;default:g!==M&&Pt(t,i,f,g,r,M)}i=b,a=T,r=U,I!=null?qi(t,!!a,I,!1):!!r!=!!a&&(i!=null?qi(t,!!a,i,!0):qi(t,!!a,a?[]:"",!1));return;case"textarea":U=I=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!r.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Pt(t,i,b,null,r,f)}for(T in r)if(f=r[T],g=a[T],r.hasOwnProperty(T)&&(f!=null||g!=null))switch(T){case"value":I=f;break;case"defaultValue":U=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Pt(t,i,T,f,r,g)}hd(t,I,U);return;case"option":for(var ht in a)if(I=a[ht],a.hasOwnProperty(ht)&&I!=null&&!r.hasOwnProperty(ht))switch(ht){case"selected":t.selected=!1;break;default:Pt(t,i,ht,null,r,I)}for(M in r)if(I=r[M],U=a[M],r.hasOwnProperty(M)&&I!==U&&(I!=null||U!=null))switch(M){case"selected":t.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Pt(t,i,M,I,r,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in a)I=a[ct],a.hasOwnProperty(ct)&&I!=null&&!r.hasOwnProperty(ct)&&Pt(t,i,ct,null,r,I);for(B in r)if(I=r[B],U=a[B],r.hasOwnProperty(B)&&I!==U&&(I!=null||U!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,i));break;default:Pt(t,i,B,I,r,U)}return;default:if(dr(i)){for(var Vt in a)I=a[Vt],a.hasOwnProperty(Vt)&&I!==void 0&&!r.hasOwnProperty(Vt)&&$u(t,i,Vt,void 0,r,I);for(O in r)I=r[O],U=a[O],!r.hasOwnProperty(O)||I===U||I===void 0&&U===void 0||$u(t,i,O,I,r,U);return}}for(var R in a)I=a[R],a.hasOwnProperty(R)&&I!=null&&!r.hasOwnProperty(R)&&Pt(t,i,R,null,r,I);for(Y in r)I=r[Y],U=a[Y],!r.hasOwnProperty(Y)||I===U||I==null&&U==null||Pt(t,i,Y,I,r,U)}var Ju=null,Wu=null;function sl(t){return t.nodeType===9?t:t.ownerDocument}function mm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gm(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function ju(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var tc=null;function mE(){var t=window.event;return t&&t.type==="popstate"?t===tc?!1:(tc=t,!0):(tc=null,!1)}var ym=typeof setTimeout=="function"?setTimeout:void 0,gE=typeof clearTimeout=="function"?clearTimeout:void 0,vm=typeof Promise=="function"?Promise:void 0,yE=typeof queueMicrotask=="function"?queueMicrotask:typeof vm<"u"?function(t){return vm.resolve(null).then(t).catch(vE)}:ym;function vE(t){setTimeout(function(){throw t})}function Zn(t){return t==="head"}function Tm(t,i){var a=i,r=0,f=0;do{var g=a.nextSibling;if(t.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<r&&8>r){a=r;var T=t.ownerDocument;if(a&1&&Aa(T.documentElement),a&2&&Aa(T.body),a&4)for(a=T.head,Aa(a),T=a.firstChild;T;){var b=T.nextSibling,M=T.nodeName;T[ko]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=b}}if(f===0){t.removeChild(g),La(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:r=a.charCodeAt(0)-48;else r=0;a=g}while(a);La(i)}function ec(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ec(a),sr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function TE(t,i,a,r){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[ko])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=Je(t.nextSibling),t===null)break}return null}function SE(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Je(t.nextSibling),t===null))return null;return t}function nc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function EE(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var r=function(){i(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Je(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var ic=null;function Sm(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Em(t,i,a){switch(i=sl(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Aa(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);sr(t)}var Ye=new Map,bm=new Set;function ll(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mn=G.d;G.d={f:bE,r:CE,D:AE,C:ME,L:xE,m:_E,X:wE,S:RE,M:DE};function bE(){var t=Mn.f(),i=Ws();return t||i}function CE(t){var i=zi(t);i!==null&&i.tag===5&&i.type==="form"?qh(i):Mn.r(t)}var To=typeof document>"u"?null:document;function Cm(t,i,a){var r=To;if(r&&typeof i=="string"&&i){var f=ze(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),bm.has(f)||(bm.add(f),t={rel:t,crossOrigin:a,href:i},r.querySelector(f)===null&&(i=r.createElement("link"),re(i,"link",t),ne(i),r.head.appendChild(i)))}}function AE(t){Mn.D(t),Cm("dns-prefetch",t,null)}function ME(t,i){Mn.C(t,i),Cm("preconnect",t,i)}function xE(t,i,a){Mn.L(t,i,a);var r=To;if(r&&t&&i){var f='link[rel="preload"][as="'+ze(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ze(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ze(a.imageSizes)+'"]')):f+='[href="'+ze(t)+'"]';var g=f;switch(i){case"style":g=So(t);break;case"script":g=Eo(t)}Ye.has(g)||(t=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ye.set(g,t),r.querySelector(f)!==null||i==="style"&&r.querySelector(Ma(g))||i==="script"&&r.querySelector(xa(g))||(i=r.createElement("link"),re(i,"link",t),ne(i),r.head.appendChild(i)))}}function _E(t,i){Mn.m(t,i);var a=To;if(a&&t){var r=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ze(r)+'"][href="'+ze(t)+'"]',g=f;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Eo(t)}if(!Ye.has(g)&&(t=v({rel:"modulepreload",href:t},i),Ye.set(g,t),a.querySelector(f)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xa(g)))return}r=a.createElement("link"),re(r,"link",t),ne(r),a.head.appendChild(r)}}}function RE(t,i,a){Mn.S(t,i,a);var r=To;if(r&&t){var f=ki(r).hoistableStyles,g=So(t);i=i||"default";var T=f.get(g);if(!T){var b={loading:0,preload:null};if(T=r.querySelector(Ma(g)))b.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ye.get(g))&&oc(t,a);var M=T=r.createElement("link");ne(M),re(M,"link",t),M._p=new Promise(function(B,O){M.onload=B,M.onerror=O}),M.addEventListener("load",function(){b.loading|=1}),M.addEventListener("error",function(){b.loading|=2}),b.loading|=4,rl(T,i,r)}T={type:"stylesheet",instance:T,count:1,state:b},f.set(g,T)}}}function wE(t,i){Mn.X(t,i);var a=To;if(a&&t){var r=ki(a).hoistableScripts,f=Eo(t),g=r.get(f);g||(g=a.querySelector(xa(f)),g||(t=v({src:t,async:!0},i),(i=Ye.get(f))&&ac(t,i),g=a.createElement("script"),ne(g),re(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},r.set(f,g))}}function DE(t,i){Mn.M(t,i);var a=To;if(a&&t){var r=ki(a).hoistableScripts,f=Eo(t),g=r.get(f);g||(g=a.querySelector(xa(f)),g||(t=v({src:t,async:!0,type:"module"},i),(i=Ye.get(f))&&ac(t,i),g=a.createElement("script"),ne(g),re(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},r.set(f,g))}}function Am(t,i,a,r){var f=(f=mt.current)?ll(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=So(a.href),a=ki(f).hoistableStyles,r=a.get(i),r||(r={type:"style",instance:null,count:0,state:null},a.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=So(a.href);var g=ki(f).hoistableStyles,T=g.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,T),(g=f.querySelector(Ma(t)))&&!g._p&&(T.instance=g,T.state.loading=5),Ye.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ye.set(t,a),g||NE(f,t,a,T.state))),i&&r===null)throw Error(s(528,""));return T}if(i&&r!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Eo(a),a=ki(f).hoistableScripts,r=a.get(i),r||(r={type:"script",instance:null,count:0,state:null},a.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function So(t){return'href="'+ze(t)+'"'}function Ma(t){return'link[rel="stylesheet"]['+t+"]"}function Mm(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function NE(t,i,a,r){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=t.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),re(i,"link",a),ne(i),t.head.appendChild(i))}function Eo(t){return'[src="'+ze(t)+'"]'}function xa(t){return"script[async]"+t}function xm(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var r=t.querySelector('style[data-href~="'+ze(a.href)+'"]');if(r)return i.instance=r,ne(r),r;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),ne(r),re(r,"style",f),rl(r,a.precedence,t),i.instance=r;case"stylesheet":f=So(a.href);var g=t.querySelector(Ma(f));if(g)return i.state.loading|=4,i.instance=g,ne(g),g;r=Mm(a),(f=Ye.get(f))&&oc(r,f),g=(t.ownerDocument||t).createElement("link"),ne(g);var T=g;return T._p=new Promise(function(b,M){T.onload=b,T.onerror=M}),re(g,"link",r),i.state.loading|=4,rl(g,a.precedence,t),i.instance=g;case"script":return g=Eo(a.src),(f=t.querySelector(xa(g)))?(i.instance=f,ne(f),f):(r=a,(f=Ye.get(g))&&(r=v({},a),ac(r,f)),t=t.ownerDocument||t,f=t.createElement("script"),ne(f),re(f,"link",r),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,rl(r,a.precedence,t));return i.instance}function rl(t,i,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=r.length?r[r.length-1]:null,g=f,T=0;T<r.length;T++){var b=r[T];if(b.dataset.precedence===i)g=b;else if(g!==f)break}g?g.parentNode.insertBefore(t,g.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function oc(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function ac(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ul=null;function _m(t,i,a){if(ul===null){var r=new Map,f=ul=new Map;f.set(a,r)}else f=ul,r=f.get(a),r||(r=new Map,f.set(a,r));if(r.has(t))return r;for(r.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var g=a[f];if(!(g[ko]||g[fe]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(i)||"";T=t+T;var b=r.get(T);b?b.push(g):r.set(T,[g])}}return r}function Rm(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function LE(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function wm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var _a=null;function PE(){}function VE(t,i,a){if(_a===null)throw Error(s(475));var r=_a;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=So(a.href),g=t.querySelector(Ma(f));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=cl.bind(r),t.then(r,r)),i.state.loading|=4,i.instance=g,ne(g);return}g=t.ownerDocument||t,a=Mm(a),(f=Ye.get(f))&&oc(a,f),g=g.createElement("link"),ne(g);var T=g;T._p=new Promise(function(b,M){T.onload=b,T.onerror=M}),re(g,"link",a),i.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(r.count++,i=cl.bind(r),t.addEventListener("load",i),t.addEventListener("error",i))}}function BE(){if(_a===null)throw Error(s(475));var t=_a;return t.stylesheets&&t.count===0&&sc(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&sc(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function cl(){if(this.count--,this.count===0){if(this.stylesheets)sc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var fl=null;function sc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,fl=new Map,i.forEach(IE,t),fl=null,cl.call(t))}function IE(t,i){if(!(i.state.loading&4)){var a=fl.get(t);if(a)var r=a.get(null);else{a=new Map,fl.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var T=f[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),r=T)}r&&a.set(null,r)}f=i.instance,T=f.getAttribute("data-precedence"),g=a.get(T)||r,g===r&&a.set(null,f),a.set(T,f),this.count++,r=cl.bind(this),f.addEventListener("load",r),f.addEventListener("error",r),g?g.parentNode.insertBefore(f,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Ra={$$typeof:N,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function UE(t,i,a,r,f,g,T,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nr(0),this.hiddenUpdates=nr(null),this.identifierPrefix=r,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Dm(t,i,a,r,f,g,T,b,M,B,O,Y){return t=new UE(t,i,a,T,b,M,B,Y),i=1,g===!0&&(i|=24),g=Ne(3,null,null,i),t.current=g,g.stateNode=t,i=Gr(),i.refCount++,t.pooledCache=i,i.refCount++,g.memoizedState={element:r,isDehydrated:a,cache:i},Yr(g),t}function Nm(t){return t?(t=Ji,t):Ji}function Lm(t,i,a,r,f,g){f=Nm(f),r.context===null?r.context=f:r.pendingContext=f,r=In(i),r.payload={element:a},g=g===void 0?null:g,g!==null&&(r.callback=g),a=Un(t,r,i),a!==null&&(Ie(a,t,i),oa(a,t,i))}function Pm(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function lc(t,i){Pm(t,i),(t=t.alternate)&&Pm(t,i)}function Vm(t){if(t.tag===13){var i=$i(t,67108864);i!==null&&Ie(i,t,67108864),lc(t,67108864)}}var dl=!0;function zE(t,i,a,r){var f=V.T;V.T=null;var g=G.p;try{G.p=2,rc(t,i,a,r)}finally{G.p=g,V.T=f}}function kE(t,i,a,r){var f=V.T;V.T=null;var g=G.p;try{G.p=8,rc(t,i,a,r)}finally{G.p=g,V.T=f}}function rc(t,i,a,r){if(dl){var f=uc(r);if(f===null)Zu(t,i,r,hl,a),Im(t,r);else if(GE(f,t,i,a,r))r.stopPropagation();else if(Im(t,r),i&4&&-1<OE.indexOf(t)){for(;f!==null;){var g=zi(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=ri(g.pendingLanes);if(T!==0){var b=g;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var M=1<<31-we(T);b.entanglements[1]|=M,T&=~M}sn(g),(wt&6)===0&&($s=tn()+500,Ea(0))}}break;case 13:b=$i(g,2),b!==null&&Ie(b,g,2),Ws(),lc(g,2)}if(g=uc(r),g===null&&Zu(t,i,r,hl,a),g===f)break;f=g}f!==null&&r.stopPropagation()}else Zu(t,i,r,null,a)}}function uc(t){return t=pr(t),cc(t)}var hl=null;function cc(t){if(hl=null,t=Ui(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=c(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return hl=t,null}function Bm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(M0()){case Zf:return 2;case $f:return 8;case as:case x0:return 32;case Jf:return 268435456;default:return 32}default:return 32}}var fc=!1,$n=null,Jn=null,Wn=null,wa=new Map,Da=new Map,jn=[],OE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Im(t,i){switch(t){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":wa.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Da.delete(i.pointerId)}}function Na(t,i,a,r,f,g){return t===null||t.nativeEvent!==g?(t={blockedOn:i,domEventName:a,eventSystemFlags:r,nativeEvent:g,targetContainers:[f]},i!==null&&(i=zi(i),i!==null&&Vm(i)),t):(t.eventSystemFlags|=r,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function GE(t,i,a,r,f){switch(i){case"focusin":return $n=Na($n,t,i,a,r,f),!0;case"dragenter":return Jn=Na(Jn,t,i,a,r,f),!0;case"mouseover":return Wn=Na(Wn,t,i,a,r,f),!0;case"pointerover":var g=f.pointerId;return wa.set(g,Na(wa.get(g)||null,t,i,a,r,f)),!0;case"gotpointercapture":return g=f.pointerId,Da.set(g,Na(Da.get(g)||null,t,i,a,r,f)),!0}return!1}function Um(t){var i=Ui(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){t.blockedOn=i,V0(t.priority,function(){if(a.tag===13){var r=Be();r=ir(r);var f=$i(a,r);f!==null&&Ie(f,a,r),lc(a,r)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pl(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=uc(t.nativeEvent);if(a===null){a=t.nativeEvent;var r=new a.constructor(a.type,a);hr=r,a.target.dispatchEvent(r),hr=null}else return i=zi(a),i!==null&&Vm(i),t.blockedOn=a,!1;i.shift()}return!0}function zm(t,i,a){pl(t)&&a.delete(i)}function qE(){fc=!1,$n!==null&&pl($n)&&($n=null),Jn!==null&&pl(Jn)&&(Jn=null),Wn!==null&&pl(Wn)&&(Wn=null),wa.forEach(zm),Da.forEach(zm)}function ml(t,i){t.blockedOn===i&&(t.blockedOn=null,fc||(fc=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,qE)))}var gl=null;function km(t){gl!==t&&(gl=t,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){gl===t&&(gl=null);for(var i=0;i<t.length;i+=3){var a=t[i],r=t[i+1],f=t[i+2];if(typeof r!="function"){if(cc(r||a)===null)continue;break}var g=zi(a);g!==null&&(t.splice(i,3),i-=3,cu(g,{pending:!0,data:f,method:a.method,action:r},r,f))}}))}function La(t){function i(M){return ml(M,t)}$n!==null&&ml($n,t),Jn!==null&&ml(Jn,t),Wn!==null&&ml(Wn,t),wa.forEach(i),Da.forEach(i);for(var a=0;a<jn.length;a++){var r=jn[a];r.blockedOn===t&&(r.blockedOn=null)}for(;0<jn.length&&(a=jn[0],a.blockedOn===null);)Um(a),a.blockedOn===null&&jn.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var f=a[r],g=a[r+1],T=f[Se]||null;if(typeof g=="function")T||km(a);else if(T){var b=null;if(g&&g.hasAttribute("formAction")){if(f=g,T=g[Se]||null)b=T.formAction;else if(cc(f)!==null)continue}else b=T.action;typeof b=="function"?a[r+1]=b:(a.splice(r,3),r-=3),km(a)}}}function dc(t){this._internalRoot=t}yl.prototype.render=dc.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,r=Be();Lm(a,r,t,i,null,null)},yl.prototype.unmount=dc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Lm(t.current,2,null,t,null,null),Ws(),i[Ii]=null}};function yl(t){this._internalRoot=t}yl.prototype.unstable_scheduleHydration=function(t){if(t){var i=nd();t={blockedOn:null,target:t,priority:i};for(var a=0;a<jn.length&&i!==0&&i<jn[a].priority;a++);jn.splice(a,0,t),a===0&&Um(t)}};var Om=e.version;if(Om!=="19.1.1")throw Error(s(527,Om,"19.1.1"));G.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var HE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{Io=vl.inject(HE),Re=vl}catch{}}return Ba.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,r="",f=np,g=ip,T=op,b=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=Dm(t,1,!1,null,null,a,r,f,g,T,b,null),t[Ii]=i.current,Xu(t),new dc(i)},Ba.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var r=!1,f="",g=np,T=ip,b=op,M=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(M=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=Dm(t,1,!0,i,a??null,r,f,g,T,b,M,B),i.context=Nm(null),a=i.current,r=Be(),r=ir(r),f=In(r),f.callback=null,Un(a,f,r),a=r,i.current.lanes=a,zo(i,a),sn(i),t[Ii]=i.current,Xu(t),new yl(i)},Ba.version="19.1.1",Ba}var fv;function PD(){if(fv)return Dc.exports;fv=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),Dc.exports=LD(),Dc.exports}var VD=PD();const BD="1919",d0="barricadix_authenticated";function ID(){h0(),p0()}function h0(){const o=document.getElementById("welcome-screen"),e=document.getElementById("app-container");o&&e&&(o.style.display="flex",e.style.display="none")}function UD(){const o=document.getElementById("welcome-screen"),e=document.getElementById("app-container");o&&e&&(o.style.display="none",e.style.display="flex",mN(),setTimeout(()=>{nt&&(nt.invalidateSize(),console.log("Map size invalidated after showing main app"))},200),setTimeout(()=>{nt&&(nt.invalidateSize(),console.log("Map size invalidated - final check"))},500))}function p0(){const o=document.getElementById("auth-form"),e=document.getElementById("password-input"),n=document.getElementById("auth-error"),s=document.getElementById("auth-submit");if(!o||!e||!n||!s){console.error("Auth form elements not found");return}o.addEventListener("submit",l=>{l.preventDefault(),dv(e.value)}),e.addEventListener("keypress",l=>{l.key==="Enter"&&(l.preventDefault(),dv(e.value))}),e.addEventListener("input",()=>{kD()}),e.focus()}function dv(o){const e=document.getElementById("auth-error"),n=document.getElementById("auth-submit"),s=document.getElementById("password-input");!e||!n||!s||(n.style.opacity="0.7",n.style.pointerEvents="none",s.disabled=!0,setTimeout(()=>{o===BD?(sessionStorage.setItem(d0,"true"),n.innerHTML='<i class="fas fa-check"></i> Erfolgreich!',n.style.background="linear-gradient(45deg, #10b981, #059669)",setTimeout(()=>{UD()},800)):(zD(),n.style.opacity="1",n.style.pointerEvents="auto",s.disabled=!1,s.value="",s.focus(),n.innerHTML='<i class="fas fa-sign-in-alt"></i> Anmelden')},500))}function zD(){const o=document.getElementById("auth-error");o&&(o.style.display="flex",setTimeout(()=>{o.style.display="none"},3e3))}function kD(){const o=document.getElementById("auth-error");o&&(o.style.display="none")}function m0(){sessionStorage.removeItem(d0),h0(),p0()}window.logout=m0;let nt,cf,ln=null,_i=null,bo=!1,ye=[],wi=[],je=null,Nt=null,Li=null,Gl=new Map,Te=new Map,_n=null,xl=null,za=[],It="de",ce={};const Pi={de:{header:{planning:"Planung",manufacturer:"Hersteller"},nav:{paramInput:"Parameter",markingArea:"Sicherheitsbereich",threatAnalysis:"Gefahrenanalyse",riskReport:"Risikobericht",productSelection:"Produktauswahl",projectDescription:"Ausschreibung",publishProject:"Projektausschreibung veröffentlichen"},aria:{search:"Suche",email:"E-Mail",settings:"Einstellungen"},user:{loggedIn:"Angemeldet: BarricadiX Admin"},sidebar:{trafficData:"Verkehrsdaten",vehicleSelect:"Fahrzeugauswahl",accessRoads:"Zufahrten",curbs:"Bordsteinkanten",obstacles:"Hindernisse",protectionSelection:"Schutzauswahl",protectionPeriod:"Schutzzeitraum",protectionProducts:"Schutzprodukte",productProperty:"Produkteigenschaft",riskAssessment:"Risikobewertung",assetToProtect:"Was geschützt werden soll",securityRisk:"Sicherheitsrisiko",recommendedProductClass:"Empfohlene Produktklasse",low:"niedrig",high:"hoch",options:{vehicle:{all:"alle",motorcycle:"Motorrad",car_light:"KFZ <3.5t",truck_light:"LKW <7.5t",truck_medium:"LKW <12t",truck_heavy:"LKW <40t"},access:{all:"alle",meadow:"Wiese",forest_path:"Waldweg",pedestrian_path:"Fußgängerweg",one_way:"Einbahnstraße",two_lane:"Zweispur",three_lane:"Dreispur",four_lane:"Vierspur"},curbs:{yes:"ja",no:"nein"},obstacles:{none:"keine",trees:"Bäume",posts:"Pfosten",bins:"Mülltonnen"},period:{permanent:"dauerhaft",temporary:"temporär",eventual:"eventuell"},products:{bollard:"Poller",barrier:"Barriere",post:"Pfosten",ditch:"Graben"},property:{automatic_rigid:"aut./starr",retractable:"versenkbar",removable:"entfernbar"}}},products:{resistanceMedium:"Widerstandsmedium",resistanceHigh:"Hoher Widerstand",resistanceLow:"Niedriger Widerstand"},ai:{reportPrompt:"Erstellen Sie einen detaillierten Risikobericht basierend auf den gesammelten Daten.",chatbot:{title:"Zufahrtsschutz-Assistent",welcome:"Willkommen zum Zufahrtsschutz-Assistenten. Ich stelle nur Fragen, die noch fehlen oder unsicher sind. Bereit?",assetQuestion:"Welche Schutzgüter möchten Sie absichern?",assetOptions:"Menschenmenge,Gebäude,KRITIS-Prozess,Veranstaltungsfläche",assetPlaceholder:"z. B. Menschenmenge, Bühne",assetQuestionInfo:"Grundlage für Schutzziel & Schutzklasse (DIN SPEC 91414-2 / ISO 22343-2)",inputPlaceholder:"Antwort eingeben...",sendButton:"Senden",stakeholderQuestion:"Wer sind die relevanten Stakeholder (Behörden, Veranstalter, Betreiber)?",stakeholderOptions:"Behörden,Veranstalter,Betreiber",restRiskQuestion:"Welches akzeptable Restrisiko gilt?",restRiskOptions:"niedrig,mittel,hoch",restRiskQuestionInfo:"Steuert Schutzklasse/Sicherungsgrad (DIN SPEC 91414-2)",operationalQuestion:"Betriebsanforderungen (mehrfach wählbar)",operationalOptions:"Feuerwehrzufahrt,Fluchtwege,Verkehrssicherheit,Betriebssicherheit",threatQuestion:"Welche Art fahrzeuggestützter Bedrohung ist zu erwarten?",threatOptions:"intentional,unbeabsichtigt,beides",vehicleTypesQuestion:"Welche Fahrzeugtypen sind relevant?",vehicleOptions:"PKW,Transporter,LKW,Bus",accessCorridorsQuestion:"Wo könnten Fahrzeuge eindringen? (Karte markieren oder beschreiben)",accessCorridorsPlaceholder:"Polyline/Polygon auswählen oder kurz beschreiben",speedQuestion:"Maximale Zufahrtsgeschwindigkeit (km/h)",speedQuestionInfo:"Pflichtparameter für FSB-Performance (ISO 22343-2/-1)",angleQuestion:"Wahrscheinlicher Anprallwinkel (°)",angleQuestionInfo:"Pflichtparameter für FSB-Performance (ISO 22343-2/-1)",groundQuestion:"Untergrund/Fundamente am Standort",groundOptions:"Asphalt,Beton,Pflaster,Erde,Unbekannt",riskMatrixQuestion:"Risikobewertung: Eintrittswahrscheinlichkeit & Schadensausmaß",riskMatrixOptions:"EW:niedrig|SA:gering,EW:niedrig|SA:mittel,EW:mittel|SA:mittel,EW:hoch|SA:schwer",riskMatrixQuestionInfo:"Erzeugt Sicherungsgrad & Schutzklasse (DIN SPEC 91414-2)",infoPrefix:"Hinweis: ",completionMessage:"Danke! Alle erforderlichen Angaben sind vorhanden. Möchten Sie den normkonformen PDF-Plan erzeugen?"}},manufacturer:{title:"Herstelleransicht",subtitle:"Verwalten Sie Ihren Produktkatalog und Kundenanfragen",products:"Produkte",quotations:"Angebote",customers:"Kunden",analytics:"Analysen",manageCatalog:"Verwalten Sie Ihren Produktkatalog",createQuotations:"Erstellen und verwalten Sie Angebote",manageContacts:"Verwalten Sie Ihre Kundenkontakte",businessAnalytics:"Betriebs- und Verkaufsanalysen",open:"Öffnen",nav:{products:"Produkte",quotations:"Angebote",customers:"Kunden",analytics:"Analysen",settings:"Einstellungen"},sidebar:{productManagement:"Produktverwaltung",productCategory:"Produktkategorie",productStatus:"Produktstatus",customerManagement:"Kundenverwaltung",customerType:"Kundentyp",customerRegion:"Region",analytics:"Analysen",dateRange:"Zeitraum",options:{category:{all:"Alle Kategorien",bollards:"Poller",barriers:"Barrieren",posts:"Pfosten",ditches:"Gräben"},status:{all:"Alle Status",active:"Aktiv",inactive:"Inaktiv",draft:"Entwurf"},customerType:{all:"Alle Typen",private:"Privat",business:"Geschäft",government:"Behörde"},region:{all:"Alle Regionen",north:"Nord",south:"Süd",east:"Ost",west:"West"},dateRange:{"7days":"Letzte 7 Tage","30days":"Letzte 30 Tage","90days":"Letzte 90 Tage","1year":"Letztes Jahr"},manufacturer:{all:"Alle Hersteller"},standard:{all:"Alle Standards"},vehicleType:{all:"Alle Fahrzeugtypen"}},productDatabase:{title:"Produktdatenbank",subtitle:"Technische Daten und Spezifikationen aller verfügbaren Produkte",search:"Produktsuche",searchPlaceholder:"Produktname, Hersteller, Standard oder Fahrzeugtyp eingeben...",filterBy:"Filtern nach",manufacturer:"Hersteller",type:"Typ",standard:"Standard",vehicleWeight:"Fahrzeuggewicht (kg)",vehicleType:"Fahrzeugtyp",speed:"Geschwindigkeit (km/h)",impactAngle:"Anprallwinkel (°)",penetration:"Penetration (m)",debrisDistance:"Trümmerdistanz (m)",actions:"Aktionen",noProducts:"Keine Produkte gefunden",loading:"Produkte werden geladen...",technicalSpecs:"Technische Spezifikationen",performanceData:"Leistungsdaten",certification:"Zertifizierung",viewDetails:"Details anzeigen",closeDetails:"Schließen",exportData:"Daten exportieren",printSpecs:"Spezifikationen drucken",modal:{title:"Produktdetails",technicalSpecs:"Technische Spezifikationen",performanceData:"Leistungsdaten",certification:"Zertifizierung",exportData:"Daten exportieren",printSpecs:"Spezifikationen drucken"},toggleToGrid:"Kachelansicht",toggleToTable:"Tabellenansicht",table:{manufacturer:"Hersteller",type:"Typ",standard:"Standard",vehicleWeight:"Fahrzeuggewicht (kg)",vehicleType:"Fahrzeugtyp",speed:"Geschwindigkeit (km/h)",impactAngle:"Anprallwinkel (°)",penetration:"Penetration (m)",debrisDistance:"Trümmerdistanz (m)",actions:"Aktionen"}}}},tooltips:{securityRisk:"Informationen zum Sicherheitsrisiko.",productClass:"Informationen zur empfohlenen Produktklasse."},report:{mainTitle:"Risikobewertung für Zufahrtsschutz",watermark:"VERTRAULICH",undefinedAsset:"Nicht definiertes Schutzgut",undefinedValue:"Nicht definierter Wert",noThreatAnalysis:"Keine Gefahrenanalyse verfügbar",generating:"Bericht wird generiert...",status:{draft:"Entwurf",final:"Final",approved:"Genehmigt"},metadata:{date:"Datum",author:"Autor",version:"Version",classification:"Klassifizierung"},sections:{purpose:{title:"Zweck und Zielsetzung",description:"Dieser Bericht dient der Bewertung der Sicherheitsrisiken für die zu schützenden Zufahrten und der Empfehlung geeigneter Schutzmaßnahmen."},threatAnalysis:{title:"Gefahrenanalyse",description:"Analyse der identifizierten Bedrohungen und deren potenzielle Auswirkungen."},riskAssessment:{title:"Risikobewertung",description:"Bewertung der identifizierten Risiken und deren Klassifizierung."},recommendations:{title:"Empfehlungen",description:"Konkrete Handlungsempfehlungen für die Implementierung von Schutzmaßnahmen."},vulnerabilities:{title:"Schwachstellenanalyse",description:"Identifizierung und Bewertung von Sicherheitsschwachstellen."},hvmMeasures:{title:"HVM-Schutzmaßnahmen",description:"Spezifische Schutzmaßnahmen gegen High-Velocity Missile Angriffe."},siteConsiderations:{title:"Standortbetrachtungen",description:"Besondere Aspekte des Standorts und der Umgebung."},operationalImpact:{title:"Betriebliche Auswirkungen",description:"Auswirkungen der Schutzmaßnahmen auf den laufenden Betrieb."}},threatsTable:{title:"Identifizierte Bedrohungen",street:"Straße",distance:"Strecke",maxSpeed:"Max. erreichbare Geschw."},identifiedCorridors:"{count} identifizierte Korridore",noChatGeometry:"keine Geometrie aus Chatbot übergeben",actions:{save:"Speichern",print:"Drucken",export:"Exportieren",share:"Teilen"}},threats:{title:"Gefahrenanalyse",speed:"Geschwindigkeit",analysisFailed:"Gefahrenanalyse fehlgeschlagen",noCrossingWaysBoundary:"Keine kreuzenden Wege an der Grenze gefunden",popupHeader:"Gefahreninformationen",loading:"Lade Gefahrenanalyse..."},map:{createReport:"Bericht erstellen",downloadReport:"Bericht herunterladen",searchPlaceholder:"Paderborn, Domplatz",searchButton:"Suchen",setWaypoints:"Wegpunkte setzen",setWaypointsActive:"Zeichnen aktiv",reset:"Zurücksetzen",securityAreaLabel:"Sicherheitsbereich",analyzeAccess:"Zugang analysieren"},placeholders:{assetToProtect:"Bitte eintragen"},alerts:{noPolygon:"Bitte zeichnen Sie zuerst einen Sicherheitsbereich auf der Karte.",overpassError:"Fehler beim Laden der Straßendaten (Status: {status}).",analysisError:"Fehler bei der Gefahrenanalyse. Bitte versuchen Sie es erneut.",invalidPolygon:"Ungültiges Polygon. Bitte zeichnen Sie den Sicherheitsbereich neu.",emptyPolygon:"Das gezeichnete Polygon hat keine gültigen Koordinaten.",polygonCoordinateError:"Fehler beim Verarbeiten der Polygon-Koordinaten.",locationNotFound:"Standort nicht gefunden. Bitte überprüfen Sie die Eingabe.",noThreatsFound:"Keine Bedrohungen in diesem Bereich gefunden.",reportGenerationError:"Fehler beim Erstellen des Berichts. Bitte versuchen Sie es erneut."}},en:{header:{planning:"Planning",manufacturer:"Manufacturer"},nav:{paramInput:"Parameters",markingArea:"Security Area",threatAnalysis:"Threat Analysis",riskReport:"Risk Report",productSelection:"Product Selection",projectDescription:"Specification",publishProject:"Publish Project Specification"},aria:{search:"Search",email:"Email",settings:"Settings"},user:{loggedIn:"Logged in: BarricadiX Admin"},sidebar:{trafficData:"Traffic Data",vehicleSelect:"Vehicle Selection",accessRoads:"Access Roads",curbs:"Curbs",obstacles:"Obstacles",protectionSelection:"Protection Selection",protectionPeriod:"Protection Period",protectionProducts:"Protection Products",productProperty:"Product Property",riskAssessment:"Risk Assessment",assetToProtect:"What to Protect",securityRisk:"Security Risk",recommendedProductClass:"Recommended Product Class",low:"low",high:"high",options:{vehicle:{all:"all",motorcycle:"Motorcycle",car_light:"Car <3.5t",truck_light:"Truck <7.5t",truck_medium:"Truck <12t",truck_heavy:"Truck <40t"},access:{all:"all",meadow:"Meadow",forest_path:"Forest Path",pedestrian_path:"Pedestrian Path",one_way:"One Way",two_lane:"Two Lane",three_lane:"Three Lane",four_lane:"Four Lane"},curbs:{yes:"yes",no:"no"},obstacles:{none:"none",trees:"Trees",posts:"Posts",bins:"Bins"},period:{permanent:"permanent",temporary:"temporary",eventual:"eventual"},products:{bollard:"Bollard",barrier:"Barrier",post:"Post",ditch:"Ditch"},property:{automatic_rigid:"auto/rigid",retractable:"retractable",removable:"removable"}}},products:{resistanceMedium:"Resistance Medium",resistanceHigh:"High Resistance",resistanceLow:"Low Resistance"},ai:{reportPrompt:"Create a detailed risk report based on the collected data.",chatbot:{title:"Access Protection Assistant",welcome:"Welcome to the Access Protection Assistant. I only ask questions that are still missing or uncertain. Ready?",assetQuestion:"Which protective assets would you like to secure?",assetOptions:"Crowd,Building,KRITIS Process,Event Area",assetPlaceholder:"e.g. Crowd, Stage",assetQuestionInfo:"Basis for Protection Goal & Protection Class (DIN SPEC 91414-2 / ISO 22343-2)",inputPlaceholder:"Enter answer...",sendButton:"Send",stakeholderQuestion:"Who are the relevant stakeholders (authorities, organizers, operators)?",stakeholderOptions:"Authorities,Organizers,Operators",restRiskQuestion:"What acceptable residual risk applies?",restRiskOptions:"low,medium,high",restRiskQuestionInfo:"Controls protection class/security level (DIN SPEC 91414-2)",operationalQuestion:"Operational requirements (multiple choice)",operationalOptions:"Fire brigade access,Escape routes,Traffic safety,Operational safety",threatQuestion:"What type of vehicle-based threat is expected?",threatOptions:"intentional,unintentional,both",vehicleTypesQuestion:"Which vehicle types are relevant?",vehicleOptions:"Car,Van,Truck,Bus",accessCorridorsQuestion:"Where could vehicles penetrate? (Mark on map or describe)",accessCorridorsPlaceholder:"Select polyline/polygon or describe briefly",speedQuestion:"Maximum access speed (km/h)",speedQuestionInfo:"Mandatory parameter for FSB performance (ISO 22343-2/-1)",angleQuestion:"Probable impact angle (°)",angleQuestionInfo:"Mandatory parameter for FSB performance (ISO 22343-2/-1)",groundQuestion:"Ground/foundations at the site",groundOptions:"Asphalt,Concrete,Paving,Earth,Unknown",riskMatrixQuestion:"Risk assessment: probability of occurrence & extent of damage",riskMatrixOptions:"Prob:low|Damage:minor,Prob:low|Damage:medium,Prob:medium|Damage:medium,Prob:high|Damage:severe",riskMatrixQuestionInfo:"Generates security level & protection class (DIN SPEC 91414-2)",infoPrefix:"Note: ",completionMessage:"Thank you! All required information is available. Would you like to generate the standards-compliant PDF plan?"}},manufacturer:{title:"Manufacturer View",subtitle:"Manage your product catalog and customer inquiries",products:"Products",quotations:"Quotations",customers:"Customers",analytics:"Analytics",manageCatalog:"Manage your product catalog",createQuotations:"Create and manage quotations",manageContacts:"Manage your customer contacts",businessAnalytics:"Business and sales analytics",open:"Open",nav:{products:"Products",quotations:"Quotations",customers:"Customers",analytics:"Analytics",settings:"Settings"},sidebar:{productManagement:"Product Management",productCategory:"Product Category",productStatus:"Product Status",customerManagement:"Customer Management",customerType:"Customer Type",customerRegion:"Region",analytics:"Analytics",dateRange:"Date Range",options:{category:{all:"All Categories",bollards:"Bollards",barriers:"Barriers",posts:"Posts",ditches:"Ditches"},status:{all:"All Status",active:"Active",inactive:"Inactive",draft:"Draft"},customerType:{all:"All Types",private:"Private",business:"Business",government:"Government"},region:{all:"All Regions",north:"North",south:"South",east:"East",west:"West"},dateRange:{"7days":"Last 7 Days","30days":"Last 30 Days","90days":"Last 90 Days","1year":"Last Year"},manufacturer:{all:"All Manufacturers"},standard:{all:"All Standards"},vehicleType:{all:"All Vehicle Types"}},productDatabase:{title:"Product Database",subtitle:"Technical data and specifications of all available products",search:"Product Search",searchPlaceholder:"Enter product name, manufacturer, standard or vehicle type...",filterBy:"Filter by",manufacturer:"Manufacturer",type:"Type",standard:"Standard",vehicleWeight:"Vehicle Weight (kg)",vehicleType:"Vehicle Type",speed:"Speed (km/h)",impactAngle:"Impact Angle (°)",penetration:"Penetration (m)",debrisDistance:"Debris Distance (m)",actions:"Actions",noProducts:"No products found",loading:"Loading products...",technicalSpecs:"Technical Specifications",performanceData:"Performance Data",certification:"Certification",viewDetails:"View Details",closeDetails:"Close",exportData:"Export Data",printSpecs:"Print Specifications",modal:{title:"Product Details",technicalSpecs:"Technical Specifications",performanceData:"Performance Data",certification:"Certification",exportData:"Export Data",printSpecs:"Print Specifications"},toggleToGrid:"Grid View",toggleToTable:"Table View",table:{manufacturer:"Manufacturer",type:"Type",standard:"Standard",vehicleWeight:"Vehicle Weight (kg)",vehicleType:"Vehicle Type",speed:"Speed (km/h)",impactAngle:"Impact Angle (°)",penetration:"Penetration (m)",debrisDistance:"Debris Distance (m)",actions:"Actions"}}}},tooltips:{securityRisk:"Information about security risk.",productClass:"Information about recommended product class."},report:{mainTitle:"Risk Assessment for Access Protection",watermark:"CONFIDENTIAL",undefinedAsset:"Undefined asset",undefinedValue:"Undefined value",noThreatAnalysis:"No threat analysis available",generating:"Generating report...",identifiedCorridors:"{count} identified corridors",noChatGeometry:"no geometry from chatbot",status:{draft:"Draft",final:"Final",approved:"Approved"},metadata:{date:"Date",author:"Author",version:"Version",classification:"Classification"},sections:{purpose:{title:"Purpose and Objectives",description:"This report serves to assess security risks for the access routes to be protected and to recommend appropriate protective measures."},threatAnalysis:{title:"Threat Analysis",description:"Analysis of identified threats and their potential impacts."},riskAssessment:{title:"Risk Assessment",description:"Assessment of identified risks and their classification."},recommendations:{title:"Recommendations",description:"Concrete action recommendations for implementing protective measures."},vulnerabilities:{title:"Vulnerability Analysis",description:"Identification and assessment of security vulnerabilities."},hvmMeasures:{title:"HVM Protection Measures",description:"Specific protection measures against High-Velocity Missile attacks."},siteConsiderations:{title:"Site Considerations",description:"Special aspects of the site and environment."},operationalImpact:{title:"Operational Impact",description:"Impact of protection measures on ongoing operations."}},threatsTable:{title:"Identified Threats",street:"Street",distance:"Distance",maxSpeed:"Max. achievable speed"},actions:{save:"Save",print:"Print",export:"Export",share:"Share"}},threats:{title:"Threat Analysis",speed:"Speed",analysisFailed:"Threat analysis failed",noCrossingWaysBoundary:"No crossing ways found at boundary",popupHeader:"Threat Information",loading:"Loading threat analysis..."},map:{createReport:"Create Report",downloadReport:"Download Report",searchPlaceholder:"Paderborn, Domplatz",searchButton:"Search",setWaypoints:"Set Waypoints",setWaypointsActive:"Drawing Active",reset:"Reset",securityAreaLabel:"Security Area",analyzeAccess:"Analyze Access"},placeholders:{assetToProtect:"Please enter"}}};ce=Pi;function hv(){console.log("Initializing view switcher..."),setTimeout(()=>{const o=document.getElementById("planning-view-btn"),e=document.getElementById("manufacturer-view-btn");console.log("Planning button:",o),console.log("Manufacturer button:",e),o&&e?(o.addEventListener("click",()=>{console.log("Planning button clicked"),OD()}),e.addEventListener("click",()=>{console.log("Manufacturer button clicked"),GD()}),console.log("View switcher initialized successfully")):console.error("View switcher buttons not found!");const n=document.querySelectorAll(".manufacturer-tab");n.forEach(s=>{s.addEventListener("click",l=>{l.preventDefault();const u=l.target;n.forEach(y=>y.classList.remove("active")),u.classList.add("active");const c=u.id;console.log("Manufacturer tab clicked:",c);const h=u.textContent||"Tab";Bo(`${h} wird geladen...`,"info")})}),console.log("Manufacturer navigation tabs initialized"),setTimeout(()=>{YD()},500)},100)}function OD(){const o=document.getElementById("planning-view-btn"),e=document.getElementById("manufacturer-view-btn");o&&e&&(o.classList.add("active"),e.classList.remove("active")),qD()}function GD(){const o=document.getElementById("planning-view-btn"),e=document.getElementById("manufacturer-view-btn");o&&e&&(e.classList.add("active"),o.classList.remove("active")),HD()}function qD(){console.log("Switching to planning view...");const o=document.getElementById("manufacturer-view");o&&(o.style.display="none",console.log("Manufacturer view hidden"));const e=document.getElementById("planning-view");if(e&&(e.style.display="block",console.log("Planning view shown")),["map","map-area","sidebar","map-tabs","map-toolbar","chatbot-react-root"].forEach(s=>{const l=document.getElementById(s);l&&(l.classList.remove("view-hidden"),l.style.display="block",l.style.visibility="visible",l.style.opacity="1",console.log(`${s} restored and view-hidden removed`))}),nt&&(console.log("Destroying existing map..."),nt.remove(),nt=null),setTimeout(()=>{if(console.log("Re-initializing map..."),E0(),window.savedMapState){const s=window.savedMapState;nt&&(nt.setView(s.center,s.zoom),console.log("Map state restored:",s.center,"zoom:",s.zoom),nt.invalidateSize(),setTimeout(()=>nt==null?void 0:nt.invalidateSize(),100),setTimeout(()=>nt==null?void 0:nt.invalidateSize(),300))}},100),window.savedChatbotState&&window.savedChatbotState.open){console.log("Restoring chatbot state...");const s=document.querySelector('#chatbot-react-root [aria-label="Zufahrtsschutz-Assistent öffnen"]');s&&(s.click(),console.log("Chatbot button clicked"))}Bo("Planungs-Ansicht aktiviert - Map neu initialisiert","success"),console.log("Planning view switch completed with map re-initialization")}function HD(){nt&&(window.savedMapState={center:nt.getCenter(),zoom:nt.getZoom(),waypoints:ye,drawnPolygon:Nt?Nt.getLatLngs()[0]:null,waypointMarkers:wi.length>0,pathLine:je!==null});const o=document.querySelector('#chatbot-react-root aside[aria-label="Zufahrtsschutz-Assistent Panel"]');window.savedChatbotState={open:o&&!o.classList.contains("hidden")};const e=document.getElementById("planning-view");e&&(e.style.display="none");const n=document.getElementById("manufacturer-view");n&&(n.style.display="block",n.style.position="relative",n.style.width="100%",n.style.height="100%",n.style.zIndex="auto",n.style.backgroundColor="transparent");const s=document.querySelector(".sidebar");s&&(s.style.display="none");const l=document.getElementById("map-area");l&&(l.style.display="none",l.style.visibility="hidden",l.style.opacity="0",l.classList.add("view-hidden"));const u=document.getElementById("map");u&&(u.style.display="none",u.style.visibility="hidden",u.style.opacity="0",u.classList.add("view-hidden"));const c=document.getElementById("map-tabs"),h=document.getElementById("map-toolbar");c&&(c.style.display="none",c.classList.add("view-hidden")),h&&(h.style.display="none",h.classList.add("view-hidden")),setTimeout(()=>{ql()},50),Bo("Hersteller-Ansicht aktiviert","success")}function FD(){if(!window.savedMapState)return;const o=window.savedMapState;return console.log("Restoring map state:",o),o}window.restoreMapState=FD;function YD(){console.log("Initializing product database..."),v0(),KD(),WD(),eN()}async function KD(){try{const o=await fetch("/Barricadix_MWP/product-database.json");if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const e=await o.json();console.log("Product database loaded:",e.length,"products"),window.productDatabase=e,QD(e),console.log("About to display products:",e.length),await g0(e),console.log("Products display completed");const n=document.getElementById("products-loading");n&&(n.style.display="none"),v0(),setTimeout(()=>{document.getElementById("toggle-view-btn")&&Xf("grid")},100)}catch(o){console.error("Error loading product database:",o),Bo("Fehler beim Laden der Produktdatenbank","error");const e=document.getElementById("no-products");e&&(e.style.display="block",e.textContent="Fehler beim Laden der Produktdatenbank")}}function QD(o){const e=document.getElementById("manufacturer-filter");e&&[...new Set(o.map(u=>u.manufacturer).filter(Boolean))].forEach(u=>{const c=document.createElement("option");c.value=u,c.textContent=u,e.appendChild(c)});const n=document.getElementById("standard-filter");n&&[...new Set(o.map(u=>u.standard).filter(Boolean))].forEach(u=>{const c=document.createElement("option");c.value=u,c.textContent=u,n.appendChild(c)});const s=document.getElementById("vehicle-type-filter");s&&[...new Set(o.map(u=>u.vehicleType).filter(Boolean))].forEach(u=>{const c=document.createElement("option");c.value=u,c.textContent=u,s.appendChild(c)})}async function g0(o){console.log("displayProducts called with",o.length,"products"),console.log("Calling displayProductsTable..."),XD(o),console.log("Calling displayProductsGrid..."),await ZD(o),console.log("displayProducts completed")}function XD(o){console.log("displayProductsTable called with",o.length,"products");const e=document.getElementById("products-tbody");if(!e){console.error("products-tbody not found");return}if(console.log("Clearing tbody and adding",o.length,"rows"),e.innerHTML="",o.length===0){console.log("No products to display");const l=document.getElementById("no-products");l&&(l.style.display="block");return}const n=document.getElementById("no-products");n&&(n.style.display="none"),o.forEach((l,u)=>{const c=document.createElement("tr");c.innerHTML=`
            <td>${l.manufacturer||"N/A"}</td>
            <td>${l.type||"N/A"}</td>
            <td>${l.standard||"N/A"}</td>
            <td>${l.vehicleWeight||"N/A"}</td>
            <td>${l.vehicleType||"N/A"}</td>
            <td>${l.speed||"N/A"}</td>
            <td>${l.impactAngle||"N/A"}</td>
            <td>${l.penetration||"N/A"}</td>
            <td>${l.debrisDistance||"N/A"}</td>
            <td>
                <button class="view-details-btn" data-product-index="${u}">
                    Details anzeigen
                </button>
            </td>
        `,e.appendChild(c)}),console.log("Added",o.length,"rows to table"),e.querySelectorAll(".view-details-btn").forEach(l=>{l.addEventListener("click",u=>{const c=u.target,h=parseInt(c.getAttribute("data-product-index")||"0");T0(h)})})}async function ZD(o){const e=document.getElementById("products-grid");if(!e)return;if(e.innerHTML="",o.length===0){const h=document.getElementById("no-products-grid");h&&(h.style.display="block");return}const n=document.getElementById("no-products-grid");n&&(n.style.display="none");const s=await $D(o);console.log("First 5 products after sorting:",s.slice(0,5).map(h=>({type:h.type,hasRealImage:h.hasRealImage,manufacturer:h.manufacturer})));const l=s.filter(h=>h.hasRealImage),u=s.filter(h=>!h.hasRealImage);console.log(`Products WITH real images: ${l.length}, WITHOUT real images: ${u.length}, total: ${s.length}`),s.forEach((h,y)=>{const p=document.createElement("div");p.className="product-card";const v=y0(h),S=h.hasRealImage;S&&y<20&&(p.className="product-card product-card-priority"),p.innerHTML=`
            <div class="product-card-image ${S?"":"no-image"}">
                <img src="${v}" alt="${h.type||"Produkt"}" 
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='block';"
                     class="product-image">
                <div class="product-image-placeholder" style="display: none;">
                    <i class="fas fa-image"></i>
                    <span>Kein Bild verfügbar</span>
                </span>
                </div>
            </div>
            <div class="product-card-content">
                <div class="product-card-header">
                    <div class="product-card-title">${h.type||"N/A"}</div>
                    <div class="product-card-manufacturer">${h.manufacturer||"N/A"}</div>
                </div>
                <div class="product-card-specs">
                    <div class="product-card-spec">
                        <div class="product-card-spec-label">${W("manufacturer.sidebar.productDatabase.standard")}</div>
                        <div class="product-card-spec-value">${h.standard||"N/A"}</div>
                    </div>
                    <div class="product-card-spec">
                        <div class="product-card-spec-label">${W("manufacturer.sidebar.productDatabase.vehicleWeight")}</div>
                        <div class="product-card-spec-value">${h.vehicleWeight||"N/A"} kg</div>
                    </div>
                    <div class="product-card-spec">
                        <div class="product-card-spec-label">${W("manufacturer.sidebar.productDatabase.vehicleType")}</div>
                        <div class="product-card-spec-value">${h.vehicleType||"N/A"}</div>
                    </div>
                    <div class="product-card-spec">
                        <div class="product-card-spec-label">${W("manufacturer.sidebar.productDatabase.speed")}</div>
                        <div class="product-card-spec-value">${h.speed||"N/A"} km/h</div>
                    </div>
                    <div class="product-card-spec">
                        <div class="product-card-spec-label">${W("manufacturer.sidebar.productDatabase.impactAngle")}</div>
                        <div class="product-card-spec-value">${h.impactAngle||"N/A"}°</div>
                    </div>
                    <div class="product-card-spec">
                        <div class="product-card-spec-label">${W("manufacturer.sidebar.productDatabase.penetration")}</div>
                        <div class="product-card-spec-value">${h.penetration||"N/A"} m</div>
                    </div>
                </div>
                <div class="product-card-actions">
                    <button class="product-card-btn secondary" data-product-index="${y}">
                        Details
                    </button>
                </div>
            </div>
        `,e.appendChild(p)}),e.querySelectorAll(".product-card").forEach(h=>{h.addEventListener("click",y=>{const p=y.target;if(p.classList.contains("product-card-btn")){const v=parseInt(p.getAttribute("data-product-index")||"0");T0(v)}})})}async function $D(o){console.log("Sorting products by ACTUAL image availability...");const n=(await Promise.all(o.map(async u=>{const c=y0(u),h=await JD(c);return{...u,hasRealImage:h}}))).sort((u,c)=>u.hasRealImage&&!c.hasRealImage?(console.log(`Sorting: "${u.type}" (has real image) before "${c.type}" (no image)`),-1):!u.hasRealImage&&c.hasRealImage?(console.log(`Sorting: "${c.type}" (has real image) before "${u.type}" (no image)`),1):0),s=n.filter(u=>u.hasRealImage),l=n.filter(u=>!u.hasRealImage);return console.log(`Sorting completed: ${s.length} products WITH images, ${l.length} products WITHOUT images`),console.log("First 5 products with images:"),s.slice(0,5).forEach((u,c)=>{console.log(`${c+1}. "${u.type}" - Has real image: true`)}),n}function JD(o){return new Promise(e=>{const n=new Image;n.onload=()=>e(!0),n.onerror=()=>e(!1),n.src=o,setTimeout(()=>e(!1),2e3)})}function y0(o){if(!o.type||o.type==="")return"/Barricadix_MWP/Datenbank_Produktbilder/default_product_img01.jpg";let e=o.type.replace(/[^a-zA-Z0-9\s\-_]/g,"").replace(/\s+/g,"_").replace(/[_-]+/g,"_").trim();return`/Barricadix_MWP/Datenbank_Produktbilder/${[`${e}_img01.jpg`,`${e}_img02.jpg`,`${e}_img03.jpg`,`${e}.jpg`,`${e}_01.jpg`,`${e}_02.jpg`][0]}`}function WD(){const o=document.getElementById("product-search"),e=document.getElementById("search-btn"),n=document.getElementById("manufacturer-filter"),s=document.getElementById("standard-filter"),l=document.getElementById("vehicle-type-filter");o&&o.addEventListener("input",Ia),e&&e.addEventListener("click",Ia),n&&n.addEventListener("change",Ia),s&&s.addEventListener("change",Ia),l&&l.addEventListener("change",Ia),jD()}function jD(){console.log("initViewToggle called");const o=document.getElementById("toggle-view-btn");if(!o){console.error("Toggle button not found in initViewToggle");return}console.log("Toggle button found, adding click listener"),o.addEventListener("click",tN),console.log("Setting initial view to grid"),Xf("grid")}function tN(){console.log("toggleView called");const o=document.getElementById("toggle-view-btn");if(!o){console.error("Toggle button not found");return}const e=o.getAttribute("data-view");console.log("Current view:",e);const n=e==="table"?"grid":"table";console.log("Switching to view:",n),Xf(n)}function Xf(o){console.log("setView called with:",o);const e=document.getElementById("toggle-view-btn"),n=document.getElementById("products-table-container"),s=document.getElementById("products-grid-container");if(console.log("Elements found:",{toggleBtn:!!e,tableContainer:!!n,gridContainer:!!s}),!e||!n||!s){console.error("Required elements not found");return}e.setAttribute("data-view",o),console.log("Button data-view updated to:",o);const l=e.querySelector("span"),u=e.querySelector("i");if(o==="grid")console.log("Switching to grid view"),n.style.display="none",s.style.display="block",l&&(l.textContent=W("manufacturer.sidebar.productDatabase.toggleToTable")),u&&(u.className="fas fa-table");else{console.log("Switching to table view"),n.style.display="block",s.style.display="none";const c=document.getElementById("products-table");c&&(c.style.display="table",console.log("Table display set to table")),l&&(l.textContent=W("manufacturer.sidebar.productDatabase.toggleToGrid")),u&&(u.className="fas fa-th-large"),console.log("Table view activated, table should be visible now")}console.log("View switch completed")}async function Ia(){var c,h,y,p;const o=window.productDatabase||[],e=((c=document.getElementById("product-search"))==null?void 0:c.value.toLowerCase())||"",n=((h=document.getElementById("manufacturer-filter"))==null?void 0:h.value)||"",s=((y=document.getElementById("standard-filter"))==null?void 0:y.value)||"",l=((p=document.getElementById("vehicle-type-filter"))==null?void 0:p.value)||"",u=o.filter(v=>{var w,z,k;const S=!e||((w=v.manufacturer)==null?void 0:w.toLowerCase().includes(e))||((z=v.type)==null?void 0:z.toLowerCase().includes(e))||((k=v.standard)==null?void 0:k.toLowerCase().includes(e)),E=!n||v.manufacturer===n,C=!s||v.standard===s,A=!l||v.vehicleType===l;return S&&E&&C&&A});await g0(u)}function v0(){console.log("Translating product database elements..."),console.log("Product database elements now use automatic translation via data-translate-key")}function eN(){const o=document.getElementById("close-modal"),e=document.getElementById("export-product"),n=document.getElementById("print-product");o&&o.addEventListener("click",()=>{const l=document.getElementById("product-modal");l&&(l.style.display="none")}),e&&e.addEventListener("click",nN),n&&n.addEventListener("click",iN);const s=document.getElementById("product-modal");s&&s.addEventListener("click",l=>{l.target===s&&(s.style.display="none")})}function T0(o){const n=(window.productDatabase||[])[o];if(!n)return;const s=document.getElementById("modal-product-name");s&&(s.textContent=`${n.manufacturer} - ${n.type}`);const l=document.getElementById("modal-technical-specs");l&&(l.innerHTML=`
            <p><strong>Hersteller:</strong> ${n.manufacturer||"N/A"}</p>
            <p><strong>Typ:</strong> ${n.type||"N/A"}</p>
            <p><strong>Standard:</strong> ${n.standard||"N/A"}</p>
        `);const u=document.getElementById("modal-performance-data");u&&(u.innerHTML=`
            <p><strong>Fahrzeuggewicht:</strong> ${n.vehicleWeight||"N/A"} kg</p>
            <p><strong>Fahrzeugtyp:</strong> ${n.vehicleType||"N/A"}</p>
            <p><strong>Geschwindigkeit:</strong> ${n.speed||"N/A"} km/h</p>
            <p><strong>Anprallwinkel:</strong> ${n.impactAngle||"N/A"}°</p>
            <p><strong>Penetration:</strong> ${n.penetration||"N/A"} m</p>
            <p><strong>Trümmerdistanz:</strong> ${n.debrisDistance||"N/A"} m</p>
        `);const c=document.getElementById("modal-certification");c&&(c.innerHTML=`
            <p><strong>Zertifizierungsstandard:</strong> ${n.standard||"N/A"}</p>
            <p><strong>Testbedingungen:</strong> ${n.vehicleWeight||"N/A"} kg bei ${n.speed||"N/A"} km/h</p>
        `);const h=document.getElementById("product-modal");h&&(h.style.display="flex")}function nN(){Bo("Export-Funktionalität wird implementiert...","info")}function iN(){Bo("Druck-Funktionalität wird implementiert...","info")}function Bo(o,e="info"){document.querySelectorAll(".custom-notification").forEach(u=>u.remove());const s=document.createElement("div");s.className=`custom-notification custom-notification-${e}`,s.innerHTML=`
        <div class="notification-content">
            <span class="notification-message">${o}</span>
            <button class="notification-close">&times;</button>
        </div>
    `,s.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${e==="info"?"#2563eb":e==="success"?"#22c55e":e==="warning"?"#f59e0b":"#ef4444"};
        color: white;
        padding: 16px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 10000;
        max-width: 400px;
        font-family: 'Open Sans', sans-serif;
        font-size: 14px;
        line-height: 1.4;
    `,document.body.appendChild(s);const l=s.querySelector(".notification-close");l&&l.addEventListener("click",()=>s.remove()),setTimeout(()=>{s.parentNode&&s.remove()},5e3)}function pv(o,e){return e.split(".").reduce((n,s)=>n?n[s]:void 0,o)}function W(o,e){console.log(`Translation request for key: ${o}, language: ${It}`),console.log("Translations source:",ce===Pi?"embedded":"external"),console.log("Current translations structure:",ce),console.log("Embedded translations structure:",Pi),(!ce||!ce[It])&&(console.warn(`No translations loaded for language: ${It}, using embedded`),ce=Pi);let n=pv(ce[It],o);if(console.log(`Text from main translations for key '${o}':`,n),typeof n!="string"&&(console.warn(`Translation key not found in main translations for language '${It}': ${o}`),n=pv(Pi[It],o),console.log(`Text from embedded translations for key '${o}':`,n),typeof n!="string")){console.warn(`Translation key not found in embedded translations for language '${It}': ${o}`);const s=oN(o);return console.log(`Fallback text for key '${o}':`,s),s||o}if(e)for(const s in e)n=n.replace(`{${s}}`,String(e[s]));return console.log(`Final translation result for ${o}:`,n),n}function oN(o){return{"sidebar.trafficData":"Verkehrsdaten","sidebar.vehicleSelect":"Fahrzeugauswahl","sidebar.accessRoads":"Zufahrten","sidebar.curbs":"Bordsteinkanten","sidebar.obstacles":"Hindernisse","sidebar.protectionSelection":"Schutzauswahl","sidebar.protectionPeriod":"Schutzzeitraum","sidebar.protectionProducts":"Schutzprodukte","sidebar.productProperty":"Produkteigenschaft","sidebar.riskAssessment":"Risikobewertung","sidebar.assetToProtect":"Was geschützt werden soll","sidebar.securityRisk":"Sicherheitsrisiko","sidebar.recommendedProductClass":"Empfohlene Produktklasse","sidebar.low":"niedrig","sidebar.high":"hoch","nav.paramInput":"Parameter","nav.markingArea":"Sicherheitsbereich","nav.threatAnalysis":"Gefahrenanalyse","nav.riskReport":"Risikobericht","nav.productSelection":"Produktauswahl","nav.projectDescription":"Ausschreibung","header.planning":"Planung","header.manufacturer":"Hersteller"}[o]||null}async function ql(){if(console.log("Starting UI translation..."),!ce[It]&&(console.warn(`No translations for language '${It}', attempting to load...`),await S0(),!ce[It])){console.error(`Failed to load translations for language '${It}'`);return}let o=0,e=0;document.querySelectorAll("[data-translate-key]").forEach(s=>{try{const l=s.getAttribute("data-translate-key"),u=W(l);if(u&&u!==l){if(s.hasAttribute("placeholder"))s.placeholder=u;else if(s.tagName==="INPUT"&&s.type==="text")s.value=u;else{const c=Array.from(s.childNodes).find(h=>{var y;return h.nodeType===Node.TEXT_NODE&&((y=h.textContent)==null?void 0:y.trim())});c?c.textContent=u:s.textContent=u}o++}else console.warn(`Translation failed for key: ${l}`),e++}catch(l){console.error("Error translating element:",l),e++}}),document.querySelectorAll("[data-translate-key-placeholder]").forEach(s=>{try{const l=s.getAttribute("data-translate-key-placeholder"),u=W(l);u&&u!==l&&(s.placeholder=u,o++)}catch(l){console.error("Error translating placeholder:",l),e++}}),document.querySelectorAll("[data-translate-key-aria]").forEach(s=>{try{const l=s.getAttribute("data-translate-key-aria"),u=W(l);u&&u!==l&&(s.setAttribute("aria-label",u),o++)}catch(l){console.error("Error translating aria-label:",l),e++}}),document.querySelectorAll("[data-translate-key-tooltip]").forEach(s=>{try{const l=s.getAttribute("data-translate-key-tooltip"),u=W(l);u&&u!==l&&(s.dataset.tooltip=u,o++)}catch(l){console.error("Error translating tooltip:",l),e++}});const n=document.getElementById("toggle-draw-mode");if(n){const s=n.querySelector("span");if(s){const l=W(bo?"map.setWaypointsActive":"map.setWaypoints");l&&l!=="map.setWaypointsActive"&&l!=="map.setWaypoints"&&(s.textContent=l,o++)}}console.log(`UI translation completed: ${o} elements translated, ${e} failed`),setTimeout(()=>{let s=0;document.querySelectorAll("[data-translate-key]").forEach(l=>{try{const u=l.getAttribute("data-translate-key"),c=W(u);c&&c!==u&&l.textContent!==c&&(l.textContent=c,s++)}catch(u){console.error("Error in refresh translation:",u)}}),s>0&&console.log(`Refreshed ${s} elements`)},200)}async function S0(){console.log("Translation file loading disabled to avoid conflicts"),console.log("Using embedded translations to avoid conflicts"),ce=Pi}async function mv(o){var s;console.log(`Setting language to: ${o}`);const e={center:nt?nt.getCenter():null,zoom:nt?nt.getZoom():null,drawnPolygon:Nt?Nt.getLatLngs():null,threatsMap:new Map(Te),waypoints:[...ye]};console.log("Current map state:",e),It=o,localStorage.setItem("language",o),document.documentElement.lang=o,document.querySelectorAll(".lang-btn").forEach(l=>{l.classList.toggle("active",l.getAttribute("data-lang")===o)}),await ql();const n=document.getElementById("manufacturer-view");if(n&&n.style.display!=="none"&&ql(),b0(),window.dispatchEvent(new Event("languageChanged")),nt&&e.center&&e.zoom){console.log("Restoring map state after language change"),await new Promise(l=>setTimeout(l,500));try{if(nt.setView(e.center,e.zoom,{animate:!1}),e.drawnPolygon&&e.drawnPolygon.length>0){console.log("Restoring drawn polygon"),Nt&&nt.removeLayer(Nt),Nt=L.polygon(e.drawnPolygon,{color:"#ff7800",weight:3,opacity:.8,fillColor:"#ff7800",fillOpacity:.2}).addTo(nt),Li&&nt.removeLayer(Li);const l=Nt.getBounds().getCenter();Li=L.marker(l,{icon:L.divIcon({className:"polygon-label",html:`<div style="background: white; padding: 5px; border: 2px solid #ff7800; border-radius: 5px; font-weight: bold; color: #ff7800;">${W("map.securityArea")}</div>`,iconSize:[120,40],iconAnchor:[60,20]})}).addTo(nt)}e.threatsMap.size>0&&(console.log("Restoring threats map"),Te=e.threatsMap,Te.size>0&&ff()),e.waypoints.length>0&&(console.log("Restoring waypoints"),ye=e.waypoints,ye.forEach((l,u)=>{const c=L.marker(l,{icon:L.divIcon({className:"waypoint-marker",html:`<div style="background: #ff7800; color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: bold;">${u+1}</div>`,iconSize:[20,20],iconAnchor:[10,10]})}).addTo(nt);wi.push(c)}),ye.length>1&&(je=L.polyline(ye,{color:"#ff7800",weight:3,opacity:.8,dashArray:"10, 10"}).addTo(nt))),nt.invalidateSize(),console.log("Map state restored successfully")}catch(l){console.error("Error restoring map state:",l)}}Te.size>0&&ff(),((s=document.querySelector(".product-recommendations-container"))==null?void 0:s.classList.contains("hidden"))===!1&&await Fl(),console.log(`Language change to ${o} completed`)}function E0(){const o=document.getElementById("map");if(!o){console.error("Map container element not found.");return}o.style.display="block",o.style.visibility="visible",o.style.opacity="1",o.classList.remove("view-hidden"),console.log("Map container prepared for initialization");const e=[51.7189,8.7575];nt=L.map(o,{zoomControl:!1,preferCanvas:!0}).setView(e,16),L.control.zoom({position:"bottomright"}).addTo(nt),cf=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(nt),setTimeout(()=>{nt&&(nt.invalidateSize(),console.log("Map size invalidated after initialization"))},100),cf.once("load",()=>{nt&&(nt.invalidateSize(),console.log("Map size invalidated after tiles loaded"))}),console.log("Map initialized successfully")}const ka=()=>{if(ln){try{ln.clearLayers(),nt.removeLayer(ln)}catch{}ln=null}Gl.forEach(s=>{s.forEach(l=>nt.removeLayer(l))}),Gl.clear(),Te.clear();const o=document.querySelector(".threat-list");o&&(o.innerHTML="");const e=document.getElementById("floating-threats");e&&e.classList.add("view-hidden");const n=document.querySelector(".product-recommendations-container");n&&n.classList.add("hidden")};function aN(o,e,n,s){const l=o.lon,u=o.lat,c=e.lon,h=e.lat,y=n.lon,p=n.lat,v=s.lon,S=s.lat,E=(l-c)*(p-S)-(u-h)*(y-v);if(E===0)return null;const C=((l-y)*(p-S)-(u-p)*(y-v))/E,A=-((l-c)*(u-p)-(u-h)*(l-y))/E;return C>0&&C<1&&A>0&&A<1?{lat:u+C*(h-u),lon:l+C*(c-l)}:null}const gv=(o,e)=>{let n=!1;for(let s=0,l=e.length-1;s<e.length;l=s++){const u=e[s].lon,c=e[s].lat,h=e[l].lon,y=e[l].lat;c>o.lat!=y>o.lat&&o.lon<(h-u)*(o.lat-c)/(y-c)+u&&(n=!n)}return n};function yv(o,e){const s=o.lat*Math.PI/180,l=e.lat*Math.PI/180,u=(e.lat-o.lat)*Math.PI/180,c=(e.lon-o.lon)*Math.PI/180,h=Math.sin(u/2)*Math.sin(u/2)+Math.cos(s)*Math.cos(l)*Math.sin(c/2)*Math.sin(c/2);return 6371e3*(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)))}function sN(o,e,n){const s={x:o.lon-e.lon,y:o.lat-e.lat},l={x:n.lon-e.lon,y:n.lat-e.lat},u=s.x*l.x+s.y*l.y,c=Math.sqrt(s.x*s.x+s.y*s.y),h=Math.sqrt(l.x*l.x+l.y*l.y);if(c===0||h===0)return 180;const y=u/(c*h),p=Math.max(-1,Math.min(1,y));return Math.acos(p)*(180/Math.PI)}function Hl(o){switch(o){case"500":return[4,6];case"3500":return[3,4];case"7500":return[1.5,2.5];case"12000":return[1,1.5];case"40000":return[.5,1];default:return null}}function Ya(o,e){return e<=0?0:Math.sqrt(2*o*e)*3.6}function ff(){const o=document.querySelector(".threat-list");if(!o||(o.innerHTML="",Te.size===0))return;const n=document.getElementById("vehicle-select").value,s=Hl(n),l=Array.from(Te.entries()).map(([u,c])=>{if(c.entryPoints.length===0)return null;const h=Math.round(c.totalLength);let y=0;if(s&&h>0){const[,p]=s;y=Math.round(Ya(p,h))}return{name:u,data:c,maxSpeed:y,lengthInMeters:h}}).filter(u=>u!==null);if(l.sort((u,c)=>c.maxSpeed-u.maxSpeed),l.forEach(({name:u,maxSpeed:c,lengthInMeters:h})=>{const y=document.createElement("li");let p="";c>0&&(p=` | ${W("threats.speed")}: ${c} km/h`),y.textContent=`${u} (${h} m)${p}`,y.setAttribute("role","button"),y.setAttribute("tabindex","0"),y.addEventListener("click",()=>{o.querySelectorAll("li").forEach(S=>S.classList.remove("active")),y.classList.add("active");const v=Gl.get(u);if(v&&v.length>0){const S=L.featureGroup(v);nt.fitBounds(S.getBounds().pad(.5))}}),y.addEventListener("keydown",v=>{(v.key==="Enter"||v.key===" ")&&y.click()}),o.appendChild(y)}),o.children.length===0){const u=document.createElement("li");u.textContent=W("threats.noCrossingWaysBoundary"),o.appendChild(u)}}const vv=async()=>{if(!Nt){alert(W("alerts.noPolygon"));return}if(!Nt.getLatLngs||typeof Nt.getLatLngs!="function"){console.error("Invalid polygon object - missing getLatLngs method"),alert(W("alerts.invalidPolygon"));return}const o=Nt.getLatLngs();if(!o||o.length===0){console.error("Polygon has no coordinates"),alert(W("alerts.emptyPolygon"));return}console.log(`Analyzing threats for polygon with ${o.length} coordinate sets`),console.log("Polygon coordinates:",o);const e=document.querySelector(".loading-indicator");if(e){ka(),e.classList.remove("hidden");try{const n=Nt.getBounds();if(!n||!n.isValid())throw new Error("Invalid polygon bounds");const s=.002,l=n.getSouthWest(),u=n.getNorthEast(),c=`${l.lat-s},${l.lng-s},${u.lat+s},${u.lng+s}`;console.log("Analysis bounds:",c);const h=`
            [out:json][timeout:25];
            (
              way["highway"](bbox:${c});
              way["railway"="tram"](bbox:${c});
            );
            (._;>;);
            out;
        `,y=`https://overpass-api.de/api/interpreter?data=${encodeURIComponent(h)}`;let p;try{const A=await fetch(y);if(!A.ok)throw new Error(W("alerts.overpassError",{status:A.status}));p=await A.json()}catch(A){console.error("Overpass API error:",A),alert(W("alerts.analysisError")),e.classList.add("hidden");return}const v={},S={};p.elements.forEach(A=>{A.type==="node"?v[A.id]={lat:A.lat,lon:A.lon}:A.type==="way"&&A.tags&&(A.tags.highway||A.tags.railway)&&A.tags.name&&(S[A.id]={name:A.tags.name,nodes:A.nodes,id:A.id})});const E=new Map;let C=[];try{if(Array.isArray(o[0])?Array.isArray(o[0][0])?C=o[0][0].map(A=>({lat:A.lat||A.lat,lon:A.lng||A.lon})):C=o[0].map(A=>({lat:A.lat||A.lat,lon:A.lng||A.lon})):C=o.map(A=>({lat:A.lat||A.lat,lon:A.lng||A.lon})),C.length<3)throw new Error("Invalid polygon: insufficient vertices");if(C=C.filter(A=>typeof A.lat=="number"&&typeof A.lon=="number"&&!isNaN(A.lat)&&!isNaN(A.lon)),C.length<3)throw new Error("Invalid polygon: insufficient valid coordinates");console.log(`Extracted ${C.length} valid polygon vertices:`,C)}catch(A){console.error("Error extracting polygon coordinates:",A),alert(W("alerts.polygonCoordinateError")),e.classList.add("hidden");return}for(const A in S){const w=S[A],z=w.nodes.map(N=>({id:N,...v[N]})).filter(N=>N.lat&&N.lon);if(z.length<2)continue;const k=[],F=[];for(let N=0;N<z.length-1;N++){const K=z[N],D=z[N+1],X=gv(K,C),Z=gv(D,C);if(X!==Z){let H=null;for(let ot=0;ot<C.length;ot++){const lt=C[ot],yt=C[(ot+1)%C.length],Tt=aN(K,D,lt,yt);if(Tt){H=Tt;break}}if(H){F.push(H);const ot=[H];let lt,yt;Z?(ot.push({lat:K.lat,lon:K.lon}),lt=N-1,yt=-1):(ot.push({lat:D.lat,lon:D.lon}),lt=N+1,yt=1);for(let Tt=lt;Tt>=0&&Tt<z.length;Tt+=yt){const dt=z[Tt];if(ot.length>=2){const $=ot[ot.length-2],tt=ot[ot.length-1],V={lat:dt.lat,lon:dt.lon};if(sN($,tt,V)<150)break}ot.push({lat:dt.lat,lon:dt.lon})}k.push(ot)}}}if(F.length>0){E.has(w.name)||E.set(w.name,{entryPoints:[],pathSegments:[],totalLength:0});const N=E.get(w.name);N.entryPoints.push(...F),N.pathSegments.push(...k);let K=0;k.forEach(D=>{for(let X=0;X<D.length-1;X++)K+=yv(D[X],D[X+1])}),N.totalLength+=K}}if(Te=E,Te.size>0){if(ln)try{ln.clearLayers(),nt.removeLayer(ln)}catch{}ln=L.layerGroup().addTo(nt);const A=document.getElementById("vehicle-select"),w=(A==null?void 0:A.value)||"alle",z=Hl(w),k=z?z[1]:3;Te.forEach((K,D)=>{if(K.entryPoints.length===0)return;const X=[];K.entryPoints.forEach(Z=>{const H=L.circle([Z.lat,Z.lon],{radius:5,color:"red",fillColor:"#f03",fillOpacity:1,weight:2}).bindPopup(`<b>${W("threats.popupHeader")}</b><br>${D}`);ln.addLayer(H),X.push(H)}),K.pathSegments.forEach(Z=>{if(Z.length>1){const H=Z.map(dt=>[dt.lat,dt.lon]);let ot=0;for(let dt=0;dt<Z.length-1;dt++)ot+=yv(Z[dt],Z[dt+1]);const lt=Ya(k,ot);let yt="#e74c3c";lt<=30?yt="#39b54a":lt<=50&&(yt="#f1c40f");const Tt=L.polyline(H,{color:yt,weight:5,opacity:.9});ln.addLayer(Tt),X.push(Tt)}}),X.length>0&&Gl.set(D,X)}),ff();const F=document.getElementById("floating-threats");F&&F.classList.remove("view-hidden");const N=document.querySelector(".product-recommendations-container");N&&(N.classList.remove("hidden"),await Fl())}else{const A=document.querySelector(".threat-list"),w=document.createElement("li");w.textContent=W("threats.noCrossingWaysArea"),A.appendChild(w);const z=document.getElementById("floating-threats");z&&z.classList.remove("view-hidden")}}catch(n){console.error("Fehler bei der Gefahrenanalyse:",n),alert(W("alerts.analysisError"));const s=document.querySelector(".threat-list"),l=document.createElement("li");l.textContent=W("threats.analysisFailed"),s.appendChild(l)}finally{e.classList.add("hidden")}}};async function lN(o){try{const e=typeof window<"u"&&window.location.hostname.endsWith("github.io"),n="AIzaSyAu89J9B0b57XIao133a19Wd64T6oiCA9A";if(!n||e)return console.warn("AI disabled for public/demo build. Using placeholder report sections."),cN(o);const s=new kx({apiKey:n}),l=W("ai.reportPrompt",{locationName:o.locationName,assetToProtect:o.assetToProtect,securityLevel:o.securityLevel,protectionGrade:o.protectionGrade,threatList:o.threatList,protectionPeriod:o.protectionPeriod,productType:o.productType,penetration:o.penetration,debrisDistance:o.debrisDistance,language:It==="de"?"German":"English"})+`

IMPORTANT: Generate the report in ${It==="de"?"German":"English"} language only. All text must be in ${It==="de"?"German":"English"}.`,c=((await s.models.generateContent({model:"gemini-2.5-flash",contents:l,config:{responseMimeType:"application/json",responseSchema:{type:xn.OBJECT,properties:{purpose:{type:xn.STRING},threatAnalysis:{type:xn.STRING},vulnerabilities:{type:xn.STRING},hvmMeasures:{type:xn.STRING},siteConsiderations:{type:xn.STRING},operationalImpact:{type:xn.STRING}},required:["purpose","threatAnalysis","vulnerabilities","hvmMeasures","siteConsiderations","operationalImpact"]}}})).text||"").trim(),h=JSON.parse(c);return rN(h)}catch(e){return console.error("Fehler bei der Gemini-API-Anfrage für den Bericht:",e),alert(W("alerts.geminiError")),null}}function rN(o){const e=It==="de",n=o.purpose||o.threatAnalysis||"",s=["der","die","das","und","für","von","mit","bei","auf","in","an","zu","zur","zum"],l=["the","and","for","of","with","at","on","in","to","from","by","as","is","are"],u=s.filter(v=>n.toLowerCase().includes(v)).length,c=l.filter(v=>n.toLowerCase().includes(v)).length,h=u>c;if(!(e&&!h||!e&&h))return console.log("AI text is already in correct language, no translation needed"),o;console.log("AI text needs translation. Current language:",It,"Text language:",h?"German":"English");const p={};for(const[v,S]of Object.entries(o))typeof S=="string"?p[v]=uN(S,e):p[v]=S;return p}function uN(o,e){return e?o.replace(/\bThis report\b/gi,"Dieser Bericht").replace(/\baims to\b/gi,"zielt darauf ab").replace(/\bidentify\b/gi,"zu identifizieren").replace(/\bassess\b/gi,"zu bewerten").replace(/\bmitigate\b/gi,"zu mindern").replace(/\bpotential\b/gi,"potenzielle").replace(/\brisks\b/gi,"Risiken").replace(/\bassets\b/gi,"Schutzgüter").replace(/\bensuring\b/gi,"um sicherzustellen").replace(/\bbusiness continuity\b/gi,"Geschäftskontinuität").replace(/\bstrategic\b/gi,"strategische").replace(/\bsecurity\b/gi,"Sicherheits").replace(/\binvestments\b/gi,"Investitionen").replace(/\bThe primary threat\b/gi,"Die primäre Bedrohung").replace(/\bis\b/gi,"ist").replace(/\buse of vehicles\b/gi,"die Nutzung von Fahrzeugen").replace(/\bas\b/gi,"als").replace(/\bweapon\b/gi,"Waffe").replace(/\bPotential\b/gi,"Potenzielle").replace(/\badversaries\b/gi,"Gegner").replace(/\binclude\b/gi,"umfassen").replace(/\bstate-sponsored\b/gi,"staatsgestützte").replace(/\bterrorist\b/gi,"terroristische").replace(/\binsider threats\b/gi,"Innentäter-Bedrohungen").replace(/\bmalicious software\b/gi,"schädliche Software").replace(/\bdistributed denial\b/gi,"verteilte Verweigerung").replace(/\battacks\b/gi,"Angriffe").replace(/\bGiven\b/gi,"Angesichts").replace(/\bglobal\b/gi,"globaler").replace(/\btrends\b/gi,"Trends").replace(/\band\b/gi,"und").replace(/\bthe\b/gi,"der").replace(/\bof\b/gi,"von").replace(/\bto\b/gi,"zu").replace(/\bin\b/gi,"in").replace(/\bon\b/gi,"auf").replace(/\bat\b/gi,"bei").replace(/\bwith\b/gi,"mit").replace(/\bfor\b/gi,"für").replace(/\bfrom\b/gi,"von").replace(/\bby\b/gi,"durch").replace(/\bas\b/gi,"als").replace(/\bis\b/gi,"ist").replace(/\bare\b/gi,"sind").replace(/\bwas\b/gi,"war").replace(/\bwere\b/gi,"waren").replace(/\bwill\b/gi,"wird").replace(/\bwould\b/gi,"würde").replace(/\bcould\b/gi,"könnte").replace(/\bshould\b/gi,"sollte").replace(/\bmay\b/gi,"kann").replace(/\bmight\b/gi,"könnte").replace(/\bcan\b/gi,"kann"):o.replace(/\bDieser Bericht\b/gi,"This report").replace(/\bzielt darauf ab\b/gi,"aims to").replace(/\bzu identifizieren\b/gi,"identify").replace(/\bzu bewerten\b/gi,"assess").replace(/\bzu mindern\b/gi,"mitigate").replace(/\bpotenzielle\b/gi,"potential").replace(/\bRisiken\b/gi,"risks").replace(/\bSchutzgüter\b/gi,"assets").replace(/\bum sicherzustellen\b/gi,"ensuring").replace(/\bGeschäftskontinuität\b/gi,"business continuity").replace(/\bstrategische\b/gi,"strategic").replace(/\bSicherheits\b/gi,"security").replace(/\bInvestitionen\b/gi,"investments").replace(/\bDie primäre Bedrohung\b/gi,"The primary threat").replace(/\bist\b/gi,"is").replace(/\bdie Nutzung von Fahrzeugen\b/gi,"use of vehicles").replace(/\bals\b/gi,"as").replace(/\bWaffe\b/gi,"weapon").replace(/\bPotenzielle\b/gi,"Potential").replace(/\bGegner\b/gi,"adversaries").replace(/\bumfassen\b/gi,"include").replace(/\bstaatsgestützte\b/gi,"state-sponsored").replace(/\bterroristische\b/gi,"terrorist").replace(/\bInnentäter-Bedrohungen\b/gi,"insider threats").replace(/\bschädliche Software\b/gi,"malicious software").replace(/\bverteilte Verweigerung\b/gi,"distributed denial").replace(/\bAngriffe\b/gi,"attacks").replace(/\bAngesichts\b/gi,"Given").replace(/\bglobaler\b/gi,"global").replace(/\bTrends\b/gi,"trends").replace(/\bund\b/gi,"and").replace(/\bder\b/gi,"the").replace(/\bvon\b/gi,"of").replace(/\bzu\b/gi,"to").replace(/\bin\b/gi,"in").replace(/\bauf\b/gi,"on").replace(/\bbei\b/gi,"at").replace(/\bmit\b/gi,"with").replace(/\bfür\b/gi,"for").replace(/\bdurch\b/gi,"by").replace(/\bist\b/gi,"is").replace(/\bsind\b/gi,"are").replace(/\bwar\b/gi,"was").replace(/\bwaren\b/gi,"were").replace(/\bwird\b/gi,"will").replace(/\bwürde\b/gi,"would").replace(/\bkönnte\b/gi,"could").replace(/\bsollte\b/gi,"should").replace(/\bkann\b/gi,"may")}function cN(o){var e,n,s,l,u,c,h,y,p,v;try{const S=window.planningState||{},E=((e=S.schutzgüter)==null?void 0:e.join(", "))||o.assetToProtect||W("report.undefinedAsset"),C=((s=(n=S.risiko)==null?void 0:n.bedrohung)==null?void 0:s.art)||W("report.undefinedValue"),A=((u=(l=S.risiko)==null?void 0:l.dynamik)==null?void 0:u.v_kmh)||o.estimatedSpeedKmH||W("report.undefinedValue"),w=((h=(c=S.risiko)==null?void 0:c.site)==null?void 0:h.untergrund)||W("report.undefinedValue"),z=((y=S.restrisiko)==null?void 0:y.klasse)||o.securityLevel||W("report.undefinedValue"),k=(v=(p=S.risiko)==null?void 0:p.site)!=null&&v.anfahrkorridore&&S.risiko.site.anfahrkorridore.length>0?W("report.identifiedCorridors",{count:S.risiko.site.anfahrkorridore.length}):W("report.noChatGeometry");return It==="de"?{purpose:`Schutzziel: Sicherung von ${E} am Standort ${o.locationName}. Der Assistent lieferte ergänzende Eingaben (Normbezug DIN SPEC 91414‑2 / ISO 22343‑2).`,threatAnalysis:`Bedrohungsannahme: ${C}. Aus der Karten-/Chat-Analyse ergibt sich eine Zufahrtsgeschwindigkeit von ca. ${A} km/h. Anfahrkorridore laut Chat: ${k}.`,vulnerabilities:`Untergrund/Fundamente: ${w}. Restrisiko (Chat/Slider): ${z}. Kritische Zufahrtswinkel bzw. Engstellen sind bei der Maßnahmendefinition zu berücksichtigen.`,hvmMeasures:`Empfohlene Maßnahmen orientieren sich an der erwarteten Geschwindigkeit und den Schutzzielen. Für ${E} mit Geschwindigkeit ~${A} km/h sind FSB mit entsprechendem Leistungsniveau, geprüften Fundamenten und Berücksichtigung des Anprallwinkels anzusetzen.`,siteConsiderations:`Betriebliche Rahmenbedingungen (z. B. Feuerwehrzufahrt, Fluchtwege) aus Chat sollten in die Detailplanung einfließen. Untergrund: ${w}.`,operationalImpact:"Maßnahmen sind so auszulegen, dass Betrieb, Rettungswege und Gestaltung berücksichtigt sind; temporäre Anpassungen (Events) werden unterstützt."}:{purpose:`Protection objective: Securing ${E} at location ${o.locationName}. The assistant provided additional inputs (standard reference DIN SPEC 91414‑2 / ISO 22343‑2).`,threatAnalysis:`Threat assumption: ${C}. From the map/chat analysis, an access speed of approximately ${A} km/h results. Access corridors according to chat: ${k}.`,vulnerabilities:`Ground/foundations: ${w}. Residual risk (Chat/Slider): ${z}. Critical impact angles or bottlenecks must be considered in measure definition.`,hvmMeasures:`Recommended measures are oriented to expected speed and protection objectives. For ${E} with speed ~${A} km/h, FSB with corresponding performance level, tested foundations and consideration of impact angle should be applied.`,siteConsiderations:`Operational framework conditions (e.g., fire brigade access, escape routes) from chat should flow into detailed planning. Ground: ${w}.`,operationalImpact:"Measures are designed so that operations, rescue routes and design are considered; temporary adaptations (events) are supported."}}catch{return It==="de"?{purpose:`Schutzziel und Rahmenbedingungen für ${o.locationName}.`,threatAnalysis:"Zusammenfassung der Gefahren basierend auf Karten-/Chat-Eingaben.",vulnerabilities:"Allgemeine Schwachstellen am Standort.",hvmMeasures:"Empfohlene HVM‑Maßnahmen gemäß Annahmen.",siteConsiderations:"Standortspezifische Hinweise.",operationalImpact:"Betriebliche Auswirkungen und Gestaltung."}:{purpose:`Protection objective and framework conditions for ${o.locationName}.`,threatAnalysis:"Summary of hazards based on map/chat inputs.",vulnerabilities:"General vulnerabilities at the site.",hvmMeasures:"Recommended HVM measures according to assumptions.",siteConsiderations:"Site-specific notes.",operationalImpact:"Operational impacts and design."}}}async function fN(o){const e=`https://nominatim.openstreetmap.org/reverse?format=json&lat=${o.lat}&lon=${o.lng}&zoom=18&addressdetails=1`;try{const n=await fetch(e,{headers:{"Accept-Language":It}});return n.ok&&(await n.json()).display_name||"Unknown Location"}catch(n){return console.error("Fehler beim Reverse Geocoding:",n),"Could not determine location"}}async function Fl(){if(za.length===0)try{const y=await fetch("/Barricadix_MWP/product-database.json");if(!y.ok)throw new Error("Product database fetch failed");za=await y.json()}catch(y){console.error(W("alerts.productDbError"),y);const p=document.querySelector("#poller-category-header small"),v=document.querySelector("#barrier-category-header small");p&&(p.textContent=W("products.dbError")),v&&(v.textContent=W("products.dbError"));return}const e=document.getElementById("vehicle-select").value,n=document.querySelector("#poller-category-header small"),s=document.querySelector("#barrier-category-header small");if(n&&(n.textContent=W("products.resistanceHigh")),s&&(s.textContent=W("products.resistanceMedium")),e==="alle")return;const l=["bollard","poller"],u=["barrier","barriere","gate"],c=za.find(y=>y.vehicleWeight===e&&y.type&&l.some(p=>y.type.toLowerCase().includes(p))),h=za.find(y=>y.vehicleWeight===e&&y.type&&u.some(p=>y.type.toLowerCase().includes(p)));n&&(n.textContent=c?`${W("products.recommendation")} ${c.type}`:W("products.noRecommendation")),s&&(s.textContent=h?`${W("products.recommendation")} ${h.type}`:W("products.noRecommendation"))}function Tv(o){return o<33?W("sidebar.low"):o<66?W("products.resistanceMedium"):W("sidebar.high")}function dN(){const o=document.getElementById("vehicle-select"),e=parseInt(o.value,10);if(isNaN(e))return null;let n=null,s=1/0;for(const l of za){const u=parseInt(l.vehicleWeight,10),c=parseFloat(l.penetration);!isNaN(u)&&!isNaN(c)&&u>=e&&c<s&&(s=c,n=l)}return n}async function hN(){var c;const o=document.getElementById("report-iframe"),e=document.querySelector(".report-loading-overlay"),n=document.getElementById("download-report-btn"),s=document.getElementById("map"),l=document.getElementById("report-preview-area");e.classList.remove("view-hidden"),n.disabled=!0;let u=null;try{if(Nt){if(console.log(`Generating report for language: ${It}`),console.log("Drawn polygon data:",Nt),!Nt.getLatLngs||typeof Nt.getLatLngs!="function")throw console.error("Invalid polygon object - missing getLatLngs method"),new Error("Invalid polygon data for map capture");const dt=Nt.getLatLngs();if(!dt||dt.length===0)throw console.error("Polygon has no coordinates"),new Error("Polygon has no valid coordinates");console.log(`Polygon coordinates: ${dt.length} points`),l.classList.add("view-hidden"),s.classList.remove("view-hidden"),await new Promise(($,tt)=>{const V=setTimeout(()=>{tt(new Error("Map rendering timeout"))},1e4),G=()=>{clearTimeout(V);const rt=It==="de"?1e3:500;requestAnimationFrame(()=>setTimeout($,rt))};let J;nt.invalidateSize(),cf.once("load",()=>{console.log("Tile layer loaded successfully"),clearTimeout(J),G()}),nt.once("moveend",()=>{console.log("Map movement ended"),J=window.setTimeout(G,1e3)});try{const rt=Nt.getBounds();rt&&rt.isValid()?(console.log("Fitting map to polygon bounds"),nt.fitBounds(rt,{animate:!1,padding:[20,20]})):(console.warn("Invalid bounds, using default view"),nt.setView(nt.getCenter(),nt.getZoom()))}catch(rt){console.error("Error fitting bounds:",rt)}}),await new Promise($=>setTimeout($,500)),console.log("Capturing map screenshot..."),u=await html2canvas(s,{useCORS:!0,logging:!0,allowTaint:!0,backgroundColor:"#ffffff",scale:2,width:s.offsetWidth,height:s.offsetHeight,onclone:$=>{console.log("Cloning document for screenshot"),$.querySelectorAll(".leaflet-popup-pane > *").forEach(G=>{G.style.display="none"});const tt=$.getElementById("map");tt&&(tt.style.visibility="visible",tt.style.opacity="1",tt.style.display="block");const V=$.querySelector(".leaflet-container");V&&(V.style.visibility="visible",V.style.opacity="1")}}),console.log("Map screenshot captured successfully")}else console.log("No polygon drawn, skipping map capture");u&&u.width>0&&u.height>0?console.log(`Canvas dimensions: ${u.width}x${u.height}`):(console.warn("Invalid canvas generated, continuing without map image"),u=null);const h=Nt?await fN(Nt.getBounds().getCenter()):W("report.undefinedLocation"),p=document.getElementById("asset-to-protect").value.trim()||W("report.undefinedAsset");let v=W("report.noThreatAnalysis");if(Te.size>0){const $=document.getElementById("vehicle-select").value,tt=Hl($),V=Array.from(Te.entries()).map(([G,J])=>{const rt=Math.round(J.totalLength);let x=0;if(tt&&rt>0){const[,Q]=tt;x=Math.round(Ya(Q,rt))}return{name:G,lengthInMeters:rt,maxSpeed:x}});V.sort((G,J)=>J.maxSpeed-G.maxSpeed),v=`
                <table style="width: 100%; border-collapse: collapse; margin: 10px 0; font-size: 12px;">
                    <thead>
                        <tr style="background-color: #f0f0f0; font-weight: bold;">
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">${W("report.threatsTable.street")}</th>
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">${W("report.threatsTable.distance")}</th>
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">${W("report.threatsTable.maxSpeed")}</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${V.map(G=>`
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">${G.name}</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">${G.lengthInMeters} m</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">${G.maxSpeed} km/h</td>
                            </tr>
                        `).join("")}
                    </tbody>
                </table>
            `}const S=document.getElementById("security-risk-slider"),E=document.getElementById("product-class-slider"),C=document.getElementById("protection-period-select"),A=document.getElementById("protection-product-select"),w=dN(),z={locationName:h,assetToProtect:p,securityLevel:Tv(parseInt(S.value)),protectionGrade:Tv(parseInt(E.value)),threatList:v,protectionPeriod:C.options[C.selectedIndex].text,productType:A.options[A.selectedIndex].text,penetration:w?w.penetration:W("report.undefinedValue"),debrisDistance:w&&w.debrisDistance||W("report.undefinedValue")},k=await lN(z);if(!k)throw new Error("AI did not return report sections.");const{jsPDF:F}=window.jspdf,N=new F({orientation:"p",unit:"mm",format:"a4"}),K=()=>{const dt=N.internal.pageSize.getWidth(),$=N.internal.pageSize.getHeight();if(N.saveGraphicsState(),N.setFont("helvetica","bold"),N.setFontSize(120),N.setTextColor(200,200,200),F.GState){const tt=new F.GState({opacity:.2});N.setGState(tt)}N.text(W("report.watermark"),dt/2+50,$/2+50,{align:"center",angle:45}),N.restoreGraphicsState()},D=20,X=N.internal.pageSize.getWidth(),Z=X-D*2;let H=25;const ot=(dt,$)=>{H>250&&(N.addPage(),K(),H=25),N.setFont("helvetica","bold").setFontSize(14).text(W(dt),D,H),H+=7;const tt=N.setFont("helvetica","normal").setFontSize(11).splitTextToSize($,Z);H+tt.length*5>280&&(N.addPage(),K(),H=25),N.text(tt,D,H),H+=tt.length*5+10};K();const lt=W("report.mainTitle",{locationName:h});N.setFont("helvetica","bold").setFontSize(18);const yt=N.splitTextToSize(lt,Z),Tt=8;if(H+yt.length*Tt>280&&(N.addPage(),K(),H=25),N.text(yt,D,H),H+=yt.length*Tt+5,N.setDrawColor(30,144,255).setLineWidth(.5).line(D,H,X-D,H),H+=15,ot("report.sections.purpose.title",k.purpose),ot("report.sections.threatAnalysis.title",k.threatAnalysis),Te.size>0){H-=5,N.setFont("helvetica","normal").setFontSize(11);const $=document.getElementById("vehicle-select").value,tt=Hl($);Te.forEach((V,G)=>{let J=`• ${G} (${Math.round(V.totalLength)} m)`;if(tt&&V.totalLength>0){const[x,Q]=tt,it=Math.round(Ya(x,V.totalLength)),j=Math.round(Ya(Q,V.totalLength));J+=` | ${W("threats.speed")}: ${it}-${j} km/h`}const rt=N.splitTextToSize(J,Z-5);H+rt.length*7>280&&(N.addPage(),K(),H=25),N.text(rt,D+5,H),H+=rt.length*6}),H+=10}if(ot("report.sections.vulnerabilities.title",k.vulnerabilities),ot("report.sections.hvmMeasures.title",k.hvmMeasures),ot("report.sections.siteConsiderations.title",k.siteConsiderations),u){const dt=u.height/u.width,$=Z*dt;H+$>280&&(N.addPage(),K(),H=25),N.addImage(u,"PNG",D,H,Z,$),H+=$+10}else{const dt=W("report.noMapAvailable"),$=N.setFont("helvetica","italic").setFontSize(10).splitTextToSize(dt,Z);H+$.length*5>280&&(N.addPage(),K(),H=25),N.text($,D,H),H+=$.length*5+10}ot("report.sections.operationalImpact.title",k.operationalImpact);try{const dt=N.getNumberOfPages||((c=N.internal)==null?void 0:c.getNumberOfPages),$=typeof dt=="function"?dt.call(N):1;for(let tt=1;tt<=$;tt++)N.setPage(tt),K()}catch{K()}l.classList.remove("view-hidden"),s.classList.add("view-hidden"),await new Promise(requestAnimationFrame);try{const dt=N.output("blob");xl&&URL.revokeObjectURL(xl),xl=URL.createObjectURL(dt),o.src=xl}catch{o.src=N.output("datauristring")}_n=N,n.disabled=!1}catch(h){console.error("Fehler bei der Erstellung des Berichts:",h),alert(W("alerts.reportCreationError")),s.classList.add("view-hidden"),l.classList.remove("view-hidden")}finally{e.classList.add("view-hidden")}}function pN(){_n?_n.save(W("report.reportFilename")):alert(W("alerts.noReportToDownload"))}async function mN(){var dt;console.log("Initializing main application..."),hv(),E0();let o=0;const e=3;for(;o<e&&(!ce.de||!ce.en);)console.log(`Translation load attempt ${o+1}/${e}`),await S0(),o++,o<e&&(!ce.de||!ce.en)&&(console.log("Waiting 500ms before retry..."),await new Promise($=>setTimeout($,500)));(!ce.de||!ce.en)&&(console.warn("Failed to load translations from file, using embedded translations"),ce=Pi),It="de",console.log("Translating UI..."),await ql(),b0();const n=localStorage.getItem("language")||"de";n!==It&&(console.log(`Setting saved language: ${n}`),await mv(n)),document.querySelectorAll(".lang-btn").forEach($=>{$.addEventListener("click",tt=>{const V=tt.currentTarget.dataset.lang;V&&V!==It&&mv(V)})}),console.log("Initialization completed successfully");const s=document.getElementById("tooltip");document.querySelectorAll(".info-icon").forEach($=>{$.addEventListener("mouseover",tt=>{const V=tt.currentTarget,G=V.dataset.tooltip||"";s.textContent=G,s.style.opacity="1";const J=V.getBoundingClientRect();s.style.left=`${J.left+window.scrollX}px`,s.style.top=`${J.bottom+window.scrollY+5}px`}),$.addEventListener("mouseout",()=>{s.style.opacity="0"})});const u=document.getElementById("map-search-input"),c=document.getElementById("map-search-button"),h=document.getElementById("toggle-sidebar"),y=document.querySelector(".sidebar"),p=async()=>{const $=u.value.trim();if(!$)return;const tt=`https://nominatim.openstreetmap.org/search?format=json&limit=1&q=${encodeURIComponent($)}`;try{const V=await fetch(tt,{headers:{"Accept-Language":It}});if(!V.ok)throw new Error(`API request failed with status ${V.status}`);const G=await V.json();if(G&&G.length>0){const{lat:J,lon:rt,display_name:x}=G[0];nt.setView([J,rt],15),_i&&nt.removeLayer(_i),_i&&(nt.removeLayer(_i),_i=null);const Q=L.divIcon({className:"search-marker",html:'<i class="fas fa-map-marker-alt" style="color: #dc2626; font-size: 20px;"></i>',iconSize:[25,41],iconAnchor:[12,41]});_i=L.marker([J,rt],{icon:Q,zIndexOffset:1e3}).addTo(nt),_i.bindPopup(`<b>${x}</b>`).openPopup(),nt.invalidateSize()}else alert(W("alerts.locationNotFound"))}catch(V){console.error("Fehler bei der Kartensuche:",V),alert(W("alerts.searchError"))}};c.addEventListener("click",p),u.addEventListener("keypress",$=>{$.key==="Enter"&&p()}),h&&y&&h.addEventListener("click",()=>{y.classList.toggle("open")});const v=document.getElementById("toggle-draw-mode"),S=document.getElementById("reset-drawing"),E=document.getElementById("map"),C=$=>{bo=$;const tt=v.querySelector("span");$?(v.classList.add("active"),tt&&(tt.textContent=W("map.setWaypointsActive")),E==null||E.classList.add("drawing-mode")):(v.classList.remove("active"),tt&&(tt.textContent=W("map.setWaypoints")),E==null||E.classList.remove("drawing-mode"))},A=()=>{wi.forEach($=>nt.removeLayer($)),wi=[],je&&nt.removeLayer(je),je=null,Nt&&nt.removeLayer(Nt),Nt=null,Li&&nt.removeLayer(Li),Li=null,ye=[],bo&&C(!1)},w=()=>{je&&nt.removeLayer(je),ye.length>1&&(je=L.polyline(ye,{color:"var(--accent-color)",weight:3}).addTo(nt))},z=()=>{if(ye.length<3)return;Nt&&nt.removeLayer(Nt),Nt=L.polygon(ye,{color:"yellow",fillColor:"#FFFF00",fillOpacity:.3,weight:2}).addTo(nt);const $=Nt.getBounds().getCenter();Li=L.marker($,{icon:L.divIcon({className:"polygon-label",html:W("map.securityAreaLabel"),iconSize:[150,24]})}).addTo(nt),je&&nt.removeLayer(je),je=null,wi.forEach(tt=>nt.removeLayer(tt)),wi=[],ye=[],C(!1)},k=$=>{if(!bo)return;const tt=$.latlng,V=L.marker(tt).addTo(nt);ye.length===0&&V.on("click",()=>{bo&&ye.length>=3&&z()}),ye.push(tt),wi.push(V),w()};nt.on("click",k);const F=document.querySelectorAll(".main-nav a"),N=document.querySelectorAll(".map-tabs a"),K=document.getElementById("analyze-threats"),D=document.getElementById("create-report-btn"),X=document.getElementById("download-report-btn"),Z=document.getElementById("report-iframe"),H=document.getElementById("map"),ot=document.getElementById("report-preview-area"),lt=document.getElementById("vehicle-select"),yt=async($,tt)=>{tt&&(F.forEach(G=>G.classList.remove("active")),tt.classList.add("active")),N.forEach(G=>{const J=G;J.classList.toggle("active",J.getAttribute("data-target")===$)}),$==="nav-param-input"&&(A(),ka(),_n=null),$==="nav-marking-area"&&(ka(),_n=null),$==="nav-threat-analysis"&&(_n=null),$==="nav-product-selection"&&await Fl(),$==="nav-project-description"&&(ka(),_n=null),v.classList.add("hidden"),S.classList.add("hidden"),K.classList.add("hidden"),D.classList.add("hidden"),X.classList.add("hidden");const V=$==="nav-risk-report";H.classList.toggle("view-hidden",V),ot.classList.toggle("view-hidden",!V),nt&&(V||nt.invalidateSize()),_n||(Z.src="about:blank",X.disabled=!0),$==="nav-marking-area"?(v.classList.remove("hidden"),S.classList.remove("hidden")):$==="nav-threat-analysis"?K.classList.remove("hidden"):$==="nav-risk-report"&&(D.classList.remove("hidden"),X.classList.remove("hidden"),X.disabled=!_n)};F.forEach($=>{$.addEventListener("click",async tt=>{tt.preventDefault();const V=tt.currentTarget,G=V.id;await yt(G,V)})}),N.forEach($=>{$.addEventListener("click",async tt=>{tt.preventDefault();const G=tt.currentTarget.getAttribute("data-target"),J=document.getElementById(G);await yt(G,J??void 0)})}),lt.addEventListener("change",async()=>{var $;Te.size>0&&await vv(),(($=document.querySelector(".product-recommendations-container"))==null?void 0:$.classList.contains("hidden"))===!1&&await Fl()}),v.addEventListener("click",()=>{Nt&&A(),C(!bo)}),S.addEventListener("click",()=>{A(),ka()}),K.addEventListener("click",vv),D.addEventListener("click",hN),X.addEventListener("click",pN),(dt=document.getElementById("nav-param-input"))==null||dt.click();const Tt=document.getElementById("chatbot-react-root");if(Tt)try{VD.createRoot(Tt).render(et.createElement(_D))}catch($){console.error("Chatbot mount failed:",$)}hv()}function b0(){console.log("Translating chatbot for language:",It);const o=document.querySelector("#chatbot-react-root h2");o&&(o.textContent=W("ai.chatbot.title"));const e=document.querySelector("#chatbot-react-root .message:first-child .message-content");e&&(e.textContent=W("ai.chatbot.welcome"));const n=document.querySelector("#chatbot-react-root .message:nth-child(2) .message-content");n&&(n.textContent=W("ai.chatbot.assetQuestion"));const s=document.querySelector('#chatbot-react-root input[type="text"]');s&&(s.placeholder=W("ai.chatbot.inputPlaceholder"));const l=document.querySelector('#chatbot-react-root button[type="submit"]');l&&(l.textContent=W("ai.chatbot.sendButton")),console.log("Chatbot translation completed")}function gN(){document.querySelectorAll(".logo-img, .welcome-logo").forEach(e=>{e.addEventListener("click",n=>{n.preventDefault(),console.log("Logo clicked - logging out..."),m0()}),e.style.cursor="pointer"})}document.addEventListener("DOMContentLoaded",()=>{console.log("DOM loaded, initializing authentication..."),ID(),gN()});

(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let kE,OE;function qE(){return{geminiUrl:kE,vertexUrl:OE}}function GE(o,e,n){var s,l,u;if(!(!((s=o.httpOptions)===null||s===void 0)&&s.baseUrl)){const c=qE();return o.vertexai?(l=c.vertexUrl)!==null&&l!==void 0?l:e:(u=c.geminiUrl)!==null&&u!==void 0?u:n}return o.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wa{}function gt(o,e){const n=/\{([^}]+)\}/g;return o.replace(n,(s,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const u=e[l];return u!=null?String(u):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function p(o,e,n){for(let u=0;u<e.length-1;u++){const c=e[u];if(c.endsWith("[]")){const m=c.slice(0,-2);if(!(m in o))if(Array.isArray(n))o[m]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(o[m])){const y=o[m];if(Array.isArray(n))for(let h=0;h<y.length;h++){const v=y[h];p(v,e.slice(u+1),n[h])}else for(const h of y)p(h,e.slice(u+1),n)}return}else if(c.endsWith("[0]")){const m=c.slice(0,-3);m in o||(o[m]=[{}]);const y=o[m];p(y[0],e.slice(u+1),n);return}(!o[c]||typeof o[c]!="object")&&(o[c]={}),o=o[c]}const s=e[e.length-1],l=o[s];if(l!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===l)return;if(typeof l=="object"&&typeof n=="object"&&l!==null&&n!==null)Object.assign(l,n);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else o[s]=n}function d(o,e){try{if(e.length===1&&e[0]==="_self")return o;for(let n=0;n<e.length;n++){if(typeof o!="object"||o===null)return;const s=e[n];if(s.endsWith("[]")){const l=s.slice(0,-2);if(l in o){const u=o[l];return Array.isArray(u)?u.map(c=>d(c,e.slice(n+1))):void 0}else return}else o=o[s]}return o}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kt(o,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(o.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function gv(o,e){const n=Kt(o,e);return n?n.startsWith("publishers/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/${n}`:n.startsWith("models/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/publishers/google/${n}`:n:""}function yv(o,e){return Array.isArray(e)?e.map(n=>Vl(o,n)):[Vl(o,e)]}function Vl(o,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function HE(o,e){const n=Vl(o,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function FE(o,e){const n=Vl(o,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Ip(o,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function vv(o,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>Ip(o,n)):[Ip(o,e)]}function Vc(o){return o!=null&&typeof o=="object"&&"parts"in o&&Array.isArray(o.parts)}function zp(o){return o!=null&&typeof o=="object"&&"functionCall"in o}function kp(o){return o!=null&&typeof o=="object"&&"functionResponse"in o}function be(o,e){if(e==null)throw new Error("ContentUnion is required");return Vc(e)?e:{role:"user",parts:vv(o,e)}}function Tv(o,e){if(!e)return[];if(o.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const s=be(o,n);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(o.isVertexAI()){const n=be(o,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>be(o,n)):[be(o,e)]}function oi(o,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(zp(e)||kp(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[be(o,e)]}const n=[],s=[],l=Vc(e[0]);for(const u of e){const c=Vc(u);if(c!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)n.push(u);else{if(zp(u)||kp(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");s.push(u)}}return l||n.push({role:"user",parts:vv(o,s)}),n}function Sv(o,e){return e}function Ev(o,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Fl(o,e){return e}function Yl(o,e){if(!Array.isArray(e))throw new Error("tool is required and must be an array of Tools");return e}function YE(o,e,n,s=1){const l=!e.startsWith(`${n}/`)&&e.split("/").length===s;return o.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${o.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${o.getProject()}/locations/${o.getLocation()}/${e}`:l?`projects/${o.getProject()}/locations/${o.getLocation()}/${n}/${e}`:e:l?`${n}/${e}`:e}function ai(o,e){if(typeof e!="string")throw new Error("name must be a string");return YE(o,e,"cachedContents")}function Cv(o,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function si(o,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function bv(o,e){if(typeof e!="string")throw new Error("fromName must be a string");return e.startsWith("files/")?e.split("files/")[1]:e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KE(o,e){const n={};if(d(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const s=d(e,["thought"]);s!=null&&p(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&p(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&p(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&p(n,["fileData"],c);const m=d(e,["functionCall"]);m!=null&&p(n,["functionCall"],m);const y=d(e,["functionResponse"]);y!=null&&p(n,["functionResponse"],y);const h=d(e,["inlineData"]);h!=null&&p(n,["inlineData"],h);const v=d(e,["text"]);return v!=null&&p(n,["text"],v),n}function Op(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>KE(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function QE(){return{}}function XE(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&p(n,["dynamicThreshold"],l),n}function ZE(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&p(n,["dynamicRetrievalConfig"],XE(o,s)),n}function JE(o,e){const n={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(e,["googleSearch"])!=null&&p(n,["googleSearch"],QE());const l=d(e,["googleSearchRetrieval"]);l!=null&&p(n,["googleSearchRetrieval"],ZE(o,l));const u=d(e,["codeExecution"]);u!=null&&p(n,["codeExecution"],u);const c=d(e,["functionDeclarations"]);return c!=null&&p(n,["functionDeclarations"],c),n}function $E(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&p(n,["allowedFunctionNames"],l),n}function WE(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&p(n,["functionCallingConfig"],$E(o,s)),n}function jE(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&p(n,["ttl"],l);const u=d(e,["expireTime"]);n!==void 0&&u!=null&&p(n,["expireTime"],u);const c=d(e,["displayName"]);n!==void 0&&c!=null&&p(n,["displayName"],c);const m=d(e,["contents"]);if(n!==void 0&&m!=null){let S=oi(o,m);Array.isArray(S)&&(S=S.map(E=>Op(o,E))),p(n,["contents"],S)}const y=d(e,["systemInstruction"]);n!==void 0&&y!=null&&p(n,["systemInstruction"],Op(o,be(o,y)));const h=d(e,["tools"]);if(n!==void 0&&h!=null){let S=h;Array.isArray(S)&&(S=S.map(E=>JE(o,E))),p(n,["tools"],S)}const v=d(e,["toolConfig"]);return n!==void 0&&v!=null&&p(n,["toolConfig"],WE(o,v)),s}function tC(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["model"],gv(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],jE(o,l,n)),n}function eC(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function nC(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function iC(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&p(n,["ttl"],l);const u=d(e,["expireTime"]);return n!==void 0&&u!=null&&p(n,["expireTime"],u),s}function oC(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],iC(o,l,n)),n}function aC(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&p(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);return n!==void 0&&u!=null&&p(n,["_query","pageToken"],u),s}function sC(o,e){const n={},s=d(e,["config"]);return s!=null&&p(n,["config"],aC(o,s,n)),n}function lC(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&p(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&p(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&p(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&p(n,["executableCode"],c);const m=d(e,["fileData"]);m!=null&&p(n,["fileData"],m);const y=d(e,["functionCall"]);y!=null&&p(n,["functionCall"],y);const h=d(e,["functionResponse"]);h!=null&&p(n,["functionResponse"],h);const v=d(e,["inlineData"]);v!=null&&p(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&p(n,["text"],S),n}function qp(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>lC(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function rC(){return{}}function uC(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&p(n,["dynamicThreshold"],l),n}function cC(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&p(n,["dynamicRetrievalConfig"],uC(o,s)),n}function fC(o,e){const n={},s=d(e,["retrieval"]);s!=null&&p(n,["retrieval"],s),d(e,["googleSearch"])!=null&&p(n,["googleSearch"],rC());const u=d(e,["googleSearchRetrieval"]);u!=null&&p(n,["googleSearchRetrieval"],cC(o,u));const c=d(e,["codeExecution"]);c!=null&&p(n,["codeExecution"],c);const m=d(e,["functionDeclarations"]);return m!=null&&p(n,["functionDeclarations"],m),n}function dC(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&p(n,["allowedFunctionNames"],l),n}function hC(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&p(n,["functionCallingConfig"],dC(o,s)),n}function mC(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&p(n,["ttl"],l);const u=d(e,["expireTime"]);n!==void 0&&u!=null&&p(n,["expireTime"],u);const c=d(e,["displayName"]);n!==void 0&&c!=null&&p(n,["displayName"],c);const m=d(e,["contents"]);if(n!==void 0&&m!=null){let S=oi(o,m);Array.isArray(S)&&(S=S.map(E=>qp(o,E))),p(n,["contents"],S)}const y=d(e,["systemInstruction"]);n!==void 0&&y!=null&&p(n,["systemInstruction"],qp(o,be(o,y)));const h=d(e,["tools"]);if(n!==void 0&&h!=null){let S=h;Array.isArray(S)&&(S=S.map(E=>fC(o,E))),p(n,["tools"],S)}const v=d(e,["toolConfig"]);return n!==void 0&&v!=null&&p(n,["toolConfig"],hC(o,v)),s}function pC(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["model"],gv(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],mC(o,l,n)),n}function gC(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function yC(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function vC(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&p(n,["ttl"],l);const u=d(e,["expireTime"]);return n!==void 0&&u!=null&&p(n,["expireTime"],u),s}function TC(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],vC(o,l,n)),n}function SC(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&p(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);return n!==void 0&&u!=null&&p(n,["_query","pageToken"],u),s}function EC(o,e){const n={},s=d(e,["config"]);return s!=null&&p(n,["config"],SC(o,s,n)),n}function _l(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["displayName"]);l!=null&&p(n,["displayName"],l);const u=d(e,["model"]);u!=null&&p(n,["model"],u);const c=d(e,["createTime"]);c!=null&&p(n,["createTime"],c);const m=d(e,["updateTime"]);m!=null&&p(n,["updateTime"],m);const y=d(e,["expireTime"]);y!=null&&p(n,["expireTime"],y);const h=d(e,["usageMetadata"]);return h!=null&&p(n,["usageMetadata"],h),n}function CC(){return{}}function bC(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&p(n,["nextPageToken"],s);const l=d(e,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>_l(o,c))),p(n,["cachedContents"],u)}return n}function Rl(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["displayName"]);l!=null&&p(n,["displayName"],l);const u=d(e,["model"]);u!=null&&p(n,["model"],u);const c=d(e,["createTime"]);c!=null&&p(n,["createTime"],c);const m=d(e,["updateTime"]);m!=null&&p(n,["updateTime"],m);const y=d(e,["expireTime"]);y!=null&&p(n,["expireTime"],y);const h=d(e,["usageMetadata"]);return h!=null&&p(n,["usageMetadata"],h),n}function AC(){return{}}function MC(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&p(n,["nextPageToken"],s);const l=d(e,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Rl(o,c))),p(n,["cachedContents"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fa;(function(o){o.PAGED_ITEM_BATCH_JOBS="batchJobs",o.PAGED_ITEM_MODELS="models",o.PAGED_ITEM_TUNING_JOBS="tuningJobs",o.PAGED_ITEM_FILES="files",o.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Fa||(Fa={}));class uf{constructor(e,n,s,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,s,l)}init(e,n,s){var l,u;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let c={config:{}};s?typeof s=="object"?c=Object.assign({},s):c=s:c={config:{}},c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(u=(l=c.config)===null||l===void 0?void 0:l.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Gp;(function(o){o.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",o.OUTCOME_OK="OUTCOME_OK",o.OUTCOME_FAILED="OUTCOME_FAILED",o.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Gp||(Gp={}));var Hp;(function(o){o.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",o.PYTHON="PYTHON"})(Hp||(Hp={}));var Fp;(function(o){o.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",o.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",o.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",o.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",o.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Fp||(Fp={}));var Yp;(function(o){o.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",o.SEVERITY="SEVERITY",o.PROBABILITY="PROBABILITY"})(Yp||(Yp={}));var Kp;(function(o){o.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE",o.OFF="OFF"})(Kp||(Kp={}));var Qp;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(Qp||(Qp={}));var xn;(function(o){o.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",o.STRING="STRING",o.NUMBER="NUMBER",o.INTEGER="INTEGER",o.BOOLEAN="BOOLEAN",o.ARRAY="ARRAY",o.OBJECT="OBJECT"})(xn||(xn={}));var Xp;(function(o){o.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",o.STOP="STOP",o.MAX_TOKENS="MAX_TOKENS",o.SAFETY="SAFETY",o.RECITATION="RECITATION",o.LANGUAGE="LANGUAGE",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.SPII="SPII",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.IMAGE_SAFETY="IMAGE_SAFETY"})(Xp||(Xp={}));var Zp;(function(o){o.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",o.NEGLIGIBLE="NEGLIGIBLE",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH"})(Zp||(Zp={}));var Jp;(function(o){o.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",o.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",o.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",o.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",o.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Jp||(Jp={}));var $p;(function(o){o.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",o.SAFETY="SAFETY",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})($p||($p={}));var Wp;(function(o){o.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",o.ON_DEMAND="ON_DEMAND",o.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Wp||(Wp={}));var Pl;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.AUDIO="AUDIO"})(Pl||(Pl={}));var jp;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(jp||(jp={}));var Pc;(function(o){o.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",o.JOB_STATE_QUEUED="JOB_STATE_QUEUED",o.JOB_STATE_PENDING="JOB_STATE_PENDING",o.JOB_STATE_RUNNING="JOB_STATE_RUNNING",o.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",o.JOB_STATE_FAILED="JOB_STATE_FAILED",o.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",o.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",o.JOB_STATE_PAUSED="JOB_STATE_PAUSED",o.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",o.JOB_STATE_UPDATING="JOB_STATE_UPDATING",o.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Pc||(Pc={}));var tg;(function(o){o.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",o.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",o.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",o.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",o.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",o.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",o.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(tg||(tg={}));var eg;(function(o){o.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",o.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",o.BALANCED="BALANCED",o.PRIORITIZE_COST="PRIORITIZE_COST"})(eg||(eg={}));var ng;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(ng||(ng={}));var ig;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.AUTO="AUTO",o.ANY="ANY",o.NONE="NONE"})(ig||(ig={}));var og;(function(o){o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE"})(og||(og={}));var ag;(function(o){o.DONT_ALLOW="DONT_ALLOW",o.ALLOW_ADULT="ALLOW_ADULT",o.ALLOW_ALL="ALLOW_ALL"})(ag||(ag={}));var sg;(function(o){o.auto="auto",o.en="en",o.ja="ja",o.ko="ko",o.hi="hi"})(sg||(sg={}));var lg;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.PROCESSING="PROCESSING",o.ACTIVE="ACTIVE",o.FAILED="FAILED"})(lg||(lg={}));var rg;(function(o){o.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",o.UPLOADED="UPLOADED",o.GENERATED="GENERATED"})(rg||(rg={}));var ug;(function(o){o.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",o.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",o.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",o.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",o.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ug||(ug={}));var cg;(function(o){o.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",o.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",o.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",o.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(cg||(cg={}));var fg;(function(o){o.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",o.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",o.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",o.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(fg||(fg={}));var dg;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.VIDEO="VIDEO",o.AUDIO="AUDIO",o.DOCUMENT="DOCUMENT"})(dg||(dg={}));var hg;(function(o){o.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",o.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",o.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(hg||(hg={}));var mg;(function(o){o.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",o.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",o.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(mg||(mg={}));var pg;(function(o){o.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",o.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",o.NO_INTERRUPTION="NO_INTERRUPTION"})(pg||(pg={}));var gg;(function(o){o.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",o.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",o.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(gg||(gg={}));class vl{get text(){var e,n,s,l,u,c,m,y;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const S=[];for(const E of(y=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[b,M]of Object.entries(E))b!=="text"&&b!=="thought"&&(M!==null||M!==void 0)&&S.push(b);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,h+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var e,n,s,l,u,c,m,y;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const S of(y=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[E,b]of Object.entries(S))E!=="inlineData"&&(b!==null||b!==void 0)&&v.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(h+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,s,l,u,c,m,y;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,n,s,l,u,c,m,y,h;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,s,l,u,c,m,y,h;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class yg{}class vg{}class Tg{}class Sg{}class xC{}class Eg{}class Cg{}class bg{}class _C{}class Bc{constructor(e){const n={};for(const s of e.headers.entries())n[s[0]]=s[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class RC{}class DC{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wC extends Wa{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new uf(Fa.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(n),n)}async create(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=pC(this.apiClient,e);return m=gt("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Rl(this.apiClient,v))}else{const h=tC(this.apiClient,e);return m=gt("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>_l(this.apiClient,v))}}async get(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=gC(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Rl(this.apiClient,v))}else{const h=eC(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>_l(this.apiClient,v))}}async delete(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=yC(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(()=>{const v=AC(),S=new Cg;return Object.assign(S,v),S})}else{const h=nC(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(()=>{const v=CC(),S=new Cg;return Object.assign(S,v),S})}}async update(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=TC(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Rl(this.apiClient,v))}else{const h=oC(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>_l(this.apiClient,v))}}async listInternal(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=EC(this.apiClient,e);return m=gt("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=MC(this.apiClient,v),E=new bg;return Object.assign(E,S),E})}else{const h=sC(this.apiClient,e);return m=gt("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=bC(this.apiClient,v),E=new bg;return Object.assign(E,S),E})}}}function Ag(o){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&o[e],s=0;if(n)return n.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&s>=o.length&&(o=void 0),{value:o&&o[s++],done:!o}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function me(o){return this instanceof me?(this.v=o,this):new me(o)}function Bl(o,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(o,e||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",c),l[Symbol.asyncIterator]=function(){return this},l;function c(b){return function(M){return Promise.resolve(M).then(b,S)}}function m(b,M){s[b]&&(l[b]=function(D){return new Promise(function(z,k){u.push([b,D,z,k])>1||y(b,D)})},M&&(l[b]=M(l[b])))}function y(b,M){try{h(s[b](M))}catch(D){E(u[0][3],D)}}function h(b){b.value instanceof me?Promise.resolve(b.value.v).then(v,S):E(u[0][2],b)}function v(b){y("next",b)}function S(b){y("throw",b)}function E(b,M){b(M),u.shift(),u.length&&y(u[0][0],u[0][1])}}function Uc(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=o[Symbol.asyncIterator],n;return e?e.call(o):(o=typeof Ag=="function"?Ag(o):o[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(u){n[u]=o[u]&&function(c){return new Promise(function(m,y){c=o[u](c),l(m,y,c.done,c.value)})}}function l(u,c,m,y){Promise.resolve(y).then(function(h){u({value:h,done:m})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NC(o){var e;if(o.candidates==null||o.candidates.length===0)return!1;const n=(e=o.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Av(n)}function Av(o){if(o.parts===void 0||o.parts.length===0)return!1;for(const e of o.parts)if(e===void 0||Object.keys(e).length===0||e.text!==void 0&&e.text==="")return!1;return!0}function LC(o){if(o.length!==0){if(o[0].role!=="user")throw new Error("History must start with a user turn.");for(const e of o)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function VC(o){if(o===void 0||o.length===0)return[];const e=[],n=o.length;let s=0,l=o[0];for(;s<n;)if(o[s].role==="user")l=o[s],s++;else{const u=[];let c=!0;for(;s<n&&o[s].role==="model";)u.push(o[s]),c&&!Av(o[s])&&(c=!1),s++;c&&(e.push(l),e.push(...u))}return e}class PC{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new BC(this.apiClient,this.modelsModule,e.model,e.config,e.history)}}class BC{constructor(e,n,s,l={},u=[]){this.apiClient=e,this.modelsModule=n,this.model=s,this.config=l,this.history=u,this.sendPromise=Promise.resolve(),LC(u)}async sendMessage(e){var n;await this.sendPromise;const s=be(this.apiClient,e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var u,c;const y=(c=(u=(await l).candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content,h=y?[y]:[];this.recordHistory(s,h)})(),await this.sendPromise,l}async sendMessageStream(e){var n;await this.sendPromise;const s=be(this.apiClient,e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const u=await l;return this.processStreamResponse(u,s)}getHistory(e=!1){return e?VC(this.history):this.history}processStreamResponse(e,n){var s,l;return Bl(this,arguments,function*(){var c,m,y,h;const v=[];try{for(var S=!0,E=Uc(e),b;b=yield me(E.next()),c=b.done,!c;S=!0){h=b.value,S=!1;const M=h;if(NC(M)){const D=(l=(s=M.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content;D!==void 0&&v.push(D)}yield yield me(M)}}catch(M){m={error:M}}finally{try{!S&&!c&&(y=E.return)&&(yield me(y.call(E)))}finally{if(m)throw m.error}}this.recordHistory(n,v)})}recordHistory(e,n){let s=[];n.length>0&&n.every(l=>l.role==="model")?s=n:s.push({role:"model",parts:[]}),this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UC(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&p(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);return n!==void 0&&u!=null&&p(n,["_query","pageToken"],u),s}function IC(o,e){const n={},s=d(e,["config"]);return s!=null&&p(n,["config"],UC(o,s,n)),n}function zC(o,e){const n={},s=d(e,["details"]);s!=null&&p(n,["details"],s);const l=d(e,["message"]);l!=null&&p(n,["message"],l);const u=d(e,["code"]);return u!=null&&p(n,["code"],u),n}function kC(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["displayName"]);l!=null&&p(n,["displayName"],l);const u=d(e,["mimeType"]);u!=null&&p(n,["mimeType"],u);const c=d(e,["sizeBytes"]);c!=null&&p(n,["sizeBytes"],c);const m=d(e,["createTime"]);m!=null&&p(n,["createTime"],m);const y=d(e,["expirationTime"]);y!=null&&p(n,["expirationTime"],y);const h=d(e,["updateTime"]);h!=null&&p(n,["updateTime"],h);const v=d(e,["sha256Hash"]);v!=null&&p(n,["sha256Hash"],v);const S=d(e,["uri"]);S!=null&&p(n,["uri"],S);const E=d(e,["downloadUri"]);E!=null&&p(n,["downloadUri"],E);const b=d(e,["state"]);b!=null&&p(n,["state"],b);const M=d(e,["source"]);M!=null&&p(n,["source"],M);const D=d(e,["videoMetadata"]);D!=null&&p(n,["videoMetadata"],D);const z=d(e,["error"]);return z!=null&&p(n,["error"],zC(o,z)),n}function OC(o,e){const n={},s=d(e,["file"]);s!=null&&p(n,["file"],kC(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function qC(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","file"],bv(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function GC(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","file"],bv(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function HC(o,e){const n={},s=d(e,["details"]);s!=null&&p(n,["details"],s);const l=d(e,["message"]);l!=null&&p(n,["message"],l);const u=d(e,["code"]);return u!=null&&p(n,["code"],u),n}function Ic(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["displayName"]);l!=null&&p(n,["displayName"],l);const u=d(e,["mimeType"]);u!=null&&p(n,["mimeType"],u);const c=d(e,["sizeBytes"]);c!=null&&p(n,["sizeBytes"],c);const m=d(e,["createTime"]);m!=null&&p(n,["createTime"],m);const y=d(e,["expirationTime"]);y!=null&&p(n,["expirationTime"],y);const h=d(e,["updateTime"]);h!=null&&p(n,["updateTime"],h);const v=d(e,["sha256Hash"]);v!=null&&p(n,["sha256Hash"],v);const S=d(e,["uri"]);S!=null&&p(n,["uri"],S);const E=d(e,["downloadUri"]);E!=null&&p(n,["downloadUri"],E);const b=d(e,["state"]);b!=null&&p(n,["state"],b);const M=d(e,["source"]);M!=null&&p(n,["source"],M);const D=d(e,["videoMetadata"]);D!=null&&p(n,["videoMetadata"],D);const z=d(e,["error"]);return z!=null&&p(n,["error"],HC(o,z)),n}function FC(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&p(n,["nextPageToken"],s);const l=d(e,["files"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Ic(o,c))),p(n,["files"],u)}return n}function YC(){return{}}function KC(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QC extends Wa{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new uf(Fa.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Ic(this.apiClient,n))}async listInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=IC(this.apiClient,e);return u=gt("files",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const h=FC(this.apiClient,y),v=new _C;return Object.assign(v,h),v})}}async createInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=OC(this.apiClient,e);return u=gt("upload/v1beta/files",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(()=>{const y=YC(),h=new RC;return Object.assign(h,y),h})}}async get(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=qC(this.apiClient,e);return u=gt("files/{file}",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>Ic(this.apiClient,y))}}async delete(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=GC(this.apiClient,e);return u=gt("files/{file}",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(()=>{const y=KC(),h=new DC;return Object.assign(h,y),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XC(o,e){const n={};if(d(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const s=d(e,["thought"]);s!=null&&p(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&p(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&p(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&p(n,["fileData"],c);const m=d(e,["functionCall"]);m!=null&&p(n,["functionCall"],m);const y=d(e,["functionResponse"]);y!=null&&p(n,["functionResponse"],y);const h=d(e,["inlineData"]);h!=null&&p(n,["inlineData"],h);const v=d(e,["text"]);return v!=null&&p(n,["text"],v),n}function ZC(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&p(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&p(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&p(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&p(n,["executableCode"],c);const m=d(e,["fileData"]);m!=null&&p(n,["fileData"],m);const y=d(e,["functionCall"]);y!=null&&p(n,["functionCall"],y);const h=d(e,["functionResponse"]);h!=null&&p(n,["functionResponse"],h);const v=d(e,["inlineData"]);v!=null&&p(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&p(n,["text"],S),n}function JC(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>XC(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function $C(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>ZC(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function WC(){return{}}function jC(){return{}}function tb(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&p(n,["dynamicThreshold"],l),n}function eb(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&p(n,["dynamicThreshold"],l),n}function nb(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&p(n,["dynamicRetrievalConfig"],tb(o,s)),n}function ib(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&p(n,["dynamicRetrievalConfig"],eb(o,s)),n}function ob(o,e){const n={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(e,["googleSearch"])!=null&&p(n,["googleSearch"],WC());const l=d(e,["googleSearchRetrieval"]);l!=null&&p(n,["googleSearchRetrieval"],nb(o,l));const u=d(e,["codeExecution"]);u!=null&&p(n,["codeExecution"],u);const c=d(e,["functionDeclarations"]);return c!=null&&p(n,["functionDeclarations"],c),n}function ab(o,e){const n={},s=d(e,["retrieval"]);s!=null&&p(n,["retrieval"],s),d(e,["googleSearch"])!=null&&p(n,["googleSearch"],jC());const u=d(e,["googleSearchRetrieval"]);u!=null&&p(n,["googleSearchRetrieval"],ib(o,u));const c=d(e,["codeExecution"]);c!=null&&p(n,["codeExecution"],c);const m=d(e,["functionDeclarations"]);return m!=null&&p(n,["functionDeclarations"],m),n}function sb(o,e){const n={},s=d(e,["handle"]);if(s!=null&&p(n,["handle"],s),d(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function lb(o,e){const n={},s=d(e,["handle"]);s!=null&&p(n,["handle"],s);const l=d(e,["transparent"]);return l!=null&&p(n,["transparent"],l),n}function rb(){return{}}function Mg(){return{}}function ub(o,e){const n={},s=d(e,["disabled"]);s!=null&&p(n,["disabled"],s);const l=d(e,["startOfSpeechSensitivity"]);l!=null&&p(n,["startOfSpeechSensitivity"],l);const u=d(e,["endOfSpeechSensitivity"]);u!=null&&p(n,["endOfSpeechSensitivity"],u);const c=d(e,["prefixPaddingMs"]);c!=null&&p(n,["prefixPaddingMs"],c);const m=d(e,["silenceDurationMs"]);return m!=null&&p(n,["silenceDurationMs"],m),n}function cb(o,e){const n={},s=d(e,["disabled"]);s!=null&&p(n,["disabled"],s);const l=d(e,["startOfSpeechSensitivity"]);l!=null&&p(n,["startOfSpeechSensitivity"],l);const u=d(e,["endOfSpeechSensitivity"]);u!=null&&p(n,["endOfSpeechSensitivity"],u);const c=d(e,["prefixPaddingMs"]);c!=null&&p(n,["prefixPaddingMs"],c);const m=d(e,["silenceDurationMs"]);return m!=null&&p(n,["silenceDurationMs"],m),n}function fb(o,e){const n={},s=d(e,["automaticActivityDetection"]);s!=null&&p(n,["automaticActivityDetection"],ub(o,s));const l=d(e,["activityHandling"]);l!=null&&p(n,["activityHandling"],l);const u=d(e,["turnCoverage"]);return u!=null&&p(n,["turnCoverage"],u),n}function db(o,e){const n={},s=d(e,["automaticActivityDetection"]);s!=null&&p(n,["automaticActivityDetection"],cb(o,s));const l=d(e,["activityHandling"]);l!=null&&p(n,["activityHandling"],l);const u=d(e,["turnCoverage"]);return u!=null&&p(n,["turnCoverage"],u),n}function hb(o,e){const n={},s=d(e,["targetTokens"]);return s!=null&&p(n,["targetTokens"],s),n}function mb(o,e){const n={},s=d(e,["targetTokens"]);return s!=null&&p(n,["targetTokens"],s),n}function pb(o,e){const n={},s=d(e,["triggerTokens"]);s!=null&&p(n,["triggerTokens"],s);const l=d(e,["slidingWindow"]);return l!=null&&p(n,["slidingWindow"],hb(o,l)),n}function gb(o,e){const n={},s=d(e,["triggerTokens"]);s!=null&&p(n,["triggerTokens"],s);const l=d(e,["slidingWindow"]);return l!=null&&p(n,["slidingWindow"],mb(o,l)),n}function yb(o,e,n){const s={},l=d(e,["generationConfig"]);n!==void 0&&l!=null&&p(n,["setup","generationConfig"],l);const u=d(e,["responseModalities"]);n!==void 0&&u!=null&&p(n,["setup","generationConfig","responseModalities"],u);const c=d(e,["temperature"]);n!==void 0&&c!=null&&p(n,["setup","generationConfig","temperature"],c);const m=d(e,["topP"]);n!==void 0&&m!=null&&p(n,["setup","generationConfig","topP"],m);const y=d(e,["topK"]);n!==void 0&&y!=null&&p(n,["setup","generationConfig","topK"],y);const h=d(e,["maxOutputTokens"]);n!==void 0&&h!=null&&p(n,["setup","generationConfig","maxOutputTokens"],h);const v=d(e,["mediaResolution"]);n!==void 0&&v!=null&&p(n,["setup","generationConfig","mediaResolution"],v);const S=d(e,["seed"]);n!==void 0&&S!=null&&p(n,["setup","generationConfig","seed"],S);const E=d(e,["speechConfig"]);n!==void 0&&E!=null&&p(n,["setup","generationConfig","speechConfig"],E);const b=d(e,["systemInstruction"]);n!==void 0&&b!=null&&p(n,["setup","systemInstruction"],JC(o,be(o,b)));const M=d(e,["tools"]);if(n!==void 0&&M!=null){let V=Yl(o,M);Array.isArray(V)&&(V=V.map(K=>ob(o,Fl(o,K)))),p(n,["setup","tools"],V)}const D=d(e,["sessionResumption"]);if(n!==void 0&&D!=null&&p(n,["setup","sessionResumption"],sb(o,D)),d(e,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const z=d(e,["outputAudioTranscription"]);n!==void 0&&z!=null&&p(n,["setup","outputAudioTranscription"],rb());const k=d(e,["realtimeInputConfig"]);n!==void 0&&k!=null&&p(n,["setup","realtimeInputConfig"],fb(o,k));const O=d(e,["contextWindowCompression"]);return n!==void 0&&O!=null&&p(n,["setup","contextWindowCompression"],pb(o,O)),s}function vb(o,e,n){const s={},l=d(e,["generationConfig"]);n!==void 0&&l!=null&&p(n,["setup","generationConfig"],l);const u=d(e,["responseModalities"]);n!==void 0&&u!=null&&p(n,["setup","generationConfig","responseModalities"],u);const c=d(e,["temperature"]);n!==void 0&&c!=null&&p(n,["setup","generationConfig","temperature"],c);const m=d(e,["topP"]);n!==void 0&&m!=null&&p(n,["setup","generationConfig","topP"],m);const y=d(e,["topK"]);n!==void 0&&y!=null&&p(n,["setup","generationConfig","topK"],y);const h=d(e,["maxOutputTokens"]);n!==void 0&&h!=null&&p(n,["setup","generationConfig","maxOutputTokens"],h);const v=d(e,["mediaResolution"]);n!==void 0&&v!=null&&p(n,["setup","generationConfig","mediaResolution"],v);const S=d(e,["seed"]);n!==void 0&&S!=null&&p(n,["setup","generationConfig","seed"],S);const E=d(e,["speechConfig"]);n!==void 0&&E!=null&&p(n,["setup","generationConfig","speechConfig"],E);const b=d(e,["systemInstruction"]);n!==void 0&&b!=null&&p(n,["setup","systemInstruction"],$C(o,be(o,b)));const M=d(e,["tools"]);if(n!==void 0&&M!=null){let K=Yl(o,M);Array.isArray(K)&&(K=K.map(w=>ab(o,Fl(o,w)))),p(n,["setup","tools"],K)}const D=d(e,["sessionResumption"]);n!==void 0&&D!=null&&p(n,["setup","sessionResumption"],lb(o,D));const z=d(e,["inputAudioTranscription"]);n!==void 0&&z!=null&&p(n,["setup","inputAudioTranscription"],Mg());const k=d(e,["outputAudioTranscription"]);n!==void 0&&k!=null&&p(n,["setup","outputAudioTranscription"],Mg());const O=d(e,["realtimeInputConfig"]);n!==void 0&&O!=null&&p(n,["setup","realtimeInputConfig"],db(o,O));const V=d(e,["contextWindowCompression"]);return n!==void 0&&V!=null&&p(n,["setup","contextWindowCompression"],gb(o,V)),s}function Tb(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["setup","model"],Kt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],yb(o,l,n)),n}function Sb(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["setup","model"],Kt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],vb(o,l,n)),n}function Eb(){return{}}function Cb(){return{}}function bb(){return{}}function Ab(){return{}}function Mb(o,e){const n={},s=d(e,["media"]);s!=null&&p(n,["mediaChunks"],yv(o,s));const l=d(e,["audio"]);l!=null&&p(n,["audio"],FE(o,l));const u=d(e,["audioStreamEnd"]);u!=null&&p(n,["audioStreamEnd"],u);const c=d(e,["video"]);c!=null&&p(n,["video"],HE(o,c));const m=d(e,["text"]);return m!=null&&p(n,["text"],m),d(e,["activityStart"])!=null&&p(n,["activityStart"],Eb()),d(e,["activityEnd"])!=null&&p(n,["activityEnd"],bb()),n}function xb(o,e){const n={},s=d(e,["media"]);if(s!=null&&p(n,["mediaChunks"],yv(o,s)),d(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const l=d(e,["audioStreamEnd"]);if(l!=null&&p(n,["audioStreamEnd"],l),d(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(d(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return d(e,["activityStart"])!=null&&p(n,["activityStart"],Cb()),d(e,["activityEnd"])!=null&&p(n,["activityEnd"],Ab()),n}function _b(){return{}}function Rb(){return{}}function Db(o,e){const n={},s=d(e,["thought"]);s!=null&&p(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&p(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&p(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&p(n,["fileData"],c);const m=d(e,["functionCall"]);m!=null&&p(n,["functionCall"],m);const y=d(e,["functionResponse"]);y!=null&&p(n,["functionResponse"],y);const h=d(e,["inlineData"]);h!=null&&p(n,["inlineData"],h);const v=d(e,["text"]);return v!=null&&p(n,["text"],v),n}function wb(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&p(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&p(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&p(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&p(n,["executableCode"],c);const m=d(e,["fileData"]);m!=null&&p(n,["fileData"],m);const y=d(e,["functionCall"]);y!=null&&p(n,["functionCall"],y);const h=d(e,["functionResponse"]);h!=null&&p(n,["functionResponse"],h);const v=d(e,["inlineData"]);v!=null&&p(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&p(n,["text"],S),n}function Nb(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>Db(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function Lb(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>wb(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function xg(o,e){const n={},s=d(e,["text"]);s!=null&&p(n,["text"],s);const l=d(e,["finished"]);return l!=null&&p(n,["finished"],l),n}function _g(o,e){const n={},s=d(e,["text"]);s!=null&&p(n,["text"],s);const l=d(e,["finished"]);return l!=null&&p(n,["finished"],l),n}function Vb(o,e){const n={},s=d(e,["modelTurn"]);s!=null&&p(n,["modelTurn"],Nb(o,s));const l=d(e,["turnComplete"]);l!=null&&p(n,["turnComplete"],l);const u=d(e,["interrupted"]);u!=null&&p(n,["interrupted"],u);const c=d(e,["groundingMetadata"]);c!=null&&p(n,["groundingMetadata"],c);const m=d(e,["generationComplete"]);m!=null&&p(n,["generationComplete"],m);const y=d(e,["inputTranscription"]);y!=null&&p(n,["inputTranscription"],xg(o,y));const h=d(e,["outputTranscription"]);return h!=null&&p(n,["outputTranscription"],xg(o,h)),n}function Pb(o,e){const n={},s=d(e,["modelTurn"]);s!=null&&p(n,["modelTurn"],Lb(o,s));const l=d(e,["turnComplete"]);l!=null&&p(n,["turnComplete"],l);const u=d(e,["interrupted"]);u!=null&&p(n,["interrupted"],u);const c=d(e,["groundingMetadata"]);c!=null&&p(n,["groundingMetadata"],c);const m=d(e,["generationComplete"]);m!=null&&p(n,["generationComplete"],m);const y=d(e,["inputTranscription"]);y!=null&&p(n,["inputTranscription"],_g(o,y));const h=d(e,["outputTranscription"]);return h!=null&&p(n,["outputTranscription"],_g(o,h)),n}function Bb(o,e){const n={},s=d(e,["id"]);s!=null&&p(n,["id"],s);const l=d(e,["args"]);l!=null&&p(n,["args"],l);const u=d(e,["name"]);return u!=null&&p(n,["name"],u),n}function Ub(o,e){const n={},s=d(e,["args"]);s!=null&&p(n,["args"],s);const l=d(e,["name"]);return l!=null&&p(n,["name"],l),n}function Ib(o,e){const n={},s=d(e,["functionCalls"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>Bb(o,u))),p(n,["functionCalls"],l)}return n}function zb(o,e){const n={},s=d(e,["functionCalls"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>Ub(o,u))),p(n,["functionCalls"],l)}return n}function kb(o,e){const n={},s=d(e,["ids"]);return s!=null&&p(n,["ids"],s),n}function Ob(o,e){const n={},s=d(e,["ids"]);return s!=null&&p(n,["ids"],s),n}function Tl(o,e){const n={},s=d(e,["modality"]);s!=null&&p(n,["modality"],s);const l=d(e,["tokenCount"]);return l!=null&&p(n,["tokenCount"],l),n}function Sl(o,e){const n={},s=d(e,["modality"]);s!=null&&p(n,["modality"],s);const l=d(e,["tokenCount"]);return l!=null&&p(n,["tokenCount"],l),n}function qb(o,e){const n={},s=d(e,["promptTokenCount"]);s!=null&&p(n,["promptTokenCount"],s);const l=d(e,["cachedContentTokenCount"]);l!=null&&p(n,["cachedContentTokenCount"],l);const u=d(e,["responseTokenCount"]);u!=null&&p(n,["responseTokenCount"],u);const c=d(e,["toolUsePromptTokenCount"]);c!=null&&p(n,["toolUsePromptTokenCount"],c);const m=d(e,["thoughtsTokenCount"]);m!=null&&p(n,["thoughtsTokenCount"],m);const y=d(e,["totalTokenCount"]);y!=null&&p(n,["totalTokenCount"],y);const h=d(e,["promptTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(M=>Tl(o,M))),p(n,["promptTokensDetails"],b)}const v=d(e,["cacheTokensDetails"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(M=>Tl(o,M))),p(n,["cacheTokensDetails"],b)}const S=d(e,["responseTokensDetails"]);if(S!=null){let b=S;Array.isArray(b)&&(b=b.map(M=>Tl(o,M))),p(n,["responseTokensDetails"],b)}const E=d(e,["toolUsePromptTokensDetails"]);if(E!=null){let b=E;Array.isArray(b)&&(b=b.map(M=>Tl(o,M))),p(n,["toolUsePromptTokensDetails"],b)}return n}function Gb(o,e){const n={},s=d(e,["promptTokenCount"]);s!=null&&p(n,["promptTokenCount"],s);const l=d(e,["cachedContentTokenCount"]);l!=null&&p(n,["cachedContentTokenCount"],l);const u=d(e,["candidatesTokenCount"]);u!=null&&p(n,["responseTokenCount"],u);const c=d(e,["toolUsePromptTokenCount"]);c!=null&&p(n,["toolUsePromptTokenCount"],c);const m=d(e,["thoughtsTokenCount"]);m!=null&&p(n,["thoughtsTokenCount"],m);const y=d(e,["totalTokenCount"]);y!=null&&p(n,["totalTokenCount"],y);const h=d(e,["promptTokensDetails"]);if(h!=null){let M=h;Array.isArray(M)&&(M=M.map(D=>Sl(o,D))),p(n,["promptTokensDetails"],M)}const v=d(e,["cacheTokensDetails"]);if(v!=null){let M=v;Array.isArray(M)&&(M=M.map(D=>Sl(o,D))),p(n,["cacheTokensDetails"],M)}const S=d(e,["candidatesTokensDetails"]);if(S!=null){let M=S;Array.isArray(M)&&(M=M.map(D=>Sl(o,D))),p(n,["responseTokensDetails"],M)}const E=d(e,["toolUsePromptTokensDetails"]);if(E!=null){let M=E;Array.isArray(M)&&(M=M.map(D=>Sl(o,D))),p(n,["toolUsePromptTokensDetails"],M)}const b=d(e,["trafficType"]);return b!=null&&p(n,["trafficType"],b),n}function Hb(o,e){const n={},s=d(e,["timeLeft"]);return s!=null&&p(n,["timeLeft"],s),n}function Fb(o,e){const n={},s=d(e,["timeLeft"]);return s!=null&&p(n,["timeLeft"],s),n}function Yb(o,e){const n={},s=d(e,["newHandle"]);s!=null&&p(n,["newHandle"],s);const l=d(e,["resumable"]);l!=null&&p(n,["resumable"],l);const u=d(e,["lastConsumedClientMessageIndex"]);return u!=null&&p(n,["lastConsumedClientMessageIndex"],u),n}function Kb(o,e){const n={},s=d(e,["newHandle"]);s!=null&&p(n,["newHandle"],s);const l=d(e,["resumable"]);l!=null&&p(n,["resumable"],l);const u=d(e,["lastConsumedClientMessageIndex"]);return u!=null&&p(n,["lastConsumedClientMessageIndex"],u),n}function Qb(o,e){const n={};d(e,["setupComplete"])!=null&&p(n,["setupComplete"],_b());const l=d(e,["serverContent"]);l!=null&&p(n,["serverContent"],Vb(o,l));const u=d(e,["toolCall"]);u!=null&&p(n,["toolCall"],Ib(o,u));const c=d(e,["toolCallCancellation"]);c!=null&&p(n,["toolCallCancellation"],kb(o,c));const m=d(e,["usageMetadata"]);m!=null&&p(n,["usageMetadata"],qb(o,m));const y=d(e,["goAway"]);y!=null&&p(n,["goAway"],Hb(o,y));const h=d(e,["sessionResumptionUpdate"]);return h!=null&&p(n,["sessionResumptionUpdate"],Yb(o,h)),n}function Xb(o,e){const n={};d(e,["setupComplete"])!=null&&p(n,["setupComplete"],Rb());const l=d(e,["serverContent"]);l!=null&&p(n,["serverContent"],Pb(o,l));const u=d(e,["toolCall"]);u!=null&&p(n,["toolCall"],zb(o,u));const c=d(e,["toolCallCancellation"]);c!=null&&p(n,["toolCallCancellation"],Ob(o,c));const m=d(e,["usageMetadata"]);m!=null&&p(n,["usageMetadata"],Gb(o,m));const y=d(e,["goAway"]);y!=null&&p(n,["goAway"],Fb(o,y));const h=d(e,["sessionResumptionUpdate"]);return h!=null&&p(n,["sessionResumptionUpdate"],Kb(o,h)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zb(o,e){const n={};if(d(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const s=d(e,["thought"]);s!=null&&p(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&p(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&p(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&p(n,["fileData"],c);const m=d(e,["functionCall"]);m!=null&&p(n,["functionCall"],m);const y=d(e,["functionResponse"]);y!=null&&p(n,["functionResponse"],y);const h=d(e,["inlineData"]);h!=null&&p(n,["inlineData"],h);const v=d(e,["text"]);return v!=null&&p(n,["text"],v),n}function Kl(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>Zb(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function Jb(o,e){const n={};if(d(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=d(e,["category"]);s!=null&&p(n,["category"],s);const l=d(e,["threshold"]);return l!=null&&p(n,["threshold"],l),n}function $b(){return{}}function Wb(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&p(n,["dynamicThreshold"],l),n}function jb(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&p(n,["dynamicRetrievalConfig"],Wb(o,s)),n}function tA(o,e){const n={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(e,["googleSearch"])!=null&&p(n,["googleSearch"],$b());const l=d(e,["googleSearchRetrieval"]);l!=null&&p(n,["googleSearchRetrieval"],jb(o,l));const u=d(e,["codeExecution"]);u!=null&&p(n,["codeExecution"],u);const c=d(e,["functionDeclarations"]);return c!=null&&p(n,["functionDeclarations"],c),n}function eA(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&p(n,["allowedFunctionNames"],l),n}function nA(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&p(n,["functionCallingConfig"],eA(o,s)),n}function iA(o,e){const n={},s=d(e,["voiceName"]);return s!=null&&p(n,["voiceName"],s),n}function oA(o,e){const n={},s=d(e,["prebuiltVoiceConfig"]);return s!=null&&p(n,["prebuiltVoiceConfig"],iA(o,s)),n}function aA(o,e){const n={},s=d(e,["voiceConfig"]);s!=null&&p(n,["voiceConfig"],oA(o,s));const l=d(e,["languageCode"]);return l!=null&&p(n,["languageCode"],l),n}function sA(o,e){const n={},s=d(e,["includeThoughts"]);s!=null&&p(n,["includeThoughts"],s);const l=d(e,["thinkingBudget"]);return l!=null&&p(n,["thinkingBudget"],l),n}function lA(o,e,n){const s={},l=d(e,["systemInstruction"]);n!==void 0&&l!=null&&p(n,["systemInstruction"],Kl(o,be(o,l)));const u=d(e,["temperature"]);u!=null&&p(s,["temperature"],u);const c=d(e,["topP"]);c!=null&&p(s,["topP"],c);const m=d(e,["topK"]);m!=null&&p(s,["topK"],m);const y=d(e,["candidateCount"]);y!=null&&p(s,["candidateCount"],y);const h=d(e,["maxOutputTokens"]);h!=null&&p(s,["maxOutputTokens"],h);const v=d(e,["stopSequences"]);v!=null&&p(s,["stopSequences"],v);const S=d(e,["responseLogprobs"]);S!=null&&p(s,["responseLogprobs"],S);const E=d(e,["logprobs"]);E!=null&&p(s,["logprobs"],E);const b=d(e,["presencePenalty"]);b!=null&&p(s,["presencePenalty"],b);const M=d(e,["frequencyPenalty"]);M!=null&&p(s,["frequencyPenalty"],M);const D=d(e,["seed"]);D!=null&&p(s,["seed"],D);const z=d(e,["responseMimeType"]);z!=null&&p(s,["responseMimeType"],z);const k=d(e,["responseSchema"]);if(k!=null&&p(s,["responseSchema"],Sv(o,k)),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=d(e,["safetySettings"]);if(n!==void 0&&O!=null){let at=O;Array.isArray(at)&&(at=at.map(pt=>Jb(o,pt))),p(n,["safetySettings"],at)}const V=d(e,["tools"]);if(n!==void 0&&V!=null){let at=Yl(o,V);Array.isArray(at)&&(at=at.map(pt=>tA(o,Fl(o,pt)))),p(n,["tools"],at)}const K=d(e,["toolConfig"]);if(n!==void 0&&K!=null&&p(n,["toolConfig"],nA(o,K)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=d(e,["cachedContent"]);n!==void 0&&w!=null&&p(n,["cachedContent"],ai(o,w));const X=d(e,["responseModalities"]);X!=null&&p(s,["responseModalities"],X);const Z=d(e,["mediaResolution"]);Z!=null&&p(s,["mediaResolution"],Z);const q=d(e,["speechConfig"]);if(q!=null&&p(s,["speechConfig"],aA(o,Ev(o,q))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const st=d(e,["thinkingConfig"]);return st!=null&&p(s,["thinkingConfig"],sA(o,st)),s}function Rg(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Kt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(m=>Kl(o,m))),p(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&p(n,["generationConfig"],lA(o,u,n)),n}function rA(o,e,n){const s={},l=d(e,["taskType"]);n!==void 0&&l!=null&&p(n,["requests[]","taskType"],l);const u=d(e,["title"]);n!==void 0&&u!=null&&p(n,["requests[]","title"],u);const c=d(e,["outputDimensionality"]);if(n!==void 0&&c!=null&&p(n,["requests[]","outputDimensionality"],c),d(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function uA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Kt(o,s));const l=d(e,["contents"]);l!=null&&p(n,["requests[]","content"],Tv(o,l));const u=d(e,["config"]);u!=null&&p(n,["config"],rA(o,u,n));const c=d(e,["model"]);return c!==void 0&&p(n,["requests[]","model"],Kt(o,c)),n}function cA(o,e,n){const s={};if(d(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=d(e,["numberOfImages"]);n!==void 0&&l!=null&&p(n,["parameters","sampleCount"],l);const u=d(e,["aspectRatio"]);n!==void 0&&u!=null&&p(n,["parameters","aspectRatio"],u);const c=d(e,["guidanceScale"]);if(n!==void 0&&c!=null&&p(n,["parameters","guidanceScale"],c),d(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=d(e,["safetyFilterLevel"]);n!==void 0&&m!=null&&p(n,["parameters","safetySetting"],m);const y=d(e,["personGeneration"]);n!==void 0&&y!=null&&p(n,["parameters","personGeneration"],y);const h=d(e,["includeSafetyAttributes"]);n!==void 0&&h!=null&&p(n,["parameters","includeSafetyAttributes"],h);const v=d(e,["includeRaiReason"]);n!==void 0&&v!=null&&p(n,["parameters","includeRaiReason"],v);const S=d(e,["language"]);n!==void 0&&S!=null&&p(n,["parameters","language"],S);const E=d(e,["outputMimeType"]);n!==void 0&&E!=null&&p(n,["parameters","outputOptions","mimeType"],E);const b=d(e,["outputCompressionQuality"]);if(n!==void 0&&b!=null&&p(n,["parameters","outputOptions","compressionQuality"],b),d(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function fA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Kt(o,s));const l=d(e,["prompt"]);l!=null&&p(n,["instances[0]","prompt"],l);const u=d(e,["config"]);return u!=null&&p(n,["config"],cA(o,u,n)),n}function dA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","name"],Kt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function hA(o,e,n){const s={},l=d(e,["displayName"]);n!==void 0&&l!=null&&p(n,["displayName"],l);const u=d(e,["description"]);return n!==void 0&&u!=null&&p(n,["description"],u),s}function mA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","name"],Kt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],hA(o,l,n)),n}function pA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","name"],Kt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function gA(o,e){const n={};if(d(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function yA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Kt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(m=>Kl(o,m))),p(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&p(n,["config"],gA(o,u)),n}function vA(o,e){const n={};if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=d(e,["imageBytes"]);s!=null&&p(n,["bytesBase64Encoded"],si(o,s));const l=d(e,["mimeType"]);return l!=null&&p(n,["mimeType"],l),n}function TA(o,e,n){const s={},l=d(e,["numberOfVideos"]);if(n!==void 0&&l!=null&&p(n,["parameters","sampleCount"],l),d(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=d(e,["durationSeconds"]);if(n!==void 0&&u!=null&&p(n,["parameters","durationSeconds"],u),d(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(e,["aspectRatio"]);if(n!==void 0&&c!=null&&p(n,["parameters","aspectRatio"],c),d(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const m=d(e,["personGeneration"]);if(n!==void 0&&m!=null&&p(n,["parameters","personGeneration"],m),d(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=d(e,["negativePrompt"]);if(n!==void 0&&y!=null&&p(n,["parameters","negativePrompt"],y),d(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function SA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Kt(o,s));const l=d(e,["prompt"]);l!=null&&p(n,["instances[0]","prompt"],l);const u=d(e,["image"]);u!=null&&p(n,["instances[0]","image"],vA(o,u));const c=d(e,["config"]);return c!=null&&p(n,["config"],TA(o,c,n)),n}function EA(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&p(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&p(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&p(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&p(n,["executableCode"],c);const m=d(e,["fileData"]);m!=null&&p(n,["fileData"],m);const y=d(e,["functionCall"]);y!=null&&p(n,["functionCall"],y);const h=d(e,["functionResponse"]);h!=null&&p(n,["functionResponse"],h);const v=d(e,["inlineData"]);v!=null&&p(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&p(n,["text"],S),n}function Do(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>EA(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function CA(o,e){const n={},s=d(e,["featureSelectionPreference"]);return s!=null&&p(n,["featureSelectionPreference"],s),n}function bA(o,e){const n={},s=d(e,["method"]);s!=null&&p(n,["method"],s);const l=d(e,["category"]);l!=null&&p(n,["category"],l);const u=d(e,["threshold"]);return u!=null&&p(n,["threshold"],u),n}function AA(){return{}}function MA(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&p(n,["dynamicThreshold"],l),n}function xA(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&p(n,["dynamicRetrievalConfig"],MA(o,s)),n}function Mv(o,e){const n={},s=d(e,["retrieval"]);s!=null&&p(n,["retrieval"],s),d(e,["googleSearch"])!=null&&p(n,["googleSearch"],AA());const u=d(e,["googleSearchRetrieval"]);u!=null&&p(n,["googleSearchRetrieval"],xA(o,u));const c=d(e,["codeExecution"]);c!=null&&p(n,["codeExecution"],c);const m=d(e,["functionDeclarations"]);return m!=null&&p(n,["functionDeclarations"],m),n}function _A(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&p(n,["allowedFunctionNames"],l),n}function RA(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&p(n,["functionCallingConfig"],_A(o,s)),n}function DA(o,e){const n={},s=d(e,["voiceName"]);return s!=null&&p(n,["voiceName"],s),n}function wA(o,e){const n={},s=d(e,["prebuiltVoiceConfig"]);return s!=null&&p(n,["prebuiltVoiceConfig"],DA(o,s)),n}function NA(o,e){const n={},s=d(e,["voiceConfig"]);s!=null&&p(n,["voiceConfig"],wA(o,s));const l=d(e,["languageCode"]);return l!=null&&p(n,["languageCode"],l),n}function LA(o,e){const n={},s=d(e,["includeThoughts"]);s!=null&&p(n,["includeThoughts"],s);const l=d(e,["thinkingBudget"]);return l!=null&&p(n,["thinkingBudget"],l),n}function VA(o,e,n){const s={},l=d(e,["systemInstruction"]);n!==void 0&&l!=null&&p(n,["systemInstruction"],Do(o,be(o,l)));const u=d(e,["temperature"]);u!=null&&p(s,["temperature"],u);const c=d(e,["topP"]);c!=null&&p(s,["topP"],c);const m=d(e,["topK"]);m!=null&&p(s,["topK"],m);const y=d(e,["candidateCount"]);y!=null&&p(s,["candidateCount"],y);const h=d(e,["maxOutputTokens"]);h!=null&&p(s,["maxOutputTokens"],h);const v=d(e,["stopSequences"]);v!=null&&p(s,["stopSequences"],v);const S=d(e,["responseLogprobs"]);S!=null&&p(s,["responseLogprobs"],S);const E=d(e,["logprobs"]);E!=null&&p(s,["logprobs"],E);const b=d(e,["presencePenalty"]);b!=null&&p(s,["presencePenalty"],b);const M=d(e,["frequencyPenalty"]);M!=null&&p(s,["frequencyPenalty"],M);const D=d(e,["seed"]);D!=null&&p(s,["seed"],D);const z=d(e,["responseMimeType"]);z!=null&&p(s,["responseMimeType"],z);const k=d(e,["responseSchema"]);k!=null&&p(s,["responseSchema"],Sv(o,k));const O=d(e,["routingConfig"]);O!=null&&p(s,["routingConfig"],O);const V=d(e,["modelSelectionConfig"]);V!=null&&p(s,["modelConfig"],CA(o,V));const K=d(e,["safetySettings"]);if(n!==void 0&&K!=null){let J=K;Array.isArray(J)&&(J=J.map(tt=>bA(o,tt))),p(n,["safetySettings"],J)}const w=d(e,["tools"]);if(n!==void 0&&w!=null){let J=Yl(o,w);Array.isArray(J)&&(J=J.map(tt=>Mv(o,Fl(o,tt)))),p(n,["tools"],J)}const X=d(e,["toolConfig"]);n!==void 0&&X!=null&&p(n,["toolConfig"],RA(o,X));const Z=d(e,["labels"]);n!==void 0&&Z!=null&&p(n,["labels"],Z);const q=d(e,["cachedContent"]);n!==void 0&&q!=null&&p(n,["cachedContent"],ai(o,q));const st=d(e,["responseModalities"]);st!=null&&p(s,["responseModalities"],st);const at=d(e,["mediaResolution"]);at!=null&&p(s,["mediaResolution"],at);const pt=d(e,["speechConfig"]);pt!=null&&p(s,["speechConfig"],NA(o,Ev(o,pt)));const yt=d(e,["audioTimestamp"]);yt!=null&&p(s,["audioTimestamp"],yt);const St=d(e,["thinkingConfig"]);return St!=null&&p(s,["thinkingConfig"],LA(o,St)),s}function Dg(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Kt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(m=>Do(o,m))),p(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&p(n,["generationConfig"],VA(o,u,n)),n}function PA(o,e,n){const s={},l=d(e,["taskType"]);n!==void 0&&l!=null&&p(n,["instances[]","task_type"],l);const u=d(e,["title"]);n!==void 0&&u!=null&&p(n,["instances[]","title"],u);const c=d(e,["outputDimensionality"]);n!==void 0&&c!=null&&p(n,["parameters","outputDimensionality"],c);const m=d(e,["mimeType"]);n!==void 0&&m!=null&&p(n,["instances[]","mimeType"],m);const y=d(e,["autoTruncate"]);return n!==void 0&&y!=null&&p(n,["parameters","autoTruncate"],y),s}function BA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Kt(o,s));const l=d(e,["contents"]);l!=null&&p(n,["instances[]","content"],Tv(o,l));const u=d(e,["config"]);return u!=null&&p(n,["config"],PA(o,u,n)),n}function UA(o,e,n){const s={},l=d(e,["outputGcsUri"]);n!==void 0&&l!=null&&p(n,["parameters","storageUri"],l);const u=d(e,["negativePrompt"]);n!==void 0&&u!=null&&p(n,["parameters","negativePrompt"],u);const c=d(e,["numberOfImages"]);n!==void 0&&c!=null&&p(n,["parameters","sampleCount"],c);const m=d(e,["aspectRatio"]);n!==void 0&&m!=null&&p(n,["parameters","aspectRatio"],m);const y=d(e,["guidanceScale"]);n!==void 0&&y!=null&&p(n,["parameters","guidanceScale"],y);const h=d(e,["seed"]);n!==void 0&&h!=null&&p(n,["parameters","seed"],h);const v=d(e,["safetyFilterLevel"]);n!==void 0&&v!=null&&p(n,["parameters","safetySetting"],v);const S=d(e,["personGeneration"]);n!==void 0&&S!=null&&p(n,["parameters","personGeneration"],S);const E=d(e,["includeSafetyAttributes"]);n!==void 0&&E!=null&&p(n,["parameters","includeSafetyAttributes"],E);const b=d(e,["includeRaiReason"]);n!==void 0&&b!=null&&p(n,["parameters","includeRaiReason"],b);const M=d(e,["language"]);n!==void 0&&M!=null&&p(n,["parameters","language"],M);const D=d(e,["outputMimeType"]);n!==void 0&&D!=null&&p(n,["parameters","outputOptions","mimeType"],D);const z=d(e,["outputCompressionQuality"]);n!==void 0&&z!=null&&p(n,["parameters","outputOptions","compressionQuality"],z);const k=d(e,["addWatermark"]);n!==void 0&&k!=null&&p(n,["parameters","addWatermark"],k);const O=d(e,["enhancePrompt"]);return n!==void 0&&O!=null&&p(n,["parameters","enhancePrompt"],O),s}function IA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Kt(o,s));const l=d(e,["prompt"]);l!=null&&p(n,["instances[0]","prompt"],l);const u=d(e,["config"]);return u!=null&&p(n,["config"],UA(o,u,n)),n}function zA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","name"],Kt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function kA(o,e,n){const s={},l=d(e,["displayName"]);n!==void 0&&l!=null&&p(n,["displayName"],l);const u=d(e,["description"]);return n!==void 0&&u!=null&&p(n,["description"],u),s}function OA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Kt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],kA(o,l,n)),n}function qA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","name"],Kt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function GA(o,e,n){const s={},l=d(e,["systemInstruction"]);n!==void 0&&l!=null&&p(n,["systemInstruction"],Do(o,be(o,l)));const u=d(e,["tools"]);if(n!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(y=>Mv(o,y))),p(n,["tools"],m)}const c=d(e,["generationConfig"]);return n!==void 0&&c!=null&&p(n,["generationConfig"],c),s}function HA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Kt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(m=>Do(o,m))),p(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&p(n,["config"],GA(o,u,n)),n}function FA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Kt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(m=>Do(o,m))),p(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&p(n,["config"],u),n}function YA(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&p(n,["gcsUri"],s);const l=d(e,["imageBytes"]);l!=null&&p(n,["bytesBase64Encoded"],si(o,l));const u=d(e,["mimeType"]);return u!=null&&p(n,["mimeType"],u),n}function KA(o,e,n){const s={},l=d(e,["numberOfVideos"]);n!==void 0&&l!=null&&p(n,["parameters","sampleCount"],l);const u=d(e,["outputGcsUri"]);n!==void 0&&u!=null&&p(n,["parameters","storageUri"],u);const c=d(e,["fps"]);n!==void 0&&c!=null&&p(n,["parameters","fps"],c);const m=d(e,["durationSeconds"]);n!==void 0&&m!=null&&p(n,["parameters","durationSeconds"],m);const y=d(e,["seed"]);n!==void 0&&y!=null&&p(n,["parameters","seed"],y);const h=d(e,["aspectRatio"]);n!==void 0&&h!=null&&p(n,["parameters","aspectRatio"],h);const v=d(e,["resolution"]);n!==void 0&&v!=null&&p(n,["parameters","resolution"],v);const S=d(e,["personGeneration"]);n!==void 0&&S!=null&&p(n,["parameters","personGeneration"],S);const E=d(e,["pubsubTopic"]);n!==void 0&&E!=null&&p(n,["parameters","pubsubTopic"],E);const b=d(e,["negativePrompt"]);n!==void 0&&b!=null&&p(n,["parameters","negativePrompt"],b);const M=d(e,["enhancePrompt"]);return n!==void 0&&M!=null&&p(n,["parameters","enhancePrompt"],M),s}function QA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Kt(o,s));const l=d(e,["prompt"]);l!=null&&p(n,["instances[0]","prompt"],l);const u=d(e,["image"]);u!=null&&p(n,["instances[0]","image"],YA(o,u));const c=d(e,["config"]);return c!=null&&p(n,["config"],KA(o,c,n)),n}function XA(o,e){const n={},s=d(e,["thought"]);s!=null&&p(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&p(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&p(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&p(n,["fileData"],c);const m=d(e,["functionCall"]);m!=null&&p(n,["functionCall"],m);const y=d(e,["functionResponse"]);y!=null&&p(n,["functionResponse"],y);const h=d(e,["inlineData"]);h!=null&&p(n,["inlineData"],h);const v=d(e,["text"]);return v!=null&&p(n,["text"],v),n}function ZA(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>XA(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function JA(o,e){const n={},s=d(e,["citationSources"]);return s!=null&&p(n,["citations"],s),n}function $A(o,e){const n={},s=d(e,["content"]);s!=null&&p(n,["content"],ZA(o,s));const l=d(e,["citationMetadata"]);l!=null&&p(n,["citationMetadata"],JA(o,l));const u=d(e,["tokenCount"]);u!=null&&p(n,["tokenCount"],u);const c=d(e,["finishReason"]);c!=null&&p(n,["finishReason"],c);const m=d(e,["avgLogprobs"]);m!=null&&p(n,["avgLogprobs"],m);const y=d(e,["groundingMetadata"]);y!=null&&p(n,["groundingMetadata"],y);const h=d(e,["index"]);h!=null&&p(n,["index"],h);const v=d(e,["logprobsResult"]);v!=null&&p(n,["logprobsResult"],v);const S=d(e,["safetyRatings"]);return S!=null&&p(n,["safetyRatings"],S),n}function wg(o,e){const n={},s=d(e,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(y=>$A(o,y))),p(n,["candidates"],m)}const l=d(e,["modelVersion"]);l!=null&&p(n,["modelVersion"],l);const u=d(e,["promptFeedback"]);u!=null&&p(n,["promptFeedback"],u);const c=d(e,["usageMetadata"]);return c!=null&&p(n,["usageMetadata"],c),n}function WA(o,e){const n={},s=d(e,["values"]);return s!=null&&p(n,["values"],s),n}function jA(){return{}}function tM(o,e){const n={},s=d(e,["embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>WA(o,c))),p(n,["embeddings"],u)}return d(e,["metadata"])!=null&&p(n,["metadata"],jA()),n}function eM(o,e){const n={},s=d(e,["bytesBase64Encoded"]);s!=null&&p(n,["imageBytes"],si(o,s));const l=d(e,["mimeType"]);return l!=null&&p(n,["mimeType"],l),n}function xv(o,e){const n={},s=d(e,["safetyAttributes","categories"]);s!=null&&p(n,["categories"],s);const l=d(e,["safetyAttributes","scores"]);l!=null&&p(n,["scores"],l);const u=d(e,["contentType"]);return u!=null&&p(n,["contentType"],u),n}function nM(o,e){const n={},s=d(e,["_self"]);s!=null&&p(n,["image"],eM(o,s));const l=d(e,["raiFilteredReason"]);l!=null&&p(n,["raiFilteredReason"],l);const u=d(e,["_self"]);return u!=null&&p(n,["safetyAttributes"],xv(o,u)),n}function iM(o,e){const n={},s=d(e,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>nM(o,c))),p(n,["generatedImages"],u)}const l=d(e,["positivePromptSafetyAttributes"]);return l!=null&&p(n,["positivePromptSafetyAttributes"],xv(o,l)),n}function oM(o,e){const n={},s=d(e,["baseModel"]);s!=null&&p(n,["baseModel"],s);const l=d(e,["createTime"]);l!=null&&p(n,["createTime"],l);const u=d(e,["updateTime"]);return u!=null&&p(n,["updateTime"],u),n}function Ng(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["displayName"]);l!=null&&p(n,["displayName"],l);const u=d(e,["description"]);u!=null&&p(n,["description"],u);const c=d(e,["version"]);c!=null&&p(n,["version"],c);const m=d(e,["_self"]);m!=null&&p(n,["tunedModelInfo"],oM(o,m));const y=d(e,["inputTokenLimit"]);y!=null&&p(n,["inputTokenLimit"],y);const h=d(e,["outputTokenLimit"]);h!=null&&p(n,["outputTokenLimit"],h);const v=d(e,["supportedGenerationMethods"]);return v!=null&&p(n,["supportedActions"],v),n}function aM(){return{}}function sM(o,e){const n={},s=d(e,["totalTokens"]);s!=null&&p(n,["totalTokens"],s);const l=d(e,["cachedContentTokenCount"]);return l!=null&&p(n,["cachedContentTokenCount"],l),n}function lM(o,e){const n={},s=d(e,["video","uri"]);s!=null&&p(n,["uri"],s);const l=d(e,["video","encodedVideo"]);l!=null&&p(n,["videoBytes"],si(o,l));const u=d(e,["encoding"]);return u!=null&&p(n,["mimeType"],u),n}function rM(o,e){const n={},s=d(e,["_self"]);return s!=null&&p(n,["video"],lM(o,s)),n}function uM(o,e){const n={},s=d(e,["generatedSamples"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>rM(o,m))),p(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&p(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&p(n,["raiMediaFilteredReasons"],u),n}function cM(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["metadata"]);l!=null&&p(n,["metadata"],l);const u=d(e,["done"]);u!=null&&p(n,["done"],u);const c=d(e,["error"]);c!=null&&p(n,["error"],c);const m=d(e,["response","generateVideoResponse"]);return m!=null&&p(n,["response"],uM(o,m)),n}function fM(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&p(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&p(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&p(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&p(n,["executableCode"],c);const m=d(e,["fileData"]);m!=null&&p(n,["fileData"],m);const y=d(e,["functionCall"]);y!=null&&p(n,["functionCall"],y);const h=d(e,["functionResponse"]);h!=null&&p(n,["functionResponse"],h);const v=d(e,["inlineData"]);v!=null&&p(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&p(n,["text"],S),n}function dM(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>fM(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function hM(o,e){const n={},s=d(e,["citations"]);return s!=null&&p(n,["citations"],s),n}function mM(o,e){const n={},s=d(e,["content"]);s!=null&&p(n,["content"],dM(o,s));const l=d(e,["citationMetadata"]);l!=null&&p(n,["citationMetadata"],hM(o,l));const u=d(e,["finishMessage"]);u!=null&&p(n,["finishMessage"],u);const c=d(e,["finishReason"]);c!=null&&p(n,["finishReason"],c);const m=d(e,["avgLogprobs"]);m!=null&&p(n,["avgLogprobs"],m);const y=d(e,["groundingMetadata"]);y!=null&&p(n,["groundingMetadata"],y);const h=d(e,["index"]);h!=null&&p(n,["index"],h);const v=d(e,["logprobsResult"]);v!=null&&p(n,["logprobsResult"],v);const S=d(e,["safetyRatings"]);return S!=null&&p(n,["safetyRatings"],S),n}function Lg(o,e){const n={},s=d(e,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(v=>mM(o,v))),p(n,["candidates"],h)}const l=d(e,["createTime"]);l!=null&&p(n,["createTime"],l);const u=d(e,["responseId"]);u!=null&&p(n,["responseId"],u);const c=d(e,["modelVersion"]);c!=null&&p(n,["modelVersion"],c);const m=d(e,["promptFeedback"]);m!=null&&p(n,["promptFeedback"],m);const y=d(e,["usageMetadata"]);return y!=null&&p(n,["usageMetadata"],y),n}function pM(o,e){const n={},s=d(e,["truncated"]);s!=null&&p(n,["truncated"],s);const l=d(e,["token_count"]);return l!=null&&p(n,["tokenCount"],l),n}function gM(o,e){const n={},s=d(e,["values"]);s!=null&&p(n,["values"],s);const l=d(e,["statistics"]);return l!=null&&p(n,["statistics"],pM(o,l)),n}function yM(o,e){const n={},s=d(e,["billableCharacterCount"]);return s!=null&&p(n,["billableCharacterCount"],s),n}function vM(o,e){const n={},s=d(e,["predictions[]","embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>gM(o,c))),p(n,["embeddings"],u)}const l=d(e,["metadata"]);return l!=null&&p(n,["metadata"],yM(o,l)),n}function TM(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&p(n,["gcsUri"],s);const l=d(e,["bytesBase64Encoded"]);l!=null&&p(n,["imageBytes"],si(o,l));const u=d(e,["mimeType"]);return u!=null&&p(n,["mimeType"],u),n}function _v(o,e){const n={},s=d(e,["safetyAttributes","categories"]);s!=null&&p(n,["categories"],s);const l=d(e,["safetyAttributes","scores"]);l!=null&&p(n,["scores"],l);const u=d(e,["contentType"]);return u!=null&&p(n,["contentType"],u),n}function SM(o,e){const n={},s=d(e,["_self"]);s!=null&&p(n,["image"],TM(o,s));const l=d(e,["raiFilteredReason"]);l!=null&&p(n,["raiFilteredReason"],l);const u=d(e,["_self"]);u!=null&&p(n,["safetyAttributes"],_v(o,u));const c=d(e,["prompt"]);return c!=null&&p(n,["enhancedPrompt"],c),n}function EM(o,e){const n={},s=d(e,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>SM(o,c))),p(n,["generatedImages"],u)}const l=d(e,["positivePromptSafetyAttributes"]);return l!=null&&p(n,["positivePromptSafetyAttributes"],_v(o,l)),n}function CM(o,e){const n={},s=d(e,["endpoint"]);s!=null&&p(n,["name"],s);const l=d(e,["deployedModelId"]);return l!=null&&p(n,["deployedModelId"],l),n}function bM(o,e){const n={},s=d(e,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&p(n,["baseModel"],s);const l=d(e,["createTime"]);l!=null&&p(n,["createTime"],l);const u=d(e,["updateTime"]);return u!=null&&p(n,["updateTime"],u),n}function Vg(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["displayName"]);l!=null&&p(n,["displayName"],l);const u=d(e,["description"]);u!=null&&p(n,["description"],u);const c=d(e,["versionId"]);c!=null&&p(n,["version"],c);const m=d(e,["deployedModels"]);if(m!=null){let v=m;Array.isArray(v)&&(v=v.map(S=>CM(o,S))),p(n,["endpoints"],v)}const y=d(e,["labels"]);y!=null&&p(n,["labels"],y);const h=d(e,["_self"]);return h!=null&&p(n,["tunedModelInfo"],bM(o,h)),n}function AM(){return{}}function MM(o,e){const n={},s=d(e,["totalTokens"]);return s!=null&&p(n,["totalTokens"],s),n}function xM(o,e){const n={},s=d(e,["tokensInfo"]);return s!=null&&p(n,["tokensInfo"],s),n}function _M(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&p(n,["uri"],s);const l=d(e,["bytesBase64Encoded"]);l!=null&&p(n,["videoBytes"],si(o,l));const u=d(e,["mimeType"]);return u!=null&&p(n,["mimeType"],u),n}function RM(o,e){const n={},s=d(e,["_self"]);return s!=null&&p(n,["video"],_M(o,s)),n}function DM(o,e){const n={},s=d(e,["videos"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>RM(o,m))),p(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&p(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&p(n,["raiMediaFilteredReasons"],u),n}function wM(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["metadata"]);l!=null&&p(n,["metadata"],l);const u=d(e,["done"]);u!=null&&p(n,["done"],u);const c=d(e,["error"]);c!=null&&p(n,["error"],c);const m=d(e,["response"]);return m!=null&&p(n,["response"],DM(o,m)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function LM(o,e,n){let s,l;n.data instanceof Blob?l=JSON.parse(await n.data.text()):l=JSON.parse(n.data),o.isVertexAI()?s=Xb(o,l):s=Qb(o,l),e(s)}class VM{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s}async connect(e){var n,s,l,u;const c=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const h=IM(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())y=`${c}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const K=this.apiClient.getApiKey();y=`${c}/ws/google.ai.generativelanguage.${m}.GenerativeService.BidiGenerateContent?key=${K}`}let v=()=>{};const S=new Promise(K=>{v=K}),E=e.callbacks,b=function(){var K;(K=E==null?void 0:E.onopen)===null||K===void 0||K.call(E),v({})},M=this.apiClient,D={onopen:b,onmessage:K=>{LM(M,E.onmessage,K)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(K){},onclose:(s=E==null?void 0:E.onclose)!==null&&s!==void 0?s:function(K){}},z=this.webSocketFactory.create(y,UM(h),D);z.connect(),await S;let k=Kt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const K=this.apiClient.getProject(),w=this.apiClient.getLocation();k=`projects/${K}/locations/${w}/`+k}let O={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Pl.AUDIO]}:e.config.responseModalities=[Pl.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const V={model:k,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?O=Sb(this.apiClient,V):O=Tb(this.apiClient,V),delete O.config,z.send(JSON.stringify(O)),new BM(z,this.apiClient)}}const PM={turnComplete:!0};class BM{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let s=[];try{s=oi(e,n.turns),e.isVertexAI()?s=s.map(l=>Do(e,l)):s=s.map(l=>Kl(e,l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:s,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let s=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?s=n.functionResponses:s=[n.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(NM)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},PM),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:xb(this.apiClient,e)}:n={realtimeInput:Mb(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function UM(o){const e={};return o.forEach((n,s)=>{e[s]=n}),e}function IM(o){const e=new Headers;for(const[n,s]of Object.entries(o))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zM extends Wa{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(s=>{var l;let u;const c=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((l=y==null?void 0:y.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:c.push(y);let m;return u?m={generatedImages:c,positivePromptSafetyAttributes:u}:m={generatedImages:c},m})}async generateContentInternal(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=Dg(this.apiClient,e);return m=gt("{model}:generateContent",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=Lg(this.apiClient,v),E=new vl;return Object.assign(E,S),E})}else{const h=Rg(this.apiClient,e);return m=gt("{model}:generateContent",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=wg(this.apiClient,v),E=new vl;return Object.assign(E,S),E})}}async generateContentStreamInternal(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=Dg(this.apiClient,e);m=gt("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h.config,delete h._url,delete h._query;const v=this.apiClient;return c=v.requestStream({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(S){return Bl(this,arguments,function*(){var E,b,M,D;try{for(var z=!0,k=Uc(S),O;O=yield me(k.next()),E=O.done,!E;z=!0){D=O.value,z=!1;const K=Lg(v,yield me(D.json())),w=new vl;Object.assign(w,K),yield yield me(w)}}catch(V){b={error:V}}finally{try{!z&&!E&&(M=k.return)&&(yield me(M.call(k)))}finally{if(b)throw b.error}}})})}else{const h=Rg(this.apiClient,e);m=gt("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h.config,delete h._url,delete h._query;const v=this.apiClient;return c=v.requestStream({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),c.then(function(S){return Bl(this,arguments,function*(){var E,b,M,D;try{for(var z=!0,k=Uc(S),O;O=yield me(k.next()),E=O.done,!E;z=!0){D=O.value,z=!1;const K=wg(v,yield me(D.json())),w=new vl;Object.assign(w,K),yield yield me(w)}}catch(V){b={error:V}}finally{try{!z&&!E&&(M=k.return)&&(yield me(M.call(k)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=BA(this.apiClient,e);return m=gt("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=vM(this.apiClient,v),E=new yg;return Object.assign(E,S),E})}else{const h=uA(this.apiClient,e);return m=gt("{model}:batchEmbedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=tM(this.apiClient,v),E=new yg;return Object.assign(E,S),E})}}async generateImagesInternal(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=IA(this.apiClient,e);return m=gt("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=EM(this.apiClient,v),E=new vg;return Object.assign(E,S),E})}else{const h=fA(this.apiClient,e);return m=gt("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=iM(this.apiClient,v),E=new vg;return Object.assign(E,S),E})}}async get(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=zA(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Vg(this.apiClient,v))}else{const h=dA(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Ng(this.apiClient,v))}}async update(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=OA(this.apiClient,e);return m=gt("{model}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Vg(this.apiClient,v))}else{const h=mA(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Ng(this.apiClient,v))}}async delete(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=qA(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(()=>{const v=AM(),S=new Tg;return Object.assign(S,v),S})}else{const h=pA(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(()=>{const v=aM(),S=new Tg;return Object.assign(S,v),S})}}async countTokens(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=HA(this.apiClient,e);return m=gt("{model}:countTokens",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=MM(this.apiClient,v),E=new Sg;return Object.assign(E,S),E})}else{const h=yA(this.apiClient,e);return m=gt("{model}:countTokens",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=sM(this.apiClient,v),E=new Sg;return Object.assign(E,S),E})}}async computeTokens(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const m=FA(this.apiClient,e);return u=gt("{model}:computeTokens",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const h=xM(this.apiClient,y),v=new xC;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=QA(this.apiClient,e);return m=gt("{model}:predictLongRunning",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>wM(this.apiClient,v))}else{const h=SA(this.apiClient,e);return m=gt("{model}:predictLongRunning",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>cM(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kM(o,e){const n={},s=d(e,["operationName"]);s!=null&&p(n,["_url","operationName"],s);const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function OM(o,e){const n={},s=d(e,["operationName"]);s!=null&&p(n,["_url","operationName"],s);const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function qM(o,e){const n={},s=d(e,["operationName"]);s!=null&&p(n,["operationName"],s);const l=d(e,["resourceName"]);l!=null&&p(n,["_url","resourceName"],l);const u=d(e,["config"]);return u!=null&&p(n,["config"],u),n}function GM(o,e){const n={},s=d(e,["video","uri"]);s!=null&&p(n,["uri"],s);const l=d(e,["video","encodedVideo"]);l!=null&&p(n,["videoBytes"],si(o,l));const u=d(e,["encoding"]);return u!=null&&p(n,["mimeType"],u),n}function HM(o,e){const n={},s=d(e,["_self"]);return s!=null&&p(n,["video"],GM(o,s)),n}function FM(o,e){const n={},s=d(e,["generatedSamples"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>HM(o,m))),p(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&p(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&p(n,["raiMediaFilteredReasons"],u),n}function YM(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["metadata"]);l!=null&&p(n,["metadata"],l);const u=d(e,["done"]);u!=null&&p(n,["done"],u);const c=d(e,["error"]);c!=null&&p(n,["error"],c);const m=d(e,["response","generateVideoResponse"]);return m!=null&&p(n,["response"],FM(o,m)),n}function KM(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&p(n,["uri"],s);const l=d(e,["bytesBase64Encoded"]);l!=null&&p(n,["videoBytes"],si(o,l));const u=d(e,["mimeType"]);return u!=null&&p(n,["mimeType"],u),n}function QM(o,e){const n={},s=d(e,["_self"]);return s!=null&&p(n,["video"],KM(o,s)),n}function XM(o,e){const n={},s=d(e,["videos"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>QM(o,m))),p(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&p(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&p(n,["raiMediaFilteredReasons"],u),n}function Pg(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["metadata"]);l!=null&&p(n,["metadata"],l);const u=d(e,["done"]);u!=null&&p(n,["done"],u);const c=d(e,["error"]);c!=null&&p(n,["error"],c);const m=d(e,["response"]);return m!=null&&p(n,["response"],XM(o,m)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZM extends Wa{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let u;return s&&"httpOptions"in s&&(u=s.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:u}})}else return this.getVideosOperationInternal({operationName:n.name,config:s})}async getVideosOperationInternal(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=OM(this.apiClient,e);return m=gt("{operationName}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Pg(this.apiClient,v))}else{const h=kM(this.apiClient,e);return m=gt("{operationName}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>YM(this.apiClient,v))}}async fetchPredictVideosOperationInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const m=qM(this.apiClient,e);return u=gt("{resourceName}:fetchPredictOperation",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>Pg(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JM="Content-Type",$M="X-Server-Timeout",WM="User-Agent",jM="x-goog-api-client",tx="0.12.0",ex=`google-genai-sdk/${tx}`,nx="v1beta1",ix="v1beta",Bg=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Rv extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class zc extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class ox{constructor(e){var n,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:nx,this.getProject()||this.getLocation()?(l.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(l.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(l.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:ix,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,s){const l=[this.getRequestUrlInternal(n)];return s&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,s);if(e.queryParams)for(const[c,m]of Object.entries(e.queryParams))l.searchParams.append(c,String(m));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,n,e.abortSignal),this.unaryApiCall(l,u,e.httpMethod)}patchHttpOptions(e,n){const s=JSON.parse(JSON.stringify(e));for(const[l,u]of Object.entries(n))typeof u=="object"?s[l]=Object.assign(Object.assign({},s[l]),u):u!==void 0&&(s[l]=u);return s}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,s);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,n,e.abortSignal),this.streamApiCall(l,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,s){if(n&&n.timeout||s){const l=new AbortController,u=l.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>l.abort(),n.timeout),s&&s.addEventListener("abort",()=>{l.abort()}),e.signal=u}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async l=>(await Ug(l),new Bc(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async l=>(await Ug(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var n;return Bl(this,arguments,function*(){const l=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),u=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let c="";for(;;){const{done:m,value:y}=yield me(l.read());if(m){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=u.decode(y);try{const S=JSON.parse(h);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),b=E.status,M=E.code,D=`got status: ${b}. ${JSON.stringify(S)}`;if(M>=400&&M<500)throw new Rv(D);if(M>=500&&M<600)throw new zc(D)}}catch(S){const E=S;if(E.name==="ClientError"||E.name==="ServerError")throw S}c+=h;let v=c.match(Bg);for(;v;){const S=v[1];try{const E=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield me(new Bc(E)),c=c.slice(v[0].length),v=c.match(Bg)}catch(E){throw new Error(`exception parsing stream chunk ${S}. ${E}`)}}}}finally{l.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},n=ex+" "+this.clientOptions.userAgentExtra;return e[WM]=n,e[jM]=n,e[JM]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[s,l]of Object.entries(e.headers))n.append(s,l);e.timeout&&e.timeout>0&&n.append($M,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var s;const l={};n!=null&&(l.mimeType=n.mimeType,l.name=n.name,l.displayName=n.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const u=this.clientOptions.uploader,c=await u.stat(e);l.sizeBytes=String(c.size);const m=(s=n==null?void 0:n.mimeType)!==null&&s!==void 0?s:c.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=m;const y=await this.fetchUploadUrl(l,n);return u.upload(e,y,this)}async fetchUploadUrl(e,n){var s;let l={};n!=null&&n.httpOptions?l=n.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const u={file:e},c=await this.request({path:gt("upload/v1beta/files",u._url),body:JSON.stringify(u),httpMethod:"POST",httpOptions:l});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(s=c==null?void 0:c.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function Ug(o){var e;if(o===void 0)throw new zc("response is undefined");if(!o.ok){const n=o.status,s=o.statusText;let l;!((e=o.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await o.json():l={error:{message:await o.text(),code:o.status,status:o.statusText}};const u=`got status: ${n} ${s}. ${JSON.stringify(l)}`;throw n>=400&&n<500?new Rv(u):n>=500&&n<600?new zc(u):new Error(u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ax(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],s);const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function sx(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&p(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);n!==void 0&&u!=null&&p(n,["_query","pageToken"],u);const c=d(e,["filter"]);return n!==void 0&&c!=null&&p(n,["_query","filter"],c),s}function lx(o,e){const n={},s=d(e,["config"]);return s!=null&&p(n,["config"],sx(o,s,n)),n}function rx(o,e){const n={},s=d(e,["textInput"]);s!=null&&p(n,["textInput"],s);const l=d(e,["output"]);return l!=null&&p(n,["output"],l),n}function ux(o,e){const n={};if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=d(e,["examples"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>rx(o,u))),p(n,["examples","examples"],l)}return n}function cx(o,e,n){const s={};if(d(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=d(e,["tunedModelDisplayName"]);if(n!==void 0&&l!=null&&p(n,["displayName"],l),d(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=d(e,["epochCount"]);n!==void 0&&u!=null&&p(n,["tuningTask","hyperparameters","epochCount"],u);const c=d(e,["learningRateMultiplier"]);if(c!=null&&p(s,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=d(e,["batchSize"]);n!==void 0&&m!=null&&p(n,["tuningTask","hyperparameters","batchSize"],m);const y=d(e,["learningRate"]);return n!==void 0&&y!=null&&p(n,["tuningTask","hyperparameters","learningRate"],y),s}function fx(o,e){const n={},s=d(e,["baseModel"]);s!=null&&p(n,["baseModel"],s);const l=d(e,["trainingDataset"]);l!=null&&p(n,["tuningTask","trainingData"],ux(o,l));const u=d(e,["config"]);return u!=null&&p(n,["config"],cx(o,u,n)),n}function dx(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],s);const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function hx(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&p(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);n!==void 0&&u!=null&&p(n,["_query","pageToken"],u);const c=d(e,["filter"]);return n!==void 0&&c!=null&&p(n,["_query","filter"],c),s}function mx(o,e){const n={},s=d(e,["config"]);return s!=null&&p(n,["config"],hx(o,s,n)),n}function px(o,e,n){const s={},l=d(e,["gcsUri"]);if(n!==void 0&&l!=null&&p(n,["supervisedTuningSpec","trainingDatasetUri"],l),d(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function gx(o,e){const n={},s=d(e,["gcsUri"]);return s!=null&&p(n,["validationDatasetUri"],s),n}function yx(o,e,n){const s={},l=d(e,["validationDataset"]);n!==void 0&&l!=null&&p(n,["supervisedTuningSpec"],gx(o,l));const u=d(e,["tunedModelDisplayName"]);n!==void 0&&u!=null&&p(n,["tunedModelDisplayName"],u);const c=d(e,["description"]);n!==void 0&&c!=null&&p(n,["description"],c);const m=d(e,["epochCount"]);n!==void 0&&m!=null&&p(n,["supervisedTuningSpec","hyperParameters","epochCount"],m);const y=d(e,["learningRateMultiplier"]);n!==void 0&&y!=null&&p(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const h=d(e,["adapterSize"]);if(n!==void 0&&h!=null&&p(n,["supervisedTuningSpec","hyperParameters","adapterSize"],h),d(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return s}function vx(o,e){const n={},s=d(e,["baseModel"]);s!=null&&p(n,["baseModel"],s);const l=d(e,["trainingDataset"]);l!=null&&p(n,["supervisedTuningSpec","trainingDatasetUri"],px(o,l,n));const u=d(e,["config"]);return u!=null&&p(n,["config"],yx(o,u,n)),n}function Tx(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["model"],s);const l=d(e,["name"]);return l!=null&&p(n,["endpoint"],l),n}function Dv(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["state"]);l!=null&&p(n,["state"],Cv(o,l));const u=d(e,["createTime"]);u!=null&&p(n,["createTime"],u);const c=d(e,["tuningTask","startTime"]);c!=null&&p(n,["startTime"],c);const m=d(e,["tuningTask","completeTime"]);m!=null&&p(n,["endTime"],m);const y=d(e,["updateTime"]);y!=null&&p(n,["updateTime"],y);const h=d(e,["description"]);h!=null&&p(n,["description"],h);const v=d(e,["baseModel"]);v!=null&&p(n,["baseModel"],v);const S=d(e,["_self"]);S!=null&&p(n,["tunedModel"],Tx(o,S));const E=d(e,["distillationSpec"]);E!=null&&p(n,["distillationSpec"],E);const b=d(e,["experiment"]);b!=null&&p(n,["experiment"],b);const M=d(e,["labels"]);M!=null&&p(n,["labels"],M);const D=d(e,["pipelineJob"]);D!=null&&p(n,["pipelineJob"],D);const z=d(e,["tunedModelDisplayName"]);return z!=null&&p(n,["tunedModelDisplayName"],z),n}function Sx(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&p(n,["nextPageToken"],s);const l=d(e,["tunedModels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Dv(o,c))),p(n,["tuningJobs"],u)}return n}function Ex(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["metadata"]);l!=null&&p(n,["metadata"],l);const u=d(e,["done"]);u!=null&&p(n,["done"],u);const c=d(e,["error"]);return c!=null&&p(n,["error"],c),n}function Cx(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["model"],s);const l=d(e,["endpoint"]);return l!=null&&p(n,["endpoint"],l),n}function kc(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["state"]);l!=null&&p(n,["state"],Cv(o,l));const u=d(e,["createTime"]);u!=null&&p(n,["createTime"],u);const c=d(e,["startTime"]);c!=null&&p(n,["startTime"],c);const m=d(e,["endTime"]);m!=null&&p(n,["endTime"],m);const y=d(e,["updateTime"]);y!=null&&p(n,["updateTime"],y);const h=d(e,["error"]);h!=null&&p(n,["error"],h);const v=d(e,["description"]);v!=null&&p(n,["description"],v);const S=d(e,["baseModel"]);S!=null&&p(n,["baseModel"],S);const E=d(e,["tunedModel"]);E!=null&&p(n,["tunedModel"],Cx(o,E));const b=d(e,["supervisedTuningSpec"]);b!=null&&p(n,["supervisedTuningSpec"],b);const M=d(e,["tuningDataStats"]);M!=null&&p(n,["tuningDataStats"],M);const D=d(e,["encryptionSpec"]);D!=null&&p(n,["encryptionSpec"],D);const z=d(e,["partnerModelTuningSpec"]);z!=null&&p(n,["partnerModelTuningSpec"],z);const k=d(e,["distillationSpec"]);k!=null&&p(n,["distillationSpec"],k);const O=d(e,["experiment"]);O!=null&&p(n,["experiment"],O);const V=d(e,["labels"]);V!=null&&p(n,["labels"],V);const K=d(e,["pipelineJob"]);K!=null&&p(n,["pipelineJob"],K);const w=d(e,["tunedModelDisplayName"]);return w!=null&&p(n,["tunedModelDisplayName"],w),n}function bx(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&p(n,["nextPageToken"],s);const l=d(e,["tuningJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>kc(o,c))),p(n,["tuningJobs"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ax extends Wa{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new uf(Fa.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const s=await this.tuneMldevInternal(n);let l="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?l=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(l=s.name.split("/operations/")[0]),{name:l,state:Pc.JOB_STATE_QUEUED}}}}async getInternal(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=dx(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>kc(this.apiClient,v))}else{const h=ax(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Dv(this.apiClient,v))}}async listInternal(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=mx(this.apiClient,e);return m=gt("tuningJobs",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=bx(this.apiClient,v),E=new Eg;return Object.assign(E,S),E})}else{const h=lx(this.apiClient,e);return m=gt("tunedModels",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=Sx(this.apiClient,v),E=new Eg;return Object.assign(E,S),E})}}async tuneInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const m=vx(this.apiClient,e);return u=gt("tuningJobs",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>kc(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=fx(this.apiClient,e);return u=gt("tunedModels",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>Ex(this.apiClient,y))}}}const Mx=1024*1024*8;async function xx(o,e,n){var s,l;let u=0,c=0,m=new Bc(new Response),y="upload";for(u=o.size;c<u;){const v=Math.min(Mx,u-c),S=o.slice(c,c+v);if(c+v>=u&&(y+=", finalize"),m=await n.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(c),"Content-Length":String(v)}}}),c+=v,((s=m==null?void 0:m.headers)===null||s===void 0?void 0:s["x-goog-upload-status"])!=="active")break;if(u<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(m==null?void 0:m.json());if(((l=m==null?void 0:m.headers)===null||l===void 0?void 0:l["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function _x(o){return{size:o.size,type:o.type}}class Rx{async upload(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await xx(e,n,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _x(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dx{create(e,n,s){return new wx(e,n,s)}}class wx{constructor(e,n,s){this.url=e,this.headers=n,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ig="x-goog-api-key";class Nx{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(Ig)===null&&e.append(Ig,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lx="gl-node/";class Vx{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const s=GE(e,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion;const l=new Nx(this.apiKey);this.apiClient=new ox({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Lx+"web",uploader:new Rx}),this.models=new zM(this.apiClient),this.live=new VM(this.apiClient,l,new Dx),this.chats=new PC(this.models,this.apiClient),this.caches=new wC(this.apiClient),this.files=new QC(this.apiClient),this.operations=new ZM(this.apiClient),this.tunings=new Ax(this.apiClient)}}var dc={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg;function Px(){if(zg)return vt;zg=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function E(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,D={};function z(x,Q,et){this.props=x,this.context=Q,this.refs=D,this.updater=et||b}z.prototype.isReactComponent={},z.prototype.setState=function(x,Q){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Q,"setState")},z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function k(){}k.prototype=z.prototype;function O(x,Q,et){this.props=x,this.context=Q,this.refs=D,this.updater=et||b}var V=O.prototype=new k;V.constructor=O,M(V,z.prototype),V.isPureReactComponent=!0;var K=Array.isArray,w={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function Z(x,Q,et,W,lt,xt){return et=xt.ref,{$$typeof:o,type:x,key:Q,ref:et!==void 0?et:null,props:xt}}function q(x,Q){return Z(x.type,Q,void 0,void 0,void 0,x.props)}function st(x){return typeof x=="object"&&x!==null&&x.$$typeof===o}function at(x){var Q={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(et){return Q[et]})}var pt=/\/+/g;function yt(x,Q){return typeof x=="object"&&x!==null&&x.key!=null?at(""+x.key):Q.toString(36)}function St(){}function J(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(St,St):(x.status="pending",x.then(function(Q){x.status==="pending"&&(x.status="fulfilled",x.value=Q)},function(Q){x.status==="pending"&&(x.status="rejected",x.reason=Q)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function tt(x,Q,et,W,lt){var xt=typeof x;(xt==="undefined"||xt==="boolean")&&(x=null);var mt=!1;if(x===null)mt=!0;else switch(xt){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(x.$$typeof){case o:case e:mt=!0;break;case v:return mt=x._init,tt(mt(x._payload),Q,et,W,lt)}}if(mt)return lt=lt(x),mt=W===""?"."+yt(x,0):W,K(lt)?(et="",mt!=null&&(et=mt.replace(pt,"$&/")+"/"),tt(lt,Q,et,"",function(wn){return wn})):lt!=null&&(st(lt)&&(lt=q(lt,et+(lt.key==null||x&&x.key===lt.key?"":(""+lt.key).replace(pt,"$&/")+"/")+mt)),Q.push(lt)),1;mt=0;var Me=W===""?".":W+":";if(K(x))for(var It=0;It<x.length;It++)W=x[It],xt=Me+yt(W,It),mt+=tt(W,Q,et,xt,lt);else if(It=E(x),typeof It=="function")for(x=It.call(x),It=0;!(W=x.next()).done;)W=W.value,xt=Me+yt(W,It++),mt+=tt(W,Q,et,xt,lt);else if(xt==="object"){if(typeof x.then=="function")return tt(J(x),Q,et,W,lt);throw Q=String(x),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return mt}function B(x,Q,et){if(x==null)return x;var W=[],lt=0;return tt(x,W,"","",function(xt){return Q.call(et,xt,lt++)}),W}function F(x){if(x._status===-1){var Q=x._result;Q=Q(),Q.then(function(et){(x._status===0||x._status===-1)&&(x._status=1,x._result=et)},function(et){(x._status===0||x._status===-1)&&(x._status=2,x._result=et)}),x._status===-1&&(x._status=0,x._result=Q)}if(x._status===1)return x._result.default;throw x._result}var $=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function ht(){}return vt.Children={map:B,forEach:function(x,Q,et){B(x,function(){Q.apply(this,arguments)},et)},count:function(x){var Q=0;return B(x,function(){Q++}),Q},toArray:function(x){return B(x,function(Q){return Q})||[]},only:function(x){if(!st(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},vt.Component=z,vt.Fragment=n,vt.Profiler=l,vt.PureComponent=O,vt.StrictMode=s,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,vt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return w.H.useMemoCache(x)}},vt.cache=function(x){return function(){return x.apply(null,arguments)}},vt.cloneElement=function(x,Q,et){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var W=M({},x.props),lt=x.key,xt=void 0;if(Q!=null)for(mt in Q.ref!==void 0&&(xt=void 0),Q.key!==void 0&&(lt=""+Q.key),Q)!X.call(Q,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&Q.ref===void 0||(W[mt]=Q[mt]);var mt=arguments.length-2;if(mt===1)W.children=et;else if(1<mt){for(var Me=Array(mt),It=0;It<mt;It++)Me[It]=arguments[It+2];W.children=Me}return Z(x.type,lt,void 0,void 0,xt,W)},vt.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},vt.createElement=function(x,Q,et){var W,lt={},xt=null;if(Q!=null)for(W in Q.key!==void 0&&(xt=""+Q.key),Q)X.call(Q,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(lt[W]=Q[W]);var mt=arguments.length-2;if(mt===1)lt.children=et;else if(1<mt){for(var Me=Array(mt),It=0;It<mt;It++)Me[It]=arguments[It+2];lt.children=Me}if(x&&x.defaultProps)for(W in mt=x.defaultProps,mt)lt[W]===void 0&&(lt[W]=mt[W]);return Z(x,xt,void 0,void 0,null,lt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(x){return{$$typeof:m,render:x}},vt.isValidElement=st,vt.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:F}},vt.memo=function(x,Q){return{$$typeof:h,type:x,compare:Q===void 0?null:Q}},vt.startTransition=function(x){var Q=w.T,et={};w.T=et;try{var W=x(),lt=w.S;lt!==null&&lt(et,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(ht,$)}catch(xt){$(xt)}finally{w.T=Q}},vt.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},vt.use=function(x){return w.H.use(x)},vt.useActionState=function(x,Q,et){return w.H.useActionState(x,Q,et)},vt.useCallback=function(x,Q){return w.H.useCallback(x,Q)},vt.useContext=function(x){return w.H.useContext(x)},vt.useDebugValue=function(){},vt.useDeferredValue=function(x,Q){return w.H.useDeferredValue(x,Q)},vt.useEffect=function(x,Q,et){var W=w.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(x,Q)},vt.useId=function(){return w.H.useId()},vt.useImperativeHandle=function(x,Q,et){return w.H.useImperativeHandle(x,Q,et)},vt.useInsertionEffect=function(x,Q){return w.H.useInsertionEffect(x,Q)},vt.useLayoutEffect=function(x,Q){return w.H.useLayoutEffect(x,Q)},vt.useMemo=function(x,Q){return w.H.useMemo(x,Q)},vt.useOptimistic=function(x,Q){return w.H.useOptimistic(x,Q)},vt.useReducer=function(x,Q,et){return w.H.useReducer(x,Q,et)},vt.useRef=function(x){return w.H.useRef(x)},vt.useState=function(x){return w.H.useState(x)},vt.useSyncExternalStore=function(x,Q,et){return w.H.useSyncExternalStore(x,Q,et)},vt.useTransition=function(){return w.H.useTransition()},vt.version="19.1.1",vt}var kg;function cf(){return kg||(kg=1,dc.exports=Px()),dc.exports}var j=cf(),hc={exports:{}},Na={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og;function Bx(){if(Og)return Na;Og=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:o,type:s,key:c,ref:l!==void 0?l:null,props:u}}return Na.Fragment=e,Na.jsx=n,Na.jsxs=n,Na}var qg;function Ux(){return qg||(qg=1,hc.exports=Bx()),hc.exports}var Ut=Ux();const ff=j.createContext({});function df(o){const e=j.useRef(null);return e.current===null&&(e.current=o()),e.current}const hf=typeof window<"u",wv=hf?j.useLayoutEffect:j.useEffect,Ql=j.createContext(null);function mf(o,e){o.indexOf(e)===-1&&o.push(e)}function pf(o,e){const n=o.indexOf(e);n>-1&&o.splice(n,1)}const Rn=(o,e,n)=>n>e?e:n<o?o:n;let gf=()=>{};const Dn={},Nv=o=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(o);function Lv(o){return typeof o=="object"&&o!==null}const Vv=o=>/^0[^.\s]+$/u.test(o);function yf(o){let e;return()=>(e===void 0&&(e=o()),e)}const Qe=o=>o,Ix=(o,e)=>n=>e(o(n)),ja=(...o)=>o.reduce(Ix),Ya=(o,e,n)=>{const s=e-o;return s===0?1:(n-o)/s};class vf{constructor(){this.subscriptions=[]}add(e){return mf(this.subscriptions,e),()=>pf(this.subscriptions,e)}notify(e,n,s){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](e,n,s);else for(let u=0;u<l;u++){const c=this.subscriptions[u];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rn=o=>o*1e3,un=o=>o/1e3;function Pv(o,e){return e?o*(1e3/e):0}const Bv=(o,e,n)=>(((1-3*n+3*e)*o+(3*n-6*e))*o+3*e)*o,zx=1e-7,kx=12;function Ox(o,e,n,s,l){let u,c,m=0;do c=e+(n-e)/2,u=Bv(c,s,l)-o,u>0?n=c:e=c;while(Math.abs(u)>zx&&++m<kx);return c}function ts(o,e,n,s){if(o===e&&n===s)return Qe;const l=u=>Ox(u,0,1,o,n);return u=>u===0||u===1?u:Bv(l(u),e,s)}const Uv=o=>e=>e<=.5?o(2*e)/2:(2-o(2*(1-e)))/2,Iv=o=>e=>1-o(1-e),zv=ts(.33,1.53,.69,.99),Tf=Iv(zv),kv=Uv(Tf),Ov=o=>(o*=2)<1?.5*Tf(o):.5*(2-Math.pow(2,-10*(o-1))),Sf=o=>1-Math.sin(Math.acos(o)),qv=Iv(Sf),Gv=Uv(Sf),qx=ts(.42,0,1,1),Gx=ts(0,0,.58,1),Hv=ts(.42,0,.58,1),Hx=o=>Array.isArray(o)&&typeof o[0]!="number",Fv=o=>Array.isArray(o)&&typeof o[0]=="number",Fx={linear:Qe,easeIn:qx,easeInOut:Hv,easeOut:Gx,circIn:Sf,circInOut:Gv,circOut:qv,backIn:Tf,backInOut:kv,backOut:zv,anticipate:Ov},Yx=o=>typeof o=="string",Gg=o=>{if(Fv(o)){gf(o.length===4);const[e,n,s,l]=o;return ts(e,n,s,l)}else if(Yx(o))return Fx[o];return o},El=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Kx(o,e){let n=new Set,s=new Set,l=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function y(v){c.has(v)&&(h.schedule(v),o()),v(m)}const h={schedule:(v,S=!1,E=!1)=>{const M=E&&l?n:s;return S&&c.add(v),M.has(v)||M.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(m=v,l){u=!0;return}l=!0,[n,s]=[s,n],n.forEach(y),n.clear(),l=!1,u&&(u=!1,h.process(v))}};return h}const Qx=40;function Yv(o,e){let n=!1,s=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=El.reduce((V,K)=>(V[K]=Kx(u),V),{}),{setup:m,read:y,resolveKeyframes:h,preUpdate:v,update:S,preRender:E,render:b,postRender:M}=c,D=()=>{const V=Dn.useManualTiming?l.timestamp:performance.now();n=!1,Dn.useManualTiming||(l.delta=s?1e3/60:Math.max(Math.min(V-l.timestamp,Qx),1)),l.timestamp=V,l.isProcessing=!0,m.process(l),y.process(l),h.process(l),v.process(l),S.process(l),E.process(l),b.process(l),M.process(l),l.isProcessing=!1,n&&e&&(s=!1,o(D))},z=()=>{n=!0,s=!0,l.isProcessing||o(D)};return{schedule:El.reduce((V,K)=>{const w=c[K];return V[K]=(X,Z=!1,q=!1)=>(n||z(),w.schedule(X,Z,q)),V},{}),cancel:V=>{for(let K=0;K<El.length;K++)c[El[K]].cancel(V)},state:l,steps:c}}const{schedule:Ot,cancel:ni,state:ue,steps:mc}=Yv(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qe,!0);let Dl;function Xx(){Dl=void 0}const Ae={now:()=>(Dl===void 0&&Ae.set(ue.isProcessing||Dn.useManualTiming?ue.timestamp:performance.now()),Dl),set:o=>{Dl=o,queueMicrotask(Xx)}},Kv=o=>e=>typeof e=="string"&&e.startsWith(o),Ef=Kv("--"),Zx=Kv("var(--"),Cf=o=>Zx(o)?Jx.test(o.split("/*")[0].trim()):!1,Jx=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wo={test:o=>typeof o=="number",parse:parseFloat,transform:o=>o},Ka={...wo,transform:o=>Rn(0,1,o)},Cl={...wo,default:1},za=o=>Math.round(o*1e5)/1e5,bf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $x(o){return o==null}const Wx=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Af=(o,e)=>n=>!!(typeof n=="string"&&Wx.test(n)&&n.startsWith(o)||e&&!$x(n)&&Object.prototype.hasOwnProperty.call(n,e)),Qv=(o,e,n)=>s=>{if(typeof s!="string")return s;const[l,u,c,m]=s.match(bf);return{[o]:parseFloat(l),[e]:parseFloat(u),[n]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},jx=o=>Rn(0,255,o),pc={...wo,transform:o=>Math.round(jx(o))},Di={test:Af("rgb","red"),parse:Qv("red","green","blue"),transform:({red:o,green:e,blue:n,alpha:s=1})=>"rgba("+pc.transform(o)+", "+pc.transform(e)+", "+pc.transform(n)+", "+za(Ka.transform(s))+")"};function t1(o){let e="",n="",s="",l="";return o.length>5?(e=o.substring(1,3),n=o.substring(3,5),s=o.substring(5,7),l=o.substring(7,9)):(e=o.substring(1,2),n=o.substring(2,3),s=o.substring(3,4),l=o.substring(4,5),e+=e,n+=n,s+=s,l+=l),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:l?parseInt(l,16)/255:1}}const Oc={test:Af("#"),parse:t1,transform:Di.transform},es=o=>({test:e=>typeof e=="string"&&e.endsWith(o)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${o}`}),ei=es("deg"),cn=es("%"),dt=es("px"),e1=es("vh"),n1=es("vw"),Hg={...cn,parse:o=>cn.parse(o)/100,transform:o=>cn.transform(o*100)},Eo={test:Af("hsl","hue"),parse:Qv("hue","saturation","lightness"),transform:({hue:o,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(o)+", "+cn.transform(za(e))+", "+cn.transform(za(n))+", "+za(Ka.transform(s))+")"},jt={test:o=>Di.test(o)||Oc.test(o)||Eo.test(o),parse:o=>Di.test(o)?Di.parse(o):Eo.test(o)?Eo.parse(o):Oc.parse(o),transform:o=>typeof o=="string"?o:o.hasOwnProperty("red")?Di.transform(o):Eo.transform(o),getAnimatableNone:o=>{const e=jt.parse(o);return e.alpha=0,jt.transform(e)}},i1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function o1(o){var e,n;return isNaN(o)&&typeof o=="string"&&(((e=o.match(bf))==null?void 0:e.length)||0)+(((n=o.match(i1))==null?void 0:n.length)||0)>0}const Xv="number",Zv="color",a1="var",s1="var(",Fg="${}",l1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qa(o){const e=o.toString(),n=[],s={color:[],number:[],var:[]},l=[];let u=0;const m=e.replace(l1,y=>(jt.test(y)?(s.color.push(u),l.push(Zv),n.push(jt.parse(y))):y.startsWith(s1)?(s.var.push(u),l.push(a1),n.push(y)):(s.number.push(u),l.push(Xv),n.push(parseFloat(y))),++u,Fg)).split(Fg);return{values:n,split:m,indexes:s,types:l}}function Jv(o){return Qa(o).values}function $v(o){const{split:e,types:n}=Qa(o),s=e.length;return l=>{let u="";for(let c=0;c<s;c++)if(u+=e[c],l[c]!==void 0){const m=n[c];m===Xv?u+=za(l[c]):m===Zv?u+=jt.transform(l[c]):u+=l[c]}return u}}const r1=o=>typeof o=="number"?0:jt.test(o)?jt.getAnimatableNone(o):o;function u1(o){const e=Jv(o);return $v(o)(e.map(r1))}const ii={test:o1,parse:Jv,createTransformer:$v,getAnimatableNone:u1};function gc(o,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?o+(e-o)*6*n:n<1/2?e:n<2/3?o+(e-o)*(2/3-n)*6:o}function c1({hue:o,saturation:e,lightness:n,alpha:s}){o/=360,e/=100,n/=100;let l=0,u=0,c=0;if(!e)l=u=c=n;else{const m=n<.5?n*(1+e):n+e-n*e,y=2*n-m;l=gc(y,m,o+1/3),u=gc(y,m,o),c=gc(y,m,o-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function Ul(o,e){return n=>n>0?e:o}const Gt=(o,e,n)=>o+(e-o)*n,yc=(o,e,n)=>{const s=o*o,l=n*(e*e-s)+s;return l<0?0:Math.sqrt(l)},f1=[Oc,Di,Eo],d1=o=>f1.find(e=>e.test(o));function Yg(o){const e=d1(o);if(!e)return!1;let n=e.parse(o);return e===Eo&&(n=c1(n)),n}const Kg=(o,e)=>{const n=Yg(o),s=Yg(e);if(!n||!s)return Ul(o,e);const l={...n};return u=>(l.red=yc(n.red,s.red,u),l.green=yc(n.green,s.green,u),l.blue=yc(n.blue,s.blue,u),l.alpha=Gt(n.alpha,s.alpha,u),Di.transform(l))},qc=new Set(["none","hidden"]);function h1(o,e){return qc.has(o)?n=>n<=0?o:e:n=>n>=1?e:o}function m1(o,e){return n=>Gt(o,e,n)}function Mf(o){return typeof o=="number"?m1:typeof o=="string"?Cf(o)?Ul:jt.test(o)?Kg:y1:Array.isArray(o)?Wv:typeof o=="object"?jt.test(o)?Kg:p1:Ul}function Wv(o,e){const n=[...o],s=n.length,l=o.map((u,c)=>Mf(u)(u,e[c]));return u=>{for(let c=0;c<s;c++)n[c]=l[c](u);return n}}function p1(o,e){const n={...o,...e},s={};for(const l in n)o[l]!==void 0&&e[l]!==void 0&&(s[l]=Mf(o[l])(o[l],e[l]));return l=>{for(const u in s)n[u]=s[u](l);return n}}function g1(o,e){const n=[],s={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],c=o.indexes[u][s[u]],m=o.values[c]??0;n[l]=m,s[u]++}return n}const y1=(o,e)=>{const n=ii.createTransformer(e),s=Qa(o),l=Qa(e);return s.indexes.var.length===l.indexes.var.length&&s.indexes.color.length===l.indexes.color.length&&s.indexes.number.length>=l.indexes.number.length?qc.has(o)&&!l.values.length||qc.has(e)&&!s.values.length?h1(o,e):ja(Wv(g1(s,l),l.values),n):Ul(o,e)};function jv(o,e,n){return typeof o=="number"&&typeof e=="number"&&typeof n=="number"?Gt(o,e,n):Mf(o)(o,e)}const v1=o=>{const e=({timestamp:n})=>o(n);return{start:(n=!0)=>Ot.update(e,n),stop:()=>ni(e),now:()=>ue.isProcessing?ue.timestamp:Ae.now()}},tT=(o,e,n=10)=>{let s="";const l=Math.max(Math.round(e/n),2);for(let u=0;u<l;u++)s+=Math.round(o(u/(l-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Il=2e4;function xf(o){let e=0;const n=50;let s=o.next(e);for(;!s.done&&e<Il;)e+=n,s=o.next(e);return e>=Il?1/0:e}function T1(o,e=100,n){const s=n({...o,keyframes:[0,e]}),l=Math.min(xf(s),Il);return{type:"keyframes",ease:u=>s.next(l*u).value/e,duration:un(l)}}const S1=5;function eT(o,e,n){const s=Math.max(e-S1,0);return Pv(n-o(s),e-s)}const Yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vc=.001;function E1({duration:o=Yt.duration,bounce:e=Yt.bounce,velocity:n=Yt.velocity,mass:s=Yt.mass}){let l,u,c=1-e;c=Rn(Yt.minDamping,Yt.maxDamping,c),o=Rn(Yt.minDuration,Yt.maxDuration,un(o)),c<1?(l=h=>{const v=h*c,S=v*o,E=v-n,b=Gc(h,c),M=Math.exp(-S);return vc-E/b*M},u=h=>{const S=h*c*o,E=S*n+n,b=Math.pow(c,2)*Math.pow(h,2)*o,M=Math.exp(-S),D=Gc(Math.pow(h,2),c);return(-l(h)+vc>0?-1:1)*((E-b)*M)/D}):(l=h=>{const v=Math.exp(-h*o),S=(h-n)*o+1;return-vc+v*S},u=h=>{const v=Math.exp(-h*o),S=(n-h)*(o*o);return v*S});const m=5/o,y=b1(l,u,m);if(o=rn(o),isNaN(y))return{stiffness:Yt.stiffness,damping:Yt.damping,duration:o};{const h=Math.pow(y,2)*s;return{stiffness:h,damping:c*2*Math.sqrt(s*h),duration:o}}}const C1=12;function b1(o,e,n){let s=n;for(let l=1;l<C1;l++)s=s-o(s)/e(s);return s}function Gc(o,e){return o*Math.sqrt(1-e*e)}const A1=["duration","bounce"],M1=["stiffness","damping","mass"];function Qg(o,e){return e.some(n=>o[n]!==void 0)}function x1(o){let e={velocity:Yt.velocity,stiffness:Yt.stiffness,damping:Yt.damping,mass:Yt.mass,isResolvedFromDuration:!1,...o};if(!Qg(o,M1)&&Qg(o,A1))if(o.visualDuration){const n=o.visualDuration,s=2*Math.PI/(n*1.2),l=s*s,u=2*Rn(.05,1,1-(o.bounce||0))*Math.sqrt(l);e={...e,mass:Yt.mass,stiffness:l,damping:u}}else{const n=E1(o);e={...e,...n,mass:Yt.mass},e.isResolvedFromDuration=!0}return e}function zl(o=Yt.visualDuration,e=Yt.bounce){const n=typeof o!="object"?{visualDuration:o,keyframes:[0,1],bounce:e}:o;let{restSpeed:s,restDelta:l}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],m={done:!1,value:u},{stiffness:y,damping:h,mass:v,duration:S,velocity:E,isResolvedFromDuration:b}=x1({...n,velocity:-un(n.velocity||0)}),M=E||0,D=h/(2*Math.sqrt(y*v)),z=c-u,k=un(Math.sqrt(y/v)),O=Math.abs(z)<5;s||(s=O?Yt.restSpeed.granular:Yt.restSpeed.default),l||(l=O?Yt.restDelta.granular:Yt.restDelta.default);let V;if(D<1){const w=Gc(k,D);V=X=>{const Z=Math.exp(-D*k*X);return c-Z*((M+D*k*z)/w*Math.sin(w*X)+z*Math.cos(w*X))}}else if(D===1)V=w=>c-Math.exp(-k*w)*(z+(M+k*z)*w);else{const w=k*Math.sqrt(D*D-1);V=X=>{const Z=Math.exp(-D*k*X),q=Math.min(w*X,300);return c-Z*((M+D*k*z)*Math.sinh(q)+w*z*Math.cosh(q))/w}}const K={calculatedDuration:b&&S||null,next:w=>{const X=V(w);if(b)m.done=w>=S;else{let Z=w===0?M:0;D<1&&(Z=w===0?rn(M):eT(V,w,X));const q=Math.abs(Z)<=s,st=Math.abs(c-X)<=l;m.done=q&&st}return m.value=m.done?c:X,m},toString:()=>{const w=Math.min(xf(K),Il),X=tT(Z=>K.next(w*Z).value,w,30);return w+"ms "+X},toTransition:()=>{}};return K}zl.applyToOptions=o=>{const e=T1(o,100,zl);return o.ease=e.ease,o.duration=rn(e.duration),o.type="keyframes",o};function Hc({keyframes:o,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:y,restDelta:h=.5,restSpeed:v}){const S=o[0],E={done:!1,value:S},b=q=>m!==void 0&&q<m||y!==void 0&&q>y,M=q=>m===void 0?y:y===void 0||Math.abs(m-q)<Math.abs(y-q)?m:y;let D=n*e;const z=S+D,k=c===void 0?z:c(z);k!==z&&(D=k-S);const O=q=>-D*Math.exp(-q/s),V=q=>k+O(q),K=q=>{const st=O(q),at=V(q);E.done=Math.abs(st)<=h,E.value=E.done?k:at};let w,X;const Z=q=>{b(E.value)&&(w=q,X=zl({keyframes:[E.value,M(E.value)],velocity:eT(V,q,E.value),damping:l,stiffness:u,restDelta:h,restSpeed:v}))};return Z(0),{calculatedDuration:null,next:q=>{let st=!1;return!X&&w===void 0&&(st=!0,K(q),Z(q)),w!==void 0&&q>=w?X.next(q-w):(!st&&K(q),E)}}}function _1(o,e,n){const s=[],l=n||Dn.mix||jv,u=o.length-1;for(let c=0;c<u;c++){let m=l(o[c],o[c+1]);if(e){const y=Array.isArray(e)?e[c]||Qe:e;m=ja(y,m)}s.push(m)}return s}function R1(o,e,{clamp:n=!0,ease:s,mixer:l}={}){const u=o.length;if(gf(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=o[0]===o[1];o[0]>o[u-1]&&(o=[...o].reverse(),e=[...e].reverse());const m=_1(e,s,l),y=m.length,h=v=>{if(c&&v<o[0])return e[0];let S=0;if(y>1)for(;S<o.length-2&&!(v<o[S+1]);S++);const E=Ya(o[S],o[S+1],v);return m[S](E)};return n?v=>h(Rn(o[0],o[u-1],v)):h}function D1(o,e){const n=o[o.length-1];for(let s=1;s<=e;s++){const l=Ya(0,e,s);o.push(Gt(n,1,l))}}function w1(o){const e=[0];return D1(e,o.length-1),e}function N1(o,e){return o.map(n=>n*e)}function L1(o,e){return o.map(()=>e||Hv).splice(0,o.length-1)}function ka({duration:o=300,keyframes:e,times:n,ease:s="easeInOut"}){const l=Hx(s)?s.map(Gg):Gg(s),u={done:!1,value:e[0]},c=N1(n&&n.length===e.length?n:w1(e),o),m=R1(c,e,{ease:Array.isArray(l)?l:L1(e,l)});return{calculatedDuration:o,next:y=>(u.value=m(y),u.done=y>=o,u)}}const V1=o=>o!==null;function _f(o,{repeat:e,repeatType:n="loop"},s,l=1){const u=o.filter(V1),m=l<0||e&&n!=="loop"&&e%2===1?0:u.length-1;return!m||s===void 0?u[m]:s}const P1={decay:Hc,inertia:Hc,tween:ka,keyframes:ka,spring:zl};function nT(o){typeof o.type=="string"&&(o.type=P1[o.type])}class Rf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const B1=o=>o/100;class Df extends Rf{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,l;const{motionValue:n}=this.options;n&&n.updatedAt!==Ae.now()&&this.tick(Ae.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(l=(s=this.options).onStop)==null||l.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;nT(e);const{type:n=ka,repeat:s=0,repeatDelay:l=0,repeatType:u,velocity:c=0}=e;let{keyframes:m}=e;const y=n||ka;y!==ka&&typeof m[0]!="number"&&(this.mixKeyframes=ja(B1,jv(m[0],m[1])),m=[0,100]);const h=y({...e,keyframes:m});u==="mirror"&&(this.mirroredGenerator=y({...e,keyframes:[...m].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=xf(h));const{calculatedDuration:v}=h;this.calculatedDuration=v,this.resolvedDuration=v+l,this.totalDuration=this.resolvedDuration*(s+1)-l,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:l,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:y}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:v,repeat:S,repeatType:E,repeatDelay:b,type:M,onUpdate:D,finalKeyframe:z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-l/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const k=this.currentTime-h*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?k<0:k>l;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let V=this.currentTime,K=s;if(S){const q=Math.min(this.currentTime,l)/m;let st=Math.floor(q),at=q%1;!at&&q>=1&&(at=1),at===1&&st--,st=Math.min(st,S+1),!!(st%2)&&(E==="reverse"?(at=1-at,b&&(at-=b/m)):E==="mirror"&&(K=c)),V=Rn(0,1,at)*m}const w=O?{done:!1,value:v[0]}:K.next(V);u&&(w.value=u(w.value));let{done:X}=w;!O&&y!==null&&(X=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return Z&&M!==Hc&&(w.value=_f(v,this.options,z,this.speed)),D&&D(w.value),Z&&this.finish(),w}then(e,n){return this.finished.then(e,n)}get duration(){return un(this.calculatedDuration)}get time(){return un(this.currentTime)}set time(e){var n;e=rn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ae.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=un(this.currentTime))}play(){var l,u;if(this.isStopped)return;const{driver:e=v1,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(u=(l=this.options).onPlay)==null||u.call(l);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ae.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function U1(o){for(let e=1;e<o.length;e++)o[e]??(o[e]=o[e-1])}const wi=o=>o*180/Math.PI,Fc=o=>{const e=wi(Math.atan2(o[1],o[0]));return Yc(e)},I1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:o=>(Math.abs(o[0])+Math.abs(o[3]))/2,rotate:Fc,rotateZ:Fc,skewX:o=>wi(Math.atan(o[1])),skewY:o=>wi(Math.atan(o[2])),skew:o=>(Math.abs(o[1])+Math.abs(o[2]))/2},Yc=o=>(o=o%360,o<0&&(o+=360),o),Xg=Fc,Zg=o=>Math.sqrt(o[0]*o[0]+o[1]*o[1]),Jg=o=>Math.sqrt(o[4]*o[4]+o[5]*o[5]),z1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Zg,scaleY:Jg,scale:o=>(Zg(o)+Jg(o))/2,rotateX:o=>Yc(wi(Math.atan2(o[6],o[5]))),rotateY:o=>Yc(wi(Math.atan2(-o[2],o[0]))),rotateZ:Xg,rotate:Xg,skewX:o=>wi(Math.atan(o[4])),skewY:o=>wi(Math.atan(o[1])),skew:o=>(Math.abs(o[1])+Math.abs(o[4]))/2};function Kc(o){return o.includes("scale")?1:0}function Qc(o,e){if(!o||o==="none")return Kc(e);const n=o.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,l;if(n)s=z1,l=n;else{const m=o.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=I1,l=m}if(!l)return Kc(e);const u=s[e],c=l[1].split(",").map(O1);return typeof u=="function"?u(c):c[u]}const k1=(o,e)=>{const{transform:n="none"}=getComputedStyle(o);return Qc(n,e)};function O1(o){return parseFloat(o.trim())}const No=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Lo=new Set(No),$g=o=>o===wo||o===dt,q1=new Set(["x","y","z"]),G1=No.filter(o=>!q1.has(o));function H1(o){const e=[];return G1.forEach(n=>{const s=o.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ni={width:({x:o},{paddingLeft:e="0",paddingRight:n="0"})=>o.max-o.min-parseFloat(e)-parseFloat(n),height:({y:o},{paddingTop:e="0",paddingBottom:n="0"})=>o.max-o.min-parseFloat(e)-parseFloat(n),top:(o,{top:e})=>parseFloat(e),left:(o,{left:e})=>parseFloat(e),bottom:({y:o},{top:e})=>parseFloat(e)+(o.max-o.min),right:({x:o},{left:e})=>parseFloat(e)+(o.max-o.min),x:(o,{transform:e})=>Qc(e,"x"),y:(o,{transform:e})=>Qc(e,"y")};Ni.translateX=Ni.x;Ni.translateY=Ni.y;const Li=new Set;let Xc=!1,Zc=!1,Jc=!1;function iT(){if(Zc){const o=Array.from(Li).filter(s=>s.needsMeasurement),e=new Set(o.map(s=>s.element)),n=new Map;e.forEach(s=>{const l=H1(s);l.length&&(n.set(s,l),s.render())}),o.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const l=n.get(s);l&&l.forEach(([u,c])=>{var m;(m=s.getValue(u))==null||m.set(c)})}),o.forEach(s=>s.measureEndState()),o.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Zc=!1,Xc=!1,Li.forEach(o=>o.complete(Jc)),Li.clear()}function oT(){Li.forEach(o=>{o.readKeyframes(),o.needsMeasurement&&(Zc=!0)})}function F1(){Jc=!0,oT(),iT(),Jc=!1}class wf{constructor(e,n,s,l,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=l,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Li.add(this),Xc||(Xc=!0,Ot.read(oT),Ot.resolveKeyframes(iT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:l}=this;if(e[0]===null){const u=l==null?void 0:l.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(s&&n){const m=s.readValue(n,c);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=c),l&&u===void 0&&l.set(e[0])}U1(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Li.delete(this)}cancel(){this.state==="scheduled"&&(Li.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Y1=o=>o.startsWith("--");function K1(o,e,n){Y1(e)?o.style.setProperty(e,n):o.style[e]=n}const Q1=yf(()=>window.ScrollTimeline!==void 0),X1={};function Z1(o,e){const n=yf(o);return()=>X1[e]??n()}const aT=Z1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ba=([o,e,n,s])=>`cubic-bezier(${o}, ${e}, ${n}, ${s})`,Wg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ba([0,.65,.55,1]),circOut:Ba([.55,0,1,.45]),backIn:Ba([.31,.01,.66,-.59]),backOut:Ba([.33,1.53,.69,.99])};function sT(o,e){if(o)return typeof o=="function"?aT()?tT(o,e):"ease-out":Fv(o)?Ba(o):Array.isArray(o)?o.map(n=>sT(n,e)||Wg.easeOut):Wg[o]}function J1(o,e,n,{delay:s=0,duration:l=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:y}={},h=void 0){const v={[e]:n};y&&(v.offset=y);const S=sT(m,l);Array.isArray(S)&&(v.easing=S);const E={delay:s,duration:l,easing:Array.isArray(S)?"linear":S,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return h&&(E.pseudoElement=h),o.animate(v,E)}function lT(o){return typeof o=="function"&&"applyToOptions"in o}function $1({type:o,...e}){return lT(o)&&aT()?o.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class W1 extends Rf{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:l,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:y}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,gf(typeof e.type!="string");const h=$1(e);this.animation=J1(n,s,l,h,u),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=_f(l,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):K1(n,s,v),this.animation.cancel()}y==null||y(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return un(Number(e))}get time(){return un(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=rn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Q1()?(this.animation.timeline=e,Qe):n(this)}}const rT={anticipate:Ov,backInOut:kv,circInOut:Gv};function j1(o){return o in rT}function t_(o){typeof o.ease=="string"&&j1(o.ease)&&(o.ease=rT[o.ease])}const jg=10;class e_ extends W1{constructor(e){t_(e),nT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:l,element:u,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const m=new Df({...c,autoplay:!1}),y=rn(this.finishedTime??this.time);n.setWithVelocity(m.sample(y-jg).value,m.sample(y).value,jg),m.stop()}}const ty=(o,e)=>e==="zIndex"?!1:!!(typeof o=="number"||Array.isArray(o)||typeof o=="string"&&(ii.test(o)||o==="0")&&!o.startsWith("url("));function n_(o){const e=o[0];if(o.length===1)return!0;for(let n=0;n<o.length;n++)if(o[n]!==e)return!0}function i_(o,e,n,s){const l=o[0];if(l===null)return!1;if(e==="display"||e==="visibility")return!0;const u=o[o.length-1],c=ty(l,e),m=ty(u,e);return!c||!m?!1:n_(o)||(n==="spring"||lT(n))&&s}function $c(o){o.duration=0,o.type}const o_=new Set(["opacity","clipPath","filter","transform"]),a_=yf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function s_(o){var v;const{motionValue:e,name:n,repeatDelay:s,repeatType:l,damping:u,type:c}=o;if(!(((v=e==null?void 0:e.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:h}=e.owner.getProps();return a_()&&n&&o_.has(n)&&(n!=="transform"||!h)&&!y&&!s&&l!=="mirror"&&u!==0&&c!=="inertia"}const l_=40;class r_ extends Rf{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:y,motionValue:h,element:v,...S}){var M;super(),this.stop=()=>{var D,z;this._animation&&(this._animation.stop(),(D=this.stopTimeline)==null||D.call(this)),(z=this.keyframeResolver)==null||z.cancel()},this.createdAt=Ae.now();const E={autoplay:e,delay:n,type:s,repeat:l,repeatDelay:u,repeatType:c,name:y,motionValue:h,element:v,...S},b=(v==null?void 0:v.KeyframeResolver)||wf;this.keyframeResolver=new b(m,(D,z,k)=>this.onKeyframesResolved(D,z,E,!k),y,h,v),(M=this.keyframeResolver)==null||M.scheduleResolve()}onKeyframesResolved(e,n,s,l){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:y,isHandoff:h,onUpdate:v}=s;this.resolvedAt=Ae.now(),i_(e,u,c,m)||((Dn.instantAnimations||!y)&&(v==null||v(_f(e,s,n))),e[0]=e[e.length-1],$c(s),s.repeat=0);const E={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>l_?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},b=!h&&s_(E)?new e_({...E,element:E.motionValue.owner.current}):new Df(E);b.finished.then(()=>this.notifyFinished()).catch(Qe),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),F1()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const u_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function c_(o){const e=u_.exec(o);if(!e)return[,];const[,n,s,l]=e;return[`--${n??s}`,l]}function uT(o,e,n=1){const[s,l]=c_(o);if(!s)return;const u=window.getComputedStyle(e).getPropertyValue(s);if(u){const c=u.trim();return Nv(c)?parseFloat(c):c}return Cf(l)?uT(l,e,n+1):l}function Nf(o,e){return(o==null?void 0:o[e])??(o==null?void 0:o.default)??o}const cT=new Set(["width","height","top","left","right","bottom",...No]),f_={test:o=>o==="auto",parse:o=>o},fT=o=>e=>e.test(o),dT=[wo,dt,cn,ei,n1,e1,f_],ey=o=>dT.find(fT(o));function d_(o){return typeof o=="number"?o===0:o!==null?o==="none"||o==="0"||Vv(o):!0}const h_=new Set(["brightness","contrast","saturate","opacity"]);function m_(o){const[e,n]=o.slice(0,-1).split("(");if(e==="drop-shadow")return o;const[s]=n.match(bf)||[];if(!s)return o;const l=n.replace(s,"");let u=h_.has(e)?1:0;return s!==n&&(u*=100),e+"("+u+l+")"}const p_=/\b([a-z-]*)\(.*?\)/gu,Wc={...ii,getAnimatableNone:o=>{const e=o.match(p_);return e?e.map(m_).join(" "):o}},ny={...wo,transform:Math.round},g_={rotate:ei,rotateX:ei,rotateY:ei,rotateZ:ei,scale:Cl,scaleX:Cl,scaleY:Cl,scaleZ:Cl,skew:ei,skewX:ei,skewY:ei,distance:dt,translateX:dt,translateY:dt,translateZ:dt,x:dt,y:dt,z:dt,perspective:dt,transformPerspective:dt,opacity:Ka,originX:Hg,originY:Hg,originZ:dt},Lf={borderWidth:dt,borderTopWidth:dt,borderRightWidth:dt,borderBottomWidth:dt,borderLeftWidth:dt,borderRadius:dt,radius:dt,borderTopLeftRadius:dt,borderTopRightRadius:dt,borderBottomRightRadius:dt,borderBottomLeftRadius:dt,width:dt,maxWidth:dt,height:dt,maxHeight:dt,top:dt,right:dt,bottom:dt,left:dt,padding:dt,paddingTop:dt,paddingRight:dt,paddingBottom:dt,paddingLeft:dt,margin:dt,marginTop:dt,marginRight:dt,marginBottom:dt,marginLeft:dt,backgroundPositionX:dt,backgroundPositionY:dt,...g_,zIndex:ny,fillOpacity:Ka,strokeOpacity:Ka,numOctaves:ny},y_={...Lf,color:jt,backgroundColor:jt,outlineColor:jt,fill:jt,stroke:jt,borderColor:jt,borderTopColor:jt,borderRightColor:jt,borderBottomColor:jt,borderLeftColor:jt,filter:Wc,WebkitFilter:Wc},hT=o=>y_[o];function mT(o,e){let n=hT(o);return n!==Wc&&(n=ii),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const v_=new Set(["auto","none","0"]);function T_(o,e,n){let s=0,l;for(;s<o.length&&!l;){const u=o[s];typeof u=="string"&&!v_.has(u)&&Qa(u).values.length&&(l=o[s]),s++}if(l&&n)for(const u of e)o[u]=mT(n,l)}class S_ extends wf{constructor(e,n,s,l,u){super(e,n,s,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let h=e[y];if(typeof h=="string"&&(h=h.trim(),Cf(h))){const v=uT(h,n.current);v!==void 0&&(e[y]=v),y===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!cT.has(s)||e.length!==2)return;const[l,u]=e,c=ey(l),m=ey(u);if(c!==m)if($g(c)&&$g(m))for(let y=0;y<e.length;y++){const h=e[y];typeof h=="string"&&(e[y]=parseFloat(h))}else Ni[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let l=0;l<e.length;l++)(e[l]===null||d_(e[l]))&&s.push(l);s.length&&T_(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ni[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const l=n[n.length-1];l!==void 0&&e.getValue(s,l).jump(l,!1)}measureEndState(){var m;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const l=e.getValue(n);l&&l.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=Ni[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(m=this.removedTransforms)!=null&&m.length&&this.removedTransforms.forEach(([y,h])=>{e.getValue(y).set(h)}),this.resolveNoneKeyframes()}}function E_(o,e,n){if(o instanceof EventTarget)return[o];if(typeof o=="string"){let s=document;const l=(n==null?void 0:n[o])??s.querySelectorAll(o);return l?Array.from(l):[]}return Array.from(o)}const pT=(o,e)=>e&&typeof o=="number"?e.transform(o):o;function gT(o){return Lv(o)&&"offsetHeight"in o}const iy=30,C_=o=>!isNaN(parseFloat(o));class b_{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var u;const l=Ae.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ae.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=C_(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new vf);const s=this.events[e].add(n);return e==="change"?()=>{s(),Ot.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ae.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>iy)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,iy);return Pv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _o(o,e){return new b_(o,e)}const{schedule:Vf}=Yv(queueMicrotask,!1),$e={x:!1,y:!1};function yT(){return $e.x||$e.y}function A_(o){return o==="x"||o==="y"?$e[o]?null:($e[o]=!0,()=>{$e[o]=!1}):$e.x||$e.y?null:($e.x=$e.y=!0,()=>{$e.x=$e.y=!1})}function vT(o,e){const n=E_(o),s=new AbortController,l={passive:!0,...e,signal:s.signal};return[n,l,()=>s.abort()]}function oy(o){return!(o.pointerType==="touch"||yT())}function M_(o,e,n={}){const[s,l,u]=vT(o,n),c=m=>{if(!oy(m))return;const{target:y}=m,h=e(y,m);if(typeof h!="function"||!y)return;const v=S=>{oy(S)&&(h(S),y.removeEventListener("pointerleave",v))};y.addEventListener("pointerleave",v,l)};return s.forEach(m=>{m.addEventListener("pointerenter",c,l)}),u}const TT=(o,e)=>e?o===e?!0:TT(o,e.parentElement):!1,Pf=o=>o.pointerType==="mouse"?typeof o.button!="number"||o.button<=0:o.isPrimary!==!1,x_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function __(o){return x_.has(o.tagName)||o.tabIndex!==-1}const wl=new WeakSet;function ay(o){return e=>{e.key==="Enter"&&o(e)}}function Tc(o,e){o.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const R_=(o,e)=>{const n=o.currentTarget;if(!n)return;const s=ay(()=>{if(wl.has(n))return;Tc(n,"down");const l=ay(()=>{Tc(n,"up")}),u=()=>Tc(n,"cancel");n.addEventListener("keyup",l,e),n.addEventListener("blur",u,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function sy(o){return Pf(o)&&!yT()}function D_(o,e,n={}){const[s,l,u]=vT(o,n),c=m=>{const y=m.currentTarget;if(!sy(m))return;wl.add(y);const h=e(y,m),v=(b,M)=>{window.removeEventListener("pointerup",S),window.removeEventListener("pointercancel",E),wl.has(y)&&wl.delete(y),sy(b)&&typeof h=="function"&&h(b,{success:M})},S=b=>{v(b,y===window||y===document||n.useGlobalTarget||TT(y,b.target))},E=b=>{v(b,!1)};window.addEventListener("pointerup",S,l),window.addEventListener("pointercancel",E,l)};return s.forEach(m=>{(n.useGlobalTarget?window:m).addEventListener("pointerdown",c,l),gT(m)&&(m.addEventListener("focus",h=>R_(h,l)),!__(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function ST(o){return Lv(o)&&"ownerSVGElement"in o}function w_(o){return ST(o)&&o.tagName==="svg"}const pe=o=>!!(o&&o.getVelocity),N_=[...dT,jt,ii],L_=o=>N_.find(fT(o)),Bf=j.createContext({transformPagePoint:o=>o,isStatic:!1,reducedMotion:"never"});class V_ extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,l=gT(s)&&s.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function P_({children:o,isPresent:e,anchorX:n,root:s}){const l=j.useId(),u=j.useRef(null),c=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=j.useContext(Bf);return j.useInsertionEffect(()=>{const{width:y,height:h,top:v,left:S,right:E}=c.current;if(e||!u.current||!y||!h)return;const b=n==="left"?`left: ${S}`:`right: ${E}`;u.current.dataset.motionPopId=l;const M=document.createElement("style");m&&(M.nonce=m);const D=s??document.head;return D.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${h}px !important;
            ${b}px !important;
            top: ${v}px !important;
          }
        `),()=>{D.contains(M)&&D.removeChild(M)}},[e]),Ut.jsx(V_,{isPresent:e,childRef:u,sizeRef:c,children:j.cloneElement(o,{ref:u})})}const B_=({children:o,initial:e,isPresent:n,onExitComplete:s,custom:l,presenceAffectsLayout:u,mode:c,anchorX:m,root:y})=>{const h=df(U_),v=j.useId();let S=!0,E=j.useMemo(()=>(S=!1,{id:v,initial:e,isPresent:n,custom:l,onExitComplete:b=>{h.set(b,!0);for(const M of h.values())if(!M)return;s&&s()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[n,h,s]);return u&&S&&(E={...E}),j.useMemo(()=>{h.forEach((b,M)=>h.set(M,!1))},[n]),j.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),c==="popLayout"&&(o=Ut.jsx(P_,{isPresent:n,anchorX:m,root:y,children:o})),Ut.jsx(Ql.Provider,{value:E,children:o})};function U_(){return new Map}function ET(o=!0){const e=j.useContext(Ql);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:l}=e,u=j.useId();j.useEffect(()=>{if(o)return l(u)},[o]);const c=j.useCallback(()=>o&&s&&s(u),[u,s,o]);return!n&&s?[!1,c]:[!0]}const bl=o=>o.key||"";function ly(o){const e=[];return j.Children.forEach(o,n=>{j.isValidElement(n)&&e.push(n)}),e}const I_=({children:o,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:l=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",root:y})=>{const[h,v]=ET(c),S=j.useMemo(()=>ly(o),[o]),E=c&&!h?[]:S.map(bl),b=j.useRef(!0),M=j.useRef(S),D=df(()=>new Map),[z,k]=j.useState(S),[O,V]=j.useState(S);wv(()=>{b.current=!1,M.current=S;for(let X=0;X<O.length;X++){const Z=bl(O[X]);E.includes(Z)?D.delete(Z):D.get(Z)!==!0&&D.set(Z,!1)}},[O,E.length,E.join("-")]);const K=[];if(S!==z){let X=[...S];for(let Z=0;Z<O.length;Z++){const q=O[Z],st=bl(q);E.includes(st)||(X.splice(Z,0,q),K.push(q))}return u==="wait"&&K.length&&(X=K),V(ly(X)),k(S),null}const{forceRender:w}=j.useContext(ff);return Ut.jsx(Ut.Fragment,{children:O.map(X=>{const Z=bl(X),q=c&&!h?!1:S===O||E.includes(Z),st=()=>{if(D.has(Z))D.set(Z,!0);else return;let at=!0;D.forEach(pt=>{pt||(at=!1)}),at&&(w==null||w(),V(M.current),c&&(v==null||v()),s&&s())};return Ut.jsx(B_,{isPresent:q,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:l,mode:u,root:y,onExitComplete:q?void 0:st,anchorX:m,children:X},Z)})})},CT=j.createContext({strict:!1}),ry={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ro={};for(const o in ry)Ro[o]={isEnabled:e=>ry[o].some(n=>!!e[n])};function z_(o){for(const e in o)Ro[e]={...Ro[e],...o[e]}}const k_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kl(o){return o.startsWith("while")||o.startsWith("drag")&&o!=="draggable"||o.startsWith("layout")||o.startsWith("onTap")||o.startsWith("onPan")||o.startsWith("onLayout")||k_.has(o)}let bT=o=>!kl(o);function O_(o){typeof o=="function"&&(bT=e=>e.startsWith("on")?!kl(e):o(e))}try{O_(require("@emotion/is-prop-valid").default)}catch{}function q_(o,e,n){const s={};for(const l in o)l==="values"&&typeof o.values=="object"||(bT(l)||n===!0&&kl(l)||!e&&!kl(l)||o.draggable&&l.startsWith("onDrag"))&&(s[l]=o[l]);return s}const Xl=j.createContext({});function Zl(o){return o!==null&&typeof o=="object"&&typeof o.start=="function"}function Xa(o){return typeof o=="string"||Array.isArray(o)}const Uf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],If=["initial",...Uf];function Jl(o){return Zl(o.animate)||If.some(e=>Xa(o[e]))}function AT(o){return!!(Jl(o)||o.variants)}function G_(o,e){if(Jl(o)){const{initial:n,animate:s}=o;return{initial:n===!1||Xa(n)?n:void 0,animate:Xa(s)?s:void 0}}return o.inherit!==!1?e:{}}function H_(o){const{initial:e,animate:n}=G_(o,j.useContext(Xl));return j.useMemo(()=>({initial:e,animate:n}),[uy(e),uy(n)])}function uy(o){return Array.isArray(o)?o.join(" "):o}const Za={};function F_(o){for(const e in o)Za[e]=o[e],Ef(e)&&(Za[e].isCSSVariable=!0)}function MT(o,{layout:e,layoutId:n}){return Lo.has(o)||o.startsWith("origin")||(e||n!==void 0)&&(!!Za[o]||o==="opacity")}const Y_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},K_=No.length;function Q_(o,e,n){let s="",l=!0;for(let u=0;u<K_;u++){const c=No[u],m=o[c];if(m===void 0)continue;let y=!0;if(typeof m=="number"?y=m===(c.startsWith("scale")?1:0):y=parseFloat(m)===0,!y||n){const h=pT(m,Lf[c]);if(!y){l=!1;const v=Y_[c]||c;s+=`${v}(${h}) `}n&&(e[c]=h)}}return s=s.trim(),n?s=n(e,l?"":s):l&&(s="none"),s}function zf(o,e,n){const{style:s,vars:l,transformOrigin:u}=o;let c=!1,m=!1;for(const y in e){const h=e[y];if(Lo.has(y)){c=!0;continue}else if(Ef(y)){l[y]=h;continue}else{const v=pT(h,Lf[y]);y.startsWith("origin")?(m=!0,u[y]=v):s[y]=v}}if(e.transform||(c||n?s.transform=Q_(e,o.transform,n):s.transform&&(s.transform="none")),m){const{originX:y="50%",originY:h="50%",originZ:v=0}=u;s.transformOrigin=`${y} ${h} ${v}`}}const kf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xT(o,e,n){for(const s in e)!pe(e[s])&&!MT(s,n)&&(o[s]=e[s])}function X_({transformTemplate:o},e){return j.useMemo(()=>{const n=kf();return zf(n,e,o),Object.assign({},n.vars,n.style)},[e])}function Z_(o,e){const n=o.style||{},s={};return xT(s,n,o),Object.assign(s,X_(o,e)),s}function J_(o,e){const n={},s=Z_(o,e);return o.drag&&o.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=o.drag===!0?"none":`pan-${o.drag==="x"?"y":"x"}`),o.tabIndex===void 0&&(o.onTap||o.onTapStart||o.whileTap)&&(n.tabIndex=0),n.style=s,n}const $_={offset:"stroke-dashoffset",array:"stroke-dasharray"},W_={offset:"strokeDashoffset",array:"strokeDasharray"};function j_(o,e,n=1,s=0,l=!0){o.pathLength=1;const u=l?$_:W_;o[u.offset]=dt.transform(-s);const c=dt.transform(e),m=dt.transform(n);o[u.array]=`${c} ${m}`}function _T(o,{attrX:e,attrY:n,attrScale:s,pathLength:l,pathSpacing:u=1,pathOffset:c=0,...m},y,h,v){if(zf(o,m,h),y){o.style.viewBox&&(o.attrs.viewBox=o.style.viewBox);return}o.attrs=o.style,o.style={};const{attrs:S,style:E}=o;S.transform&&(E.transform=S.transform,delete S.transform),(E.transform||S.transformOrigin)&&(E.transformOrigin=S.transformOrigin??"50% 50%",delete S.transformOrigin),E.transform&&(E.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete S.transformBox),e!==void 0&&(S.x=e),n!==void 0&&(S.y=n),s!==void 0&&(S.scale=s),l!==void 0&&j_(S,l,u,c,!1)}const RT=()=>({...kf(),attrs:{}}),DT=o=>typeof o=="string"&&o.toLowerCase()==="svg";function tR(o,e,n,s){const l=j.useMemo(()=>{const u=RT();return _T(u,e,DT(s),o.transformTemplate,o.style),{...u.attrs,style:{...u.style}}},[e]);if(o.style){const u={};xT(u,o.style,o),l.style={...u,...l.style}}return l}const eR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Of(o){return typeof o!="string"||o.includes("-")?!1:!!(eR.indexOf(o)>-1||/[A-Z]/u.test(o))}function nR(o,e,n,{latestValues:s},l,u=!1){const m=(Of(o)?tR:J_)(e,s,l,o),y=q_(e,typeof o=="string",u),h=o!==j.Fragment?{...y,...m,ref:n}:{},{children:v}=e,S=j.useMemo(()=>pe(v)?v.get():v,[v]);return j.createElement(o,{...h,children:S})}function cy(o){const e=[{},{}];return o==null||o.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function qf(o,e,n,s){if(typeof e=="function"){const[l,u]=cy(s);e=e(n!==void 0?n:o.custom,l,u)}if(typeof e=="string"&&(e=o.variants&&o.variants[e]),typeof e=="function"){const[l,u]=cy(s);e=e(n!==void 0?n:o.custom,l,u)}return e}function Nl(o){return pe(o)?o.get():o}function iR({scrapeMotionValuesFromProps:o,createRenderState:e},n,s,l){return{latestValues:oR(n,s,l,o),renderState:e()}}function oR(o,e,n,s){const l={},u=s(o,{});for(const E in u)l[E]=Nl(u[E]);let{initial:c,animate:m}=o;const y=Jl(o),h=AT(o);e&&h&&!y&&o.inherit!==!1&&(c===void 0&&(c=e.initial),m===void 0&&(m=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const S=v?m:c;if(S&&typeof S!="boolean"&&!Zl(S)){const E=Array.isArray(S)?S:[S];for(let b=0;b<E.length;b++){const M=qf(o,E[b]);if(M){const{transitionEnd:D,transition:z,...k}=M;for(const O in k){let V=k[O];if(Array.isArray(V)){const K=v?V.length-1:0;V=V[K]}V!==null&&(l[O]=V)}for(const O in D)l[O]=D[O]}}}return l}const wT=o=>(e,n)=>{const s=j.useContext(Xl),l=j.useContext(Ql),u=()=>iR(o,e,s,l);return n?u():df(u)};function Gf(o,e,n){var u;const{style:s}=o,l={};for(const c in s)(pe(s[c])||e.style&&pe(e.style[c])||MT(c,o)||((u=n==null?void 0:n.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(l[c]=s[c]);return l}const aR=wT({scrapeMotionValuesFromProps:Gf,createRenderState:kf});function NT(o,e,n){const s=Gf(o,e,n);for(const l in o)if(pe(o[l])||pe(e[l])){const u=No.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;s[u]=o[l]}return s}const sR=wT({scrapeMotionValuesFromProps:NT,createRenderState:RT}),lR=Symbol.for("motionComponentSymbol");function Co(o){return o&&typeof o=="object"&&Object.prototype.hasOwnProperty.call(o,"current")}function rR(o,e,n){return j.useCallback(s=>{s&&o.onMount&&o.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Co(n)&&(n.current=s))},[e])}const Hf=o=>o.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uR="framerAppearId",LT="data-"+Hf(uR),VT=j.createContext({});function cR(o,e,n,s,l){var D,z;const{visualElement:u}=j.useContext(Xl),c=j.useContext(CT),m=j.useContext(Ql),y=j.useContext(Bf).reducedMotion,h=j.useRef(null);s=s||c.renderer,!h.current&&s&&(h.current=s(o,{visualState:e,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y}));const v=h.current,S=j.useContext(VT);v&&!v.projection&&l&&(v.type==="html"||v.type==="svg")&&fR(h.current,n,l,S);const E=j.useRef(!1);j.useInsertionEffect(()=>{v&&E.current&&v.update(n,m)});const b=n[LT],M=j.useRef(!!b&&!((D=window.MotionHandoffIsComplete)!=null&&D.call(window,b))&&((z=window.MotionHasOptimisedAnimation)==null?void 0:z.call(window,b)));return wv(()=>{v&&(E.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),M.current&&v.animationState&&v.animationState.animateChanges())}),j.useEffect(()=>{v&&(!M.current&&v.animationState&&v.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,b)}),M.current=!1),v.enteringChildren=void 0)}),v}function fR(o,e,n,s){const{layoutId:l,layout:u,drag:c,dragConstraints:m,layoutScroll:y,layoutRoot:h,layoutCrossfade:v}=e;o.projection=new n(o.latestValues,e["data-framer-portal-id"]?void 0:PT(o.parent)),o.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||m&&Co(m),visualElement:o,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:y,layoutRoot:h})}function PT(o){if(o)return o.options.allowProjection!==!1?o.projection:PT(o.parent)}function Sc(o,{forwardMotionProps:e=!1}={},n,s){n&&z_(n);const l=Of(o)?sR:aR;function u(m,y){let h;const v={...j.useContext(Bf),...m,layoutId:dR(m)},{isStatic:S}=v,E=H_(m),b=l(m,S);if(!S&&hf){hR();const M=mR(v);h=M.MeasureLayout,E.visualElement=cR(o,b,v,s,M.ProjectionNode)}return Ut.jsxs(Xl.Provider,{value:E,children:[h&&E.visualElement?Ut.jsx(h,{visualElement:E.visualElement,...v}):null,nR(o,m,rR(b,E.visualElement,y),b,S,e)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=j.forwardRef(u);return c[lR]=o,c}function dR({layoutId:o}){const e=j.useContext(ff).id;return e&&o!==void 0?e+"-"+o:o}function hR(o,e){j.useContext(CT).strict}function mR(o){const{drag:e,layout:n}=Ro;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(o)||n!=null&&n.isEnabled(o)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function pR(o,e){if(typeof Proxy>"u")return Sc;const n=new Map,s=(u,c)=>Sc(u,c,o,e),l=(u,c)=>s(u,c);return new Proxy(l,{get:(u,c)=>c==="create"?s:(n.has(c)||n.set(c,Sc(c,void 0,o,e)),n.get(c))})}function BT({top:o,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:o,max:s}}}function gR({x:o,y:e}){return{top:e.min,right:o.max,bottom:e.max,left:o.min}}function yR(o,e){if(!e)return o;const n=e({x:o.left,y:o.top}),s=e({x:o.right,y:o.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Ec(o){return o===void 0||o===1}function jc({scale:o,scaleX:e,scaleY:n}){return!Ec(o)||!Ec(e)||!Ec(n)}function Ri(o){return jc(o)||UT(o)||o.z||o.rotate||o.rotateX||o.rotateY||o.skewX||o.skewY}function UT(o){return fy(o.x)||fy(o.y)}function fy(o){return o&&o!=="0%"}function Ol(o,e,n){const s=o-n,l=e*s;return n+l}function dy(o,e,n,s,l){return l!==void 0&&(o=Ol(o,l,s)),Ol(o,n,s)+e}function tf(o,e=0,n=1,s,l){o.min=dy(o.min,e,n,s,l),o.max=dy(o.max,e,n,s,l)}function IT(o,{x:e,y:n}){tf(o.x,e.translate,e.scale,e.originPoint),tf(o.y,n.translate,n.scale,n.originPoint)}const hy=.999999999999,my=1.0000000000001;function vR(o,e,n,s=!1){const l=n.length;if(!l)return;e.x=e.y=1;let u,c;for(let m=0;m<l;m++){u=n[m],c=u.projectionDelta;const{visualElement:y}=u.options;y&&y.props.style&&y.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ao(o,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,IT(o,c)),s&&Ri(u.latestValues)&&Ao(o,u.latestValues))}e.x<my&&e.x>hy&&(e.x=1),e.y<my&&e.y>hy&&(e.y=1)}function bo(o,e){o.min=o.min+e,o.max=o.max+e}function py(o,e,n,s,l=.5){const u=Gt(o.min,o.max,l);tf(o,e,n,u,s)}function Ao(o,e){py(o.x,e.x,e.scaleX,e.scale,e.originX),py(o.y,e.y,e.scaleY,e.scale,e.originY)}function zT(o,e){return BT(yR(o.getBoundingClientRect(),e))}function TR(o,e,n){const s=zT(o,n),{scroll:l}=e;return l&&(bo(s.x,l.offset.x),bo(s.y,l.offset.y)),s}const gy=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mo=()=>({x:gy(),y:gy()}),yy=()=>({min:0,max:0}),Zt=()=>({x:yy(),y:yy()}),ef={current:null},kT={current:!1};function SR(){if(kT.current=!0,!!hf)if(window.matchMedia){const o=window.matchMedia("(prefers-reduced-motion)"),e=()=>ef.current=o.matches;o.addEventListener("change",e),e()}else ef.current=!1}const ER=new WeakMap;function CR(o,e,n){for(const s in e){const l=e[s],u=n[s];if(pe(l))o.addValue(s,l);else if(pe(u))o.addValue(s,_o(l,{owner:o}));else if(u!==l)if(o.hasValue(s)){const c=o.getValue(s);c.liveStyle===!0?c.jump(l):c.hasAnimated||c.set(l)}else{const c=o.getStaticValue(s);o.addValue(s,_o(c!==void 0?c:l,{owner:o}))}}for(const s in n)e[s]===void 0&&o.removeValue(s);return e}const vy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bR{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:l,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Ae.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Ot.render(this.render,!1,!0))};const{latestValues:y,renderState:h}=c;this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=l,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Jl(n),this.isVariantNode=AT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...S}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in S){const b=S[E];y[E]!==void 0&&pe(b)&&b.set(y[E])}}mount(e){var n;this.current=e,ER.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,l)=>this.bindToMotionValue(l,s)),kT.current||SR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ef.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ni(this.notifyUpdate),ni(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Lo.has(e);s&&this.onBindTransform&&this.onBindTransform();const l=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Ot.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ro){const n=Ro[e];if(!n)continue;const{isEnabled:s,Feature:l}=n;if(!this.features[e]&&l&&s(this.props)&&(this.features[e]=new l(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<vy.length;s++){const l=vy[s];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,c=e[u];c&&(this.propEventSubscriptions[l]=this.on(l,c))}this.prevMotionValues=CR(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=_o(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Nv(s)||Vv(s))?s=parseFloat(s):!L_(s)&&ii.test(n)&&(s=mT(e,n)),this.setBaseTarget(e,pe(s)?s.get():s)),pe(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var u;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=qf(this.props,n,(u=this.presenceContext)==null?void 0:u.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!pe(l)?l:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new vf),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Vf.render(this.render)}}class OT extends bR{constructor(){super(...arguments),this.KeyframeResolver=S_}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pe(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function qT(o,{style:e,vars:n},s,l){const u=o.style;let c;for(c in e)u[c]=e[c];l==null||l.applyProjectionStyles(u,s);for(c in n)u.setProperty(c,n[c])}function AR(o){return window.getComputedStyle(o)}class MR extends OT{constructor(){super(...arguments),this.type="html",this.renderInstance=qT}readValueFromInstance(e,n){var s;if(Lo.has(n))return(s=this.projection)!=null&&s.isProjecting?Kc(n):k1(e,n);{const l=AR(e),u=(Ef(n)?l.getPropertyValue(n):l[n])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(e,{transformPagePoint:n}){return zT(e,n)}build(e,n,s){zf(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Gf(e,n,s)}}const GT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xR(o,e,n,s){qT(o,e,void 0,s);for(const l in e.attrs)o.setAttribute(GT.has(l)?l:Hf(l),e.attrs[l])}class _R extends OT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Zt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Lo.has(n)){const s=hT(n);return s&&s.default||0}return n=GT.has(n)?n:Hf(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return NT(e,n,s)}build(e,n,s){_T(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,l){xR(e,n,s,l)}mount(e){this.isSVGTag=DT(e.tagName),super.mount(e)}}const RR=(o,e)=>Of(o)?new _R(e):new MR(e,{allowProjection:o!==j.Fragment});function xo(o,e,n){const s=o.getProps();return qf(s,e,n!==void 0?n:s.custom,o)}const nf=o=>Array.isArray(o);function DR(o,e,n){o.hasValue(e)?o.getValue(e).set(n):o.addValue(e,_o(n))}function wR(o){return nf(o)?o[o.length-1]||0:o}function NR(o,e){const n=xo(o,e);let{transitionEnd:s={},transition:l={},...u}=n||{};u={...u,...s};for(const c in u){const m=wR(u[c]);DR(o,c,m)}}function LR(o){return!!(pe(o)&&o.add)}function of(o,e){const n=o.getValue("willChange");if(LR(n))return n.add(e);if(!n&&Dn.WillChange){const s=new Dn.WillChange("auto");o.addValue("willChange",s),s.add(e)}}function HT(o){return o.props[LT]}const VR=o=>o!==null;function PR(o,{repeat:e,repeatType:n="loop"},s){const l=o.filter(VR),u=e&&n!=="loop"&&e%2===1?0:l.length-1;return l[u]}const BR={type:"spring",stiffness:500,damping:25,restSpeed:10},UR=o=>({type:"spring",stiffness:550,damping:o===0?2*Math.sqrt(550):30,restSpeed:10}),IR={type:"keyframes",duration:.8},zR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kR=(o,{keyframes:e})=>e.length>2?IR:Lo.has(o)?o.startsWith("scale")?UR(e[1]):BR:zR;function OR({when:o,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:l,repeat:u,repeatType:c,repeatDelay:m,from:y,elapsed:h,...v}){return!!Object.keys(v).length}const Ff=(o,e,n,s={},l,u)=>c=>{const m=Nf(s,o)||{},y=m.delay||s.delay||0;let{elapsed:h=0}=s;h=h-rn(y);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...m,delay:-h,onUpdate:E=>{e.set(E),m.onUpdate&&m.onUpdate(E)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:o,motionValue:e,element:u?void 0:l};OR(m)||Object.assign(v,kR(o,v)),v.duration&&(v.duration=rn(v.duration)),v.repeatDelay&&(v.repeatDelay=rn(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let S=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&($c(v),v.delay===0&&(S=!0)),(Dn.instantAnimations||Dn.skipAnimations)&&(S=!0,$c(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,S&&!u&&e.get()!==void 0){const E=PR(v.keyframes,m);if(E!==void 0){Ot.update(()=>{v.onUpdate(E),v.onComplete()});return}}return m.isSync?new Df(v):new r_(v)};function qR({protectedKeys:o,needsAnimating:e},n){const s=o.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function FT(o,e,{delay:n=0,transitionOverride:s,type:l}={}){let{transition:u=o.getDefaultTransition(),transitionEnd:c,...m}=e;s&&(u=s);const y=[],h=l&&o.animationState&&o.animationState.getState()[l];for(const v in m){const S=o.getValue(v,o.latestValues[v]??null),E=m[v];if(E===void 0||h&&qR(h,v))continue;const b={delay:n,...Nf(u||{},v)},M=S.get();if(M!==void 0&&!S.isAnimating&&!Array.isArray(E)&&E===M&&!b.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const k=HT(o);if(k){const O=window.MotionHandoffAnimation(k,v,Ot);O!==null&&(b.startTime=O,D=!0)}}of(o,v),S.start(Ff(v,S,E,o.shouldReduceMotion&&cT.has(v)?{type:!1}:b,o,D));const z=S.animation;z&&y.push(z)}return c&&Promise.all(y).then(()=>{Ot.update(()=>{c&&NR(o,c)})}),y}function YT(o,e,n,s=0,l=1){const u=Array.from(o).sort((h,v)=>h.sortNodePosition(v)).indexOf(e),c=o.size,m=(c-1)*s;return typeof n=="function"?n(u,c):l===1?u*s:m-u*s}function af(o,e,n={}){var y;const s=xo(o,e,n.type==="exit"?(y=o.presenceContext)==null?void 0:y.custom:void 0);let{transition:l=o.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(l=n.transitionOverride);const u=s?()=>Promise.all(FT(o,s,n)):()=>Promise.resolve(),c=o.variantChildren&&o.variantChildren.size?(h=0)=>{const{delayChildren:v=0,staggerChildren:S,staggerDirection:E}=l;return GR(o,e,h,v,S,E,n)}:()=>Promise.resolve(),{when:m}=l;if(m){const[h,v]=m==="beforeChildren"?[u,c]:[c,u];return h().then(()=>v())}else return Promise.all([u(),c(n.delay)])}function GR(o,e,n=0,s=0,l=0,u=1,c){const m=[];for(const y of o.variantChildren)y.notify("AnimationStart",e),m.push(af(y,e,{...c,delay:n+(typeof s=="function"?0:s)+YT(o.variantChildren,y,s,l,u)}).then(()=>y.notify("AnimationComplete",e)));return Promise.all(m)}function HR(o,e,n={}){o.notify("AnimationStart",e);let s;if(Array.isArray(e)){const l=e.map(u=>af(o,u,n));s=Promise.all(l)}else if(typeof e=="string")s=af(o,e,n);else{const l=typeof e=="function"?xo(o,e,n.custom):e;s=Promise.all(FT(o,l,n))}return s.then(()=>{o.notify("AnimationComplete",e)})}function KT(o,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==o.length)return!1;for(let s=0;s<n;s++)if(e[s]!==o[s])return!1;return!0}const FR=If.length;function QT(o){if(!o)return;if(!o.isControllingVariants){const n=o.parent?QT(o.parent)||{}:{};return o.props.initial!==void 0&&(n.initial=o.props.initial),n}const e={};for(let n=0;n<FR;n++){const s=If[n],l=o.props[s];(Xa(l)||l===!1)&&(e[s]=l)}return e}const YR=[...Uf].reverse(),KR=Uf.length;function QR(o){return e=>Promise.all(e.map(({animation:n,options:s})=>HR(o,n,s)))}function XR(o){let e=QR(o),n=Ty(),s=!0;const l=y=>(h,v)=>{var E;const S=xo(o,v,y==="exit"?(E=o.presenceContext)==null?void 0:E.custom:void 0);if(S){const{transition:b,transitionEnd:M,...D}=S;h={...h,...D,...M}}return h};function u(y){e=y(o)}function c(y){const{props:h}=o,v=QT(o.parent)||{},S=[],E=new Set;let b={},M=1/0;for(let z=0;z<KR;z++){const k=YR[z],O=n[k],V=h[k]!==void 0?h[k]:v[k],K=Xa(V),w=k===y?O.isActive:null;w===!1&&(M=z);let X=V===v[k]&&V!==h[k]&&K;if(X&&s&&o.manuallyAnimateOnMount&&(X=!1),O.protectedKeys={...b},!O.isActive&&w===null||!V&&!O.prevProp||Zl(V)||typeof V=="boolean")continue;const Z=ZR(O.prevProp,V);let q=Z||k===y&&O.isActive&&!X&&K||z>M&&K,st=!1;const at=Array.isArray(V)?V:[V];let pt=at.reduce(l(k),{});w===!1&&(pt={});const{prevResolvedValues:yt={}}=O,St={...yt,...pt},J=F=>{q=!0,E.has(F)&&(st=!0,E.delete(F)),O.needsAnimating[F]=!0;const $=o.getValue(F);$&&($.liveStyle=!1)};for(const F in St){const $=pt[F],ht=yt[F];if(b.hasOwnProperty(F))continue;let x=!1;nf($)&&nf(ht)?x=!KT($,ht):x=$!==ht,x?$!=null?J(F):E.add(F):$!==void 0&&E.has(F)?J(F):O.protectedKeys[F]=!0}O.prevProp=V,O.prevResolvedValues=pt,O.isActive&&(b={...b,...pt}),s&&o.blockInitialAnimation&&(q=!1);const tt=X&&Z;q&&(!tt||st)&&S.push(...at.map(F=>{const $={type:k};if(typeof F=="string"&&s&&!tt&&o.manuallyAnimateOnMount&&o.parent){const{parent:ht}=o,x=xo(ht,F);if(ht.enteringChildren&&x){const{delayChildren:Q}=x.transition||{};$.delay=YT(ht.enteringChildren,o,Q)}}return{animation:F,options:$}}))}if(E.size){const z={};if(typeof h.initial!="boolean"){const k=xo(o,Array.isArray(h.initial)?h.initial[0]:h.initial);k&&k.transition&&(z.transition=k.transition)}E.forEach(k=>{const O=o.getBaseTarget(k),V=o.getValue(k);V&&(V.liveStyle=!0),z[k]=O??null}),S.push({animation:z})}let D=!!S.length;return s&&(h.initial===!1||h.initial===h.animate)&&!o.manuallyAnimateOnMount&&(D=!1),s=!1,D?e(S):Promise.resolve()}function m(y,h){var S;if(n[y].isActive===h)return Promise.resolve();(S=o.variantChildren)==null||S.forEach(E=>{var b;return(b=E.animationState)==null?void 0:b.setActive(y,h)}),n[y].isActive=h;const v=c(y);for(const E in n)n[E].protectedKeys={};return v}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>n,reset:()=>{n=Ty(),s=!0}}}function ZR(o,e){return typeof e=="string"?e!==o:Array.isArray(e)?!KT(e,o):!1}function xi(o=!1){return{isActive:o,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ty(){return{animate:xi(!0),whileInView:xi(),whileHover:xi(),whileTap:xi(),whileDrag:xi(),whileFocus:xi(),exit:xi()}}class li{constructor(e){this.isMounted=!1,this.node=e}update(){}}class JR extends li{constructor(e){super(e),e.animationState||(e.animationState=XR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Zl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let $R=0;class WR extends li{constructor(){super(...arguments),this.id=$R++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const l=this.node.animationState.setActive("exit",!e);n&&!e&&l.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const jR={animation:{Feature:JR},exit:{Feature:WR}};function Ja(o,e,n,s={passive:!0}){return o.addEventListener(e,n,s),()=>o.removeEventListener(e,n)}function ns(o){return{point:{x:o.pageX,y:o.pageY}}}const tD=o=>e=>Pf(e)&&o(e,ns(e));function Oa(o,e,n,s){return Ja(o,e,tD(n),s)}const XT=1e-4,eD=1-XT,nD=1+XT,ZT=.01,iD=0-ZT,oD=0+ZT;function ye(o){return o.max-o.min}function aD(o,e,n){return Math.abs(o-e)<=n}function Sy(o,e,n,s=.5){o.origin=s,o.originPoint=Gt(e.min,e.max,o.origin),o.scale=ye(n)/ye(e),o.translate=Gt(n.min,n.max,o.origin)-o.originPoint,(o.scale>=eD&&o.scale<=nD||isNaN(o.scale))&&(o.scale=1),(o.translate>=iD&&o.translate<=oD||isNaN(o.translate))&&(o.translate=0)}function qa(o,e,n,s){Sy(o.x,e.x,n.x,s?s.originX:void 0),Sy(o.y,e.y,n.y,s?s.originY:void 0)}function Ey(o,e,n){o.min=n.min+e.min,o.max=o.min+ye(e)}function sD(o,e,n){Ey(o.x,e.x,n.x),Ey(o.y,e.y,n.y)}function Cy(o,e,n){o.min=e.min-n.min,o.max=o.min+ye(e)}function Ga(o,e,n){Cy(o.x,e.x,n.x),Cy(o.y,e.y,n.y)}function Ye(o){return[o("x"),o("y")]}const JT=({current:o})=>o?o.ownerDocument.defaultView:null,by=(o,e)=>Math.abs(o-e);function lD(o,e){const n=by(o.x,e.x),s=by(o.y,e.y);return Math.sqrt(n**2+s**2)}class $T{constructor(e,n,{transformPagePoint:s,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=bc(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,M=lD(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!M)return;const{point:D}=E,{timestamp:z}=ue;this.history.push({...D,timestamp:z});const{onStart:k,onMove:O}=this.handlers;b||(k&&k(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,E)},this.handlePointerMove=(E,b)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Cc(b,this.transformPagePoint),Ot.update(this.updatePoint,!0)},this.handlePointerUp=(E,b)=>{this.end();const{onEnd:M,onSessionEnd:D,resumeAnimation:z}=this.handlers;if(this.dragSnapToOrigin&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=bc(E.type==="pointercancel"?this.lastMoveEventInfo:Cc(b,this.transformPagePoint),this.history);this.startEvent&&M&&M(E,k),D&&D(E,k)},!Pf(e))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=l||window;const m=ns(e),y=Cc(m,this.transformPagePoint),{point:h}=y,{timestamp:v}=ue;this.history=[{...h,timestamp:v}];const{onSessionStart:S}=n;S&&S(e,bc(y,this.history)),this.removeListeners=ja(Oa(this.contextWindow,"pointermove",this.handlePointerMove),Oa(this.contextWindow,"pointerup",this.handlePointerUp),Oa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ni(this.updatePoint)}}function Cc(o,e){return e?{point:e(o.point)}:o}function Ay(o,e){return{x:o.x-e.x,y:o.y-e.y}}function bc({point:o},e){return{point:o,delta:Ay(o,WT(e)),offset:Ay(o,rD(e)),velocity:uD(e,.1)}}function rD(o){return o[0]}function WT(o){return o[o.length-1]}function uD(o,e){if(o.length<2)return{x:0,y:0};let n=o.length-1,s=null;const l=WT(o);for(;n>=0&&(s=o[n],!(l.timestamp-s.timestamp>rn(e)));)n--;if(!s)return{x:0,y:0};const u=un(l.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(l.x-s.x)/u,y:(l.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function cD(o,{min:e,max:n},s){return e!==void 0&&o<e?o=s?Gt(e,o,s.min):Math.max(o,e):n!==void 0&&o>n&&(o=s?Gt(n,o,s.max):Math.min(o,n)),o}function My(o,e,n){return{min:e!==void 0?o.min+e:void 0,max:n!==void 0?o.max+n-(o.max-o.min):void 0}}function fD(o,{top:e,left:n,bottom:s,right:l}){return{x:My(o.x,n,l),y:My(o.y,e,s)}}function xy(o,e){let n=e.min-o.min,s=e.max-o.max;return e.max-e.min<o.max-o.min&&([n,s]=[s,n]),{min:n,max:s}}function dD(o,e){return{x:xy(o.x,e.x),y:xy(o.y,e.y)}}function hD(o,e){let n=.5;const s=ye(o),l=ye(e);return l>s?n=Ya(e.min,e.max-s,o.min):s>l&&(n=Ya(o.min,o.max-l,e.min)),Rn(0,1,n)}function mD(o,e){const n={};return e.min!==void 0&&(n.min=e.min-o.min),e.max!==void 0&&(n.max=e.max-o.min),n}const sf=.35;function pD(o=sf){return o===!1?o=0:o===!0&&(o=sf),{x:_y(o,"left","right"),y:_y(o,"top","bottom")}}function _y(o,e,n){return{min:Ry(o,e),max:Ry(o,n)}}function Ry(o,e){return typeof o=="number"?o:o[e]||0}const gD=new WeakMap;class yD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=S=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ns(S).point)},c=(S,E)=>{const{drag:b,dragPropagation:M,onDragStart:D}=this.getProps();if(b&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=A_(b),!this.openDragLock))return;this.latestPointerEvent=S,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ye(k=>{let O=this.getAxisMotionValue(k).get()||0;if(cn.test(O)){const{projection:V}=this.visualElement;if(V&&V.layout){const K=V.layout.layoutBox[k];K&&(O=ye(K)*(parseFloat(O)/100))}}this.originPoint[k]=O}),D&&Ot.postRender(()=>D(S,E)),of(this.visualElement,"transform");const{animationState:z}=this.visualElement;z&&z.setActive("whileDrag",!0)},m=(S,E)=>{this.latestPointerEvent=S,this.latestPanInfo=E;const{dragPropagation:b,dragDirectionLock:M,onDirectionLock:D,onDrag:z}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:k}=E;if(M&&this.currentDirection===null){this.currentDirection=vD(k),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",E.point,k),this.updateAxis("y",E.point,k),this.visualElement.render(),z&&z(S,E)},y=(S,E)=>{this.latestPointerEvent=S,this.latestPanInfo=E,this.stop(S,E),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Ye(S=>{var E;return this.getAnimationState(S)==="paused"&&((E=this.getAxisMotionValue(S).animation)==null?void 0:E.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new $T(e,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:y,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:JT(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,l=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!s)return;const{velocity:c}=l;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&Ot.postRender(()=>m(s,l))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:l}=this.getProps();if(!s||!Al(e,l,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=cD(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,l=this.constraints;e&&Co(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=fD(s.layoutBox,e):this.constraints=!1,this.elastic=pD(n),l!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ye(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=mD(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Co(e))return!1;const s=e.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=TR(s,l.root,this.visualElement.getTransformPagePoint());let c=dD(l.layout.layoutBox,u);if(n){const m=n(gR(c));this.hasMutatedConstraints=!!m,m&&(c=BT(m))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:l,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),y=this.constraints||{},h=Ye(v=>{if(!Al(v,n,this.currentDirection))return;let S=y&&y[v]||{};c&&(S={min:0,max:0});const E=l?200:1e6,b=l?40:1e7,M={type:"inertia",velocity:s?e[v]:0,bounceStiffness:E,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...u,...S};return this.startAxisValueAnimation(v,M)});return Promise.all(h).then(m)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return of(this.visualElement,e),s.start(Ff(e,s,0,n,this.visualElement,!1))}stopAnimation(){Ye(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ye(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),l=s[n];return l||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Ye(n=>{const{drag:s}=this.getProps();if(!Al(n,s,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(n);if(l&&l.layout){const{min:c,max:m}=l.layout.layoutBox[n];u.set(e[n]-Gt(c,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Co(n)||!s||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Ye(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const y=m.get();l[c]=hD({min:y,max:y},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Ye(c=>{if(!Al(c,e,null))return;const m=this.getAxisMotionValue(c),{min:y,max:h}=this.constraints[c];m.set(Gt(y,h,l[c]))})}addListeners(){if(!this.visualElement.current)return;gD.set(this.visualElement,this);const e=this.visualElement.current,n=Oa(e,"pointerdown",y=>{const{drag:h,dragListener:v=!0}=this.getProps();h&&v&&this.start(y)}),s=()=>{const{dragConstraints:y}=this.getProps();Co(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",s);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),Ot.read(s);const c=Ja(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",({delta:y,hasLayoutChanged:h})=>{this.isDragging&&h&&(Ye(v=>{const S=this.getAxisMotionValue(v);S&&(this.originPoint[v]+=y[v].translate,S.set(S.get()+y[v].translate))}),this.visualElement.render())});return()=>{c(),n(),u(),m&&m()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:c=sf,dragMomentum:m=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:l,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function Al(o,e,n){return(e===!0||e===o)&&(n===null||n===o)}function vD(o,e=10){let n=null;return Math.abs(o.y)>e?n="y":Math.abs(o.x)>e&&(n="x"),n}class TD extends li{constructor(e){super(e),this.removeGroupControls=Qe,this.removeListeners=Qe,this.controls=new yD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qe}unmount(){this.removeGroupControls(),this.removeListeners()}}const Dy=o=>(e,n)=>{o&&Ot.postRender(()=>o(e,n))};class SD extends li{constructor(){super(...arguments),this.removePointerDownListener=Qe}onPointerDown(e){this.session=new $T(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:l}=this.node.getProps();return{onSessionStart:Dy(e),onStart:Dy(n),onMove:s,onEnd:(u,c)=>{delete this.session,l&&Ot.postRender(()=>l(u,c))}}}mount(){this.removePointerDownListener=Oa(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ll={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wy(o,e){return e.max===e.min?0:o/(e.max-e.min)*100}const La={correct:(o,e)=>{if(!e.target)return o;if(typeof o=="string")if(dt.test(o))o=parseFloat(o);else return o;const n=wy(o,e.target.x),s=wy(o,e.target.y);return`${n}% ${s}%`}},ED={correct:(o,{treeScale:e,projectionDelta:n})=>{const s=o,l=ii.parse(o);if(l.length>5)return s;const u=ii.createTransformer(o),c=typeof l[0]!="number"?1:0,m=n.x.scale*e.x,y=n.y.scale*e.y;l[0+c]/=m,l[1+c]/=y;const h=Gt(m,y,.5);return typeof l[2+c]=="number"&&(l[2+c]/=h),typeof l[3+c]=="number"&&(l[3+c]/=h),u(l)}};let Ac=!1;class CD extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:l}=this.props,{projection:u}=e;F_(bD),u&&(n.group&&n.group.add(u),s&&s.register&&l&&s.register(u),Ac&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Ll.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:l,isPresent:u}=this.props,{projection:c}=s;return c&&(c.isPresent=u,Ac=!0,l||e.layoutDependency!==n||n===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||Ot.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Vf.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:l}=e;Ac=!0,l&&(l.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(l),s&&s.deregister&&s.deregister(l))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jT(o){const[e,n]=ET(),s=j.useContext(ff);return Ut.jsx(CD,{...o,layoutGroup:s,switchLayoutGroup:j.useContext(VT),isPresent:e,safeToRemove:n})}const bD={borderRadius:{...La,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:La,borderTopRightRadius:La,borderBottomLeftRadius:La,borderBottomRightRadius:La,boxShadow:ED};function AD(o,e,n){const s=pe(o)?o:_o(o);return s.start(Ff("",s,e,n)),s.animation}const MD=(o,e)=>o.depth-e.depth;class xD{constructor(){this.children=[],this.isDirty=!1}add(e){mf(this.children,e),this.isDirty=!0}remove(e){pf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(MD),this.isDirty=!1,this.children.forEach(e)}}function _D(o,e){const n=Ae.now(),s=({timestamp:l})=>{const u=l-n;u>=e&&(ni(s),o(u-e))};return Ot.setup(s,!0),()=>ni(s)}const t0=["TopLeft","TopRight","BottomLeft","BottomRight"],RD=t0.length,Ny=o=>typeof o=="string"?parseFloat(o):o,Ly=o=>typeof o=="number"||dt.test(o);function DD(o,e,n,s,l,u){l?(o.opacity=Gt(0,n.opacity??1,wD(s)),o.opacityExit=Gt(e.opacity??1,0,ND(s))):u&&(o.opacity=Gt(e.opacity??1,n.opacity??1,s));for(let c=0;c<RD;c++){const m=`border${t0[c]}Radius`;let y=Vy(e,m),h=Vy(n,m);if(y===void 0&&h===void 0)continue;y||(y=0),h||(h=0),y===0||h===0||Ly(y)===Ly(h)?(o[m]=Math.max(Gt(Ny(y),Ny(h),s),0),(cn.test(h)||cn.test(y))&&(o[m]+="%")):o[m]=h}(e.rotate||n.rotate)&&(o.rotate=Gt(e.rotate||0,n.rotate||0,s))}function Vy(o,e){return o[e]!==void 0?o[e]:o.borderRadius}const wD=e0(0,.5,qv),ND=e0(.5,.95,Qe);function e0(o,e,n){return s=>s<o?0:s>e?1:n(Ya(o,e,s))}function Py(o,e){o.min=e.min,o.max=e.max}function Fe(o,e){Py(o.x,e.x),Py(o.y,e.y)}function By(o,e){o.translate=e.translate,o.scale=e.scale,o.originPoint=e.originPoint,o.origin=e.origin}function Uy(o,e,n,s,l){return o-=e,o=Ol(o,1/n,s),l!==void 0&&(o=Ol(o,1/l,s)),o}function LD(o,e=0,n=1,s=.5,l,u=o,c=o){if(cn.test(e)&&(e=parseFloat(e),e=Gt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let m=Gt(u.min,u.max,s);o===u&&(m-=e),o.min=Uy(o.min,e,n,m,l),o.max=Uy(o.max,e,n,m,l)}function Iy(o,e,[n,s,l],u,c){LD(o,e[n],e[s],e[l],e.scale,u,c)}const VD=["x","scaleX","originX"],PD=["y","scaleY","originY"];function zy(o,e,n,s){Iy(o.x,e,VD,n?n.x:void 0,s?s.x:void 0),Iy(o.y,e,PD,n?n.y:void 0,s?s.y:void 0)}function ky(o){return o.translate===0&&o.scale===1}function n0(o){return ky(o.x)&&ky(o.y)}function Oy(o,e){return o.min===e.min&&o.max===e.max}function BD(o,e){return Oy(o.x,e.x)&&Oy(o.y,e.y)}function qy(o,e){return Math.round(o.min)===Math.round(e.min)&&Math.round(o.max)===Math.round(e.max)}function i0(o,e){return qy(o.x,e.x)&&qy(o.y,e.y)}function Gy(o){return ye(o.x)/ye(o.y)}function Hy(o,e){return o.translate===e.translate&&o.scale===e.scale&&o.originPoint===e.originPoint}class UD{constructor(){this.members=[]}add(e){mf(this.members,e),e.scheduleRender()}remove(e){if(pf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(l=>e===l);if(n===0)return!1;let s;for(let l=n;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:l}=e.options;l===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ID(o,e,n){let s="";const l=o.x.translate/e.x,u=o.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((l||u||c)&&(s=`translate3d(${l}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:v,rotateX:S,rotateY:E,skewX:b,skewY:M}=n;h&&(s=`perspective(${h}px) ${s}`),v&&(s+=`rotate(${v}deg) `),S&&(s+=`rotateX(${S}deg) `),E&&(s+=`rotateY(${E}deg) `),b&&(s+=`skewX(${b}deg) `),M&&(s+=`skewY(${M}deg) `)}const m=o.x.scale*e.x,y=o.y.scale*e.y;return(m!==1||y!==1)&&(s+=`scale(${m}, ${y})`),s||"none"}const Mc=["","X","Y","Z"],zD=1e3;let kD=0;function xc(o,e,n,s){const{latestValues:l}=e;l[o]&&(n[o]=l[o],e.setStaticValue(o,0),s&&(s[o]=0))}function o0(o){if(o.hasCheckedOptimisedAppear=!0,o.root===o)return;const{visualElement:e}=o.options;if(!e)return;const n=HT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:l,layoutId:u}=o.options;window.MotionCancelOptimisedAnimation(n,"transform",Ot,!(l||u))}const{parent:s}=o;s&&!s.hasCheckedOptimisedAppear&&o0(s)}function a0({attachResizeListener:o,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:l}){return class{constructor(c={},m=e==null?void 0:e()){this.id=kD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(GD),this.nodes.forEach(KD),this.nodes.forEach(QD),this.nodes.forEach(HD)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new xD)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new vf),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const y=this.eventHandlers.get(c);y&&y.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=ST(c)&&!w_(c),this.instance=c;const{layoutId:m,layout:y,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||m)&&(this.isLayoutDirty=!0),o){let v,S=0;const E=()=>this.root.updateBlockedByResize=!1;Ot.read(()=>{S=window.innerWidth}),o(c,()=>{const b=window.innerWidth;b!==S&&(S=b,this.root.updateBlockedByResize=!0,v&&v(),v=_D(E,250),Ll.hasAnimatedSinceResize&&(Ll.hasAnimatedSinceResize=!1,this.nodes.forEach(Ky)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&h&&(m||y)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:S,hasRelativeLayoutChanged:E,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||h.getDefaultTransition()||WD,{onLayoutAnimationStart:D,onLayoutAnimationComplete:z}=h.getProps(),k=!this.targetLayout||!i0(this.targetLayout,b),O=!S&&E;if(this.options.layoutRoot||this.resumeFrom||O||S&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const V={...Nf(M,"layout"),onPlay:D,onComplete:z};(h.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V),this.setAnimationOrigin(v,O)}else S||Ky(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ni(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XD),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&o0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const S=this.path[v];S.shouldResetTransform=!0,S.updateScroll("snapshot"),S.options.layoutRoot&&S.willUpdate(!1)}const{layoutId:m,layout:y}=this.options;if(m===void 0&&!y)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Fy);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Yy);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(YD),this.nodes.forEach(OD),this.nodes.forEach(qD)):this.nodes.forEach(Yy),this.clearAllSnapshots();const m=Ae.now();ue.delta=Rn(0,1e3/60,m-ue.timestamp),ue.timestamp=m,ue.isProcessing=!0,mc.update.process(ue),mc.preRender.process(ue),mc.render.process(ue),ue.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FD),this.sharedNodes.forEach(ZD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ye(this.snapshot.measuredBox.x)&&!ye(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const y=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:y,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!l)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!n0(this.projectionDelta),y=this.getTransformTemplate(),h=y?y(this.latestValues,""):void 0,v=h!==this.prevTransformTemplateValue;c&&this.instance&&(m||Ri(this.latestValues)||v)&&(l(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let y=this.removeElementScroll(m);return c&&(y=this.removeTransform(y)),jD(y),{animationId:this.root.animationId,measuredBox:m,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:c}=this.options;if(!c)return Zt();const m=c.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(tw))){const{scroll:v}=this.root;v&&(bo(m.x,v.offset.x),bo(m.y,v.offset.y))}return m}removeElementScroll(c){var y;const m=Zt();if(Fe(m,c),(y=this.scroll)!=null&&y.wasRoot)return m;for(let h=0;h<this.path.length;h++){const v=this.path[h],{scroll:S,options:E}=v;v!==this.root&&S&&E.layoutScroll&&(S.wasRoot&&Fe(m,c),bo(m.x,S.offset.x),bo(m.y,S.offset.y))}return m}applyTransform(c,m=!1){const y=Zt();Fe(y,c);for(let h=0;h<this.path.length;h++){const v=this.path[h];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ao(y,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ri(v.latestValues)&&Ao(y,v.latestValues)}return Ri(this.latestValues)&&Ao(y,this.latestValues),y}removeTransform(c){const m=Zt();Fe(m,c);for(let y=0;y<this.path.length;y++){const h=this.path[y];if(!h.instance||!Ri(h.latestValues))continue;jc(h.latestValues)&&h.updateSnapshot();const v=Zt(),S=h.measurePageBox();Fe(v,S),zy(m,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,v)}return Ri(this.latestValues)&&zy(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ue.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var E;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==m;if(!(c||y&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:S}=this.options;if(!(!this.layout||!(v||S))){if(this.resolvedRelativeTargetAt=ue.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),Ga(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Fe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Zt(),this.targetWithTransforms=Zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fe(this.target,this.layout.layoutBox),IT(this.target,this.targetDelta)):Fe(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),Ga(this.relativeTargetOrigin,this.target,b.target),Fe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||jc(this.parent.latestValues)||UT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var M;const c=this.getLead(),m=!!this.resumingFrom||this!==c;let y=!0;if((this.isProjectionDirty||(M=this.parent)!=null&&M.isProjectionDirty)&&(y=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===ue.timestamp&&(y=!1),y)return;const{layout:h,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||v))return;Fe(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,E=this.treeScale.y;vR(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Zt());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(By(this.prevProjectionDelta.x,this.projectionDelta.x),By(this.prevProjectionDelta.y,this.projectionDelta.y)),qa(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==E||!Hy(this.projectionDelta.x,this.prevProjectionDelta.x)||!Hy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var m;if((m=this.options.visualElement)==null||m.scheduleRender(),c){const y=this.getStack();y&&y.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mo(),this.projectionDelta=Mo(),this.projectionDeltaWithTransform=Mo()}setAnimationOrigin(c,m=!1){const y=this.snapshot,h=y?y.latestValues:{},v={...this.latestValues},S=Mo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const E=Zt(),b=y?y.source:void 0,M=this.layout?this.layout.source:void 0,D=b!==M,z=this.getStack(),k=!z||z.members.length<=1,O=!!(D&&!k&&this.options.crossfade===!0&&!this.path.some($D));this.animationProgress=0;let V;this.mixTargetDelta=K=>{const w=K/1e3;Qy(S.x,c.x,w),Qy(S.y,c.y,w),this.setTargetDelta(S),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ga(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JD(this.relativeTarget,this.relativeTargetOrigin,E,w),V&&BD(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=Zt()),Fe(V,this.relativeTarget)),D&&(this.animationValues=v,DD(v,h,this.latestValues,w,O,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var m,y,h;this.notifyListeners("animationStart"),(m=this.currentAnimation)==null||m.stop(),(h=(y=this.resumingFrom)==null?void 0:y.currentAnimation)==null||h.stop(),this.pendingAnimation&&(ni(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ot.update(()=>{Ll.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_o(0)),this.currentAnimation=AD(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:y,layout:h,latestValues:v}=c;if(!(!m||!y||!h)){if(this!==c&&this.layout&&h&&s0(this.options.animationType,this.layout.layoutBox,h.layoutBox)){y=this.target||Zt();const S=ye(this.layout.layoutBox.x);y.x.min=c.target.x.min,y.x.max=y.x.min+S;const E=ye(this.layout.layoutBox.y);y.y.min=c.target.y.min,y.y.max=y.y.min+E}Fe(m,y),Ao(m,v),qa(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new UD),this.sharedNodes.get(c).add(m);const h=m.options.initialPromotionConfig;m.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var m;const{layoutId:c}=this.options;return c?((m=this.getStack())==null?void 0:m.lead)||this:this}getPrevLead(){var m;const{layoutId:c}=this.options;return c?(m=this.getStack())==null?void 0:m.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:y}={}){const h=this.getStack();h&&h.promote(this,y),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:y}=c;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(m=!0),!m)return;const h={};y.z&&xc("z",c,h,this.animationValues);for(let v=0;v<Mc.length;v++)xc(`rotate${Mc[v]}`,c,h,this.animationValues),xc(`skew${Mc[v]}`,c,h,this.animationValues);c.render();for(const v in h)c.setStaticValue(v,h[v]),this.animationValues&&(this.animationValues[v]=h[v]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Nl(m==null?void 0:m.pointerEvents)||"",c.transform=y?y(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Nl(m==null?void 0:m.pointerEvents)||""),this.hasProjected&&!Ri(this.latestValues)&&(c.transform=y?y({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=h.animationValues||h.latestValues;this.applyTransformsToTarget();let S=ID(this.projectionDeltaWithTransform,this.treeScale,v);y&&(S=y(v,S)),c.transform=S;const{x:E,y:b}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${b.origin*100}% 0`,h.animationValues?c.opacity=h===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=h===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const M in Za){if(v[M]===void 0)continue;const{correct:D,applyTo:z,isCSSVariable:k}=Za[M],O=S==="none"?v[M]:D(v[M],h);if(z){const V=z.length;for(let K=0;K<V;K++)c[z[K]]=O}else k?this.options.visualElement.renderState.vars[M]=O:c[M]=O}this.options.layoutId&&(c.pointerEvents=h===this?Nl(m==null?void 0:m.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var m;return(m=c.currentAnimation)==null?void 0:m.stop()}),this.root.nodes.forEach(Fy),this.root.sharedNodes.clear()}}}function OD(o){o.updateLayout()}function qD(o){var n;const e=((n=o.resumeFrom)==null?void 0:n.snapshot)||o.snapshot;if(o.isLead()&&o.layout&&e&&o.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:l}=o.layout,{animationType:u}=o.options,c=e.source!==o.layout.source;u==="size"?Ye(S=>{const E=c?e.measuredBox[S]:e.layoutBox[S],b=ye(E);E.min=s[S].min,E.max=E.min+b}):s0(u,e.layoutBox,s)&&Ye(S=>{const E=c?e.measuredBox[S]:e.layoutBox[S],b=ye(s[S]);E.max=E.min+b,o.relativeTarget&&!o.currentAnimation&&(o.isProjectionDirty=!0,o.relativeTarget[S].max=o.relativeTarget[S].min+b)});const m=Mo();qa(m,s,e.layoutBox);const y=Mo();c?qa(y,o.applyTransform(l,!0),e.measuredBox):qa(y,s,e.layoutBox);const h=!n0(m);let v=!1;if(!o.resumeFrom){const S=o.getClosestProjectingParent();if(S&&!S.resumeFrom){const{snapshot:E,layout:b}=S;if(E&&b){const M=Zt();Ga(M,e.layoutBox,E.layoutBox);const D=Zt();Ga(D,s,b.layoutBox),i0(M,D)||(v=!0),S.options.layoutRoot&&(o.relativeTarget=D,o.relativeTargetOrigin=M,o.relativeParent=S)}}}o.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:y,layoutDelta:m,hasLayoutChanged:h,hasRelativeLayoutChanged:v})}else if(o.isLead()){const{onExitComplete:s}=o.options;s&&s()}o.options.transition=void 0}function GD(o){o.parent&&(o.isProjecting()||(o.isProjectionDirty=o.parent.isProjectionDirty),o.isSharedProjectionDirty||(o.isSharedProjectionDirty=!!(o.isProjectionDirty||o.parent.isProjectionDirty||o.parent.isSharedProjectionDirty)),o.isTransformDirty||(o.isTransformDirty=o.parent.isTransformDirty))}function HD(o){o.isProjectionDirty=o.isSharedProjectionDirty=o.isTransformDirty=!1}function FD(o){o.clearSnapshot()}function Fy(o){o.clearMeasurements()}function Yy(o){o.isLayoutDirty=!1}function YD(o){const{visualElement:e}=o.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),o.resetTransform()}function Ky(o){o.finishAnimation(),o.targetDelta=o.relativeTarget=o.target=void 0,o.isProjectionDirty=!0}function KD(o){o.resolveTargetDelta()}function QD(o){o.calcProjection()}function XD(o){o.resetSkewAndRotation()}function ZD(o){o.removeLeadSnapshot()}function Qy(o,e,n){o.translate=Gt(e.translate,0,n),o.scale=Gt(e.scale,1,n),o.origin=e.origin,o.originPoint=e.originPoint}function Xy(o,e,n,s){o.min=Gt(e.min,n.min,s),o.max=Gt(e.max,n.max,s)}function JD(o,e,n,s){Xy(o.x,e.x,n.x,s),Xy(o.y,e.y,n.y,s)}function $D(o){return o.animationValues&&o.animationValues.opacityExit!==void 0}const WD={duration:.45,ease:[.4,0,.1,1]},Zy=o=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(o),Jy=Zy("applewebkit/")&&!Zy("chrome/")?Math.round:Qe;function $y(o){o.min=Jy(o.min),o.max=Jy(o.max)}function jD(o){$y(o.x),$y(o.y)}function s0(o,e,n){return o==="position"||o==="preserve-aspect"&&!aD(Gy(e),Gy(n),.2)}function tw(o){var e;return o!==o.root&&((e=o.scroll)==null?void 0:e.wasRoot)}const ew=a0({attachResizeListener:(o,e)=>Ja(o,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_c={current:void 0},l0=a0({measureScroll:o=>({x:o.scrollLeft,y:o.scrollTop}),defaultParent:()=>{if(!_c.current){const o=new ew({});o.mount(window),o.setOptions({layoutScroll:!0}),_c.current=o}return _c.current},resetTransform:(o,e)=>{o.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:o=>window.getComputedStyle(o).position==="fixed"}),nw={pan:{Feature:SD},drag:{Feature:TD,ProjectionNode:l0,MeasureLayout:jT}};function Wy(o,e,n){const{props:s}=o;o.animationState&&s.whileHover&&o.animationState.setActive("whileHover",n==="Start");const l="onHover"+n,u=s[l];u&&Ot.postRender(()=>u(e,ns(e)))}class iw extends li{mount(){const{current:e}=this.node;e&&(this.unmount=M_(e,(n,s)=>(Wy(this.node,s,"Start"),l=>Wy(this.node,l,"End"))))}unmount(){}}class ow extends li{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ja(Ja(this.node.current,"focus",()=>this.onFocus()),Ja(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jy(o,e,n){const{props:s}=o;if(o.current instanceof HTMLButtonElement&&o.current.disabled)return;o.animationState&&s.whileTap&&o.animationState.setActive("whileTap",n==="Start");const l="onTap"+(n==="End"?"":n),u=s[l];u&&Ot.postRender(()=>u(e,ns(e)))}class aw extends li{mount(){const{current:e}=this.node;e&&(this.unmount=D_(e,(n,s)=>(jy(this.node,s,"Start"),(l,{success:u})=>jy(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lf=new WeakMap,Rc=new WeakMap,sw=o=>{const e=lf.get(o.target);e&&e(o)},lw=o=>{o.forEach(sw)};function rw({root:o,...e}){const n=o||document;Rc.has(n)||Rc.set(n,{});const s=Rc.get(n),l=JSON.stringify(e);return s[l]||(s[l]=new IntersectionObserver(lw,{root:o,...e})),s[l]}function uw(o,e,n){const s=rw(e);return lf.set(o,n),s.observe(o),()=>{lf.delete(o),s.unobserve(o)}}const cw={some:0,all:1};class fw extends li{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:l="some",once:u}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof l=="number"?l:cw[l]},m=y=>{const{isIntersecting:h}=y;if(this.isInView===h||(this.isInView=h,u&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:v,onViewportLeave:S}=this.node.getProps(),E=h?v:S;E&&E(y)};return uw(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(dw(e,n))&&this.startObserver()}unmount(){}}function dw({viewport:o={}},{viewport:e={}}={}){return n=>o[n]!==e[n]}const hw={inView:{Feature:fw},tap:{Feature:aw},focus:{Feature:ow},hover:{Feature:iw}},mw={layout:{ProjectionNode:l0,MeasureLayout:jT}},pw={...jR,...hw,...nw,...mw},gw=pR(pw,RR);function tv(o,e){return e.split(".").reduce((n,s)=>n?n[s]:void 0,o)}function ev(o,e,n){const s=e.split("."),l=s.pop();let u=o;for(const c of s)(typeof u[c]!="object"||u[c]===null)&&(u[c]={}),u=u[c];u[l]=n}function rf(o,e=[],n=.7){if(!e||e.length===0)return{ask:!0,reason:"missing"};const s=[...e].sort((l,u)=>u.confidence-l.confidence)[0];return s.confidence>=n?{value:s.value,ask:!1}:{value:s.value,ask:!0,reason:"low_confidence"}}function Mt(o){var s;if(typeof window<"u"&&window.t)try{const l=window.t(o);if(l&&l!==o)return console.log(`Chatbot: Using global translation for "${o}":`,l),l}catch{console.log("Chatbot: Global translation failed, using fallback")}const e={de:{"ai.chatbot.title":"Zufahrtsschutz-Assistent","ai.chatbot.welcome":"Willkommen zum Zufahrtsschutz-Assistenten. Ich stelle nur Fragen, die noch fehlen oder unsicher sind. Bereit?","ai.chatbot.assetQuestion":"Welche Schutzgüter möchten Sie absichern? Hinweis: Grundlage für Schutzziel & Schutzklasse (DIN SPEC 91414-2 / ISO 22343-2)","ai.chatbot.inputPlaceholder":"Antwort eingeben...","ai.chatbot.sendButton":"Senden","ai.chatbot.stakeholderQuestion":"Wer sind die relevanten Stakeholder (Behörden, Veranstalter, Betreiber)?","ai.chatbot.restRiskQuestion":"Welches akzeptable Restrisiko gilt?","ai.chatbot.operationalQuestion":"Betriebsanforderungen (mehrfach wählbar)","ai.chatbot.threatQuestion":"Welche Art fahrzeuggestützter Bedrohung ist zu erwarten?","ai.chatbot.vehicleTypesQuestion":"Welche Fahrzeugtypen sind relevant?","ai.chatbot.accessCorridorsQuestion":"Wo könnten Fahrzeuge eindringen? (Karte markieren oder beschreiben)","ai.chatbot.speedQuestion":"Maximale Zufahrtsgeschwindigkeit (km/h)","ai.chatbot.angleQuestion":"Wahrscheinlicher Anprallwinkel (°)","ai.chatbot.groundQuestion":"Untergrund/Fundamente am Standort","ai.chatbot.riskMatrixQuestion":"Risikobewertung: Eintrittswahrscheinlichkeit & Schadensausmaß","ai.chatbot.completionMessage":"Danke! Alle erforderlichen Angaben sind vorhanden. Möchten Sie den normkonformen PDF-Plan erzeugen?","ai.chatbot.infoPrefix":"Hinweis: ","ai.chatbot.assetQuestionInfo":"Grundlage für Schutzziel & Schutzklasse (DIN SPEC 91414-2 / ISO 22343-2)","ai.chatbot.restRiskQuestionInfo":"Steuert Schutzklasse/Sicherungsgrad (DIN SPEC 91414-2)","ai.chatbot.speedQuestionInfo":"Pflichtparameter für FSB-Performance (ISO 22343-2/-1)","ai.chatbot.angleQuestionInfo":"Pflichtparameter für FSB-Performance (ISO 22343-2/-1)","ai.chatbot.riskMatrixQuestionInfo":"Erzeugt Sicherungsgrad & Schutzklasse (DIN SPEC 91414-2)","ai.chatbot.assetOptions":"Menschenmenge,Gebäude,KRITIS-Prozess,Veranstaltungsfläche","ai.chatbot.assetPlaceholder":"z. B. Menschenmenge, Bühne","ai.chatbot.stakeholderOptions":"Behörden,Veranstalter,Betreiber","ai.chatbot.restRiskOptions":"niedrig,mittel,hoch","ai.chatbot.operationalOptions":"Feuerwehrzufahrt,Fluchtwege,Verkehrssicherheit,Betriebssicherheit","ai.chatbot.threatOptions":"intentional,unbeabsichtigt,beides","ai.chatbot.vehicleOptions":"PKW,Transporter,LKW,Bus","ai.chatbot.groundOptions":"Asphalt,Beton,Pflaster,Erde,Unbekannt","ai.chatbot.riskMatrixOptions":"EW:niedrig|SA:gering,EW:niedrig|SA:mittel,EW:mittel|SA:mittel,EW:hoch|SA:schwer","ai.chatbot.accessCorridorsPlaceholder":"Polyline/Polygon auswählen oder kurz beschreiben"},en:{"ai.chatbot.title":"Access Protection Assistant","ai.chatbot.welcome":"Welcome to the Access Protection Assistant. I only ask questions that are still missing or uncertain. Ready?","ai.chatbot.assetQuestion":"Which protective assets would you like to secure? Note: Basis for Protection Goal & Protection Class (DIN SPEC 91414-2 / ISO 22343-2)","ai.chatbot.inputPlaceholder":"Enter answer...","ai.chatbot.sendButton":"Send","ai.chatbot.stakeholderQuestion":"Who are the relevant stakeholders (authorities, organizers, operators)?","ai.chatbot.restRiskQuestion":"What acceptable residual risk applies?","ai.chatbot.operationalQuestion":"Operational requirements (multiple choice)","ai.chatbot.threatQuestion":"What type of vehicle-based threat is expected?","ai.chatbot.vehicleTypesQuestion":"Which vehicle types are relevant?","ai.chatbot.accessCorridorsQuestion":"Where could vehicles penetrate? (Mark on map or describe)","ai.chatbot.speedQuestion":"Maximum access speed (km/h)","ai.chatbot.angleQuestion":"Probable impact angle (°)","ai.chatbot.groundQuestion":"Ground/foundations at the site","ai.chatbot.riskMatrixQuestion":"Risk assessment: probability of occurrence & extent of damage","ai.chatbot.completionMessage":"Thank you! All required information is available. Would you like to generate the standards-compliant PDF plan?","ai.chatbot.infoPrefix":"Note: ","ai.chatbot.assetQuestionInfo":"Basis for Protection Goal & Protection Class (DIN SPEC 91414-2 / ISO 22343-2)","ai.chatbot.restRiskQuestionInfo":"Controls Protection Class/Security Level (DIN SPEC 91414-2)","ai.chatbot.speedQuestionInfo":"Required parameter for FSB performance (ISO 22343-2/-1)","ai.chatbot.angleQuestionInfo":"Required parameter for FSB performance (ISO 22343-2/-1)","ai.chatbot.riskMatrixQuestionInfo":"Generates Security Level & Protection Class (DIN SPEC 91414-2)","ai.chatbot.assetOptions":"Crowd,Building,CRITIS Process,Event Area","ai.chatbot.assetPlaceholder":"e.g. crowd, stage","ai.chatbot.stakeholderOptions":"Authorities,Organizers,Operators","ai.chatbot.restRiskOptions":"low,medium,high","ai.chatbot.operationalOptions":"Fire Brigade Access,Escape Routes,Traffic Safety,Operational Safety","ai.chatbot.threatOptions":"intentional,unintentional,both","ai.chatbot.vehicleOptions":"Car,Van,Truck,Bus","ai.chatbot.groundOptions":"Asphalt,Concrete,Pavement,Earth,Unknown","ai.chatbot.riskMatrixOptions":"PO:low|SD:medium,PO:medium|SD:medium,PO:high|SD:severe","ai.chatbot.accessCorridorsPlaceholder":"Select polyline/polygon or describe briefly"}};let n="de";if(typeof window<"u")if(window.currentLanguage)n=window.currentLanguage,console.log("Chatbot: Language from window.currentLanguage:",n);else if(window.translations&&window.translations.currentLanguage)n=window.translations.currentLanguage,console.log("Chatbot: Language from window.translations.currentLanguage:",n);else{const l=document.querySelector('.lang-btn[data-lang="de"].active'),u=document.querySelector('.lang-btn[data-lang="en"].active');if(console.log("Chatbot: DOM flag detection - German flag:",l,"English flag:",u),u)n="en",console.log("Chatbot: Language from DOM flag detection (EN):",n);else if(l)n="de",console.log("Chatbot: Language from DOM flag detection (DE):",n);else{console.log("Chatbot: Language detection failed, using default (DE)");const c=document.querySelectorAll(".lang-btn");console.log("Chatbot: All lang-btn elements found:",c),c.forEach((m,y)=>{console.log(`Chatbot: lang-btn ${y}:`,{classList:m.classList.toString(),dataLang:m.dataset.lang,isActive:m.classList.contains("active")})})}}return console.log(`Chatbot translation for key "${o}": language="${n}", result="${((s=e[n])==null?void 0:s[o])||o}"`),e[n]&&e[n][o]?e[n][o]:o}function yw(){return[{id:"schutzgueter",label:Mt("ai.chatbot.assetQuestion"),field:"schutzgüter",type:"chips",options:Mt("ai.chatbot.assetOptions").split(","),placeholder:Mt("ai.chatbot.assetPlaceholder"),info:Mt("ai.chatbot.assetQuestionInfo")},{id:"stakeholder",label:Mt("ai.chatbot.stakeholderQuestion"),field:"stakeholder",type:"chips",options:Mt("ai.chatbot.stakeholderOptions").split(",")},{id:"restrisiko",label:Mt("ai.chatbot.restRiskQuestion"),field:"restrisiko.klasse",type:"select",options:Mt("ai.chatbot.restRiskOptions").split(","),info:Mt("ai.chatbot.restRiskQuestionInfo")},{id:"betrieb",label:Mt("ai.chatbot.operationalQuestion"),field:"betrieb",type:"multiselect",options:Mt("ai.chatbot.operationalOptions").split(",")},{id:"bedrohung",label:Mt("ai.chatbot.threatQuestion"),field:"risiko.bedrohung.art",type:"select",options:Mt("ai.chatbot.threatOptions").split(",")},{id:"fahrzeugtypen",label:Mt("ai.chatbot.vehicleTypesQuestion"),field:"risiko.bedrohung.fahrzeugtypen",type:"chips",options:Mt("ai.chatbot.vehicleOptions").split(",")},{id:"anfahrkorridore",label:Mt("ai.chatbot.accessCorridorsQuestion"),field:"risiko.site.anfahrkorridore",type:"geo",placeholder:Mt("ai.chatbot.accessCorridorsPlaceholder")},{id:"geschwindigkeit",label:Mt("ai.chatbot.speedQuestion"),field:"risiko.dynamik.v_kmh",type:"number",info:Mt("ai.chatbot.speedQuestionInfo"),resolver:o=>rf("risiko.dynamik.v_kmh",o,.7)},{id:"winkel",label:Mt("ai.chatbot.angleQuestion"),field:"risiko.dynamik.winkel_grad",type:"number",info:Mt("ai.chatbot.angleQuestionInfo"),resolver:o=>rf("risiko.dynamik.winkel_grad",o,.7)},{id:"untergrund",label:Mt("ai.chatbot.groundQuestion"),field:"risiko.site.untergrund",type:"select",options:Mt("ai.chatbot.groundOptions").split(",")},{id:"risikomatrix",label:Mt("ai.chatbot.riskMatrixQuestion"),field:"risiko.matrix",type:"select",options:Mt("ai.chatbot.riskMatrixOptions").split(","),info:Mt("ai.chatbot.riskMatrixQuestionInfo")}]}function vw({open:o,onToggle:e}){return Ut.jsx("button",{"aria-label":Mt("ai.chatbot.title"),onClick:e,className:"zb-btn",children:Ut.jsx("span",{className:"text-xl",children:o?"×":"💬"})})}function Tw({role:o,text:e}){const n=o==="bot";return Ut.jsx("div",{className:`zb-msg ${n?"zb-msg-left":"zb-msg-right"}`,children:Ut.jsx("div",{className:`zb-bubble ${n?"zb-bot":"zb-user"}`,children:e})})}function Sw({onSend:o}){const[e,n]=j.useState("");return Ut.jsxs("div",{className:"zb-input",children:[Ut.jsx("input",{className:"zb-input-field",placeholder:Mt("ai.chatbot.inputPlaceholder"),value:e,onChange:s=>n(s.target.value),onKeyDown:s=>{s.key==="Enter"&&e.trim()&&(o(e.trim()),n(""))}}),Ut.jsx("button",{className:"zb-input-send",onClick:()=>{e.trim()&&(o(e.trim()),n(""))},children:Mt("ai.chatbot.sendButton")})]})}function Ew({planningState:o,setPlanningState:e,getCandidatesFor:n}){const[s,l]=j.useState({}),u=o??s,c=e??(w=>l(X=>w(X)));window.planningState=u;const[m,y]=j.useState(!0),[h,v]=j.useState([]),[S,E]=j.useState(null),[b,M]=j.useState(!1),D=j.useRef(null);j.useEffect(()=>{h.length===0&&z(Mt("ai.chatbot.welcome"))},[]),j.useEffect(()=>{h.length>0&&(D.current&&(D.current.scrollTop=D.current.scrollHeight),setTimeout(()=>{D.current&&(D.current.scrollTop=D.current.scrollHeight)},50))},[h.length]);function z(w){v(X=>[...X,{role:"bot",text:w}])}function k(w,X){v(Z=>[...Z,{role:"user",text:w,field:X}])}const O=w=>{const X=tv(u,w.field);if(X!=null&&X!=="")return{ask:!1,value:X};const Z=n?n(w.field):[];return w.resolver?w.resolver(Z):rf(w.field,Z,.7)};function V(){for(const w of yw()){if(w.dependsOn&&w.dependsOn.find(q=>!tv(u,q)))continue;const X=O(w);if(X.ask)return w;X.value!==void 0&&c(Z=>{const q={...Z??{}};return ev(q,w.field,X.value),q})}return null}j.useEffect(()=>{if(b||S)return;const w=V();if(w){E(w);const X=w.label,Z=w.info?Mt("ai.chatbot.infoPrefix")+w.info:"";z(X+(Z?`

${Z}`:""))}else!b&&h.length>0&&(z(Mt("ai.chatbot.completionMessage")),M(!0))},[u,m,S,b]),j.useEffect(()=>{const w=()=>{console.log("Language changed, re-rendering chatbot"),v([]),E(null),M(!1),setTimeout(()=>{z(Mt("ai.chatbot.welcome"))},100)};window.addEventListener("languageChanged",w);const X=setInterval(()=>{const Z=window.currentLanguage;Z&&Z!==window.lastChatbotLanguage&&(window.lastChatbotLanguage=Z,console.log("Chatbot: Language change detected via polling:",Z),w());const q=document.querySelector('.lang-btn[data-lang="de"].active'),st=document.querySelector('.lang-btn[data-lang="en"].active');let at=null;st?at="en":q&&(at="de"),at&&at!==window.lastChatbotDetectedLanguage&&(window.lastChatbotDetectedLanguage=at,console.log("Chatbot: Language change detected via DOM flags:",at),w())},100);return()=>{window.removeEventListener("languageChanged",w),clearInterval(X)}},[]);function K(w){if(!S){/^(ja|start|bereit|ok|okay|los)/i.test(w)&&(M(!1),E(null)),k(w);return}k(w,S.field);let X=w;if(S.type==="number"){const Z=parseFloat(w.replace(",","."));X=isNaN(Z)?void 0:Z}else S.type==="chips"?X=w.split(",").map(Z=>Z.trim()).filter(Boolean):S.type==="multiselect"?X=w.split(",").map(Z=>Z.trim()).filter(Boolean):S.type==="select"?X=w.trim():S.type==="bool"&&(X=/^(ja|true|y|yes)$/i.test(w));c(Z=>{const q={...Z??{}};return X!==void 0&&ev(q,S.field,X),q}),E(null)}return Ut.jsxs(Ut.Fragment,{children:[Ut.jsx(vw,{open:m,onToggle:()=>y(w=>!w)}),Ut.jsx(I_,{children:m&&Ut.jsxs(gw.aside,{initial:{x:380,opacity:0},animate:{x:0,opacity:1},exit:{x:380,opacity:0},transition:{type:"spring",stiffness:240,damping:28},className:"zb-panel","aria-label":"Zufahrtsschutz-Assistent Panel",children:[Ut.jsx("header",{className:"zb-header",children:Ut.jsx("div",{className:"zb-title",children:Mt("ai.chatbot.title")})}),Ut.jsx("div",{className:"zb-messages",ref:D,children:h.map((w,X)=>Ut.jsx(Tw,{role:w.role,text:w.text},X))}),Ut.jsx(Sw,{onSend:K})]})})]})}var Dc={exports:{}},Va={},wc={exports:{}},Nc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function Cw(){return nv||(nv=1,function(o){function e(B,F){var $=B.length;B.push(F);t:for(;0<$;){var ht=$-1>>>1,x=B[ht];if(0<l(x,F))B[ht]=F,B[$]=x,$=ht;else break t}}function n(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var F=B[0],$=B.pop();if($!==F){B[0]=$;t:for(var ht=0,x=B.length,Q=x>>>1;ht<Q;){var et=2*(ht+1)-1,W=B[et],lt=et+1,xt=B[lt];if(0>l(W,$))lt<x&&0>l(xt,W)?(B[ht]=xt,B[lt]=$,ht=lt):(B[ht]=W,B[et]=$,ht=et);else if(lt<x&&0>l(xt,$))B[ht]=xt,B[lt]=$,ht=lt;else break t}}return F}function l(B,F){var $=B.sortIndex-F.sortIndex;return $!==0?$:B.id-F.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;o.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();o.unstable_now=function(){return c.now()-m}}var y=[],h=[],v=1,S=null,E=3,b=!1,M=!1,D=!1,z=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function K(B){for(var F=n(h);F!==null;){if(F.callback===null)s(h);else if(F.startTime<=B)s(h),F.sortIndex=F.expirationTime,e(y,F);else break;F=n(h)}}function w(B){if(D=!1,K(B),!M)if(n(y)!==null)M=!0,X||(X=!0,yt());else{var F=n(h);F!==null&&tt(w,F.startTime-B)}}var X=!1,Z=-1,q=5,st=-1;function at(){return z?!0:!(o.unstable_now()-st<q)}function pt(){if(z=!1,X){var B=o.unstable_now();st=B;var F=!0;try{t:{M=!1,D&&(D=!1,O(Z),Z=-1),b=!0;var $=E;try{e:{for(K(B),S=n(y);S!==null&&!(S.expirationTime>B&&at());){var ht=S.callback;if(typeof ht=="function"){S.callback=null,E=S.priorityLevel;var x=ht(S.expirationTime<=B);if(B=o.unstable_now(),typeof x=="function"){S.callback=x,K(B),F=!0;break e}S===n(y)&&s(y),K(B)}else s(y);S=n(y)}if(S!==null)F=!0;else{var Q=n(h);Q!==null&&tt(w,Q.startTime-B),F=!1}}break t}finally{S=null,E=$,b=!1}F=void 0}}finally{F?yt():X=!1}}}var yt;if(typeof V=="function")yt=function(){V(pt)};else if(typeof MessageChannel<"u"){var St=new MessageChannel,J=St.port2;St.port1.onmessage=pt,yt=function(){J.postMessage(null)}}else yt=function(){k(pt,0)};function tt(B,F){Z=k(function(){B(o.unstable_now())},F)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(B){B.callback=null},o.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<B?Math.floor(1e3/B):5},o.unstable_getCurrentPriorityLevel=function(){return E},o.unstable_next=function(B){switch(E){case 1:case 2:case 3:var F=3;break;default:F=E}var $=E;E=F;try{return B()}finally{E=$}},o.unstable_requestPaint=function(){z=!0},o.unstable_runWithPriority=function(B,F){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=E;E=B;try{return F()}finally{E=$}},o.unstable_scheduleCallback=function(B,F,$){var ht=o.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ht+$:ht):$=ht,B){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=$+x,B={id:v++,callback:F,priorityLevel:B,startTime:$,expirationTime:x,sortIndex:-1},$>ht?(B.sortIndex=$,e(h,B),n(y)===null&&B===n(h)&&(D?(O(Z),Z=-1):D=!0,tt(w,$-ht))):(B.sortIndex=x,e(y,B),M||b||(M=!0,X||(X=!0,yt()))),B},o.unstable_shouldYield=at,o.unstable_wrapCallback=function(B){var F=E;return function(){var $=E;E=F;try{return B.apply(this,arguments)}finally{E=$}}}}(Nc)),Nc}var iv;function bw(){return iv||(iv=1,wc.exports=Cw()),wc.exports}var Lc={exports:{}},he={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function Aw(){if(ov)return he;ov=1;var o=cf();function e(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,h,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:h,implementation:v}}var c=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return he.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,he.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return u(y,h,null,v)},he.flushSync=function(y){var h=c.T,v=s.p;try{if(c.T=null,s.p=2,y)return y()}finally{c.T=h,s.p=v,s.d.f()}},he.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(y,h))},he.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},he.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,S=m(v,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?s.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:b}):v==="script"&&s.d.X(y,{crossOrigin:S,integrity:E,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},he.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=m(h.as,h.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(y)},he.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,S=m(v,h.crossOrigin);s.d.L(y,v,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},he.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=m(h.as,h.crossOrigin);s.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(y)},he.requestFormReset=function(y){s.d.r(y)},he.unstable_batchedUpdates=function(y,h){return y(h)},he.useFormState=function(y,h,v){return c.H.useFormState(y,h,v)},he.useFormStatus=function(){return c.H.useHostTransitionStatus()},he.version="19.1.1",he}var av;function Mw(){if(av)return Lc.exports;av=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),Lc.exports=Aw(),Lc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function xw(){if(sv)return Va;sv=1;var o=bw(),e=cf(),n=Mw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,r=i;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(r=f.return,r!==null){a=r;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return m(f),t;if(g===r)return m(f),i;g=g.sibling}throw Error(s(188))}if(a.return!==r.return)a=f,r=g;else{for(var T=!1,C=f.child;C;){if(C===a){T=!0,a=f,r=g;break}if(C===r){T=!0,r=f,a=g;break}C=C.sibling}if(!T){for(C=g.child;C;){if(C===a){T=!0,a=g,r=f;break}if(C===r){T=!0,r=g,a=f;break}C=C.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==r)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function h(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=h(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),V=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),st=Symbol.for("react.activity"),at=Symbol.for("react.memo_cache_sentinel"),pt=Symbol.iterator;function yt(t){return t===null||typeof t!="object"?null:(t=pt&&t[pt]||t["@@iterator"],typeof t=="function"?t:null)}var St=Symbol.for("react.client.reference");function J(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===St?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case z:return"Profiler";case D:return"StrictMode";case w:return"Suspense";case X:return"SuspenseList";case st:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case V:return(t.displayName||"Context")+".Provider";case O:return(t._context.displayName||"Context")+".Consumer";case K:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z:return i=t.displayName||null,i!==null?i:J(t.type)||"Memo";case q:i=t._payload,t=t._init;try{return J(t(i))}catch{}}return null}var tt=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},ht=[],x=-1;function Q(t){return{current:t}}function et(t){0>x||(t.current=ht[x],ht[x]=null,x--)}function W(t,i){x++,ht[x]=t.current,t.current=i}var lt=Q(null),xt=Q(null),mt=Q(null),Me=Q(null);function It(t,i){switch(W(mt,i),W(xt,t),W(lt,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?fp(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=fp(i),t=dp(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(lt),W(lt,t)}function wn(){et(lt),et(xt),et(mt)}function $l(t){t.memoizedState!==null&&W(Me,t);var i=lt.current,a=dp(i,t.type);i!==a&&(W(xt,t),W(lt,a))}function is(t){xt.current===t&&(et(lt),et(xt)),Me.current===t&&(et(Me),xa._currentValue=$)}var Wl=Object.prototype.hasOwnProperty,jl=o.unstable_scheduleCallback,tr=o.unstable_cancelCallback,y0=o.unstable_shouldYield,v0=o.unstable_requestPaint,We=o.unstable_now,T0=o.unstable_getCurrentPriorityLevel,Yf=o.unstable_ImmediatePriority,Kf=o.unstable_UserBlockingPriority,os=o.unstable_NormalPriority,S0=o.unstable_LowPriority,Qf=o.unstable_IdlePriority,E0=o.log,C0=o.unstable_setDisableYieldValue,Po=null,xe=null;function Nn(t){if(typeof E0=="function"&&C0(t),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(Po,t)}catch{}}var _e=Math.clz32?Math.clz32:M0,b0=Math.log,A0=Math.LN2;function M0(t){return t>>>=0,t===0?32:31-(b0(t)/A0|0)|0}var as=256,ss=4194304;function ri(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ls(t,i,a){var r=t.pendingLanes;if(r===0)return 0;var f=0,g=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var C=r&134217727;return C!==0?(r=C&~g,r!==0?f=ri(r):(T&=C,T!==0?f=ri(T):a||(a=C&~t,a!==0&&(f=ri(a))))):(C=r&~g,C!==0?f=ri(C):T!==0?f=ri(T):a||(a=r&~t,a!==0&&(f=ri(a)))),f===0?0:i!==0&&i!==f&&(i&g)===0&&(g=f&-f,a=i&-i,g>=a||g===32&&(a&4194048)!==0)?i:f}function Bo(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function x0(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xf(){var t=as;return as<<=1,(as&4194048)===0&&(as=256),t}function Zf(){var t=ss;return ss<<=1,(ss&62914560)===0&&(ss=4194304),t}function er(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Uo(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _0(t,i,a,r,f,g){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var C=t.entanglements,A=t.expirationTimes,P=t.hiddenUpdates;for(a=T&~a;0<a;){var G=31-_e(a),Y=1<<G;C[G]=0,A[G]=-1;var U=P[G];if(U!==null)for(P[G]=null,G=0;G<U.length;G++){var I=U[G];I!==null&&(I.lane&=-536870913)}a&=~Y}r!==0&&Jf(t,r,0),g!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=g&~(T&~i))}function Jf(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var r=31-_e(i);t.entangledLanes|=i,t.entanglements[r]=t.entanglements[r]|1073741824|a&4194090}function $f(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var r=31-_e(a),f=1<<r;f&i|t[r]&i&&(t[r]|=i),a&=~f}}function nr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ir(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wf(){var t=F.p;return t!==0?t:(t=window.event,t===void 0?32:Np(t.type))}function R0(t,i){var a=F.p;try{return F.p=t,i()}finally{F.p=a}}var Ln=Math.random().toString(36).slice(2),fe="__reactFiber$"+Ln,ve="__reactProps$"+Ln,Vi="__reactContainer$"+Ln,or="__reactEvents$"+Ln,D0="__reactListeners$"+Ln,w0="__reactHandles$"+Ln,jf="__reactResources$"+Ln,Io="__reactMarker$"+Ln;function ar(t){delete t[fe],delete t[ve],delete t[or],delete t[D0],delete t[w0]}function Pi(t){var i=t[fe];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Vi]||a[fe]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=gp(t);t!==null;){if(a=t[fe])return a;t=gp(t)}return i}t=a,a=t.parentNode}return null}function Bi(t){if(t=t[fe]||t[Vi]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function zo(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Ui(t){var i=t[jf];return i||(i=t[jf]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ne(t){t[Io]=!0}var td=new Set,ed={};function ui(t,i){Ii(t,i),Ii(t+"Capture",i)}function Ii(t,i){for(ed[t]=i,t=0;t<i.length;t++)td.add(i[t])}var N0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nd={},id={};function L0(t){return Wl.call(id,t)?!0:Wl.call(nd,t)?!1:N0.test(t)?id[t]=!0:(nd[t]=!0,!1)}function rs(t,i,a){if(L0(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function us(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function fn(t,i,a,r){if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+r)}}var sr,od;function zi(t){if(sr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);sr=i&&i[1]||"",od=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sr+t+od}var lr=!1;function rr(t,i){if(!t||lr)return"";lr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(I){var U=I}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(I){U=I}t.call(Y.prototype)}}else{try{throw Error()}catch(I){U=I}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(I){if(I&&U&&typeof I.stack=="string")return[I.stack,U.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=r.DetermineComponentFrameRoot(),T=g[0],C=g[1];if(T&&C){var A=T.split(`
`),P=C.split(`
`);for(f=r=0;r<A.length&&!A[r].includes("DetermineComponentFrameRoot");)r++;for(;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;if(r===A.length||f===P.length)for(r=A.length-1,f=P.length-1;1<=r&&0<=f&&A[r]!==P[f];)f--;for(;1<=r&&0<=f;r--,f--)if(A[r]!==P[f]){if(r!==1||f!==1)do if(r--,f--,0>f||A[r]!==P[f]){var G=`
`+A[r].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=r&&0<=f);break}}}finally{lr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?zi(a):""}function V0(t){switch(t.tag){case 26:case 27:case 5:return zi(t.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return rr(t.type,!1);case 11:return rr(t.type.render,!1);case 1:return rr(t.type,!0);case 31:return zi("Activity");default:return""}}function ad(t){try{var i="";do i+=V0(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Be(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sd(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function P0(t){var i=sd(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),r=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){r=""+T,g.call(this,T)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(T){r=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function cs(t){t._valueTracker||(t._valueTracker=P0(t))}function ld(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),r="";return t&&(r=sd(t)?t.checked?"true":"false":t.value),t=r,t!==a?(i.setValue(t),!0):!1}function fs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var B0=/[\n"\\]/g;function Ue(t){return t.replace(B0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ur(t,i,a,r,f,g,T,C){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Be(i)):t.value!==""+Be(i)&&(t.value=""+Be(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?cr(t,T,Be(i)):a!=null?cr(t,T,Be(a)):r!=null&&t.removeAttribute("value"),f==null&&g!=null&&(t.defaultChecked=!!g),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+Be(C):t.removeAttribute("name")}function rd(t,i,a,r,f,g,T,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),i!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;a=a!=null?""+Be(a):"",i=i!=null?""+Be(i):a,C||i===t.value||(t.value=i),t.defaultValue=i}r=r??f,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=C?t.checked:!!r,t.defaultChecked=!!r,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function cr(t,i,a){i==="number"&&fs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ki(t,i,a,r){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&r&&(t[a].defaultSelected=!0)}else{for(a=""+Be(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,r&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function ud(t,i,a){if(i!=null&&(i=""+Be(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Be(a):""}function cd(t,i,a,r){if(i==null){if(r!=null){if(a!=null)throw Error(s(92));if(tt(r)){if(1<r.length)throw Error(s(93));r=r[0]}a=r}a==null&&(a=""),i=a}a=Be(i),t.defaultValue=a,r=t.textContent,r===a&&r!==""&&r!==null&&(t.value=r)}function Oi(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var U0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fd(t,i,a){var r=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":r?t.setProperty(i,a):typeof a!="number"||a===0||U0.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function dd(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var f in i)r=i[f],i.hasOwnProperty(f)&&a[f]!==r&&fd(t,f,r)}else for(var g in i)i.hasOwnProperty(g)&&fd(t,g,i[g])}function fr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),z0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ds(t){return z0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var dr=null;function hr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qi=null,Gi=null;function hd(t){var i=Bi(t);if(i&&(t=i.stateNode)){var a=t[ve]||null;t:switch(t=i.stateNode,i.type){case"input":if(ur(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ue(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var r=a[i];if(r!==t&&r.form===t.form){var f=r[ve]||null;if(!f)throw Error(s(90));ur(r,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)r=a[i],r.form===t.form&&ld(r)}break t;case"textarea":ud(t,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&ki(t,!!a.multiple,i,!1)}}}var mr=!1;function md(t,i,a){if(mr)return t(i,a);mr=!0;try{var r=t(i);return r}finally{if(mr=!1,(qi!==null||Gi!==null)&&($s(),qi&&(i=qi,t=Gi,Gi=qi=null,hd(i),t)))for(i=0;i<t.length;i++)hd(t[i])}}function ko(t,i){var a=t.stateNode;if(a===null)return null;var r=a[ve]||null;if(r===null)return null;a=r[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pr=!1;if(dn)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){pr=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{pr=!1}var Vn=null,gr=null,hs=null;function pd(){if(hs)return hs;var t,i=gr,a=i.length,r,f="value"in Vn?Vn.value:Vn.textContent,g=f.length;for(t=0;t<a&&i[t]===f[t];t++);var T=a-t;for(r=1;r<=T&&i[a-r]===f[g-r];r++);return hs=f.slice(t,1<r?1-r:void 0)}function ms(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ps(){return!0}function gd(){return!1}function Te(t){function i(a,r,f,g,T){this._reactName=a,this._targetInst=f,this.type=r,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(a=t[C],this[C]=a?a(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ps:gd,this.isPropagationStopped=gd,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),i}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gs=Te(ci),qo=v({},ci,{view:0,detail:0}),k0=Te(qo),yr,vr,Go,ys=v({},qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Go&&(Go&&t.type==="mousemove"?(yr=t.screenX-Go.screenX,vr=t.screenY-Go.screenY):vr=yr=0,Go=t),yr)},movementY:function(t){return"movementY"in t?t.movementY:vr}}),yd=Te(ys),O0=v({},ys,{dataTransfer:0}),q0=Te(O0),G0=v({},qo,{relatedTarget:0}),Tr=Te(G0),H0=v({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),F0=Te(H0),Y0=v({},ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),K0=Te(Y0),Q0=v({},ci,{data:0}),vd=Te(Q0),X0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $0(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=J0[t])?!!i[t]:!1}function Sr(){return $0}var W0=v({},qo,{key:function(t){if(t.key){var i=X0[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Z0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(t){return t.type==="keypress"?ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),j0=Te(W0),tS=v({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=Te(tS),eS=v({},qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),nS=Te(eS),iS=v({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),oS=Te(iS),aS=v({},ys,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sS=Te(aS),lS=v({},ci,{newState:0,oldState:0}),rS=Te(lS),uS=[9,13,27,32],Er=dn&&"CompositionEvent"in window,Ho=null;dn&&"documentMode"in document&&(Ho=document.documentMode);var cS=dn&&"TextEvent"in window&&!Ho,Sd=dn&&(!Er||Ho&&8<Ho&&11>=Ho),Ed=" ",Cd=!1;function bd(t,i){switch(t){case"keyup":return uS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ad(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hi=!1;function fS(t,i){switch(t){case"compositionend":return Ad(i);case"keypress":return i.which!==32?null:(Cd=!0,Ed);case"textInput":return t=i.data,t===Ed&&Cd?null:t;default:return null}}function dS(t,i){if(Hi)return t==="compositionend"||!Er&&bd(t,i)?(t=pd(),hs=gr=Vn=null,Hi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Sd&&i.locale!=="ko"?null:i.data;default:return null}}var hS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Md(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!hS[t.type]:i==="textarea"}function xd(t,i,a,r){qi?Gi?Gi.push(r):Gi=[r]:qi=r,i=il(i,"onChange"),0<i.length&&(a=new gs("onChange","change",null,a,r),t.push({event:a,listeners:i}))}var Fo=null,Yo=null;function mS(t){sp(t,0)}function vs(t){var i=zo(t);if(ld(i))return t}function _d(t,i){if(t==="change")return i}var Rd=!1;if(dn){var Cr;if(dn){var br="oninput"in document;if(!br){var Dd=document.createElement("div");Dd.setAttribute("oninput","return;"),br=typeof Dd.oninput=="function"}Cr=br}else Cr=!1;Rd=Cr&&(!document.documentMode||9<document.documentMode)}function wd(){Fo&&(Fo.detachEvent("onpropertychange",Nd),Yo=Fo=null)}function Nd(t){if(t.propertyName==="value"&&vs(Yo)){var i=[];xd(i,Yo,t,hr(t)),md(mS,i)}}function pS(t,i,a){t==="focusin"?(wd(),Fo=i,Yo=a,Fo.attachEvent("onpropertychange",Nd)):t==="focusout"&&wd()}function gS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vs(Yo)}function yS(t,i){if(t==="click")return vs(i)}function vS(t,i){if(t==="input"||t==="change")return vs(i)}function TS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Re=typeof Object.is=="function"?Object.is:TS;function Ko(t,i){if(Re(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),r=Object.keys(i);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var f=a[r];if(!Wl.call(i,f)||!Re(t[f],i[f]))return!1}return!0}function Ld(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vd(t,i){var a=Ld(t);t=0;for(var r;a;){if(a.nodeType===3){if(r=t+a.textContent.length,t<=i&&r>=i)return{node:a,offset:i-t};t=r}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ld(a)}}function Pd(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Pd(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Bd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=fs(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=fs(t.document)}return i}function Ar(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var SS=dn&&"documentMode"in document&&11>=document.documentMode,Fi=null,Mr=null,Qo=null,xr=!1;function Ud(t,i,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xr||Fi==null||Fi!==fs(r)||(r=Fi,"selectionStart"in r&&Ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qo&&Ko(Qo,r)||(Qo=r,r=il(Mr,"onSelect"),0<r.length&&(i=new gs("onSelect","select",null,i,a),t.push({event:i,listeners:r}),i.target=Fi)))}function fi(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Yi={animationend:fi("Animation","AnimationEnd"),animationiteration:fi("Animation","AnimationIteration"),animationstart:fi("Animation","AnimationStart"),transitionrun:fi("Transition","TransitionRun"),transitionstart:fi("Transition","TransitionStart"),transitioncancel:fi("Transition","TransitionCancel"),transitionend:fi("Transition","TransitionEnd")},_r={},Id={};dn&&(Id=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function di(t){if(_r[t])return _r[t];if(!Yi[t])return t;var i=Yi[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Id)return _r[t]=i[a];return t}var zd=di("animationend"),kd=di("animationiteration"),Od=di("animationstart"),ES=di("transitionrun"),CS=di("transitionstart"),bS=di("transitioncancel"),qd=di("transitionend"),Gd=new Map,Rr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rr.push("scrollEnd");function Xe(t,i){Gd.set(t,i),ui(i,[t])}var Hd=new WeakMap;function Ie(t,i){if(typeof t=="object"&&t!==null){var a=Hd.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ad(i)},Hd.set(t,i),i)}return{value:t,source:i,stack:ad(i)}}var ze=[],Ki=0,Dr=0;function Ts(){for(var t=Ki,i=Dr=Ki=0;i<t;){var a=ze[i];ze[i++]=null;var r=ze[i];ze[i++]=null;var f=ze[i];ze[i++]=null;var g=ze[i];if(ze[i++]=null,r!==null&&f!==null){var T=r.pending;T===null?f.next=f:(f.next=T.next,T.next=f),r.pending=f}g!==0&&Fd(a,f,g)}}function Ss(t,i,a,r){ze[Ki++]=t,ze[Ki++]=i,ze[Ki++]=a,ze[Ki++]=r,Dr|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function wr(t,i,a,r){return Ss(t,i,a,r),Es(t)}function Qi(t,i){return Ss(t,null,null,i),Es(t)}function Fd(t,i,a){t.lanes|=a;var r=t.alternate;r!==null&&(r.lanes|=a);for(var f=!1,g=t.return;g!==null;)g.childLanes|=a,r=g.alternate,r!==null&&(r.childLanes|=a),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(f=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,f&&i!==null&&(f=31-_e(a),t=g.hiddenUpdates,r=t[f],r===null?t[f]=[i]:r.push(i),i.lane=a|536870912),g):null}function Es(t){if(50<va)throw va=0,Uu=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Xi={};function AS(t,i,a,r){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function De(t,i,a,r){return new AS(t,i,a,r)}function Nr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hn(t,i){var a=t.alternate;return a===null?(a=De(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Yd(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Cs(t,i,a,r,f,g){var T=0;if(r=t,typeof t=="function")Nr(t)&&(T=1);else if(typeof t=="string")T=xE(t,a,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case st:return t=De(31,a,i,f),t.elementType=st,t.lanes=g,t;case M:return hi(a.children,f,g,i);case D:T=8,f|=24;break;case z:return t=De(12,a,i,f|2),t.elementType=z,t.lanes=g,t;case w:return t=De(13,a,i,f),t.elementType=w,t.lanes=g,t;case X:return t=De(19,a,i,f),t.elementType=X,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:case V:T=10;break t;case O:T=9;break t;case K:T=11;break t;case Z:T=14;break t;case q:T=16,r=null;break t}T=29,a=Error(s(130,t===null?"null":typeof t,"")),r=null}return i=De(T,a,i,f),i.elementType=t,i.type=r,i.lanes=g,i}function hi(t,i,a,r){return t=De(7,t,r,i),t.lanes=a,t}function Lr(t,i,a){return t=De(6,t,null,i),t.lanes=a,t}function Vr(t,i,a){return i=De(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Zi=[],Ji=0,bs=null,As=0,ke=[],Oe=0,mi=null,mn=1,pn="";function pi(t,i){Zi[Ji++]=As,Zi[Ji++]=bs,bs=t,As=i}function Kd(t,i,a){ke[Oe++]=mn,ke[Oe++]=pn,ke[Oe++]=mi,mi=t;var r=mn;t=pn;var f=32-_e(r)-1;r&=~(1<<f),a+=1;var g=32-_e(i)+f;if(30<g){var T=f-f%5;g=(r&(1<<T)-1).toString(32),r>>=T,f-=T,mn=1<<32-_e(i)+f|a<<f|r,pn=g+t}else mn=1<<g|a<<f|r,pn=t}function Pr(t){t.return!==null&&(pi(t,1),Kd(t,1,0))}function Br(t){for(;t===bs;)bs=Zi[--Ji],Zi[Ji]=null,As=Zi[--Ji],Zi[Ji]=null;for(;t===mi;)mi=ke[--Oe],ke[Oe]=null,pn=ke[--Oe],ke[Oe]=null,mn=ke[--Oe],ke[Oe]=null}var ge=null,Ht=null,Rt=!1,gi=null,je=!1,Ur=Error(s(519));function yi(t){var i=Error(s(418,""));throw Jo(Ie(i,t)),Ur}function Qd(t){var i=t.stateNode,a=t.type,r=t.memoizedProps;switch(i[fe]=t,i[ve]=r,a){case"dialog":bt("cancel",i),bt("close",i);break;case"iframe":case"object":case"embed":bt("load",i);break;case"video":case"audio":for(a=0;a<Sa.length;a++)bt(Sa[a],i);break;case"source":bt("error",i);break;case"img":case"image":case"link":bt("error",i),bt("load",i);break;case"details":bt("toggle",i);break;case"input":bt("invalid",i),rd(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),cs(i);break;case"select":bt("invalid",i);break;case"textarea":bt("invalid",i),cd(i,r.value,r.defaultValue,r.children),cs(i)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||r.suppressHydrationWarning===!0||cp(i.textContent,a)?(r.popover!=null&&(bt("beforetoggle",i),bt("toggle",i)),r.onScroll!=null&&bt("scroll",i),r.onScrollEnd!=null&&bt("scrollend",i),r.onClick!=null&&(i.onclick=ol),i=!0):i=!1,i||yi(t)}function Xd(t){for(ge=t.return;ge;)switch(ge.tag){case 5:case 13:je=!1;return;case 27:case 3:je=!0;return;default:ge=ge.return}}function Xo(t){if(t!==ge)return!1;if(!Rt)return Xd(t),Rt=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wu(t.type,t.memoizedProps)),a=!a),a&&Ht&&yi(t),Xd(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Ht=Je(t.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Ht=null}}else i===27?(i=Ht,Zn(t.type)?(t=nc,nc=null,Ht=t):Ht=i):Ht=ge?Je(t.stateNode.nextSibling):null;return!0}function Zo(){Ht=ge=null,Rt=!1}function Zd(){var t=gi;return t!==null&&(Ce===null?Ce=t:Ce.push.apply(Ce,t),gi=null),t}function Jo(t){gi===null?gi=[t]:gi.push(t)}var Ir=Q(null),vi=null,gn=null;function Pn(t,i,a){W(Ir,i._currentValue),i._currentValue=a}function yn(t){t._currentValue=Ir.current,et(Ir)}function zr(t,i,a){for(;t!==null;){var r=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),t===a)break;t=t.return}}function kr(t,i,a,r){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var g=f.dependencies;if(g!==null){var T=f.child;g=g.firstContext;t:for(;g!==null;){var C=g;g=f;for(var A=0;A<i.length;A++)if(C.context===i[A]){g.lanes|=a,C=g.alternate,C!==null&&(C.lanes|=a),zr(g.return,a,t),r||(T=null);break t}g=C.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,g=T.alternate,g!==null&&(g.lanes|=a),zr(T,a,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function $o(t,i,a,r){t=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var C=f.type;Re(f.pendingProps.value,T.value)||(t!==null?t.push(C):t=[C])}}else if(f===Me.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(xa):t=[xa])}f=f.return}t!==null&&kr(i,t,a,r),i.flags|=262144}function Ms(t){for(t=t.firstContext;t!==null;){if(!Re(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ti(t){vi=t,gn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function de(t){return Jd(vi,t)}function xs(t,i){return vi===null&&Ti(t),Jd(t,i)}function Jd(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},gn===null){if(t===null)throw Error(s(308));gn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else gn=gn.next=i;return a}var MS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,r){t.push(r)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},xS=o.unstable_scheduleCallback,_S=o.unstable_NormalPriority,te={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Or(){return{controller:new MS,data:new Map,refCount:0}}function Wo(t){t.refCount--,t.refCount===0&&xS(_S,function(){t.controller.abort()})}var jo=null,qr=0,$i=0,Wi=null;function RS(t,i){if(jo===null){var a=jo=[];qr=0,$i=Hu(),Wi={status:"pending",value:void 0,then:function(r){a.push(r)}}}return qr++,i.then($d,$d),i}function $d(){if(--qr===0&&jo!==null){Wi!==null&&(Wi.status="fulfilled");var t=jo;jo=null,$i=0,Wi=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function DS(t,i){var a=[],r={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){r.status="fulfilled",r.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(r.status="rejected",r.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),r}var Wd=B.S;B.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&RS(t,i),Wd!==null&&Wd(t,i)};var Si=Q(null);function Gr(){var t=Si.current;return t!==null?t:Bt.pooledCache}function _s(t,i){i===null?W(Si,Si.current):W(Si,i.pool)}function jd(){var t=Gr();return t===null?null:{parent:te._currentValue,pool:t}}var ta=Error(s(460)),th=Error(s(474)),Rs=Error(s(542)),Hr={then:function(){}};function eh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ds(){}function nh(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Ds,Ds),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,oh(t),t;default:if(typeof i.status=="string")i.then(Ds,Ds);else{if(t=Bt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(r){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=r}},function(r){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,oh(t),t}throw ea=i,ta}}var ea=null;function ih(){if(ea===null)throw Error(s(459));var t=ea;return ea=null,t}function oh(t){if(t===ta||t===Rs)throw Error(s(483))}var Bn=!1;function Fr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yr(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Un(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function In(t,i,a){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Dt&2)!==0){var f=r.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),r.pending=i,i=Es(t),Fd(t,null,a),i}return Ss(t,r,i,a),Es(t)}function na(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var r=i.lanes;r&=t.pendingLanes,a|=r,i.lanes=a,$f(t,a)}}function Kr(t,i){var a=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?f=g=T:g=g.next=T,a=a.next}while(a!==null);g===null?f=g=i:g=g.next=i}else f=g=i;a={baseState:r.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:r.shared,callbacks:r.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Qr=!1;function ia(){if(Qr){var t=Wi;if(t!==null)throw t}}function oa(t,i,a,r){Qr=!1;var f=t.updateQueue;Bn=!1;var g=f.firstBaseUpdate,T=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var A=C,P=A.next;A.next=null,T===null?g=P:T.next=P,T=A;var G=t.alternate;G!==null&&(G=G.updateQueue,C=G.lastBaseUpdate,C!==T&&(C===null?G.firstBaseUpdate=P:C.next=P,G.lastBaseUpdate=A))}if(g!==null){var Y=f.baseState;T=0,G=P=A=null,C=g;do{var U=C.lane&-536870913,I=U!==C.lane;if(I?(At&U)===U:(r&U)===U){U!==0&&U===$i&&(Qr=!0),G!==null&&(G=G.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var ft=t,rt=C;U=i;var Vt=a;switch(rt.tag){case 1:if(ft=rt.payload,typeof ft=="function"){Y=ft.call(Vt,Y,U);break t}Y=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=rt.payload,U=typeof ft=="function"?ft.call(Vt,Y,U):ft,U==null)break t;Y=v({},Y,U);break t;case 2:Bn=!0}}U=C.callback,U!==null&&(t.flags|=64,I&&(t.flags|=8192),I=f.callbacks,I===null?f.callbacks=[U]:I.push(U))}else I={lane:U,tag:C.tag,payload:C.payload,callback:C.callback,next:null},G===null?(P=G=I,A=Y):G=G.next=I,T|=U;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;I=C,C=I.next,I.next=null,f.lastBaseUpdate=I,f.shared.pending=null}}while(!0);G===null&&(A=Y),f.baseState=A,f.firstBaseUpdate=P,f.lastBaseUpdate=G,g===null&&(f.shared.lanes=0),Yn|=T,t.lanes=T,t.memoizedState=Y}}function ah(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function sh(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ah(a[t],i)}var ji=Q(null),ws=Q(0);function lh(t,i){t=An,W(ws,t),W(ji,i),An=t|i.baseLanes}function Xr(){W(ws,An),W(ji,ji.current)}function Zr(){An=ws.current,et(ji),et(ws)}var zn=0,Tt=null,Nt=null,$t=null,Ns=!1,to=!1,Ei=!1,Ls=0,aa=0,eo=null,wS=0;function Qt(){throw Error(s(321))}function Jr(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Re(t[a],i[a]))return!1;return!0}function $r(t,i,a,r,f,g){return zn=g,Tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=t===null||t.memoizedState===null?Fh:Yh,Ei=!1,g=a(r,f),Ei=!1,to&&(g=uh(i,a,r,f)),rh(t),g}function rh(t){B.H=zs;var i=Nt!==null&&Nt.next!==null;if(zn=0,$t=Nt=Tt=null,Ns=!1,aa=0,eo=null,i)throw Error(s(300));t===null||ie||(t=t.dependencies,t!==null&&Ms(t)&&(ie=!0))}function uh(t,i,a,r){Tt=t;var f=0;do{if(to&&(eo=null),aa=0,to=!1,25<=f)throw Error(s(301));if(f+=1,$t=Nt=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}B.H=IS,g=i(a,r)}while(to);return g}function NS(){var t=B.H,i=t.useState()[0];return i=typeof i.then=="function"?sa(i):i,t=t.useState()[0],(Nt!==null?Nt.memoizedState:null)!==t&&(Tt.flags|=1024),i}function Wr(){var t=Ls!==0;return Ls=0,t}function jr(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function tu(t){if(Ns){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ns=!1}zn=0,$t=Nt=Tt=null,to=!1,aa=Ls=0,eo=null}function Se(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Tt.memoizedState=$t=t:$t=$t.next=t,$t}function Wt(){if(Nt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var i=$t===null?Tt.memoizedState:$t.next;if(i!==null)$t=i,Nt=t;else{if(t===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},$t===null?Tt.memoizedState=$t=t:$t=$t.next=t}return $t}function eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sa(t){var i=aa;return aa+=1,eo===null&&(eo=[]),t=nh(eo,t,i),i=Tt,($t===null?i.memoizedState:$t.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?Fh:Yh),t}function Vs(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sa(t);if(t.$$typeof===V)return de(t)}throw Error(s(438,String(t)))}function nu(t){var i=null,a=Tt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var r=Tt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=eu(),Tt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),r=0;r<t;r++)a[r]=at;return i.index++,a}function vn(t,i){return typeof i=="function"?i(t):i}function Ps(t){var i=Wt();return iu(i,Nt,t)}function iu(t,i,a){var r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=a;var f=t.baseQueue,g=r.pending;if(g!==null){if(f!==null){var T=f.next;f.next=g.next,g.next=T}i.baseQueue=f=g,r.pending=null}if(g=t.baseState,f===null)t.memoizedState=g;else{i=f.next;var C=T=null,A=null,P=i,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(At&Y)===Y:(zn&Y)===Y){var U=P.revertLane;if(U===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===$i&&(G=!0);else if((zn&U)===U){P=P.next,U===$i&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},A===null?(C=A=Y,T=g):A=A.next=Y,Tt.lanes|=U,Yn|=U;Y=P.action,Ei&&a(g,Y),g=P.hasEagerState?P.eagerState:a(g,Y)}else U={lane:Y,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},A===null?(C=A=U,T=g):A=A.next=U,Tt.lanes|=Y,Yn|=Y;P=P.next}while(P!==null&&P!==i);if(A===null?T=g:A.next=C,!Re(g,t.memoizedState)&&(ie=!0,G&&(a=Wi,a!==null)))throw a;t.memoizedState=g,t.baseState=T,t.baseQueue=A,r.lastRenderedState=g}return f===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function ou(t){var i=Wt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var r=a.dispatch,f=a.pending,g=i.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do g=t(g,T.action),T=T.next;while(T!==f);Re(g,i.memoizedState)||(ie=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,r]}function ch(t,i,a){var r=Tt,f=Wt(),g=Rt;if(g){if(a===void 0)throw Error(s(407));a=a()}else a=i();var T=!Re((Nt||f).memoizedState,a);T&&(f.memoizedState=a,ie=!0),f=f.queue;var C=hh.bind(null,r,f,t);if(la(2048,8,C,[t]),f.getSnapshot!==i||T||$t!==null&&$t.memoizedState.tag&1){if(r.flags|=2048,no(9,Bs(),dh.bind(null,r,f,a,i),null),Bt===null)throw Error(s(349));g||(zn&124)!==0||fh(r,i,a)}return a}function fh(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Tt.updateQueue,i===null?(i=eu(),Tt.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function dh(t,i,a,r){i.value=a,i.getSnapshot=r,mh(i)&&ph(t)}function hh(t,i,a){return a(function(){mh(i)&&ph(t)})}function mh(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Re(t,a)}catch{return!0}}function ph(t){var i=Qi(t,2);i!==null&&Pe(i,t,2)}function au(t){var i=Se();if(typeof t=="function"){var a=t;if(t=a(),Ei){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:t},i}function gh(t,i,a,r){return t.baseState=a,iu(t,Nt,typeof r=="function"?r:vn)}function LS(t,i,a,r,f){if(Is(t))throw Error(s(485));if(t=i.action,t!==null){var g={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};B.T!==null?a(!0):g.isTransition=!1,r(g),a=i.pending,a===null?(g.next=i.pending=g,yh(i,g)):(g.next=a.next,i.pending=a.next=g)}}function yh(t,i){var a=i.action,r=i.payload,f=t.state;if(i.isTransition){var g=B.T,T={};B.T=T;try{var C=a(f,r),A=B.S;A!==null&&A(T,C),vh(t,i,C)}catch(P){su(t,i,P)}finally{B.T=g}}else try{g=a(f,r),vh(t,i,g)}catch(P){su(t,i,P)}}function vh(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){Th(t,i,r)},function(r){return su(t,i,r)}):Th(t,i,a)}function Th(t,i,a){i.status="fulfilled",i.value=a,Sh(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,yh(t,a)))}function su(t,i,a){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=a,Sh(i),i=i.next;while(i!==r)}t.action=null}function Sh(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Eh(t,i){return i}function Ch(t,i){if(Rt){var a=Bt.formState;if(a!==null){t:{var r=Tt;if(Rt){if(Ht){e:{for(var f=Ht,g=je;f.nodeType!==8;){if(!g){f=null;break e}if(f=Je(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Ht=Je(f.nextSibling),r=f.data==="F!";break t}}yi(r)}r=!1}r&&(i=a[0])}}return a=Se(),a.memoizedState=a.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eh,lastRenderedState:i},a.queue=r,a=qh.bind(null,Tt,r),r.dispatch=a,r=au(!1),g=fu.bind(null,Tt,!1,r.queue),r=Se(),f={state:i,dispatch:null,action:t,pending:null},r.queue=f,a=LS.bind(null,Tt,f,g,a),f.dispatch=a,r.memoizedState=t,[i,a,!1]}function bh(t){var i=Wt();return Ah(i,Nt,t)}function Ah(t,i,a){if(i=iu(t,i,Eh)[0],t=Ps(vn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=sa(i)}catch(T){throw T===ta?Rs:T}else r=i;i=Wt();var f=i.queue,g=f.dispatch;return a!==i.memoizedState&&(Tt.flags|=2048,no(9,Bs(),VS.bind(null,f,a),null)),[r,g,t]}function VS(t,i){t.action=i}function Mh(t){var i=Wt(),a=Nt;if(a!==null)return Ah(i,a,t);Wt(),i=i.memoizedState,a=Wt();var r=a.queue.dispatch;return a.memoizedState=t,[i,r,!1]}function no(t,i,a,r){return t={tag:t,create:a,deps:r,inst:i,next:null},i=Tt.updateQueue,i===null&&(i=eu(),Tt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(r=a.next,a.next=t,t.next=r,i.lastEffect=t),t}function Bs(){return{destroy:void 0,resource:void 0}}function xh(){return Wt().memoizedState}function Us(t,i,a,r){var f=Se();r=r===void 0?null:r,Tt.flags|=t,f.memoizedState=no(1|i,Bs(),a,r)}function la(t,i,a,r){var f=Wt();r=r===void 0?null:r;var g=f.memoizedState.inst;Nt!==null&&r!==null&&Jr(r,Nt.memoizedState.deps)?f.memoizedState=no(i,g,a,r):(Tt.flags|=t,f.memoizedState=no(1|i,g,a,r))}function _h(t,i){Us(8390656,8,t,i)}function Rh(t,i){la(2048,8,t,i)}function Dh(t,i){return la(4,2,t,i)}function wh(t,i){return la(4,4,t,i)}function Nh(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Lh(t,i,a){a=a!=null?a.concat([t]):null,la(4,4,Nh.bind(null,i,t),a)}function lu(){}function Vh(t,i){var a=Wt();i=i===void 0?null:i;var r=a.memoizedState;return i!==null&&Jr(i,r[1])?r[0]:(a.memoizedState=[t,i],t)}function Ph(t,i){var a=Wt();i=i===void 0?null:i;var r=a.memoizedState;if(i!==null&&Jr(i,r[1]))return r[0];if(r=t(),Ei){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[r,i],r}function ru(t,i,a){return a===void 0||(zn&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Im(),Tt.lanes|=t,Yn|=t,a)}function Bh(t,i,a,r){return Re(a,i)?a:ji.current!==null?(t=ru(t,a,r),Re(t,i)||(ie=!0),t):(zn&42)===0?(ie=!0,t.memoizedState=a):(t=Im(),Tt.lanes|=t,Yn|=t,i)}function Uh(t,i,a,r,f){var g=F.p;F.p=g!==0&&8>g?g:8;var T=B.T,C={};B.T=C,fu(t,!1,i,a);try{var A=f(),P=B.S;if(P!==null&&P(C,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var G=DS(A,r);ra(t,i,G,Ve(t))}else ra(t,i,r,Ve(t))}catch(Y){ra(t,i,{then:function(){},status:"rejected",reason:Y},Ve())}finally{F.p=g,B.T=T}}function PS(){}function uu(t,i,a,r){if(t.tag!==5)throw Error(s(476));var f=Ih(t).queue;Uh(t,f,i,$,a===null?PS:function(){return zh(t),a(r)})}function Ih(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:$},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function zh(t){var i=Ih(t).next.queue;ra(t,i,{},Ve())}function cu(){return de(xa)}function kh(){return Wt().memoizedState}function Oh(){return Wt().memoizedState}function BS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Ve();t=Un(a);var r=In(i,t,a);r!==null&&(Pe(r,i,a),na(r,i,a)),i={cache:Or()},t.payload=i;return}i=i.return}}function US(t,i,a){var r=Ve();a={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Is(t)?Gh(i,a):(a=wr(t,i,a,r),a!==null&&(Pe(a,t,r),Hh(a,i,r)))}function qh(t,i,a){var r=Ve();ra(t,i,a,r)}function ra(t,i,a,r){var f={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Is(t))Gh(i,f);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var T=i.lastRenderedState,C=g(T,a);if(f.hasEagerState=!0,f.eagerState=C,Re(C,T))return Ss(t,i,f,0),Bt===null&&Ts(),!1}catch{}finally{}if(a=wr(t,i,f,r),a!==null)return Pe(a,t,r),Hh(a,i,r),!0}return!1}function fu(t,i,a,r){if(r={lane:2,revertLane:Hu(),action:r,hasEagerState:!1,eagerState:null,next:null},Is(t)){if(i)throw Error(s(479))}else i=wr(t,a,r,2),i!==null&&Pe(i,t,2)}function Is(t){var i=t.alternate;return t===Tt||i!==null&&i===Tt}function Gh(t,i){to=Ns=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Hh(t,i,a){if((a&4194048)!==0){var r=i.lanes;r&=t.pendingLanes,a|=r,i.lanes=a,$f(t,a)}}var zs={readContext:de,use:Vs,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt},Fh={readContext:de,use:Vs,useCallback:function(t,i){return Se().memoizedState=[t,i===void 0?null:i],t},useContext:de,useEffect:_h,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Us(4194308,4,Nh.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Us(4194308,4,t,i)},useInsertionEffect:function(t,i){Us(4,2,t,i)},useMemo:function(t,i){var a=Se();i=i===void 0?null:i;var r=t();if(Ei){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[r,i],r},useReducer:function(t,i,a){var r=Se();if(a!==void 0){var f=a(i);if(Ei){Nn(!0);try{a(i)}finally{Nn(!1)}}}else f=i;return r.memoizedState=r.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},r.queue=t,t=t.dispatch=US.bind(null,Tt,t),[r.memoizedState,t]},useRef:function(t){var i=Se();return t={current:t},i.memoizedState=t},useState:function(t){t=au(t);var i=t.queue,a=qh.bind(null,Tt,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:lu,useDeferredValue:function(t,i){var a=Se();return ru(a,t,i)},useTransition:function(){var t=au(!1);return t=Uh.bind(null,Tt,t.queue,!0,!1),Se().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var r=Tt,f=Se();if(Rt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Bt===null)throw Error(s(349));(At&124)!==0||fh(r,i,a)}f.memoizedState=a;var g={value:a,getSnapshot:i};return f.queue=g,_h(hh.bind(null,r,g,t),[t]),r.flags|=2048,no(9,Bs(),dh.bind(null,r,g,a,i),null),a},useId:function(){var t=Se(),i=Bt.identifierPrefix;if(Rt){var a=pn,r=mn;a=(r&~(1<<32-_e(r)-1)).toString(32)+a,i="«"+i+"R"+a,a=Ls++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=wS++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:cu,useFormState:Ch,useActionState:Ch,useOptimistic:function(t){var i=Se();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=fu.bind(null,Tt,!0,a),a.dispatch=i,[t,i]},useMemoCache:nu,useCacheRefresh:function(){return Se().memoizedState=BS.bind(null,Tt)}},Yh={readContext:de,use:Vs,useCallback:Vh,useContext:de,useEffect:Rh,useImperativeHandle:Lh,useInsertionEffect:Dh,useLayoutEffect:wh,useMemo:Ph,useReducer:Ps,useRef:xh,useState:function(){return Ps(vn)},useDebugValue:lu,useDeferredValue:function(t,i){var a=Wt();return Bh(a,Nt.memoizedState,t,i)},useTransition:function(){var t=Ps(vn)[0],i=Wt().memoizedState;return[typeof t=="boolean"?t:sa(t),i]},useSyncExternalStore:ch,useId:kh,useHostTransitionStatus:cu,useFormState:bh,useActionState:bh,useOptimistic:function(t,i){var a=Wt();return gh(a,Nt,t,i)},useMemoCache:nu,useCacheRefresh:Oh},IS={readContext:de,use:Vs,useCallback:Vh,useContext:de,useEffect:Rh,useImperativeHandle:Lh,useInsertionEffect:Dh,useLayoutEffect:wh,useMemo:Ph,useReducer:ou,useRef:xh,useState:function(){return ou(vn)},useDebugValue:lu,useDeferredValue:function(t,i){var a=Wt();return Nt===null?ru(a,t,i):Bh(a,Nt.memoizedState,t,i)},useTransition:function(){var t=ou(vn)[0],i=Wt().memoizedState;return[typeof t=="boolean"?t:sa(t),i]},useSyncExternalStore:ch,useId:kh,useHostTransitionStatus:cu,useFormState:Mh,useActionState:Mh,useOptimistic:function(t,i){var a=Wt();return Nt!==null?gh(a,Nt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:nu,useCacheRefresh:Oh},io=null,ua=0;function ks(t){var i=ua;return ua+=1,io===null&&(io=[]),nh(io,t,i)}function ca(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Os(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Kh(t){var i=t._init;return i(t._payload)}function Qh(t){function i(R,_){if(t){var N=R.deletions;N===null?(R.deletions=[_],R.flags|=16):N.push(_)}}function a(R,_){if(!t)return null;for(;_!==null;)i(R,_),_=_.sibling;return null}function r(R){for(var _=new Map;R!==null;)R.key!==null?_.set(R.key,R):_.set(R.index,R),R=R.sibling;return _}function f(R,_){return R=hn(R,_),R.index=0,R.sibling=null,R}function g(R,_,N){return R.index=N,t?(N=R.alternate,N!==null?(N=N.index,N<_?(R.flags|=67108866,_):N):(R.flags|=67108866,_)):(R.flags|=1048576,_)}function T(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function C(R,_,N,H){return _===null||_.tag!==6?(_=Lr(N,R.mode,H),_.return=R,_):(_=f(_,N),_.return=R,_)}function A(R,_,N,H){var it=N.type;return it===M?G(R,_,N.props.children,H,N.key):_!==null&&(_.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===q&&Kh(it)===_.type)?(_=f(_,N.props),ca(_,N),_.return=R,_):(_=Cs(N.type,N.key,N.props,null,R.mode,H),ca(_,N),_.return=R,_)}function P(R,_,N,H){return _===null||_.tag!==4||_.stateNode.containerInfo!==N.containerInfo||_.stateNode.implementation!==N.implementation?(_=Vr(N,R.mode,H),_.return=R,_):(_=f(_,N.children||[]),_.return=R,_)}function G(R,_,N,H,it){return _===null||_.tag!==7?(_=hi(N,R.mode,H,it),_.return=R,_):(_=f(_,N),_.return=R,_)}function Y(R,_,N){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Lr(""+_,R.mode,N),_.return=R,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case E:return N=Cs(_.type,_.key,_.props,null,R.mode,N),ca(N,_),N.return=R,N;case b:return _=Vr(_,R.mode,N),_.return=R,_;case q:var H=_._init;return _=H(_._payload),Y(R,_,N)}if(tt(_)||yt(_))return _=hi(_,R.mode,N,null),_.return=R,_;if(typeof _.then=="function")return Y(R,ks(_),N);if(_.$$typeof===V)return Y(R,xs(R,_),N);Os(R,_)}return null}function U(R,_,N,H){var it=_!==null?_.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return it!==null?null:C(R,_,""+N,H);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case E:return N.key===it?A(R,_,N,H):null;case b:return N.key===it?P(R,_,N,H):null;case q:return it=N._init,N=it(N._payload),U(R,_,N,H)}if(tt(N)||yt(N))return it!==null?null:G(R,_,N,H,null);if(typeof N.then=="function")return U(R,_,ks(N),H);if(N.$$typeof===V)return U(R,_,xs(R,N),H);Os(R,N)}return null}function I(R,_,N,H,it){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return R=R.get(N)||null,C(_,R,""+H,it);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return R=R.get(H.key===null?N:H.key)||null,A(_,R,H,it);case b:return R=R.get(H.key===null?N:H.key)||null,P(_,R,H,it);case q:var Et=H._init;return H=Et(H._payload),I(R,_,N,H,it)}if(tt(H)||yt(H))return R=R.get(N)||null,G(_,R,H,it,null);if(typeof H.then=="function")return I(R,_,N,ks(H),it);if(H.$$typeof===V)return I(R,_,N,xs(_,H),it);Os(_,H)}return null}function ft(R,_,N,H){for(var it=null,Et=null,ot=_,ut=_=0,ae=null;ot!==null&&ut<N.length;ut++){ot.index>ut?(ae=ot,ot=null):ae=ot.sibling;var _t=U(R,ot,N[ut],H);if(_t===null){ot===null&&(ot=ae);break}t&&ot&&_t.alternate===null&&i(R,ot),_=g(_t,_,ut),Et===null?it=_t:Et.sibling=_t,Et=_t,ot=ae}if(ut===N.length)return a(R,ot),Rt&&pi(R,ut),it;if(ot===null){for(;ut<N.length;ut++)ot=Y(R,N[ut],H),ot!==null&&(_=g(ot,_,ut),Et===null?it=ot:Et.sibling=ot,Et=ot);return Rt&&pi(R,ut),it}for(ot=r(ot);ut<N.length;ut++)ae=I(ot,R,ut,N[ut],H),ae!==null&&(t&&ae.alternate!==null&&ot.delete(ae.key===null?ut:ae.key),_=g(ae,_,ut),Et===null?it=ae:Et.sibling=ae,Et=ae);return t&&ot.forEach(function(ti){return i(R,ti)}),Rt&&pi(R,ut),it}function rt(R,_,N,H){if(N==null)throw Error(s(151));for(var it=null,Et=null,ot=_,ut=_=0,ae=null,_t=N.next();ot!==null&&!_t.done;ut++,_t=N.next()){ot.index>ut?(ae=ot,ot=null):ae=ot.sibling;var ti=U(R,ot,_t.value,H);if(ti===null){ot===null&&(ot=ae);break}t&&ot&&ti.alternate===null&&i(R,ot),_=g(ti,_,ut),Et===null?it=ti:Et.sibling=ti,Et=ti,ot=ae}if(_t.done)return a(R,ot),Rt&&pi(R,ut),it;if(ot===null){for(;!_t.done;ut++,_t=N.next())_t=Y(R,_t.value,H),_t!==null&&(_=g(_t,_,ut),Et===null?it=_t:Et.sibling=_t,Et=_t);return Rt&&pi(R,ut),it}for(ot=r(ot);!_t.done;ut++,_t=N.next())_t=I(ot,R,ut,_t.value,H),_t!==null&&(t&&_t.alternate!==null&&ot.delete(_t.key===null?ut:_t.key),_=g(_t,_,ut),Et===null?it=_t:Et.sibling=_t,Et=_t);return t&&ot.forEach(function(zE){return i(R,zE)}),Rt&&pi(R,ut),it}function Vt(R,_,N,H){if(typeof N=="object"&&N!==null&&N.type===M&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case E:t:{for(var it=N.key;_!==null;){if(_.key===it){if(it=N.type,it===M){if(_.tag===7){a(R,_.sibling),H=f(_,N.props.children),H.return=R,R=H;break t}}else if(_.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===q&&Kh(it)===_.type){a(R,_.sibling),H=f(_,N.props),ca(H,N),H.return=R,R=H;break t}a(R,_);break}else i(R,_);_=_.sibling}N.type===M?(H=hi(N.props.children,R.mode,H,N.key),H.return=R,R=H):(H=Cs(N.type,N.key,N.props,null,R.mode,H),ca(H,N),H.return=R,R=H)}return T(R);case b:t:{for(it=N.key;_!==null;){if(_.key===it)if(_.tag===4&&_.stateNode.containerInfo===N.containerInfo&&_.stateNode.implementation===N.implementation){a(R,_.sibling),H=f(_,N.children||[]),H.return=R,R=H;break t}else{a(R,_);break}else i(R,_);_=_.sibling}H=Vr(N,R.mode,H),H.return=R,R=H}return T(R);case q:return it=N._init,N=it(N._payload),Vt(R,_,N,H)}if(tt(N))return ft(R,_,N,H);if(yt(N)){if(it=yt(N),typeof it!="function")throw Error(s(150));return N=it.call(N),rt(R,_,N,H)}if(typeof N.then=="function")return Vt(R,_,ks(N),H);if(N.$$typeof===V)return Vt(R,_,xs(R,N),H);Os(R,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,_!==null&&_.tag===6?(a(R,_.sibling),H=f(_,N),H.return=R,R=H):(a(R,_),H=Lr(N,R.mode,H),H.return=R,R=H),T(R)):a(R,_)}return function(R,_,N,H){try{ua=0;var it=Vt(R,_,N,H);return io=null,it}catch(ot){if(ot===ta||ot===Rs)throw ot;var Et=De(29,ot,null,R.mode);return Et.lanes=H,Et.return=R,Et}finally{}}}var oo=Qh(!0),Xh=Qh(!1),qe=Q(null),tn=null;function kn(t){var i=t.alternate;W(ee,ee.current&1),W(qe,t),tn===null&&(i===null||ji.current!==null||i.memoizedState!==null)&&(tn=t)}function Zh(t){if(t.tag===22){if(W(ee,ee.current),W(qe,t),tn===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(tn=t)}}else On()}function On(){W(ee,ee.current),W(qe,qe.current)}function Tn(t){et(qe),tn===t&&(tn=null),et(ee)}var ee=Q(0);function qs(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ec(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function du(t,i,a,r){i=t.memoizedState,a=a(r,i),a=a==null?i:v({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var hu={enqueueSetState:function(t,i,a){t=t._reactInternals;var r=Ve(),f=Un(r);f.payload=i,a!=null&&(f.callback=a),i=In(t,f,r),i!==null&&(Pe(i,t,r),na(i,t,r))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var r=Ve(),f=Un(r);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=In(t,f,r),i!==null&&(Pe(i,t,r),na(i,t,r))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Ve(),r=Un(a);r.tag=2,i!=null&&(r.callback=i),i=In(t,r,a),i!==null&&(Pe(i,t,a),na(i,t,a))}};function Jh(t,i,a,r,f,g,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,g,T):i.prototype&&i.prototype.isPureReactComponent?!Ko(a,r)||!Ko(f,g):!0}function $h(t,i,a,r){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,r),i.state!==t&&hu.enqueueReplaceState(i,i.state,null)}function Ci(t,i){var a=i;if("ref"in i){a={};for(var r in i)r!=="ref"&&(a[r]=i[r])}if(t=t.defaultProps){a===i&&(a=v({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var Gs=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Wh(t){Gs(t)}function jh(t){console.error(t)}function tm(t){Gs(t)}function Hs(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function em(t,i,a){try{var r=t.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function mu(t,i,a){return a=Un(a),a.tag=3,a.payload={element:null},a.callback=function(){Hs(t,i)},a}function nm(t){return t=Un(t),t.tag=3,t}function im(t,i,a,r){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var g=r.value;t.payload=function(){return f(g)},t.callback=function(){em(i,a,r)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){em(i,a,r),typeof f!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var C=r.stack;this.componentDidCatch(r.value,{componentStack:C!==null?C:""})})}function zS(t,i,a,r,f){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=a.alternate,i!==null&&$o(i,a,f,!0),a=qe.current,a!==null){switch(a.tag){case 13:return tn===null?zu():a.alternate===null&&Ft===0&&(Ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,r===Hr?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([r]):i.add(r),Ou(t,r,f)),!1;case 22:return a.flags|=65536,r===Hr?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([r]):a.add(r)),Ou(t,r,f)),!1}throw Error(s(435,a.tag))}return Ou(t,r,f),zu(),!1}if(Rt)return i=qe.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,r!==Ur&&(t=Error(s(422),{cause:r}),Jo(Ie(t,a)))):(r!==Ur&&(i=Error(s(423),{cause:r}),Jo(Ie(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,r=Ie(r,a),f=mu(t.stateNode,r,f),Kr(t,f),Ft!==4&&(Ft=2)),!1;var g=Error(s(520),{cause:r});if(g=Ie(g,a),ya===null?ya=[g]:ya.push(g),Ft!==4&&(Ft=2),i===null)return!0;r=Ie(r,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=mu(a.stateNode,r,t),Kr(a,t),!1;case 1:if(i=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Kn===null||!Kn.has(g))))return a.flags|=65536,f&=-f,a.lanes|=f,f=nm(f),im(f,t,a,r),Kr(a,f),!1}a=a.return}while(a!==null);return!1}var om=Error(s(461)),ie=!1;function se(t,i,a,r){i.child=t===null?Xh(i,null,a,r):oo(i,t.child,a,r)}function am(t,i,a,r,f){a=a.render;var g=i.ref;if("ref"in r){var T={};for(var C in r)C!=="ref"&&(T[C]=r[C])}else T=r;return Ti(i),r=$r(t,i,a,T,g,f),C=Wr(),t!==null&&!ie?(jr(t,i,f),Sn(t,i,f)):(Rt&&C&&Pr(i),i.flags|=1,se(t,i,r,f),i.child)}function sm(t,i,a,r,f){if(t===null){var g=a.type;return typeof g=="function"&&!Nr(g)&&g.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=g,lm(t,i,g,r,f)):(t=Cs(a.type,null,r,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(g=t.child,!Cu(t,f)){var T=g.memoizedProps;if(a=a.compare,a=a!==null?a:Ko,a(T,r)&&t.ref===i.ref)return Sn(t,i,f)}return i.flags|=1,t=hn(g,r),t.ref=i.ref,t.return=i,i.child=t}function lm(t,i,a,r,f){if(t!==null){var g=t.memoizedProps;if(Ko(g,r)&&t.ref===i.ref)if(ie=!1,i.pendingProps=r=g,Cu(t,f))(t.flags&131072)!==0&&(ie=!0);else return i.lanes=t.lanes,Sn(t,i,f)}return pu(t,i,a,r,f)}function rm(t,i,a){var r=i.pendingProps,f=r.children,g=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if((i.flags&128)!==0){if(r=g!==null?g.baseLanes|a:a,t!==null){for(f=i.child=t.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;i.childLanes=g&~r}else i.childLanes=0,i.child=null;return um(t,i,r,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&_s(i,g!==null?g.cachePool:null),g!==null?lh(i,g):Xr(),Zh(i);else return i.lanes=i.childLanes=536870912,um(t,i,g!==null?g.baseLanes|a:a,a)}else g!==null?(_s(i,g.cachePool),lh(i,g),On(),i.memoizedState=null):(t!==null&&_s(i,null),Xr(),On());return se(t,i,f,a),i.child}function um(t,i,a,r){var f=Gr();return f=f===null?null:{parent:te._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&_s(i,null),Xr(),Zh(i),t!==null&&$o(t,i,r,!0),null}function Fs(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function pu(t,i,a,r,f){return Ti(i),a=$r(t,i,a,r,void 0,f),r=Wr(),t!==null&&!ie?(jr(t,i,f),Sn(t,i,f)):(Rt&&r&&Pr(i),i.flags|=1,se(t,i,a,f),i.child)}function cm(t,i,a,r,f,g){return Ti(i),i.updateQueue=null,a=uh(i,r,a,f),rh(t),r=Wr(),t!==null&&!ie?(jr(t,i,g),Sn(t,i,g)):(Rt&&r&&Pr(i),i.flags|=1,se(t,i,a,g),i.child)}function fm(t,i,a,r,f){if(Ti(i),i.stateNode===null){var g=Xi,T=a.contextType;typeof T=="object"&&T!==null&&(g=de(T)),g=new a(r,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=hu,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=r,g.state=i.memoizedState,g.refs={},Fr(i),T=a.contextType,g.context=typeof T=="object"&&T!==null?de(T):Xi,g.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(du(i,a,T,r),g.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&hu.enqueueReplaceState(g,g.state,null),oa(i,r,g,f),ia(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(t===null){g=i.stateNode;var C=i.memoizedProps,A=Ci(a,C);g.props=A;var P=g.context,G=a.contextType;T=Xi,typeof G=="object"&&G!==null&&(T=de(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,G||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||P!==T)&&$h(i,g,r,T),Bn=!1;var U=i.memoizedState;g.state=U,oa(i,r,g,f),ia(),P=i.memoizedState,C||U!==P||Bn?(typeof Y=="function"&&(du(i,a,Y,r),P=i.memoizedState),(A=Bn||Jh(i,a,A,r,U,P,T))?(G||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=P),g.props=r,g.state=P,g.context=T,r=A):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{g=i.stateNode,Yr(t,i),T=i.memoizedProps,G=Ci(a,T),g.props=G,Y=i.pendingProps,U=g.context,P=a.contextType,A=Xi,typeof P=="object"&&P!==null&&(A=de(P)),C=a.getDerivedStateFromProps,(P=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==Y||U!==A)&&$h(i,g,r,A),Bn=!1,U=i.memoizedState,g.state=U,oa(i,r,g,f),ia();var I=i.memoizedState;T!==Y||U!==I||Bn||t!==null&&t.dependencies!==null&&Ms(t.dependencies)?(typeof C=="function"&&(du(i,a,C,r),I=i.memoizedState),(G=Bn||Jh(i,a,G,r,U,I,A)||t!==null&&t.dependencies!==null&&Ms(t.dependencies))?(P||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(r,I,A),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(r,I,A)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===t.memoizedProps&&U===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&U===t.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=I),g.props=r,g.state=I,g.context=A,r=G):(typeof g.componentDidUpdate!="function"||T===t.memoizedProps&&U===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&U===t.memoizedState||(i.flags|=1024),r=!1)}return g=r,Fs(t,i),r=(i.flags&128)!==0,g||r?(g=i.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,t!==null&&r?(i.child=oo(i,t.child,null,f),i.child=oo(i,null,a,f)):se(t,i,a,f),i.memoizedState=g.state,t=i.child):t=Sn(t,i,f),t}function dm(t,i,a,r){return Zo(),i.flags|=256,se(t,i,a,r),i.child}var gu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yu(t){return{baseLanes:t,cachePool:jd()}}function vu(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Ge),t}function hm(t,i,a){var r=i.pendingProps,f=!1,g=(i.flags&128)!==0,T;if((T=g)||(T=t!==null&&t.memoizedState===null?!1:(ee.current&2)!==0),T&&(f=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(Rt){if(f?kn(i):On(),Rt){var C=Ht,A;if(A=C){t:{for(A=C,C=je;A.nodeType!==8;){if(!C){C=null;break t}if(A=Je(A.nextSibling),A===null){C=null;break t}}C=A}C!==null?(i.memoizedState={dehydrated:C,treeContext:mi!==null?{id:mn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},A=De(18,null,null,0),A.stateNode=C,A.return=i,i.child=A,ge=i,Ht=null,A=!0):A=!1}A||yi(i)}if(C=i.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return ec(C)?i.lanes=32:i.lanes=536870912,null;Tn(i)}return C=r.children,r=r.fallback,f?(On(),f=i.mode,C=Ys({mode:"hidden",children:C},f),r=hi(r,f,a,null),C.return=i,r.return=i,C.sibling=r,i.child=C,f=i.child,f.memoizedState=yu(a),f.childLanes=vu(t,T,a),i.memoizedState=gu,r):(kn(i),Tu(i,C))}if(A=t.memoizedState,A!==null&&(C=A.dehydrated,C!==null)){if(g)i.flags&256?(kn(i),i.flags&=-257,i=Su(t,i,a)):i.memoizedState!==null?(On(),i.child=t.child,i.flags|=128,i=null):(On(),f=r.fallback,C=i.mode,r=Ys({mode:"visible",children:r.children},C),f=hi(f,C,a,null),f.flags|=2,r.return=i,f.return=i,r.sibling=f,i.child=r,oo(i,t.child,null,a),r=i.child,r.memoizedState=yu(a),r.childLanes=vu(t,T,a),i.memoizedState=gu,i=f);else if(kn(i),ec(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var P=T.dgst;T=P,r=Error(s(419)),r.stack="",r.digest=T,Jo({value:r,source:null,stack:null}),i=Su(t,i,a)}else if(ie||$o(t,i,a,!1),T=(a&t.childLanes)!==0,ie||T){if(T=Bt,T!==null&&(r=a&-a,r=(r&42)!==0?1:nr(r),r=(r&(T.suspendedLanes|a))!==0?0:r,r!==0&&r!==A.retryLane))throw A.retryLane=r,Qi(t,r),Pe(T,t,r),om;C.data==="$?"||zu(),i=Su(t,i,a)}else C.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=A.treeContext,Ht=Je(C.nextSibling),ge=i,Rt=!0,gi=null,je=!1,t!==null&&(ke[Oe++]=mn,ke[Oe++]=pn,ke[Oe++]=mi,mn=t.id,pn=t.overflow,mi=i),i=Tu(i,r.children),i.flags|=4096);return i}return f?(On(),f=r.fallback,C=i.mode,A=t.child,P=A.sibling,r=hn(A,{mode:"hidden",children:r.children}),r.subtreeFlags=A.subtreeFlags&65011712,P!==null?f=hn(P,f):(f=hi(f,C,a,null),f.flags|=2),f.return=i,r.return=i,r.sibling=f,i.child=r,r=f,f=i.child,C=t.child.memoizedState,C===null?C=yu(a):(A=C.cachePool,A!==null?(P=te._currentValue,A=A.parent!==P?{parent:P,pool:P}:A):A=jd(),C={baseLanes:C.baseLanes|a,cachePool:A}),f.memoizedState=C,f.childLanes=vu(t,T,a),i.memoizedState=gu,r):(kn(i),a=t.child,t=a.sibling,a=hn(a,{mode:"visible",children:r.children}),a.return=i,a.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=a,i.memoizedState=null,a)}function Tu(t,i){return i=Ys({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ys(t,i){return t=De(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Su(t,i,a){return oo(i,t.child,null,a),t=Tu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function mm(t,i,a){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i),zr(t.return,i,a)}function Eu(t,i,a,r,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=r,g.tail=a,g.tailMode=f)}function pm(t,i,a){var r=i.pendingProps,f=r.revealOrder,g=r.tail;if(se(t,i,r.children,a),r=ee.current,(r&2)!==0)r=r&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mm(t,a,i);else if(t.tag===19)mm(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break t;for(;t.sibling===null;){if(t.return===null||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(W(ee,r),f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&qs(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Eu(i,!1,f,a,g);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&qs(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Eu(i,!0,a,null,g);break;case"together":Eu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Sn(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Yn|=i.lanes,(a&i.childLanes)===0)if(t!==null){if($o(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=hn(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=hn(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Cu(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ms(t)))}function kS(t,i,a){switch(i.tag){case 3:It(i,i.stateNode.containerInfo),Pn(i,te,t.memoizedState.cache),Zo();break;case 27:case 5:$l(i);break;case 4:It(i,i.stateNode.containerInfo);break;case 10:Pn(i,i.type,i.memoizedProps.value);break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(kn(i),i.flags|=128,null):(a&i.child.childLanes)!==0?hm(t,i,a):(kn(i),t=Sn(t,i,a),t!==null?t.sibling:null);kn(i);break;case 19:var f=(t.flags&128)!==0;if(r=(a&i.childLanes)!==0,r||($o(t,i,a,!1),r=(a&i.childLanes)!==0),f){if(r)return pm(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),W(ee,ee.current),r)break;return null;case 22:case 23:return i.lanes=0,rm(t,i,a);case 24:Pn(i,te,t.memoizedState.cache)}return Sn(t,i,a)}function gm(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)ie=!0;else{if(!Cu(t,a)&&(i.flags&128)===0)return ie=!1,kS(t,i,a);ie=(t.flags&131072)!==0}else ie=!1,Rt&&(i.flags&1048576)!==0&&Kd(i,As,i.index);switch(i.lanes=0,i.tag){case 16:t:{t=i.pendingProps;var r=i.elementType,f=r._init;if(r=f(r._payload),i.type=r,typeof r=="function")Nr(r)?(t=Ci(r,t),i.tag=1,i=fm(null,i,r,t,a)):(i.tag=0,i=pu(null,i,r,t,a));else{if(r!=null){if(f=r.$$typeof,f===K){i.tag=11,i=am(null,i,r,t,a);break t}else if(f===Z){i.tag=14,i=sm(null,i,r,t,a);break t}}throw i=J(r)||r,Error(s(306,i,""))}}return i;case 0:return pu(t,i,i.type,i.pendingProps,a);case 1:return r=i.type,f=Ci(r,i.pendingProps),fm(t,i,r,f,a);case 3:t:{if(It(i,i.stateNode.containerInfo),t===null)throw Error(s(387));r=i.pendingProps;var g=i.memoizedState;f=g.element,Yr(t,i),oa(i,r,null,a);var T=i.memoizedState;if(r=T.cache,Pn(i,te,r),r!==g.cache&&kr(i,[te],a,!0),ia(),r=T.element,g.isDehydrated)if(g={element:r,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=dm(t,i,r,a);break t}else if(r!==f){f=Ie(Error(s(424)),i),Jo(f),i=dm(t,i,r,a);break t}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ht=Je(t.firstChild),ge=i,Rt=!0,gi=null,je=!0,a=Xh(i,null,r,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Zo(),r===f){i=Sn(t,i,a);break t}se(t,i,r,a)}i=i.child}return i;case 26:return Fs(t,i),t===null?(a=Sp(i.type,null,i.pendingProps,null))?i.memoizedState=a:Rt||(a=i.type,t=i.pendingProps,r=al(mt.current).createElement(a),r[fe]=i,r[ve]=t,re(r,a,t),ne(r),i.stateNode=r):i.memoizedState=Sp(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return $l(i),t===null&&Rt&&(r=i.stateNode=yp(i.type,i.pendingProps,mt.current),ge=i,je=!0,f=Ht,Zn(i.type)?(nc=f,Ht=Je(r.firstChild)):Ht=f),se(t,i,i.pendingProps.children,a),Fs(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Rt&&((f=r=Ht)&&(r=hE(r,i.type,i.pendingProps,je),r!==null?(i.stateNode=r,ge=i,Ht=Je(r.firstChild),je=!1,f=!0):f=!1),f||yi(i)),$l(i),f=i.type,g=i.pendingProps,T=t!==null?t.memoizedProps:null,r=g.children,Wu(f,g)?r=null:T!==null&&Wu(f,T)&&(i.flags|=32),i.memoizedState!==null&&(f=$r(t,i,NS,null,null,a),xa._currentValue=f),Fs(t,i),se(t,i,r,a),i.child;case 6:return t===null&&Rt&&((t=a=Ht)&&(a=mE(a,i.pendingProps,je),a!==null?(i.stateNode=a,ge=i,Ht=null,t=!0):t=!1),t||yi(i)),null;case 13:return hm(t,i,a);case 4:return It(i,i.stateNode.containerInfo),r=i.pendingProps,t===null?i.child=oo(i,null,r,a):se(t,i,r,a),i.child;case 11:return am(t,i,i.type,i.pendingProps,a);case 7:return se(t,i,i.pendingProps,a),i.child;case 8:return se(t,i,i.pendingProps.children,a),i.child;case 12:return se(t,i,i.pendingProps.children,a),i.child;case 10:return r=i.pendingProps,Pn(i,i.type,r.value),se(t,i,r.children,a),i.child;case 9:return f=i.type._context,r=i.pendingProps.children,Ti(i),f=de(f),r=r(f),i.flags|=1,se(t,i,r,a),i.child;case 14:return sm(t,i,i.type,i.pendingProps,a);case 15:return lm(t,i,i.type,i.pendingProps,a);case 19:return pm(t,i,a);case 31:return r=i.pendingProps,a=i.mode,r={mode:r.mode,children:r.children},t===null?(a=Ys(r,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=hn(t.child,r),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return rm(t,i,a);case 24:return Ti(i),r=de(te),t===null?(f=Gr(),f===null&&(f=Bt,g=Or(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=a),f=g),i.memoizedState={parent:r,cache:f},Fr(i),Pn(i,te,f)):((t.lanes&a)!==0&&(Yr(t,i),oa(i,null,null,a),ia()),f=t.memoizedState,g=i.memoizedState,f.parent!==r?(f={parent:r,cache:r},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Pn(i,te,r)):(r=g.cache,Pn(i,te,r),r!==f.cache&&kr(i,[te],a,!0))),se(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function En(t){t.flags|=4}function ym(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Mp(i)){if(i=qe.current,i!==null&&((At&4194048)===At?tn!==null:(At&62914560)!==At&&(At&536870912)===0||i!==tn))throw ea=Hr,th;t.flags|=8192}}function Ks(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Zf():536870912,t.lanes|=i,ro|=i)}function fa(t,i){if(!Rt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,r=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,r|=f.subtreeFlags&65011712,r|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,r|=f.subtreeFlags,r|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=r,t.childLanes=a,i}function OS(t,i,a){var r=i.pendingProps;switch(Br(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(i),null;case 1:return qt(i),null;case 3:return a=i.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),yn(te),wn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Xo(i)?En(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zd())),qt(i),null;case 26:return a=i.memoizedState,t===null?(En(i),a!==null?(qt(i),ym(i,a)):(qt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(En(i),qt(i),ym(i,a)):(qt(i),i.flags&=-16777217):(t.memoizedProps!==r&&En(i),qt(i),i.flags&=-16777217),null;case 27:is(i),a=mt.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==r&&En(i);else{if(!r){if(i.stateNode===null)throw Error(s(166));return qt(i),null}t=lt.current,Xo(i)?Qd(i):(t=yp(f,r,a),i.stateNode=t,En(i))}return qt(i),null;case 5:if(is(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==r&&En(i);else{if(!r){if(i.stateNode===null)throw Error(s(166));return qt(i),null}if(t=lt.current,Xo(i))Qd(i);else{switch(f=al(mt.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?f.createElement("select",{is:r.is}):f.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?f.createElement(a,{is:r.is}):f.createElement(a)}}t[fe]=i,t[ve]=r;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;t:switch(re(t,a,r),a){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&En(i)}}return qt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==r&&En(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(s(166));if(t=mt.current,Xo(i)){if(t=i.stateNode,a=i.memoizedProps,r=null,f=ge,f!==null)switch(f.tag){case 27:case 5:r=f.memoizedProps}t[fe]=i,t=!!(t.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||cp(t.nodeValue,a)),t||yi(i)}else t=al(t).createTextNode(r),t[fe]=i,i.stateNode=t}return qt(i),null;case 13:if(r=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Xo(i),r!==null&&r.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[fe]=i}else Zo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;qt(i),f=!1}else f=Zd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Tn(i),i):(Tn(i),null)}if(Tn(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=r!==null,t=t!==null&&t.memoizedState!==null,a){r=i.child,f=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(f=r.alternate.memoizedState.cachePool.pool);var g=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(g=r.memoizedState.cachePool.pool),g!==f&&(r.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Ks(i,i.updateQueue),qt(i),null;case 4:return wn(),t===null&&Qu(i.stateNode.containerInfo),qt(i),null;case 10:return yn(i.type),qt(i),null;case 19:if(et(ee),f=i.memoizedState,f===null)return qt(i),null;if(r=(i.flags&128)!==0,g=f.rendering,g===null)if(r)fa(f,!1);else{if(Ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(g=qs(t),g!==null){for(i.flags|=128,fa(f,!1),t=g.updateQueue,i.updateQueue=t,Ks(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Yd(a,t),a=a.sibling;return W(ee,ee.current&1|2),i.child}t=t.sibling}f.tail!==null&&We()>Zs&&(i.flags|=128,r=!0,fa(f,!1),i.lanes=4194304)}else{if(!r)if(t=qs(g),t!==null){if(i.flags|=128,r=!0,t=t.updateQueue,i.updateQueue=t,Ks(i,t),fa(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Rt)return qt(i),null}else 2*We()-f.renderingStartTime>Zs&&a!==536870912&&(i.flags|=128,r=!0,fa(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(t=f.last,t!==null?t.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=We(),i.sibling=null,t=ee.current,W(ee,r?t&1|2:t&1),i):(qt(i),null);case 22:case 23:return Tn(i),Zr(),r=i.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(a&536870912)!==0&&(i.flags&128)===0&&(qt(i),i.subtreeFlags&6&&(i.flags|=8192)):qt(i),a=i.updateQueue,a!==null&&Ks(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(i.flags|=2048),t!==null&&et(Si),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),yn(te),qt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function qS(t,i){switch(Br(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return yn(te),wn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return is(i),null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Zo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return et(ee),null;case 4:return wn(),null;case 10:return yn(i.type),null;case 22:case 23:return Tn(i),Zr(),t!==null&&et(Si),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return yn(te),null;case 25:return null;default:return null}}function vm(t,i){switch(Br(i),i.tag){case 3:yn(te),wn();break;case 26:case 27:case 5:is(i);break;case 4:wn();break;case 13:Tn(i);break;case 19:et(ee);break;case 10:yn(i.type);break;case 22:case 23:Tn(i),Zr(),t!==null&&et(Si);break;case 24:yn(te)}}function da(t,i){try{var a=i.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var f=r.next;a=f;do{if((a.tag&t)===t){r=void 0;var g=a.create,T=a.inst;r=g(),T.destroy=r}a=a.next}while(a!==f)}}catch(C){Pt(i,i.return,C)}}function qn(t,i,a){try{var r=i.updateQueue,f=r!==null?r.lastEffect:null;if(f!==null){var g=f.next;r=g;do{if((r.tag&t)===t){var T=r.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,f=i;var A=a,P=C;try{P()}catch(G){Pt(f,A,G)}}}r=r.next}while(r!==g)}}catch(G){Pt(i,i.return,G)}}function Tm(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{sh(i,a)}catch(r){Pt(t,t.return,r)}}}function Sm(t,i,a){a.props=Ci(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(r){Pt(t,i,r)}}function ha(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof a=="function"?t.refCleanup=a(r):a.current=r}}catch(f){Pt(t,i,f)}}function en(t,i){var a=t.ref,r=t.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(f){Pt(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Pt(t,i,f)}else a.current=null}function Em(t){var i=t.type,a=t.memoizedProps,r=t.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break t;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(f){Pt(t,t.return,f)}}function bu(t,i,a){try{var r=t.stateNode;rE(r,t.type,a,i),r[ve]=i}catch(f){Pt(t,t.return,f)}}function Cm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zn(t.type)||t.tag===4}function Au(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Cm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zn(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mu(t,i,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ol));else if(r!==4&&(r===27&&Zn(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Mu(t,i,a),t=t.sibling;t!==null;)Mu(t,i,a),t=t.sibling}function Qs(t,i,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(r!==4&&(r===27&&Zn(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Qs(t,i,a),t=t.sibling;t!==null;)Qs(t,i,a),t=t.sibling}function bm(t){var i=t.stateNode,a=t.memoizedProps;try{for(var r=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);re(i,r,a),i[fe]=t,i[ve]=a}catch(g){Pt(t,t.return,g)}}var Cn=!1,Xt=!1,xu=!1,Am=typeof WeakSet=="function"?WeakSet:Set,oe=null;function GS(t,i){if(t=t.containerInfo,Ju=fl,t=Bd(t),Ar(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var f=r.anchorOffset,g=r.focusNode;r=r.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break t}var T=0,C=-1,A=-1,P=0,G=0,Y=t,U=null;e:for(;;){for(var I;Y!==a||f!==0&&Y.nodeType!==3||(C=T+f),Y!==g||r!==0&&Y.nodeType!==3||(A=T+r),Y.nodeType===3&&(T+=Y.nodeValue.length),(I=Y.firstChild)!==null;)U=Y,Y=I;for(;;){if(Y===t)break e;if(U===a&&++P===f&&(C=T),U===g&&++G===r&&(A=T),(I=Y.nextSibling)!==null)break;Y=U,U=Y.parentNode}Y=I}a=C===-1||A===-1?null:{start:C,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for($u={focusedElem:t,selectionRange:a},fl=!1,oe=i;oe!==null;)if(i=oe,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,oe=t;else for(;oe!==null;){switch(i=oe,g=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,a=i,f=g.memoizedProps,g=g.memoizedState,r=a.stateNode;try{var ft=Ci(a.type,f,a.elementType===a.type);t=r.getSnapshotBeforeUpdate(ft,g),r.__reactInternalSnapshotBeforeUpdate=t}catch(rt){Pt(a,a.return,rt)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)tc(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,oe=t;break}oe=i.return}}function Mm(t,i,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:Gn(t,a),r&4&&da(5,a);break;case 1:if(Gn(t,a),r&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){Pt(a,a.return,T)}else{var f=Ci(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Pt(a,a.return,T)}}r&64&&Tm(a),r&512&&ha(a,a.return);break;case 3:if(Gn(t,a),r&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{sh(t,i)}catch(T){Pt(a,a.return,T)}}break;case 27:i===null&&r&4&&bm(a);case 26:case 5:Gn(t,a),i===null&&r&4&&Em(a),r&512&&ha(a,a.return);break;case 12:Gn(t,a);break;case 13:Gn(t,a),r&4&&Rm(t,a),r&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=$S.bind(null,a),pE(t,a))));break;case 22:if(r=a.memoizedState!==null||Cn,!r){i=i!==null&&i.memoizedState!==null||Xt,f=Cn;var g=Xt;Cn=r,(Xt=i)&&!g?Hn(t,a,(a.subtreeFlags&8772)!==0):Gn(t,a),Cn=f,Xt=g}break;case 30:break;default:Gn(t,a)}}function xm(t){var i=t.alternate;i!==null&&(t.alternate=null,xm(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ar(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var zt=null,Ee=!1;function bn(t,i,a){for(a=a.child;a!==null;)_m(t,i,a),a=a.sibling}function _m(t,i,a){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(Po,a)}catch{}switch(a.tag){case 26:Xt||en(a,i),bn(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Xt||en(a,i);var r=zt,f=Ee;Zn(a.type)&&(zt=a.stateNode,Ee=!1),bn(t,i,a),Ca(a.stateNode),zt=r,Ee=f;break;case 5:Xt||en(a,i);case 6:if(r=zt,f=Ee,zt=null,bn(t,i,a),zt=r,Ee=f,zt!==null)if(Ee)try{(zt.nodeType===9?zt.body:zt.nodeName==="HTML"?zt.ownerDocument.body:zt).removeChild(a.stateNode)}catch(g){Pt(a,i,g)}else try{zt.removeChild(a.stateNode)}catch(g){Pt(a,i,g)}break;case 18:zt!==null&&(Ee?(t=zt,pp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),wa(t)):pp(zt,a.stateNode));break;case 4:r=zt,f=Ee,zt=a.stateNode.containerInfo,Ee=!0,bn(t,i,a),zt=r,Ee=f;break;case 0:case 11:case 14:case 15:Xt||qn(2,a,i),Xt||qn(4,a,i),bn(t,i,a);break;case 1:Xt||(en(a,i),r=a.stateNode,typeof r.componentWillUnmount=="function"&&Sm(a,i,r)),bn(t,i,a);break;case 21:bn(t,i,a);break;case 22:Xt=(r=Xt)||a.memoizedState!==null,bn(t,i,a),Xt=r;break;default:bn(t,i,a)}}function Rm(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wa(t)}catch(a){Pt(i,i.return,a)}}function HS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Am),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Am),i;default:throw Error(s(435,t.tag))}}function _u(t,i){var a=HS(t);i.forEach(function(r){var f=WS.bind(null,t,r);a.has(r)||(a.add(r),r.then(f,f))})}function we(t,i){var a=i.deletions;if(a!==null)for(var r=0;r<a.length;r++){var f=a[r],g=t,T=i,C=T;t:for(;C!==null;){switch(C.tag){case 27:if(Zn(C.type)){zt=C.stateNode,Ee=!1;break t}break;case 5:zt=C.stateNode,Ee=!1;break t;case 3:case 4:zt=C.stateNode.containerInfo,Ee=!0;break t}C=C.return}if(zt===null)throw Error(s(160));_m(g,T,f),zt=null,Ee=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Dm(i,t),i=i.sibling}var Ze=null;function Dm(t,i){var a=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:we(i,t),Ne(t),r&4&&(qn(3,t,t.return),da(3,t),qn(5,t,t.return));break;case 1:we(i,t),Ne(t),r&512&&(Xt||a===null||en(a,a.return)),r&64&&Cn&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var f=Ze;if(we(i,t),Ne(t),r&512&&(Xt||a===null||en(a,a.return)),r&4){var g=a!==null?a.memoizedState:null;if(r=t.memoizedState,a===null)if(r===null)if(t.stateNode===null){t:{r=t.type,a=t.memoizedProps,f=f.ownerDocument||f;e:switch(r){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Io]||g[fe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(r),f.head.insertBefore(g,f.querySelector("head > title"))),re(g,r,a),g[fe]=t,ne(g),r=g;break t;case"link":var T=bp("link","href",f).get(r+(a.href||""));if(T){for(var C=0;C<T.length;C++)if(g=T[C],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(C,1);break e}}g=f.createElement(r),re(g,r,a),f.head.appendChild(g);break;case"meta":if(T=bp("meta","content",f).get(r+(a.content||""))){for(C=0;C<T.length;C++)if(g=T[C],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(C,1);break e}}g=f.createElement(r),re(g,r,a),f.head.appendChild(g);break;default:throw Error(s(468,r))}g[fe]=t,ne(g),r=g}t.stateNode=r}else Ap(f,t.type,t.stateNode);else t.stateNode=Cp(f,r,t.memoizedProps);else g!==r?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,r===null?Ap(f,t.type,t.stateNode):Cp(f,r,t.memoizedProps)):r===null&&t.stateNode!==null&&bu(t,t.memoizedProps,a.memoizedProps)}break;case 27:we(i,t),Ne(t),r&512&&(Xt||a===null||en(a,a.return)),a!==null&&r&4&&bu(t,t.memoizedProps,a.memoizedProps);break;case 5:if(we(i,t),Ne(t),r&512&&(Xt||a===null||en(a,a.return)),t.flags&32){f=t.stateNode;try{Oi(f,"")}catch(I){Pt(t,t.return,I)}}r&4&&t.stateNode!=null&&(f=t.memoizedProps,bu(t,f,a!==null?a.memoizedProps:f)),r&1024&&(xu=!0);break;case 6:if(we(i,t),Ne(t),r&4){if(t.stateNode===null)throw Error(s(162));r=t.memoizedProps,a=t.stateNode;try{a.nodeValue=r}catch(I){Pt(t,t.return,I)}}break;case 3:if(rl=null,f=Ze,Ze=sl(i.containerInfo),we(i,t),Ze=f,Ne(t),r&4&&a!==null&&a.memoizedState.isDehydrated)try{wa(i.containerInfo)}catch(I){Pt(t,t.return,I)}xu&&(xu=!1,wm(t));break;case 4:r=Ze,Ze=sl(t.stateNode.containerInfo),we(i,t),Ne(t),Ze=r;break;case 12:we(i,t),Ne(t);break;case 13:we(i,t),Ne(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vu=We()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,_u(t,r)));break;case 22:f=t.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,P=Cn,G=Xt;if(Cn=P||f,Xt=G||A,we(i,t),Xt=G,Cn=P,Ne(t),r&8192)t:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||A||Cn||Xt||bi(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){A=a=i;try{if(g=A.stateNode,f)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=A.stateNode;var Y=A.memoizedProps.style,U=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;C.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(I){Pt(A,A.return,I)}}}else if(i.tag===6){if(a===null){A=i;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch(I){Pt(A,A.return,I)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=t.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,_u(t,a))));break;case 19:we(i,t),Ne(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,_u(t,r)));break;case 30:break;case 21:break;default:we(i,t),Ne(t)}}function Ne(t){var i=t.flags;if(i&2){try{for(var a,r=t.return;r!==null;){if(Cm(r)){a=r;break}r=r.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,g=Au(t);Qs(t,g,f);break;case 5:var T=a.stateNode;a.flags&32&&(Oi(T,""),a.flags&=-33);var C=Au(t);Qs(t,C,T);break;case 3:case 4:var A=a.stateNode.containerInfo,P=Au(t);Mu(t,P,A);break;default:throw Error(s(161))}}catch(G){Pt(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function wm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;wm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Gn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Mm(t,i.alternate,i),i=i.sibling}function bi(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:qn(4,i,i.return),bi(i);break;case 1:en(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Sm(i,i.return,a),bi(i);break;case 27:Ca(i.stateNode);case 26:case 5:en(i,i.return),bi(i);break;case 22:i.memoizedState===null&&bi(i);break;case 30:bi(i);break;default:bi(i)}t=t.sibling}}function Hn(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,f=t,g=i,T=g.flags;switch(g.tag){case 0:case 11:case 15:Hn(f,g,a),da(4,g);break;case 1:if(Hn(f,g,a),r=g,f=r.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(P){Pt(r,r.return,P)}if(r=g,f=r.updateQueue,f!==null){var C=r.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)ah(A[f],C)}catch(P){Pt(r,r.return,P)}}a&&T&64&&Tm(g),ha(g,g.return);break;case 27:bm(g);case 26:case 5:Hn(f,g,a),a&&r===null&&T&4&&Em(g),ha(g,g.return);break;case 12:Hn(f,g,a);break;case 13:Hn(f,g,a),a&&T&4&&Rm(f,g);break;case 22:g.memoizedState===null&&Hn(f,g,a),ha(g,g.return);break;case 30:break;default:Hn(f,g,a)}i=i.sibling}}function Ru(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Wo(a))}function Du(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Wo(t))}function nn(t,i,a,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Nm(t,i,a,r),i=i.sibling}function Nm(t,i,a,r){var f=i.flags;switch(i.tag){case 0:case 11:case 15:nn(t,i,a,r),f&2048&&da(9,i);break;case 1:nn(t,i,a,r);break;case 3:nn(t,i,a,r),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Wo(t)));break;case 12:if(f&2048){nn(t,i,a,r),t=i.stateNode;try{var g=i.memoizedProps,T=g.id,C=g.onPostCommit;typeof C=="function"&&C(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){Pt(i,i.return,A)}}else nn(t,i,a,r);break;case 13:nn(t,i,a,r);break;case 23:break;case 22:g=i.stateNode,T=i.alternate,i.memoizedState!==null?g._visibility&2?nn(t,i,a,r):ma(t,i):g._visibility&2?nn(t,i,a,r):(g._visibility|=2,ao(t,i,a,r,(i.subtreeFlags&10256)!==0)),f&2048&&Ru(T,i);break;case 24:nn(t,i,a,r),f&2048&&Du(i.alternate,i);break;default:nn(t,i,a,r)}}function ao(t,i,a,r,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=t,T=i,C=a,A=r,P=T.flags;switch(T.tag){case 0:case 11:case 15:ao(g,T,C,A,f),da(8,T);break;case 23:break;case 22:var G=T.stateNode;T.memoizedState!==null?G._visibility&2?ao(g,T,C,A,f):ma(g,T):(G._visibility|=2,ao(g,T,C,A,f)),f&&P&2048&&Ru(T.alternate,T);break;case 24:ao(g,T,C,A,f),f&&P&2048&&Du(T.alternate,T);break;default:ao(g,T,C,A,f)}i=i.sibling}}function ma(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,r=i,f=r.flags;switch(r.tag){case 22:ma(a,r),f&2048&&Ru(r.alternate,r);break;case 24:ma(a,r),f&2048&&Du(r.alternate,r);break;default:ma(a,r)}i=i.sibling}}var pa=8192;function so(t){if(t.subtreeFlags&pa)for(t=t.child;t!==null;)Lm(t),t=t.sibling}function Lm(t){switch(t.tag){case 26:so(t),t.flags&pa&&t.memoizedState!==null&&RE(Ze,t.memoizedState,t.memoizedProps);break;case 5:so(t);break;case 3:case 4:var i=Ze;Ze=sl(t.stateNode.containerInfo),so(t),Ze=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=pa,pa=16777216,so(t),pa=i):so(t));break;default:so(t)}}function Vm(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ga(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var r=i[a];oe=r,Bm(r,t)}Vm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Pm(t),t=t.sibling}function Pm(t){switch(t.tag){case 0:case 11:case 15:ga(t),t.flags&2048&&qn(9,t,t.return);break;case 3:ga(t);break;case 12:ga(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Xs(t)):ga(t);break;default:ga(t)}}function Xs(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var r=i[a];oe=r,Bm(r,t)}Vm(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:qn(8,i,i.return),Xs(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Xs(i));break;default:Xs(i)}t=t.sibling}}function Bm(t,i){for(;oe!==null;){var a=oe;switch(a.tag){case 0:case 11:case 15:qn(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,oe=r;else t:for(a=t;oe!==null;){r=oe;var f=r.sibling,g=r.return;if(xm(r),r===a){oe=null;break t}if(f!==null){f.return=g,oe=f;break t}oe=g}}}var FS={getCacheForType:function(t){var i=de(te),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},YS=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Bt=null,Ct=null,At=0,wt=0,Le=null,Fn=!1,lo=!1,wu=!1,An=0,Ft=0,Yn=0,Ai=0,Nu=0,Ge=0,ro=0,ya=null,Ce=null,Lu=!1,Vu=0,Zs=1/0,Js=null,Kn=null,le=0,Qn=null,uo=null,co=0,Pu=0,Bu=null,Um=null,va=0,Uu=null;function Ve(){if((Dt&2)!==0&&At!==0)return At&-At;if(B.T!==null){var t=$i;return t!==0?t:Hu()}return Wf()}function Im(){Ge===0&&(Ge=(At&536870912)===0||Rt?Xf():536870912);var t=qe.current;return t!==null&&(t.flags|=32),Ge}function Pe(t,i,a){(t===Bt&&(wt===2||wt===9)||t.cancelPendingCommit!==null)&&(fo(t,0),Xn(t,At,Ge,!1)),Uo(t,a),((Dt&2)===0||t!==Bt)&&(t===Bt&&((Dt&2)===0&&(Ai|=a),Ft===4&&Xn(t,At,Ge,!1)),on(t))}function zm(t,i,a){if((Dt&6)!==0)throw Error(s(327));var r=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Bo(t,i),f=r?XS(t,i):ku(t,i,!0),g=r;do{if(f===0){lo&&!r&&Xn(t,i,0,!1);break}else{if(a=t.current.alternate,g&&!KS(a)){f=ku(t,i,!1),g=!1;continue}if(f===2){if(g=i,t.errorRecoveryDisabledLanes&g)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;t:{var C=t;f=ya;var A=C.current.memoizedState.isDehydrated;if(A&&(fo(C,T).flags|=256),T=ku(C,T,!1),T!==2){if(wu&&!A){C.errorRecoveryDisabledLanes|=g,Ai|=g,f=4;break t}g=Ce,Ce=f,g!==null&&(Ce===null?Ce=g:Ce.push.apply(Ce,g))}f=T}if(g=!1,f!==2)continue}}if(f===1){fo(t,0),Xn(t,i,0,!0);break}t:{switch(r=t,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Xn(r,i,Ge,!Fn);break t;case 2:Ce=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Vu+300-We(),10<f)){if(Xn(r,i,Ge,!Fn),ls(r,0,!0)!==0)break t;r.timeoutHandle=hp(km.bind(null,r,a,Ce,Js,Lu,i,Ge,Ai,ro,Fn,g,2,-0,0),f);break t}km(r,a,Ce,Js,Lu,i,Ge,Ai,ro,Fn,g,0,-0,0)}}break}while(!0);on(t)}function km(t,i,a,r,f,g,T,C,A,P,G,Y,U,I){if(t.timeoutHandle=-1,Y=i.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Ma={stylesheets:null,count:0,unsuspend:_E},Lm(i),Y=DE(),Y!==null)){t.cancelPendingCommit=Y(Km.bind(null,t,i,g,a,r,f,T,C,A,G,1,U,I)),Xn(t,g,T,!P);return}Km(t,i,g,a,r,f,T,C,A)}function KS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var f=a[r],g=f.getSnapshot;f=f.value;try{if(!Re(g(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xn(t,i,a,r){i&=~Nu,i&=~Ai,t.suspendedLanes|=i,t.pingedLanes&=~i,r&&(t.warmLanes|=i),r=t.expirationTimes;for(var f=i;0<f;){var g=31-_e(f),T=1<<g;r[g]=-1,f&=~T}a!==0&&Jf(t,a,i)}function $s(){return(Dt&6)===0?(Ta(0),!1):!0}function Iu(){if(Ct!==null){if(wt===0)var t=Ct.return;else t=Ct,gn=vi=null,tu(t),io=null,ua=0,t=Ct;for(;t!==null;)vm(t.alternate,t),t=t.return;Ct=null}}function fo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,cE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Iu(),Bt=t,Ct=a=hn(t.current,null),At=i,wt=0,Le=null,Fn=!1,lo=Bo(t,i),wu=!1,ro=Ge=Nu=Ai=Yn=Ft=0,Ce=ya=null,Lu=!1,(i&8)!==0&&(i|=i&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=i;0<r;){var f=31-_e(r),g=1<<f;i|=t[f],r&=~g}return An=i,Ts(),a}function Om(t,i){Tt=null,B.H=zs,i===ta||i===Rs?(i=ih(),wt=3):i===th?(i=ih(),wt=4):wt=i===om?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Le=i,Ct===null&&(Ft=1,Hs(t,Ie(i,t.current)))}function qm(){var t=B.H;return B.H=zs,t===null?zs:t}function Gm(){var t=B.A;return B.A=FS,t}function zu(){Ft=4,Fn||(At&4194048)!==At&&qe.current!==null||(lo=!0),(Yn&134217727)===0&&(Ai&134217727)===0||Bt===null||Xn(Bt,At,Ge,!1)}function ku(t,i,a){var r=Dt;Dt|=2;var f=qm(),g=Gm();(Bt!==t||At!==i)&&(Js=null,fo(t,i)),i=!1;var T=Ft;t:do try{if(wt!==0&&Ct!==null){var C=Ct,A=Le;switch(wt){case 8:Iu(),T=6;break t;case 3:case 2:case 9:case 6:qe.current===null&&(i=!0);var P=wt;if(wt=0,Le=null,ho(t,C,A,P),a&&lo){T=0;break t}break;default:P=wt,wt=0,Le=null,ho(t,C,A,P)}}QS(),T=Ft;break}catch(G){Om(t,G)}while(!0);return i&&t.shellSuspendCounter++,gn=vi=null,Dt=r,B.H=f,B.A=g,Ct===null&&(Bt=null,At=0,Ts()),T}function QS(){for(;Ct!==null;)Hm(Ct)}function XS(t,i){var a=Dt;Dt|=2;var r=qm(),f=Gm();Bt!==t||At!==i?(Js=null,Zs=We()+500,fo(t,i)):lo=Bo(t,i);t:do try{if(wt!==0&&Ct!==null){i=Ct;var g=Le;e:switch(wt){case 1:wt=0,Le=null,ho(t,i,g,1);break;case 2:case 9:if(eh(g)){wt=0,Le=null,Fm(i);break}i=function(){wt!==2&&wt!==9||Bt!==t||(wt=7),on(t)},g.then(i,i);break t;case 3:wt=7;break t;case 4:wt=5;break t;case 7:eh(g)?(wt=0,Le=null,Fm(i)):(wt=0,Le=null,ho(t,i,g,7));break;case 5:var T=null;switch(Ct.tag){case 26:T=Ct.memoizedState;case 5:case 27:var C=Ct;if(!T||Mp(T)){wt=0,Le=null;var A=C.sibling;if(A!==null)Ct=A;else{var P=C.return;P!==null?(Ct=P,Ws(P)):Ct=null}break e}}wt=0,Le=null,ho(t,i,g,5);break;case 6:wt=0,Le=null,ho(t,i,g,6);break;case 8:Iu(),Ft=6;break t;default:throw Error(s(462))}}ZS();break}catch(G){Om(t,G)}while(!0);return gn=vi=null,B.H=r,B.A=f,Dt=a,Ct!==null?0:(Bt=null,At=0,Ts(),Ft)}function ZS(){for(;Ct!==null&&!y0();)Hm(Ct)}function Hm(t){var i=gm(t.alternate,t,An);t.memoizedProps=t.pendingProps,i===null?Ws(t):Ct=i}function Fm(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=cm(a,i,i.pendingProps,i.type,void 0,At);break;case 11:i=cm(a,i,i.pendingProps,i.type.render,i.ref,At);break;case 5:tu(i);default:vm(a,i),i=Ct=Yd(i,An),i=gm(a,i,An)}t.memoizedProps=t.pendingProps,i===null?Ws(t):Ct=i}function ho(t,i,a,r){gn=vi=null,tu(i),io=null,ua=0;var f=i.return;try{if(zS(t,f,i,a,At)){Ft=1,Hs(t,Ie(a,t.current)),Ct=null;return}}catch(g){if(f!==null)throw Ct=f,g;Ft=1,Hs(t,Ie(a,t.current)),Ct=null;return}i.flags&32768?(Rt||r===1?t=!0:lo||(At&536870912)!==0?t=!1:(Fn=t=!0,(r===2||r===9||r===3||r===6)&&(r=qe.current,r!==null&&r.tag===13&&(r.flags|=16384))),Ym(i,t)):Ws(i)}function Ws(t){var i=t;do{if((i.flags&32768)!==0){Ym(i,Fn);return}t=i.return;var a=OS(i.alternate,i,An);if(a!==null){Ct=a;return}if(i=i.sibling,i!==null){Ct=i;return}Ct=i=t}while(i!==null);Ft===0&&(Ft=5)}function Ym(t,i){do{var a=qS(t.alternate,t);if(a!==null){a.flags&=32767,Ct=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=a}while(t!==null);Ft=6,Ct=null}function Km(t,i,a,r,f,g,T,C,A){t.cancelPendingCommit=null;do js();while(le!==0);if((Dt&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=Dr,_0(t,a,g,T,C,A),t===Bt&&(Ct=Bt=null,At=0),uo=i,Qn=t,co=a,Pu=g,Bu=f,Um=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jS(os,function(){return $m(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=B.T,B.T=null,f=F.p,F.p=2,T=Dt,Dt|=4;try{GS(t,i,a)}finally{Dt=T,F.p=f,B.T=r}}le=1,Qm(),Xm(),Zm()}}function Qm(){if(le===1){le=0;var t=Qn,i=uo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var r=F.p;F.p=2;var f=Dt;Dt|=4;try{Dm(i,t);var g=$u,T=Bd(t.containerInfo),C=g.focusedElem,A=g.selectionRange;if(T!==C&&C&&C.ownerDocument&&Pd(C.ownerDocument.documentElement,C)){if(A!==null&&Ar(C)){var P=A.start,G=A.end;if(G===void 0&&(G=P),"selectionStart"in C)C.selectionStart=P,C.selectionEnd=Math.min(G,C.value.length);else{var Y=C.ownerDocument||document,U=Y&&Y.defaultView||window;if(U.getSelection){var I=U.getSelection(),ft=C.textContent.length,rt=Math.min(A.start,ft),Vt=A.end===void 0?rt:Math.min(A.end,ft);!I.extend&&rt>Vt&&(T=Vt,Vt=rt,rt=T);var R=Vd(C,rt),_=Vd(C,Vt);if(R&&_&&(I.rangeCount!==1||I.anchorNode!==R.node||I.anchorOffset!==R.offset||I.focusNode!==_.node||I.focusOffset!==_.offset)){var N=Y.createRange();N.setStart(R.node,R.offset),I.removeAllRanges(),rt>Vt?(I.addRange(N),I.extend(_.node,_.offset)):(N.setEnd(_.node,_.offset),I.addRange(N))}}}}for(Y=[],I=C;I=I.parentNode;)I.nodeType===1&&Y.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<Y.length;C++){var H=Y[C];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}fl=!!Ju,$u=Ju=null}finally{Dt=f,F.p=r,B.T=a}}t.current=i,le=2}}function Xm(){if(le===2){le=0;var t=Qn,i=uo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var r=F.p;F.p=2;var f=Dt;Dt|=4;try{Mm(t,i.alternate,i)}finally{Dt=f,F.p=r,B.T=a}}le=3}}function Zm(){if(le===4||le===3){le=0,v0();var t=Qn,i=uo,a=co,r=Um;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?le=5:(le=0,uo=Qn=null,Jm(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Kn=null),ir(a),i=i.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(Po,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=B.T,f=F.p,F.p=2,B.T=null;try{for(var g=t.onRecoverableError,T=0;T<r.length;T++){var C=r[T];g(C.value,{componentStack:C.stack})}}finally{B.T=i,F.p=f}}(co&3)!==0&&js(),on(t),f=t.pendingLanes,(a&4194090)!==0&&(f&42)!==0?t===Uu?va++:(va=0,Uu=t):va=0,Ta(0)}}function Jm(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Wo(i)))}function js(t){return Qm(),Xm(),Zm(),$m()}function $m(){if(le!==5)return!1;var t=Qn,i=Pu;Pu=0;var a=ir(co),r=B.T,f=F.p;try{F.p=32>a?32:a,B.T=null,a=Bu,Bu=null;var g=Qn,T=co;if(le=0,uo=Qn=null,co=0,(Dt&6)!==0)throw Error(s(331));var C=Dt;if(Dt|=4,Pm(g.current),Nm(g,g.current,T,a),Dt=C,Ta(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(Po,g)}catch{}return!0}finally{F.p=f,B.T=r,Jm(t,i)}}function Wm(t,i,a){i=Ie(a,i),i=mu(t.stateNode,i,2),t=In(t,i,2),t!==null&&(Uo(t,2),on(t))}function Pt(t,i,a){if(t.tag===3)Wm(t,t,a);else for(;i!==null;){if(i.tag===3){Wm(i,t,a);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kn===null||!Kn.has(r))){t=Ie(a,t),a=nm(2),r=In(i,a,2),r!==null&&(im(a,r,i,t),Uo(r,2),on(r));break}}i=i.return}}function Ou(t,i,a){var r=t.pingCache;if(r===null){r=t.pingCache=new YS;var f=new Set;r.set(i,f)}else f=r.get(i),f===void 0&&(f=new Set,r.set(i,f));f.has(a)||(wu=!0,f.add(a),t=JS.bind(null,t,i,a),i.then(t,t))}function JS(t,i,a){var r=t.pingCache;r!==null&&r.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Bt===t&&(At&a)===a&&(Ft===4||Ft===3&&(At&62914560)===At&&300>We()-Vu?(Dt&2)===0&&fo(t,0):Nu|=a,ro===At&&(ro=0)),on(t)}function jm(t,i){i===0&&(i=Zf()),t=Qi(t,i),t!==null&&(Uo(t,i),on(t))}function $S(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),jm(t,a)}function WS(t,i){var a=0;switch(t.tag){case 13:var r=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(i),jm(t,a)}function jS(t,i){return jl(t,i)}var tl=null,mo=null,qu=!1,el=!1,Gu=!1,Mi=0;function on(t){t!==mo&&t.next===null&&(mo===null?tl=mo=t:mo=mo.next=t),el=!0,qu||(qu=!0,eE())}function Ta(t,i){if(!Gu&&el){Gu=!0;do for(var a=!1,r=tl;r!==null;){if(t!==0){var f=r.pendingLanes;if(f===0)var g=0;else{var T=r.suspendedLanes,C=r.pingedLanes;g=(1<<31-_e(42|t)+1)-1,g&=f&~(T&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,ip(r,g))}else g=At,g=ls(r,r===Bt?g:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(g&3)===0||Bo(r,g)||(a=!0,ip(r,g));r=r.next}while(a);Gu=!1}}function tE(){tp()}function tp(){el=qu=!1;var t=0;Mi!==0&&(uE()&&(t=Mi),Mi=0);for(var i=We(),a=null,r=tl;r!==null;){var f=r.next,g=ep(r,i);g===0?(r.next=null,a===null?tl=f:a.next=f,f===null&&(mo=a)):(a=r,(t!==0||(g&3)!==0)&&(el=!0)),r=f}Ta(t)}function ep(t,i){for(var a=t.suspendedLanes,r=t.pingedLanes,f=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var T=31-_e(g),C=1<<T,A=f[T];A===-1?((C&a)===0||(C&r)!==0)&&(f[T]=x0(C,i)):A<=i&&(t.expiredLanes|=C),g&=~C}if(i=Bt,a=At,a=ls(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,a===0||t===i&&(wt===2||wt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&tr(r),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Bo(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(r!==null&&tr(r),ir(a)){case 2:case 8:a=Kf;break;case 32:a=os;break;case 268435456:a=Qf;break;default:a=os}return r=np.bind(null,t),a=jl(a,r),t.callbackPriority=i,t.callbackNode=a,i}return r!==null&&r!==null&&tr(r),t.callbackPriority=2,t.callbackNode=null,2}function np(t,i){if(le!==0&&le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(js()&&t.callbackNode!==a)return null;var r=At;return r=ls(t,t===Bt?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(zm(t,r,i),ep(t,We()),t.callbackNode!=null&&t.callbackNode===a?np.bind(null,t):null)}function ip(t,i){if(js())return null;zm(t,i,!0)}function eE(){fE(function(){(Dt&6)!==0?jl(Yf,tE):tp()})}function Hu(){return Mi===0&&(Mi=Xf()),Mi}function op(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ds(""+t)}function ap(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function nE(t,i,a,r,f){if(i==="submit"&&a&&a.stateNode===f){var g=op((f[ve]||null).action),T=r.submitter;T&&(i=(i=T[ve]||null)?op(i.formAction):T.getAttribute("formAction"),i!==null&&(g=i,T=null));var C=new gs("action","action",null,r,f);t.push({event:C,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Mi!==0){var A=T?ap(f,T):new FormData(f);uu(a,{pending:!0,data:A,method:f.method,action:g},null,A)}}else typeof g=="function"&&(C.preventDefault(),A=T?ap(f,T):new FormData(f),uu(a,{pending:!0,data:A,method:f.method,action:g},g,A))},currentTarget:f}]})}}for(var Fu=0;Fu<Rr.length;Fu++){var Yu=Rr[Fu],iE=Yu.toLowerCase(),oE=Yu[0].toUpperCase()+Yu.slice(1);Xe(iE,"on"+oE)}Xe(zd,"onAnimationEnd"),Xe(kd,"onAnimationIteration"),Xe(Od,"onAnimationStart"),Xe("dblclick","onDoubleClick"),Xe("focusin","onFocus"),Xe("focusout","onBlur"),Xe(ES,"onTransitionRun"),Xe(CS,"onTransitionStart"),Xe(bS,"onTransitionCancel"),Xe(qd,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sa));function sp(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var r=t[a],f=r.event;r=r.listeners;t:{var g=void 0;if(i)for(var T=r.length-1;0<=T;T--){var C=r[T],A=C.instance,P=C.currentTarget;if(C=C.listener,A!==g&&f.isPropagationStopped())break t;g=C,f.currentTarget=P;try{g(f)}catch(G){Gs(G)}f.currentTarget=null,g=A}else for(T=0;T<r.length;T++){if(C=r[T],A=C.instance,P=C.currentTarget,C=C.listener,A!==g&&f.isPropagationStopped())break t;g=C,f.currentTarget=P;try{g(f)}catch(G){Gs(G)}f.currentTarget=null,g=A}}}}function bt(t,i){var a=i[or];a===void 0&&(a=i[or]=new Set);var r=t+"__bubble";a.has(r)||(lp(i,t,2,!1),a.add(r))}function Ku(t,i,a){var r=0;i&&(r|=4),lp(a,t,r,i)}var nl="_reactListening"+Math.random().toString(36).slice(2);function Qu(t){if(!t[nl]){t[nl]=!0,td.forEach(function(a){a!=="selectionchange"&&(aE.has(a)||Ku(a,!1,t),Ku(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[nl]||(i[nl]=!0,Ku("selectionchange",!1,i))}}function lp(t,i,a,r){switch(Np(i)){case 2:var f=LE;break;case 8:f=VE;break;default:f=lc}a=f.bind(null,i,a,t),f=void 0,!pr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),r?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Xu(t,i,a,r,f){var g=r;if((i&1)===0&&(i&2)===0&&r!==null)t:for(;;){if(r===null)return;var T=r.tag;if(T===3||T===4){var C=r.stateNode.containerInfo;if(C===f)break;if(T===4)for(T=r.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;C!==null;){if(T=Pi(C),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){r=g=T;continue t}C=C.parentNode}}r=r.return}md(function(){var P=g,G=hr(a),Y=[];t:{var U=Gd.get(t);if(U!==void 0){var I=gs,ft=t;switch(t){case"keypress":if(ms(a)===0)break t;case"keydown":case"keyup":I=j0;break;case"focusin":ft="focus",I=Tr;break;case"focusout":ft="blur",I=Tr;break;case"beforeblur":case"afterblur":I=Tr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=q0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=nS;break;case zd:case kd:case Od:I=F0;break;case qd:I=oS;break;case"scroll":case"scrollend":I=k0;break;case"wheel":I=sS;break;case"copy":case"cut":case"paste":I=K0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Td;break;case"toggle":case"beforetoggle":I=rS}var rt=(i&4)!==0,Vt=!rt&&(t==="scroll"||t==="scrollend"),R=rt?U!==null?U+"Capture":null:U;rt=[];for(var _=P,N;_!==null;){var H=_;if(N=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||N===null||R===null||(H=ko(_,R),H!=null&&rt.push(Ea(_,H,N))),Vt)break;_=_.return}0<rt.length&&(U=new I(U,ft,null,a,G),Y.push({event:U,listeners:rt}))}}if((i&7)===0){t:{if(U=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",U&&a!==dr&&(ft=a.relatedTarget||a.fromElement)&&(Pi(ft)||ft[Vi]))break t;if((I||U)&&(U=G.window===G?G:(U=G.ownerDocument)?U.defaultView||U.parentWindow:window,I?(ft=a.relatedTarget||a.toElement,I=P,ft=ft?Pi(ft):null,ft!==null&&(Vt=u(ft),rt=ft.tag,ft!==Vt||rt!==5&&rt!==27&&rt!==6)&&(ft=null)):(I=null,ft=P),I!==ft)){if(rt=yd,H="onMouseLeave",R="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(rt=Td,H="onPointerLeave",R="onPointerEnter",_="pointer"),Vt=I==null?U:zo(I),N=ft==null?U:zo(ft),U=new rt(H,_+"leave",I,a,G),U.target=Vt,U.relatedTarget=N,H=null,Pi(G)===P&&(rt=new rt(R,_+"enter",ft,a,G),rt.target=N,rt.relatedTarget=Vt,H=rt),Vt=H,I&&ft)e:{for(rt=I,R=ft,_=0,N=rt;N;N=po(N))_++;for(N=0,H=R;H;H=po(H))N++;for(;0<_-N;)rt=po(rt),_--;for(;0<N-_;)R=po(R),N--;for(;_--;){if(rt===R||R!==null&&rt===R.alternate)break e;rt=po(rt),R=po(R)}rt=null}else rt=null;I!==null&&rp(Y,U,I,rt,!1),ft!==null&&Vt!==null&&rp(Y,Vt,ft,rt,!0)}}t:{if(U=P?zo(P):window,I=U.nodeName&&U.nodeName.toLowerCase(),I==="select"||I==="input"&&U.type==="file")var it=_d;else if(Md(U))if(Rd)it=vS;else{it=gS;var Et=pS}else I=U.nodeName,!I||I.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?P&&fr(P.elementType)&&(it=_d):it=yS;if(it&&(it=it(t,P))){xd(Y,it,a,G);break t}Et&&Et(t,U,P),t==="focusout"&&P&&U.type==="number"&&P.memoizedProps.value!=null&&cr(U,"number",U.value)}switch(Et=P?zo(P):window,t){case"focusin":(Md(Et)||Et.contentEditable==="true")&&(Fi=Et,Mr=P,Qo=null);break;case"focusout":Qo=Mr=Fi=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Ud(Y,a,G);break;case"selectionchange":if(SS)break;case"keydown":case"keyup":Ud(Y,a,G)}var ot;if(Er)t:{switch(t){case"compositionstart":var ut="onCompositionStart";break t;case"compositionend":ut="onCompositionEnd";break t;case"compositionupdate":ut="onCompositionUpdate";break t}ut=void 0}else Hi?bd(t,a)&&(ut="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ut="onCompositionStart");ut&&(Sd&&a.locale!=="ko"&&(Hi||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&Hi&&(ot=pd()):(Vn=G,gr="value"in Vn?Vn.value:Vn.textContent,Hi=!0)),Et=il(P,ut),0<Et.length&&(ut=new vd(ut,t,null,a,G),Y.push({event:ut,listeners:Et}),ot?ut.data=ot:(ot=Ad(a),ot!==null&&(ut.data=ot)))),(ot=cS?fS(t,a):dS(t,a))&&(ut=il(P,"onBeforeInput"),0<ut.length&&(Et=new vd("onBeforeInput","beforeinput",null,a,G),Y.push({event:Et,listeners:ut}),Et.data=ot)),nE(Y,t,P,a,G)}sp(Y,i)})}function Ea(t,i,a){return{instance:t,listener:i,currentTarget:a}}function il(t,i){for(var a=i+"Capture",r=[];t!==null;){var f=t,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=ko(t,a),f!=null&&r.unshift(Ea(t,f,g)),f=ko(t,i),f!=null&&r.push(Ea(t,f,g))),t.tag===3)return r;t=t.return}return[]}function po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function rp(t,i,a,r,f){for(var g=i._reactName,T=[];a!==null&&a!==r;){var C=a,A=C.alternate,P=C.stateNode;if(C=C.tag,A!==null&&A===r)break;C!==5&&C!==26&&C!==27||P===null||(A=P,f?(P=ko(a,g),P!=null&&T.unshift(Ea(a,P,A))):f||(P=ko(a,g),P!=null&&T.push(Ea(a,P,A)))),a=a.return}T.length!==0&&t.push({event:i,listeners:T})}var sE=/\r\n?/g,lE=/\u0000|\uFFFD/g;function up(t){return(typeof t=="string"?t:""+t).replace(sE,`
`).replace(lE,"")}function cp(t,i){return i=up(i),up(t)===i}function ol(){}function Lt(t,i,a,r,f,g){switch(a){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||Oi(t,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&Oi(t,""+r);break;case"className":us(t,"class",r);break;case"tabIndex":us(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":us(t,a,r);break;case"style":dd(t,r,g);break;case"data":if(i!=="object"){us(t,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=ds(""+r),t.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(i!=="input"&&Lt(t,i,"name",f.name,f,null),Lt(t,i,"formEncType",f.formEncType,f,null),Lt(t,i,"formMethod",f.formMethod,f,null),Lt(t,i,"formTarget",f.formTarget,f,null)):(Lt(t,i,"encType",f.encType,f,null),Lt(t,i,"method",f.method,f,null),Lt(t,i,"target",f.target,f,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=ds(""+r),t.setAttribute(a,r);break;case"onClick":r!=null&&(t.onclick=ol);break;case"onScroll":r!=null&&bt("scroll",t);break;case"onScrollEnd":r!=null&&bt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(a=r.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}a=ds(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""+r):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":r===!0?t.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,r):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(a,r):t.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(a):t.setAttribute(a,r);break;case"popover":bt("beforetoggle",t),bt("toggle",t),rs(t,"popover",r);break;case"xlinkActuate":fn(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":fn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":fn(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":fn(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":fn(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":fn(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":fn(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":fn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":fn(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":rs(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=I0.get(a)||a,rs(t,a,r))}}function Zu(t,i,a,r,f,g){switch(a){case"style":dd(t,r,g);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(a=r.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof r=="string"?Oi(t,r):(typeof r=="number"||typeof r=="bigint")&&Oi(t,""+r);break;case"onScroll":r!=null&&bt("scroll",t);break;case"onScrollEnd":r!=null&&bt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=ol);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ed.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),g=t[ve]||null,g=g!=null?g[a]:null,typeof g=="function"&&t.removeEventListener(i,g,f),typeof r=="function")){typeof g!="function"&&g!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,r,f);break t}a in t?t[a]=r:r===!0?t.setAttribute(a,""):rs(t,a,r)}}}function re(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",t),bt("load",t);var r=!1,f=!1,g;for(g in a)if(a.hasOwnProperty(g)){var T=a[g];if(T!=null)switch(g){case"src":r=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Lt(t,i,g,T,a,null)}}f&&Lt(t,i,"srcSet",a.srcSet,a,null),r&&Lt(t,i,"src",a.src,a,null);return;case"input":bt("invalid",t);var C=g=T=f=null,A=null,P=null;for(r in a)if(a.hasOwnProperty(r)){var G=a[r];if(G!=null)switch(r){case"name":f=G;break;case"type":T=G;break;case"checked":A=G;break;case"defaultChecked":P=G;break;case"value":g=G;break;case"defaultValue":C=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Lt(t,i,r,G,a,null)}}rd(t,g,C,A,P,T,f,!1),cs(t);return;case"select":bt("invalid",t),r=T=g=null;for(f in a)if(a.hasOwnProperty(f)&&(C=a[f],C!=null))switch(f){case"value":g=C;break;case"defaultValue":T=C;break;case"multiple":r=C;default:Lt(t,i,f,C,a,null)}i=g,a=T,t.multiple=!!r,i!=null?ki(t,!!r,i,!1):a!=null&&ki(t,!!r,a,!0);return;case"textarea":bt("invalid",t),g=f=r=null;for(T in a)if(a.hasOwnProperty(T)&&(C=a[T],C!=null))switch(T){case"value":r=C;break;case"defaultValue":f=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:Lt(t,i,T,C,a,null)}cd(t,r,f,g),cs(t);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(r=a[A],r!=null))switch(A){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Lt(t,i,A,r,a,null)}return;case"dialog":bt("beforetoggle",t),bt("toggle",t),bt("cancel",t),bt("close",t);break;case"iframe":case"object":bt("load",t);break;case"video":case"audio":for(r=0;r<Sa.length;r++)bt(Sa[r],t);break;case"image":bt("error",t),bt("load",t);break;case"details":bt("toggle",t);break;case"embed":case"source":case"link":bt("error",t),bt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(r=a[P],r!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Lt(t,i,P,r,a,null)}return;default:if(fr(i)){for(G in a)a.hasOwnProperty(G)&&(r=a[G],r!==void 0&&Zu(t,i,G,r,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(r=a[C],r!=null&&Lt(t,i,C,r,a,null))}function rE(t,i,a,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,T=null,C=null,A=null,P=null,G=null;for(I in a){var Y=a[I];if(a.hasOwnProperty(I)&&Y!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":A=Y;default:r.hasOwnProperty(I)||Lt(t,i,I,null,r,Y)}}for(var U in r){var I=r[U];if(Y=a[U],r.hasOwnProperty(U)&&(I!=null||Y!=null))switch(U){case"type":g=I;break;case"name":f=I;break;case"checked":P=I;break;case"defaultChecked":G=I;break;case"value":T=I;break;case"defaultValue":C=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,i));break;default:I!==Y&&Lt(t,i,U,I,r,Y)}}ur(t,T,C,A,P,G,g,f);return;case"select":I=T=C=U=null;for(g in a)if(A=a[g],a.hasOwnProperty(g)&&A!=null)switch(g){case"value":break;case"multiple":I=A;default:r.hasOwnProperty(g)||Lt(t,i,g,null,r,A)}for(f in r)if(g=r[f],A=a[f],r.hasOwnProperty(f)&&(g!=null||A!=null))switch(f){case"value":U=g;break;case"defaultValue":C=g;break;case"multiple":T=g;default:g!==A&&Lt(t,i,f,g,r,A)}i=C,a=T,r=I,U!=null?ki(t,!!a,U,!1):!!r!=!!a&&(i!=null?ki(t,!!a,i,!0):ki(t,!!a,a?[]:"",!1));return;case"textarea":I=U=null;for(C in a)if(f=a[C],a.hasOwnProperty(C)&&f!=null&&!r.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Lt(t,i,C,null,r,f)}for(T in r)if(f=r[T],g=a[T],r.hasOwnProperty(T)&&(f!=null||g!=null))switch(T){case"value":U=f;break;case"defaultValue":I=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Lt(t,i,T,f,r,g)}ud(t,U,I);return;case"option":for(var ft in a)if(U=a[ft],a.hasOwnProperty(ft)&&U!=null&&!r.hasOwnProperty(ft))switch(ft){case"selected":t.selected=!1;break;default:Lt(t,i,ft,null,r,U)}for(A in r)if(U=r[A],I=a[A],r.hasOwnProperty(A)&&U!==I&&(U!=null||I!=null))switch(A){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Lt(t,i,A,U,r,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in a)U=a[rt],a.hasOwnProperty(rt)&&U!=null&&!r.hasOwnProperty(rt)&&Lt(t,i,rt,null,r,U);for(P in r)if(U=r[P],I=a[P],r.hasOwnProperty(P)&&U!==I&&(U!=null||I!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,i));break;default:Lt(t,i,P,U,r,I)}return;default:if(fr(i)){for(var Vt in a)U=a[Vt],a.hasOwnProperty(Vt)&&U!==void 0&&!r.hasOwnProperty(Vt)&&Zu(t,i,Vt,void 0,r,U);for(G in r)U=r[G],I=a[G],!r.hasOwnProperty(G)||U===I||U===void 0&&I===void 0||Zu(t,i,G,U,r,I);return}}for(var R in a)U=a[R],a.hasOwnProperty(R)&&U!=null&&!r.hasOwnProperty(R)&&Lt(t,i,R,null,r,U);for(Y in r)U=r[Y],I=a[Y],!r.hasOwnProperty(Y)||U===I||U==null&&I==null||Lt(t,i,Y,U,r,I)}var Ju=null,$u=null;function al(t){return t.nodeType===9?t:t.ownerDocument}function fp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dp(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Wu(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ju=null;function uE(){var t=window.event;return t&&t.type==="popstate"?t===ju?!1:(ju=t,!0):(ju=null,!1)}var hp=typeof setTimeout=="function"?setTimeout:void 0,cE=typeof clearTimeout=="function"?clearTimeout:void 0,mp=typeof Promise=="function"?Promise:void 0,fE=typeof queueMicrotask=="function"?queueMicrotask:typeof mp<"u"?function(t){return mp.resolve(null).then(t).catch(dE)}:hp;function dE(t){setTimeout(function(){throw t})}function Zn(t){return t==="head"}function pp(t,i){var a=i,r=0,f=0;do{var g=a.nextSibling;if(t.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<r&&8>r){a=r;var T=t.ownerDocument;if(a&1&&Ca(T.documentElement),a&2&&Ca(T.body),a&4)for(a=T.head,Ca(a),T=a.firstChild;T;){var C=T.nextSibling,A=T.nodeName;T[Io]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=C}}if(f===0){t.removeChild(g),wa(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:r=a.charCodeAt(0)-48;else r=0;a=g}while(a);wa(i)}function tc(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":tc(a),ar(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function hE(t,i,a,r){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Io])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=Je(t.nextSibling),t===null)break}return null}function mE(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Je(t.nextSibling),t===null))return null;return t}function ec(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function pE(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var r=function(){i(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Je(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var nc=null;function gp(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function yp(t,i,a){switch(i=al(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ca(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ar(t)}var He=new Map,vp=new Set;function sl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mn=F.d;F.d={f:gE,r:yE,D:vE,C:TE,L:SE,m:EE,X:bE,S:CE,M:AE};function gE(){var t=Mn.f(),i=$s();return t||i}function yE(t){var i=Bi(t);i!==null&&i.tag===5&&i.type==="form"?zh(i):Mn.r(t)}var go=typeof document>"u"?null:document;function Tp(t,i,a){var r=go;if(r&&typeof i=="string"&&i){var f=Ue(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),vp.has(f)||(vp.add(f),t={rel:t,crossOrigin:a,href:i},r.querySelector(f)===null&&(i=r.createElement("link"),re(i,"link",t),ne(i),r.head.appendChild(i)))}}function vE(t){Mn.D(t),Tp("dns-prefetch",t,null)}function TE(t,i){Mn.C(t,i),Tp("preconnect",t,i)}function SE(t,i,a){Mn.L(t,i,a);var r=go;if(r&&t&&i){var f='link[rel="preload"][as="'+Ue(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Ue(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Ue(a.imageSizes)+'"]')):f+='[href="'+Ue(t)+'"]';var g=f;switch(i){case"style":g=yo(t);break;case"script":g=vo(t)}He.has(g)||(t=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),He.set(g,t),r.querySelector(f)!==null||i==="style"&&r.querySelector(ba(g))||i==="script"&&r.querySelector(Aa(g))||(i=r.createElement("link"),re(i,"link",t),ne(i),r.head.appendChild(i)))}}function EE(t,i){Mn.m(t,i);var a=go;if(a&&t){var r=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Ue(r)+'"][href="'+Ue(t)+'"]',g=f;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=vo(t)}if(!He.has(g)&&(t=v({rel:"modulepreload",href:t},i),He.set(g,t),a.querySelector(f)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Aa(g)))return}r=a.createElement("link"),re(r,"link",t),ne(r),a.head.appendChild(r)}}}function CE(t,i,a){Mn.S(t,i,a);var r=go;if(r&&t){var f=Ui(r).hoistableStyles,g=yo(t);i=i||"default";var T=f.get(g);if(!T){var C={loading:0,preload:null};if(T=r.querySelector(ba(g)))C.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},a),(a=He.get(g))&&ic(t,a);var A=T=r.createElement("link");ne(A),re(A,"link",t),A._p=new Promise(function(P,G){A.onload=P,A.onerror=G}),A.addEventListener("load",function(){C.loading|=1}),A.addEventListener("error",function(){C.loading|=2}),C.loading|=4,ll(T,i,r)}T={type:"stylesheet",instance:T,count:1,state:C},f.set(g,T)}}}function bE(t,i){Mn.X(t,i);var a=go;if(a&&t){var r=Ui(a).hoistableScripts,f=vo(t),g=r.get(f);g||(g=a.querySelector(Aa(f)),g||(t=v({src:t,async:!0},i),(i=He.get(f))&&oc(t,i),g=a.createElement("script"),ne(g),re(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},r.set(f,g))}}function AE(t,i){Mn.M(t,i);var a=go;if(a&&t){var r=Ui(a).hoistableScripts,f=vo(t),g=r.get(f);g||(g=a.querySelector(Aa(f)),g||(t=v({src:t,async:!0,type:"module"},i),(i=He.get(f))&&oc(t,i),g=a.createElement("script"),ne(g),re(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},r.set(f,g))}}function Sp(t,i,a,r){var f=(f=mt.current)?sl(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=yo(a.href),a=Ui(f).hoistableStyles,r=a.get(i),r||(r={type:"style",instance:null,count:0,state:null},a.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=yo(a.href);var g=Ui(f).hoistableStyles,T=g.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,T),(g=f.querySelector(ba(t)))&&!g._p&&(T.instance=g,T.state.loading=5),He.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},He.set(t,a),g||ME(f,t,a,T.state))),i&&r===null)throw Error(s(528,""));return T}if(i&&r!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=vo(a),a=Ui(f).hoistableScripts,r=a.get(i),r||(r={type:"script",instance:null,count:0,state:null},a.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function yo(t){return'href="'+Ue(t)+'"'}function ba(t){return'link[rel="stylesheet"]['+t+"]"}function Ep(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function ME(t,i,a,r){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=t.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),re(i,"link",a),ne(i),t.head.appendChild(i))}function vo(t){return'[src="'+Ue(t)+'"]'}function Aa(t){return"script[async]"+t}function Cp(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var r=t.querySelector('style[data-href~="'+Ue(a.href)+'"]');if(r)return i.instance=r,ne(r),r;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),ne(r),re(r,"style",f),ll(r,a.precedence,t),i.instance=r;case"stylesheet":f=yo(a.href);var g=t.querySelector(ba(f));if(g)return i.state.loading|=4,i.instance=g,ne(g),g;r=Ep(a),(f=He.get(f))&&ic(r,f),g=(t.ownerDocument||t).createElement("link"),ne(g);var T=g;return T._p=new Promise(function(C,A){T.onload=C,T.onerror=A}),re(g,"link",r),i.state.loading|=4,ll(g,a.precedence,t),i.instance=g;case"script":return g=vo(a.src),(f=t.querySelector(Aa(g)))?(i.instance=f,ne(f),f):(r=a,(f=He.get(g))&&(r=v({},a),oc(r,f)),t=t.ownerDocument||t,f=t.createElement("script"),ne(f),re(f,"link",r),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,ll(r,a.precedence,t));return i.instance}function ll(t,i,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=r.length?r[r.length-1]:null,g=f,T=0;T<r.length;T++){var C=r[T];if(C.dataset.precedence===i)g=C;else if(g!==f)break}g?g.parentNode.insertBefore(t,g.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function ic(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function oc(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var rl=null;function bp(t,i,a){if(rl===null){var r=new Map,f=rl=new Map;f.set(a,r)}else f=rl,r=f.get(a),r||(r=new Map,f.set(a,r));if(r.has(t))return r;for(r.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var g=a[f];if(!(g[Io]||g[fe]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(i)||"";T=t+T;var C=r.get(T);C?C.push(g):r.set(T,[g])}}return r}function Ap(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function xE(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Mp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ma=null;function _E(){}function RE(t,i,a){if(Ma===null)throw Error(s(475));var r=Ma;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=yo(a.href),g=t.querySelector(ba(f));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=ul.bind(r),t.then(r,r)),i.state.loading|=4,i.instance=g,ne(g);return}g=t.ownerDocument||t,a=Ep(a),(f=He.get(f))&&ic(a,f),g=g.createElement("link"),ne(g);var T=g;T._p=new Promise(function(C,A){T.onload=C,T.onerror=A}),re(g,"link",a),i.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(r.count++,i=ul.bind(r),t.addEventListener("load",i),t.addEventListener("error",i))}}function DE(){if(Ma===null)throw Error(s(475));var t=Ma;return t.stylesheets&&t.count===0&&ac(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&ac(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function ul(){if(this.count--,this.count===0){if(this.stylesheets)ac(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var cl=null;function ac(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,cl=new Map,i.forEach(wE,t),cl=null,ul.call(t))}function wE(t,i){if(!(i.state.loading&4)){var a=cl.get(t);if(a)var r=a.get(null);else{a=new Map,cl.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var T=f[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),r=T)}r&&a.set(null,r)}f=i.instance,T=f.getAttribute("data-precedence"),g=a.get(T)||r,g===r&&a.set(null,f),a.set(T,f),this.count++,r=ul.bind(this),f.addEventListener("load",r),f.addEventListener("error",r),g?g.parentNode.insertBefore(f,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var xa={$$typeof:V,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function NE(t,i,a,r,f,g,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=er(0),this.hiddenUpdates=er(null),this.identifierPrefix=r,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function xp(t,i,a,r,f,g,T,C,A,P,G,Y){return t=new NE(t,i,a,T,C,A,P,Y),i=1,g===!0&&(i|=24),g=De(3,null,null,i),t.current=g,g.stateNode=t,i=Or(),i.refCount++,t.pooledCache=i,i.refCount++,g.memoizedState={element:r,isDehydrated:a,cache:i},Fr(g),t}function _p(t){return t?(t=Xi,t):Xi}function Rp(t,i,a,r,f,g){f=_p(f),r.context===null?r.context=f:r.pendingContext=f,r=Un(i),r.payload={element:a},g=g===void 0?null:g,g!==null&&(r.callback=g),a=In(t,r,i),a!==null&&(Pe(a,t,i),na(a,t,i))}function Dp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function sc(t,i){Dp(t,i),(t=t.alternate)&&Dp(t,i)}function wp(t){if(t.tag===13){var i=Qi(t,67108864);i!==null&&Pe(i,t,67108864),sc(t,67108864)}}var fl=!0;function LE(t,i,a,r){var f=B.T;B.T=null;var g=F.p;try{F.p=2,lc(t,i,a,r)}finally{F.p=g,B.T=f}}function VE(t,i,a,r){var f=B.T;B.T=null;var g=F.p;try{F.p=8,lc(t,i,a,r)}finally{F.p=g,B.T=f}}function lc(t,i,a,r){if(fl){var f=rc(r);if(f===null)Xu(t,i,r,dl,a),Lp(t,r);else if(BE(f,t,i,a,r))r.stopPropagation();else if(Lp(t,r),i&4&&-1<PE.indexOf(t)){for(;f!==null;){var g=Bi(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=ri(g.pendingLanes);if(T!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var A=1<<31-_e(T);C.entanglements[1]|=A,T&=~A}on(g),(Dt&6)===0&&(Zs=We()+500,Ta(0))}}break;case 13:C=Qi(g,2),C!==null&&Pe(C,g,2),$s(),sc(g,2)}if(g=rc(r),g===null&&Xu(t,i,r,dl,a),g===f)break;f=g}f!==null&&r.stopPropagation()}else Xu(t,i,r,null,a)}}function rc(t){return t=hr(t),uc(t)}var dl=null;function uc(t){if(dl=null,t=Pi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=c(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return dl=t,null}function Np(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(T0()){case Yf:return 2;case Kf:return 8;case os:case S0:return 32;case Qf:return 268435456;default:return 32}default:return 32}}var cc=!1,Jn=null,$n=null,Wn=null,_a=new Map,Ra=new Map,jn=[],PE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lp(t,i){switch(t){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":_a.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ra.delete(i.pointerId)}}function Da(t,i,a,r,f,g){return t===null||t.nativeEvent!==g?(t={blockedOn:i,domEventName:a,eventSystemFlags:r,nativeEvent:g,targetContainers:[f]},i!==null&&(i=Bi(i),i!==null&&wp(i)),t):(t.eventSystemFlags|=r,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function BE(t,i,a,r,f){switch(i){case"focusin":return Jn=Da(Jn,t,i,a,r,f),!0;case"dragenter":return $n=Da($n,t,i,a,r,f),!0;case"mouseover":return Wn=Da(Wn,t,i,a,r,f),!0;case"pointerover":var g=f.pointerId;return _a.set(g,Da(_a.get(g)||null,t,i,a,r,f)),!0;case"gotpointercapture":return g=f.pointerId,Ra.set(g,Da(Ra.get(g)||null,t,i,a,r,f)),!0}return!1}function Vp(t){var i=Pi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){t.blockedOn=i,R0(t.priority,function(){if(a.tag===13){var r=Ve();r=nr(r);var f=Qi(a,r);f!==null&&Pe(f,a,r),sc(a,r)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hl(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=rc(t.nativeEvent);if(a===null){a=t.nativeEvent;var r=new a.constructor(a.type,a);dr=r,a.target.dispatchEvent(r),dr=null}else return i=Bi(a),i!==null&&wp(i),t.blockedOn=a,!1;i.shift()}return!0}function Pp(t,i,a){hl(t)&&a.delete(i)}function UE(){cc=!1,Jn!==null&&hl(Jn)&&(Jn=null),$n!==null&&hl($n)&&($n=null),Wn!==null&&hl(Wn)&&(Wn=null),_a.forEach(Pp),Ra.forEach(Pp)}function ml(t,i){t.blockedOn===i&&(t.blockedOn=null,cc||(cc=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,UE)))}var pl=null;function Bp(t){pl!==t&&(pl=t,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){pl===t&&(pl=null);for(var i=0;i<t.length;i+=3){var a=t[i],r=t[i+1],f=t[i+2];if(typeof r!="function"){if(uc(r||a)===null)continue;break}var g=Bi(a);g!==null&&(t.splice(i,3),i-=3,uu(g,{pending:!0,data:f,method:a.method,action:r},r,f))}}))}function wa(t){function i(A){return ml(A,t)}Jn!==null&&ml(Jn,t),$n!==null&&ml($n,t),Wn!==null&&ml(Wn,t),_a.forEach(i),Ra.forEach(i);for(var a=0;a<jn.length;a++){var r=jn[a];r.blockedOn===t&&(r.blockedOn=null)}for(;0<jn.length&&(a=jn[0],a.blockedOn===null);)Vp(a),a.blockedOn===null&&jn.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var f=a[r],g=a[r+1],T=f[ve]||null;if(typeof g=="function")T||Bp(a);else if(T){var C=null;if(g&&g.hasAttribute("formAction")){if(f=g,T=g[ve]||null)C=T.formAction;else if(uc(f)!==null)continue}else C=T.action;typeof C=="function"?a[r+1]=C:(a.splice(r,3),r-=3),Bp(a)}}}function fc(t){this._internalRoot=t}gl.prototype.render=fc.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,r=Ve();Rp(a,r,t,i,null,null)},gl.prototype.unmount=fc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Rp(t.current,2,null,t,null,null),$s(),i[Vi]=null}};function gl(t){this._internalRoot=t}gl.prototype.unstable_scheduleHydration=function(t){if(t){var i=Wf();t={blockedOn:null,target:t,priority:i};for(var a=0;a<jn.length&&i!==0&&i<jn[a].priority;a++);jn.splice(a,0,t),a===0&&Vp(t)}};var Up=e.version;if(Up!=="19.1.1")throw Error(s(527,Up,"19.1.1"));F.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?h(t):null,t=t===null?null:t.stateNode,t};var IE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yl.isDisabled&&yl.supportsFiber)try{Po=yl.inject(IE),xe=yl}catch{}}return Va.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,r="",f=Wh,g=jh,T=tm,C=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks)),i=xp(t,1,!1,null,null,a,r,f,g,T,C,null),t[Vi]=i.current,Qu(t),new fc(i)},Va.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var r=!1,f="",g=Wh,T=jh,C=tm,A=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),i=xp(t,1,!0,i,a??null,r,f,g,T,C,A,P),i.context=_p(null),a=i.current,r=Ve(),r=nr(r),f=Un(r),f.callback=null,In(a,f,r),a=r,i.current.lanes=a,Uo(i,a),on(i),t[Vi]=i.current,Qu(t),new gl(i)},Va.version="19.1.1",Va}var lv;function _w(){if(lv)return Dc.exports;lv=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),Dc.exports=xw(),Dc.exports}var Rw=_w();let ct,r0,ln=null,_i=null,To=!1,an=[],So=[],sn=null,ce=null,Ml=null,ql=new Map,Ke=new Map,_n=null,xl=null,Ua=[],kt="de",Jt={};const $a={de:{header:{planning:"Planung",manufacturer:"Hersteller"},nav:{paramInput:"Parameter",markingArea:"Sicherheitsbereich",threatAnalysis:"Gefahrenanalyse",riskReport:"Risikobericht",productSelection:"Produktauswahl",projectDescription:"Ausschreibung",publishProject:"Projektausschreibung veröffentlichen"},aria:{search:"Suche",email:"E-Mail",settings:"Einstellungen"},user:{loggedIn:"Angemeldet: BarricadiX Admin"},sidebar:{trafficData:"Verkehrsdaten",vehicleSelect:"Fahrzeugauswahl",accessRoads:"Zufahrten",curbs:"Bordsteinkanten",obstacles:"Hindernisse",protectionSelection:"Schutzauswahl",protectionPeriod:"Schutzzeitraum",protectionProducts:"Schutzprodukte",productProperty:"Produkteigenschaft",riskAssessment:"Risikobewertung",assetToProtect:"Was geschützt werden soll",securityRisk:"Sicherheitsrisiko",recommendedProductClass:"Empfohlene Produktklasse",low:"niedrig",high:"hoch",options:{vehicle:{all:"alle",motorcycle:"Motorrad",car_light:"KFZ <3.5t",truck_light:"LKW <7.5t",truck_medium:"LKW <12t",truck_heavy:"LKW <40t"},access:{all:"alle",meadow:"Wiese",forest_path:"Waldweg",pedestrian_path:"Fußgängerweg",one_way:"Einbahnstraße",two_lane:"Zweispur",three_lane:"Dreispur",four_lane:"Vierspur"},curbs:{yes:"ja",no:"nein"},obstacles:{none:"keine",trees:"Bäume",posts:"Pfosten",bins:"Mülltonnen"},period:{permanent:"dauerhaft",temporary:"temporär",eventual:"eventuell"},products:{bollard:"Poller",barrier:"Barriere",post:"Pfosten",ditch:"Graben"},property:{automatic_rigid:"aut./starr",retractable:"versenkbar",removable:"entfernbar"}}},products:{resistanceMedium:"Widerstandsmedium",resistanceHigh:"Hoher Widerstand",resistanceLow:"Niedriger Widerstand"},ai:{reportPrompt:"Erstellen Sie einen detaillierten Risikobericht basierend auf den gesammelten Daten.",chatbot:{title:"Zufahrtsschutz-Assistent",welcome:"Willkommen zum Zufahrtsschutz-Assistenten. Ich stelle nur Fragen, die noch fehlen oder unsicher sind. Bereit?",assetQuestion:"Welche Schutzgüter möchten Sie absichern? Hinweis: Grundlage für Schutzziel & Schutzklasse (DIN SPEC 91414-2 / ISO 22343-2)",inputPlaceholder:"Antwort eingeben...",sendButton:"Senden",stakeholderQuestion:"Wer sind die relevanten Stakeholder (Behörden, Veranstalter, Betreiber)?",restRiskQuestion:"Welches akzeptable Restrisiko gilt?",operationalQuestion:"Betriebsanforderungen (mehrfach wählbar)",threatQuestion:"Welche Art fahrzeuggestützter Bedrohung ist zu erwarten?",vehicleTypesQuestion:"Welche Fahrzeugtypen sind relevant?",accessCorridorsQuestion:"Wo könnten Fahrzeuge eindringen? (Karte markieren oder beschreiben)",speedQuestion:"Maximale Zufahrtsgeschwindigkeit (km/h)",angleQuestion:"Wahrscheinlicher Anprallwinkel (°)",groundQuestion:"Untergrund/Fundamente am Standort",riskMatrixQuestion:"Risikobewertung: Eintrittswahrscheinlichkeit & Schadensausmaß",completionMessage:"Danke! Alle erforderlichen Angaben sind vorhanden. Möchten Sie den normkonformen PDF-Plan erzeugen?"}},manufacturer:{title:"Hersteller-Ansicht",subtitle:"Verwalten Sie Ihren Produktkatalog und Kundenanfragen",products:"Produkte",quotations:"Angebote",customers:"Kunden",analytics:"Analysen",manageCatalog:"Verwalten Sie Ihren Produktkatalog",createQuotations:"Erstellen und verwalten Sie Angebote",manageContacts:"Verwalten Sie Ihre Kundenkontakte",businessAnalytics:"Betriebs- und Verkaufsanalysen",open:"Öffnen",nav:{products:"Produkte",quotations:"Angebote",customers:"Kunden",analytics:"Analysen",settings:"Einstellungen"},sidebar:{productManagement:"Produktverwaltung",productCategory:"Produktkategorie",productStatus:"Produktstatus",customerManagement:"Kundenverwaltung",customerType:"Kundentyp",customerRegion:"Region",analytics:"Analysen",dateRange:"Zeitraum",options:{category:{all:"Alle Kategorien",bollards:"Poller",barriers:"Barrieren",posts:"Pfosten",ditches:"Gräben"},status:{all:"Alle Status",active:"Aktiv",inactive:"Inaktiv",draft:"Entwurf"},customerType:{all:"Alle Typen",private:"Privat",business:"Geschäft",government:"Behörde"},region:{all:"Alle Regionen",north:"Nord",south:"Süd",east:"Ost",west:"West"},dateRange:{"7days":"Letzte 7 Tage","30days":"Letzte 30 Tage","90days":"Letzte 90 Tage","1year":"Letztes Jahr"}}}},report:{mainTitle:"Risikobewertung für Zufahrtsschutz",watermark:"VERTRAULICH",undefinedAsset:"Nicht definiertes Schutzgut",undefinedValue:"Nicht definierter Wert",noThreatAnalysis:"Keine Gefahrenanalyse verfügbar",generating:"Bericht wird generiert...",status:{draft:"Entwurf",final:"Final",approved:"Genehmigt"},metadata:{date:"Datum",author:"Autor",version:"Version",classification:"Klassifizierung"},sections:{purpose:{title:"Zweck und Zielsetzung",description:"Dieser Bericht dient der Bewertung der Sicherheitsrisiken für die zu schützenden Zufahrten und der Empfehlung geeigneter Schutzmaßnahmen."},threatAnalysis:{title:"Gefahrenanalyse",description:"Analyse der identifizierten Bedrohungen und deren potenzielle Auswirkungen."},riskAssessment:{title:"Risikobewertung",description:"Bewertung der identifizierten Risiken und deren Klassifizierung."},recommendations:{title:"Empfehlungen",description:"Konkrete Handlungsempfehlungen für die Implementierung von Schutzmaßnahmen."},vulnerabilities:{title:"Schwachstellenanalyse",description:"Identifizierung und Bewertung von Sicherheitsschwachstellen."},hvmMeasures:{title:"HVM-Schutzmaßnahmen",description:"Spezifische Schutzmaßnahmen gegen High-Velocity Missile Angriffe."},siteConsiderations:{title:"Standortbetrachtungen",description:"Besondere Aspekte des Standorts und der Umgebung."},operationalImpact:{title:"Betriebliche Auswirkungen",description:"Auswirkungen der Schutzmaßnahmen auf den laufenden Betrieb."}},threatsTable:{title:"Identifizierte Bedrohungen",street:"Straße",distance:"Strecke",maxSpeed:"Max. erreichbare Geschw."},identifiedCorridors:"{count} identifizierte Korridore",noChatGeometry:"keine Geometrie aus Chatbot übergeben",actions:{save:"Speichern",print:"Drucken",export:"Exportieren",share:"Teilen"}},threats:{title:"Gefahrenanalyse",speed:"Geschwindigkeit",analysisFailed:"Gefahrenanalyse fehlgeschlagen",noCrossingWaysBoundary:"Keine kreuzenden Wege an der Grenze gefunden",popupHeader:"Gefahreninformationen",loading:"Lade Gefahrenanalyse..."},map:{createReport:"Bericht erstellen",downloadReport:"Bericht herunterladen",searchPlaceholder:"Paderborn, Domplatz",searchButton:"Suchen",setWaypoints:"Wegpunkte setzen",setWaypointsActive:"Zeichnen aktiv",reset:"Zurücksetzen",securityAreaLabel:"Sicherheitsbereich",analyzeAccess:"Zugang analysieren"}},en:{header:{planning:"Planning",manufacturer:"Manufacturer"},nav:{paramInput:"Parameters",markingArea:"Security Area",threatAnalysis:"Threat Analysis",riskReport:"Risk Report",productSelection:"Product Selection",projectDescription:"Specification",publishProject:"Publish Project Specification"},aria:{search:"Search",email:"Email",settings:"Settings"},user:{loggedIn:"Logged in: BarricadiX Admin"},sidebar:{trafficData:"Traffic Data",vehicleSelect:"Vehicle Selection",accessRoads:"Access Roads",curbs:"Curbs",obstacles:"Obstacles",protectionSelection:"Protection Selection",protectionPeriod:"Protection Period",protectionProducts:"Protection Products",productProperty:"Product Property",riskAssessment:"Risk Assessment",assetToProtect:"What to Protect",securityRisk:"Security Risk",recommendedProductClass:"Recommended Product Class",low:"low",high:"high",options:{vehicle:{all:"all",motorcycle:"Motorcycle",car_light:"Car <3.5t",truck_light:"Truck <7.5t",truck_medium:"Truck <12t",truck_heavy:"Truck <40t"},access:{all:"all",meadow:"Meadow",forest_path:"Forest Path",pedestrian_path:"Pedestrian Path",one_way:"One Way",two_lane:"Two Lane",three_lane:"Three Lane",four_lane:"Four Lane"},curbs:{yes:"yes",no:"no"},obstacles:{none:"none",trees:"Trees",posts:"Posts",bins:"Bins"},period:{permanent:"permanent",temporary:"temporary",eventual:"eventual"},products:{bollard:"Bollard",barrier:"Barrier",post:"Post",ditch:"Ditch"},property:{automatic_rigid:"auto/rigid",retractable:"retractable",removable:"removable"}}},products:{resistanceMedium:"Resistance Medium",resistanceHigh:"High Resistance",resistanceLow:"Low Resistance"},ai:{reportPrompt:"Create a detailed risk report based on the collected data.",chatbot:{title:"Access Protection Assistant",welcome:"Welcome to the Access Protection Assistant. I only ask questions that are still missing or uncertain. Ready?",assetQuestion:"Which protective assets would you like to secure? Note: Basis for Protection Goal & Protection Class (DIN SPEC 91414-2 / ISO 22343-2)",inputPlaceholder:"Enter answer...",sendButton:"Send",stakeholderQuestion:"Who are the relevant stakeholders (authorities, organizers, operators)?",restRiskQuestion:"What acceptable residual risk applies?",operationalQuestion:"Operational requirements (multiple choice)",threatQuestion:"What type of vehicle-based threat is expected?",vehicleTypesQuestion:"Which vehicle types are relevant?",accessCorridorsQuestion:"Where could vehicles penetrate? (Mark on map or describe)",speedQuestion:"Maximum access speed (km/h)",angleQuestion:"Probable impact angle (°)",groundQuestion:"Ground/foundations at the site",riskMatrixQuestion:"Risk assessment: probability of occurrence & extent of damage",completionMessage:"Thank you! All required information is available. Would you like to generate the standards-compliant PDF plan?"}},manufacturer:{title:"Manufacturer View",subtitle:"Manage your product catalog and customer inquiries",products:"Products",quotations:"Quotations",customers:"Customers",analytics:"Analytics",manageCatalog:"Manage your product catalog",createQuotations:"Create and manage quotations",manageContacts:"Manage your customer contacts",businessAnalytics:"Business and sales analytics",open:"Open",nav:{products:"Products",quotations:"Quotations",customers:"Customers",analytics:"Analytics",settings:"Settings"},sidebar:{productManagement:"Product Management",productCategory:"Product Category",productStatus:"Product Status",customerManagement:"Customer Management",customerType:"Customer Type",customerRegion:"Region",analytics:"Analytics",dateRange:"Date Range",options:{category:{all:"All Categories",bollards:"Bollards",barriers:"Barriers",posts:"Posts",ditches:"Ditches"},status:{all:"All Status",active:"Active",inactive:"Inactive",draft:"Draft"},customerType:{all:"All Types",private:"Private",business:"Business",government:"Government"},region:{all:"All Regions",north:"North",south:"South",east:"East",west:"West"},dateRange:{"7days":"Last 7 Days","30days":"Last 30 Days","90days":"Last 90 Days","1year":"Last Year"}}}},report:{mainTitle:"Risk Assessment for Access Protection",watermark:"CONFIDENTIAL",undefinedAsset:"Undefined asset",undefinedValue:"Undefined value",noThreatAnalysis:"No threat analysis available",generating:"Generating report...",identifiedCorridors:"{count} identified corridors",noChatGeometry:"no geometry from chatbot",status:{draft:"Draft",final:"Final",approved:"Approved"},metadata:{date:"Date",author:"Author",version:"Version",classification:"Classification"},sections:{purpose:{title:"Purpose and Objectives",description:"This report serves to assess security risks for the access routes to be protected and to recommend appropriate protective measures."},threatAnalysis:{title:"Threat Analysis",description:"Analysis of identified threats and their potential impacts."},riskAssessment:{title:"Risk Assessment",description:"Assessment of identified risks and their classification."},recommendations:{title:"Recommendations",description:"Concrete action recommendations for implementing protective measures."},vulnerabilities:{title:"Vulnerability Analysis",description:"Identification and assessment of security vulnerabilities."},hvmMeasures:{title:"HVM Protection Measures",description:"Specific protection measures against High-Velocity Missile attacks."},siteConsiderations:{title:"Site Considerations",description:"Special aspects of the site and environment."},operationalImpact:{title:"Operational Impact",description:"Impact of protection measures on ongoing operations."}},threatsTable:{title:"Identified Threats",street:"Street",distance:"Distance",maxSpeed:"Max. achievable speed"},actions:{save:"Save",print:"Print",export:"Export",share:"Share"}},threats:{title:"Threat Analysis",speed:"Speed",analysisFailed:"Threat analysis failed",noCrossingWaysBoundary:"No crossing ways found at boundary",popupHeader:"Threat Information",loading:"Loading threat analysis..."},map:{createReport:"Create Report",downloadReport:"Download Report",searchPlaceholder:"Paderborn, Domplatz",searchButton:"Search",setWaypoints:"Set Waypoints",setWaypointsActive:"Drawing Active",reset:"Reset",securityAreaLabel:"Security Area",analyzeAccess:"Analyze Access"},placeholders:{assetToProtect:"Please enter"}}};function rv(){console.log("Initializing view switcher..."),setTimeout(()=>{const o=document.getElementById("planning-view-btn"),e=document.getElementById("manufacturer-view-btn"),n=document.getElementById("close-manufacturer-view");console.log("Planning button:",o),console.log("Manufacturer button:",e),console.log("Close manufacturer button:",n),o&&e?(o.addEventListener("click",()=>{console.log("Planning button clicked"),uv()}),e.addEventListener("click",()=>{console.log("Manufacturer button clicked"),Dw()}),console.log("View switcher initialized successfully")):console.error("View switcher buttons not found!"),n?(n.addEventListener("click",()=>{console.log("Close manufacturer button clicked"),uv()}),console.log("Close manufacturer button initialized")):console.error("Close manufacturer button not found!");const s=document.querySelectorAll(".manufacturer-tab");s.forEach(l=>{l.addEventListener("click",u=>{u.preventDefault();const c=u.target;s.forEach(h=>h.classList.remove("active")),c.classList.add("active");const m=c.id;console.log("Manufacturer tab clicked:",m);const y=c.textContent||"Tab";Vo(`${y} wird geladen...`,"info")})}),console.log("Manufacturer navigation tabs initialized"),setTimeout(()=>{Vw()},500)},100)}function uv(){const o=document.getElementById("planning-view-btn"),e=document.getElementById("manufacturer-view-btn");o&&e&&(o.classList.add("active"),e.classList.remove("active")),ww()}function Dw(){const o=document.getElementById("planning-view-btn"),e=document.getElementById("manufacturer-view-btn");o&&e&&(e.classList.add("active"),o.classList.remove("active")),Nw()}function ww(){console.log("Switching to planning view...");const o=document.getElementById("manufacturer-view");o&&(o.style.display="none",console.log("Manufacturer view hidden"));const e=document.getElementById("planning-view");if(e&&(e.style.display="block",console.log("Planning view shown")),jw(),["map","map-area","sidebar","map-tabs","map-toolbar","chatbot-react-root"].forEach(s=>{const l=document.getElementById(s);l&&(l.classList.remove("view-hidden"),l.style.display="block",l.style.visibility="visible",l.style.opacity="1",console.log(`${s} restored and view-hidden removed`))}),ct&&(console.log("Destroying existing map..."),ct.remove(),ct=null),setTimeout(()=>{if(console.log("Re-initializing map..."),h0(),window.savedMapState){const s=window.savedMapState;ct&&(ct.setView(s.center,s.zoom),console.log("Map state restored:",s.center,"zoom:",s.zoom),ct.invalidateSize(),setTimeout(()=>ct==null?void 0:ct.invalidateSize(),100),setTimeout(()=>ct==null?void 0:ct.invalidateSize(),300))}},100),window.savedChatbotState&&window.savedChatbotState.open){console.log("Restoring chatbot state...");const s=document.querySelector('#chatbot-react-root [aria-label="Zufahrtsschutz-Assistent öffnen"]');s&&(s.click(),console.log("Chatbot button clicked"))}Vo("Planungs-Ansicht aktiviert - Map neu initialisiert","success"),console.log("Planning view switch completed with map re-initialization")}function Nw(){ct&&(window.savedMapState={center:ct.getCenter(),zoom:ct.getZoom(),waypoints:an,drawnPolygon:ce?ce.getLatLngs()[0]:null,waypointMarkers:So.length>0,pathLine:sn!==null});const o=document.querySelector('#chatbot-react-root aside[aria-label="Zufahrtsschutz-Assistent Panel"]');window.savedChatbotState={open:o&&!o.classList.contains("hidden")};const e=document.getElementById("planning-view");e&&(e.style.display="none");const n=document.getElementById("manufacturer-view");n&&(n.style.display="block",n.style.position="relative",n.style.width="100%",n.style.height="100%",n.style.zIndex="auto",n.style.backgroundColor="transparent");const s=document.querySelector(".sidebar");s&&(s.style.display="none");const l=document.getElementById("map-area");l&&(l.style.display="none",l.style.visibility="hidden",l.style.opacity="0",l.classList.add("view-hidden"));const u=document.getElementById("map");u&&(u.style.display="none",u.style.visibility="hidden",u.style.opacity="0",u.classList.add("view-hidden"));const c=document.getElementById("map-tabs"),m=document.getElementById("map-toolbar");c&&(c.style.display="none",c.classList.add("view-hidden")),m&&(m.style.display="none",m.classList.add("view-hidden")),setTimeout(()=>{p0()},50),Vo("Hersteller-Ansicht aktiviert","success")}function Lw(){if(!window.savedMapState)return;const o=window.savedMapState;return console.log("Restoring map state:",o),o}window.restoreMapState=Lw;function Vw(){console.log("Initializing product database..."),c0(),Pw(),Uw(),Iw()}async function Pw(){try{const o=await fetch("/product-database.json");if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const e=await o.json();console.log("Product database loaded:",e.length,"products"),window.productDatabase=e,Bw(e),u0(e);const n=document.getElementById("products-loading");n&&(n.style.display="none");const s=document.getElementById("products-table");s&&(s.style.display="table"),c0()}catch(o){console.error("Error loading product database:",o),Vo("Fehler beim Laden der Produktdatenbank","error");const e=document.getElementById("no-products");e&&(e.style.display="block",e.textContent="Fehler beim Laden der Produktdatenbank")}}function Bw(o){const e=document.getElementById("manufacturer-filter");e&&[...new Set(o.map(u=>u.manufacturer).filter(Boolean))].forEach(u=>{const c=document.createElement("option");c.value=u,c.textContent=u,e.appendChild(c)});const n=document.getElementById("standard-filter");n&&[...new Set(o.map(u=>u.standard).filter(Boolean))].forEach(u=>{const c=document.createElement("option");c.value=u,c.textContent=u,n.appendChild(c)});const s=document.getElementById("vehicle-type-filter");s&&[...new Set(o.map(u=>u.vehicleType).filter(Boolean))].forEach(u=>{const c=document.createElement("option");c.value=u,c.textContent=u,s.appendChild(c)})}function u0(o){const e=document.getElementById("products-tbody");if(!e)return;if(e.innerHTML="",o.length===0){const l=document.getElementById("no-products");l&&(l.style.display="block");return}const n=document.getElementById("no-products");n&&(n.style.display="none"),o.forEach((l,u)=>{const c=document.createElement("tr");c.innerHTML=`
            <td>${l.manufacturer||"N/A"}</td>
            <td>${l.type||"N/A"}</td>
            <td>${l.standard||"N/A"}</td>
            <td>${l.vehicleWeight||"N/A"}</td>
            <td>${l.vehicleType||"N/A"}</td>
            <td>${l.speed||"N/A"}</td>
            <td>${l.impactAngle||"N/A"}</td>
            <td>${l.penetration||"N/A"}</td>
            <td>${l.debrisDistance||"N/A"}</td>
            <td>
                <button class="view-details-btn" data-product-index="${u}">
                    Details anzeigen
                </button>
            </td>
        `,e.appendChild(c)}),e.querySelectorAll(".view-details-btn").forEach(l=>{l.addEventListener("click",u=>{const c=u.target,m=parseInt(c.getAttribute("data-product-index")||"0");zw(m)})})}function Uw(){const o=document.getElementById("product-search"),e=document.getElementById("search-btn"),n=document.getElementById("manufacturer-filter"),s=document.getElementById("standard-filter"),l=document.getElementById("vehicle-type-filter");o&&o.addEventListener("input",Pa),e&&e.addEventListener("click",Pa),n&&n.addEventListener("change",Pa),s&&s.addEventListener("change",Pa),l&&l.addEventListener("change",Pa)}function Pa(){var c,m,y,h;const o=window.productDatabase||[],e=((c=document.getElementById("product-search"))==null?void 0:c.value.toLowerCase())||"",n=((m=document.getElementById("manufacturer-filter"))==null?void 0:m.value)||"",s=((y=document.getElementById("standard-filter"))==null?void 0:y.value)||"",l=((h=document.getElementById("vehicle-type-filter"))==null?void 0:h.value)||"",u=o.filter(v=>{var D,z,k;const S=!e||((D=v.manufacturer)==null?void 0:D.toLowerCase().includes(e))||((z=v.type)==null?void 0:z.toLowerCase().includes(e))||((k=v.standard)==null?void 0:k.toLowerCase().includes(e)),E=!n||v.manufacturer===n,b=!s||v.standard===s,M=!l||v.vehicleType===l;return S&&E&&b&&M});u0(u)}function c0(){console.log("Translating product database elements...");const o=document.querySelector(".section-header h2");o&&(o.textContent="Produktdatenbank");const e=document.querySelector(".section-header p");e&&(e.textContent="Technische Daten und Spezifikationen aller verfügbaren Produkte");const n=document.getElementById("product-search");n&&(n.placeholder="Produktname, Hersteller oder Typ eingeben...");const s=document.querySelectorAll(".products-table th");s.length>=9&&(s[0].textContent="Hersteller",s[1].textContent="Typ",s[2].textContent="Standard",s[3].textContent="Fahrzeuggewicht (kg)",s[4].textContent="Fahrzeugtyp",s[5].textContent="Geschwindigkeit (km/h)",s[6].textContent="Anprallwinkel (°)",s[7].textContent="Penetration (m)",s[8].textContent="Trümmerdistanz (m)",s[9].textContent="Aktionen");const l=document.getElementById("products-loading");l&&(l.textContent="Produkte werden geladen...");const u=document.getElementById("no-products");u&&(u.textContent="Keine Produkte gefunden");const c=document.getElementById("modal-product-name");c&&(c.textContent="Produktdetails");const m=document.querySelector("#modal-technical-specs");m&&m.previousElementSibling&&(m.previousElementSibling.textContent="Technische Spezifikationen");const y=document.querySelector("#modal-performance-data");y&&y.previousElementSibling&&(y.previousElementSibling.textContent="Leistungsdaten");const h=document.querySelector("#modal-certification");h&&h.previousElementSibling&&(h.previousElementSibling.textContent="Zertifizierung");const v=document.getElementById("export-product");if(v){const E=v.querySelector("span");E&&(E.textContent="Daten exportieren")}const S=document.getElementById("print-product");if(S){const E=S.querySelector("span");E&&(E.textContent="Spezifikationen drucken")}console.log("Product database elements translated")}function Iw(){const o=document.getElementById("close-modal"),e=document.getElementById("export-product"),n=document.getElementById("print-product");o&&o.addEventListener("click",()=>{const l=document.getElementById("product-modal");l&&(l.style.display="none")}),e&&e.addEventListener("click",kw),n&&n.addEventListener("click",Ow);const s=document.getElementById("product-modal");s&&s.addEventListener("click",l=>{l.target===s&&(s.style.display="none")})}function zw(o){const n=(window.productDatabase||[])[o];if(!n)return;const s=document.getElementById("modal-product-name");s&&(s.textContent=`${n.manufacturer} - ${n.type}`);const l=document.getElementById("modal-technical-specs");l&&(l.innerHTML=`
            <p><strong>Hersteller:</strong> ${n.manufacturer||"N/A"}</p>
            <p><strong>Typ:</strong> ${n.type||"N/A"}</p>
            <p><strong>Standard:</strong> ${n.standard||"N/A"}</p>
        `);const u=document.getElementById("modal-performance-data");u&&(u.innerHTML=`
            <p><strong>Fahrzeuggewicht:</strong> ${n.vehicleWeight||"N/A"} kg</p>
            <p><strong>Fahrzeugtyp:</strong> ${n.vehicleType||"N/A"}</p>
            <p><strong>Geschwindigkeit:</strong> ${n.speed||"N/A"} km/h</p>
            <p><strong>Anprallwinkel:</strong> ${n.impactAngle||"N/A"}°</p>
            <p><strong>Penetration:</strong> ${n.penetration||"N/A"} m</p>
            <p><strong>Trümmerdistanz:</strong> ${n.debrisDistance||"N/A"} m</p>
        `);const c=document.getElementById("modal-certification");c&&(c.innerHTML=`
            <p><strong>Zertifizierungsstandard:</strong> ${n.standard||"N/A"}</p>
            <p><strong>Testbedingungen:</strong> ${n.vehicleWeight||"N/A"} kg bei ${n.speed||"N/A"} km/h</p>
        `);const m=document.getElementById("product-modal");m&&(m.style.display="flex")}function kw(){Vo("Export-Funktionalität wird implementiert...","info")}function Ow(){Vo("Druck-Funktionalität wird implementiert...","info")}function Vo(o,e="info"){document.querySelectorAll(".custom-notification").forEach(u=>u.remove());const s=document.createElement("div");s.className=`custom-notification custom-notification-${e}`,s.innerHTML=`
        <div class="notification-content">
            <span class="notification-message">${o}</span>
            <button class="notification-close">&times;</button>
        </div>
    `,s.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${e==="info"?"#2563eb":e==="success"?"#22c55e":e==="warning"?"#f59e0b":"#ef4444"};
        color: white;
        padding: 16px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 10000;
        max-width: 400px;
        font-family: 'Open Sans', sans-serif;
        font-size: 14px;
        line-height: 1.4;
    `,document.body.appendChild(s);const l=s.querySelector(".notification-close");l&&l.addEventListener("click",()=>s.remove()),setTimeout(()=>{s.parentNode&&s.remove()},5e3)}function cv(o,e){return e.split(".").reduce((n,s)=>n?n[s]:void 0,o)}function nt(o,e){(!Jt||!Jt[kt])&&(console.warn(`No translations loaded for language: ${kt}, using embedded`),Jt=$a);let n=cv(Jt[kt],o);if(typeof n!="string"&&(console.warn(`Translation key not found in main translations for language '${kt}': ${o}`),n=cv($a[kt],o),typeof n!="string"))return console.warn(`Translation key not found in embedded translations for language '${kt}': ${o}`),qw(o)||o;if(e)for(const s in e)n=n.replace(`{${s}}`,String(e[s]));return n}function qw(o){return{"sidebar.trafficData":"Verkehrsdaten","sidebar.vehicleSelect":"Fahrzeugauswahl","sidebar.accessRoads":"Zufahrten","sidebar.curbs":"Bordsteinkanten","sidebar.obstacles":"Hindernisse","sidebar.protectionSelection":"Schutzauswahl","sidebar.protectionPeriod":"Schutzzeitraum","sidebar.protectionProducts":"Schutzprodukte","sidebar.productProperty":"Produkteigenschaft","sidebar.riskAssessment":"Risikobewertung","sidebar.assetToProtect":"Was geschützt werden soll","sidebar.securityRisk":"Sicherheitsrisiko","sidebar.recommendedProductClass":"Empfohlene Produktklasse","sidebar.low":"niedrig","sidebar.high":"hoch","nav.paramInput":"Parameter","nav.markingArea":"Sicherheitsbereich","nav.threatAnalysis":"Gefahrenanalyse","nav.riskReport":"Risikobericht","nav.productSelection":"Produktauswahl","nav.projectDescription":"Ausschreibung","header.planning":"Planung","header.manufacturer":"Hersteller"}[o]||null}async function f0(){if(console.log("Starting UI translation..."),!Jt[kt]&&(console.warn(`No translations for language '${kt}', attempting to load...`),await d0(),!Jt[kt])){console.error(`Failed to load translations for language '${kt}'`);return}let o=0,e=0;document.querySelectorAll("[data-translate-key]").forEach(s=>{try{const l=s.getAttribute("data-translate-key"),u=nt(l);if(u&&u!==l){if(s.hasAttribute("placeholder"))s.placeholder=u;else if(s.tagName==="INPUT"&&s.type==="text")s.value=u;else{const c=Array.from(s.childNodes).find(m=>{var y;return m.nodeType===Node.TEXT_NODE&&((y=m.textContent)==null?void 0:y.trim())});c?c.textContent=u:s.textContent=u}o++}else console.warn(`Translation failed for key: ${l}`),e++}catch(l){console.error("Error translating element:",l),e++}}),document.querySelectorAll("[data-translate-key-placeholder]").forEach(s=>{try{const l=s.getAttribute("data-translate-key-placeholder"),u=nt(l);u&&u!==l&&(s.placeholder=u,o++)}catch(l){console.error("Error translating placeholder:",l),e++}}),document.querySelectorAll("[data-translate-key-aria]").forEach(s=>{try{const l=s.getAttribute("data-translate-key-aria"),u=nt(l);u&&u!==l&&(s.setAttribute("aria-label",u),o++)}catch(l){console.error("Error translating aria-label:",l),e++}}),document.querySelectorAll("[data-translate-key-tooltip]").forEach(s=>{try{const l=s.getAttribute("data-translate-key-tooltip"),u=nt(l);u&&u!==l&&(s.dataset.tooltip=u,o++)}catch(l){console.error("Error translating tooltip:",l),e++}});const n=document.getElementById("toggle-draw-mode");if(n){const s=n.querySelector("span");if(s){const l=nt(To?"map.setWaypointsActive":"map.setWaypoints");l&&l!=="map.setWaypointsActive"&&l!=="map.setWaypoints"&&(s.textContent=l,o++)}}console.log(`UI translation completed: ${o} elements translated, ${e} failed`),setTimeout(()=>{let s=0;document.querySelectorAll("[data-translate-key]").forEach(l=>{try{const u=l.getAttribute("data-translate-key"),c=nt(u);c&&c!==u&&l.textContent!==c&&(l.textContent=c,s++)}catch(u){console.error("Error in refresh translation:",u)}}),s>0&&console.log(`Refreshed ${s} elements`)},200)}async function d0(){try{const o=["/Barricadix_MWP/translations.json","/translations.json","./translations.json","../translations.json"];let e=!1;for(const n of o)try{console.log(`Trying to load translations from: ${n}`);const s=await fetch(n);if(s.ok){Jt=await s.json(),console.log(`Translations loaded successfully from: ${n}`),e=!0;break}}catch(s){console.log(`Failed to load from ${n}:`,s)}if(!e)throw new Error("All translation file paths failed")}catch(o){console.error("Could not load translations from any file path:",o);try{const e=await fetch("/translations.json");e.ok&&(Jt=await e.json())}catch(e){console.error("Fallback translation loading also failed:",e)}}!Jt.de&&!Jt.en?(console.log("No translations loaded from file, using embedded translations"),Jt=$a):console.log("Translations loaded successfully from file"),(!Jt.de||!Jt.en)&&(console.warn("Incomplete translations, falling back to embedded"),Jt=$a)}async function fv(o){var n;kt=o,localStorage.setItem("language",o),document.documentElement.lang=o,document.querySelectorAll(".lang-btn").forEach(s=>{s.classList.toggle("active",s.getAttribute("data-lang")===o)}),await f0();const e=document.getElementById("manufacturer-view");e&&e.style.display!=="none"&&p0(),g0(),window.dispatchEvent(new Event("languageChanged")),Ke.size>0&&m0(),((n=document.querySelector(".product-recommendations-container"))==null?void 0:n.classList.contains("hidden"))===!1&&await Hl()}function h0(){const o=document.getElementById("map");if(!o){console.error("Map container element not found.");return}o.style.display="block",o.style.visibility="visible",o.style.opacity="1",o.classList.remove("view-hidden"),console.log("Map container prepared for initialization");const e=[51.7189,8.7575];ct=L.map(o,{zoomControl:!1,preferCanvas:!0}).setView(e,16),L.control.zoom({position:"bottomright"}).addTo(ct),r0=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(ct),console.log("Map initialized successfully")}const Ia=()=>{if(ln){try{ln.clearLayers(),ct.removeLayer(ln)}catch{}ln=null}ql.forEach(s=>{s.forEach(l=>ct.removeLayer(l))}),ql.clear(),Ke.clear();const o=document.querySelector(".threat-list");o&&(o.innerHTML="");const e=document.getElementById("floating-threats");e&&e.classList.add("view-hidden");const n=document.querySelector(".product-recommendations-container");n&&n.classList.add("hidden")};function Gw(o,e,n,s){const l=o.lon,u=o.lat,c=e.lon,m=e.lat,y=n.lon,h=n.lat,v=s.lon,S=s.lat,E=(l-c)*(h-S)-(u-m)*(y-v);if(E===0)return null;const b=((l-y)*(h-S)-(u-h)*(y-v))/E,M=-((l-c)*(u-h)-(u-m)*(l-y))/E;return b>0&&b<1&&M>0&&M<1?{lat:u+b*(m-u),lon:l+b*(c-l)}:null}const dv=(o,e)=>{let n=!1;for(let s=0,l=e.length-1;s<e.length;l=s++){const u=e[s].lon,c=e[s].lat,m=e[l].lon,y=e[l].lat;c>o.lat!=y>o.lat&&o.lon<(m-u)*(o.lat-c)/(y-c)+u&&(n=!n)}return n};function hv(o,e){const s=o.lat*Math.PI/180,l=e.lat*Math.PI/180,u=(e.lat-o.lat)*Math.PI/180,c=(e.lon-o.lon)*Math.PI/180,m=Math.sin(u/2)*Math.sin(u/2)+Math.cos(s)*Math.cos(l)*Math.sin(c/2)*Math.sin(c/2);return 6371e3*(2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)))}function Hw(o,e,n){const s={x:o.lon-e.lon,y:o.lat-e.lat},l={x:n.lon-e.lon,y:n.lat-e.lat},u=s.x*l.x+s.y*l.y,c=Math.sqrt(s.x*s.x+s.y*s.y),m=Math.sqrt(l.x*l.x+l.y*l.y);if(c===0||m===0)return 180;const y=u/(c*m),h=Math.max(-1,Math.min(1,y));return Math.acos(h)*(180/Math.PI)}function Gl(o){switch(o){case"500":return[4,6];case"3500":return[3,4];case"7500":return[1.5,2.5];case"12000":return[1,1.5];case"40000":return[.5,1];default:return null}}function Ha(o,e){return e<=0?0:Math.sqrt(2*o*e)*3.6}function m0(){const o=document.querySelector(".threat-list");if(!o||(o.innerHTML="",Ke.size===0))return;const n=document.getElementById("vehicle-select").value,s=Gl(n),l=Array.from(Ke.entries()).map(([u,c])=>{if(c.entryPoints.length===0)return null;const m=Math.round(c.totalLength);let y=0;if(s&&m>0){const[,h]=s;y=Math.round(Ha(h,m))}return{name:u,data:c,maxSpeed:y,lengthInMeters:m}}).filter(u=>u!==null);if(l.sort((u,c)=>c.maxSpeed-u.maxSpeed),l.forEach(({name:u,maxSpeed:c,lengthInMeters:m})=>{const y=document.createElement("li");let h="";c>0&&(h=` | ${nt("threats.speed")}: ${c} km/h`),y.textContent=`${u} (${m} m)${h}`,y.setAttribute("role","button"),y.setAttribute("tabindex","0"),y.addEventListener("click",()=>{o.querySelectorAll("li").forEach(S=>S.classList.remove("active")),y.classList.add("active");const v=ql.get(u);if(v&&v.length>0){const S=L.featureGroup(v);ct.fitBounds(S.getBounds().pad(.5))}}),y.addEventListener("keydown",v=>{(v.key==="Enter"||v.key===" ")&&y.click()}),o.appendChild(y)}),o.children.length===0){const u=document.createElement("li");u.textContent=nt("threats.noCrossingWaysBoundary"),o.appendChild(u)}}const mv=async()=>{if(!ce){alert(nt("alerts.noPolygon"));return}const o=document.querySelector(".loading-indicator");if(o){Ia(),o.classList.remove("hidden");try{const e=ce.getBounds(),n=.002,s=e.getSouthWest(),l=e.getNorthEast(),u=`${s.lat-n},${s.lng-n},${l.lat+n},${l.lng+n}`,c=`
            [out:json][timeout:25];
            (
              way["highway"](bbox:${u});
              way["railway"="tram"](bbox:${u});
            );
            (._;>;);
            out;
        `,m=`https://overpass-api.de/api/interpreter?data=${encodeURIComponent(c)}`;let y;try{const b=await fetch(m);if(!b.ok)throw new Error(nt("alerts.overpassError",{status:b.status}));y=await b.json()}catch(b){console.error("Overpass API error:",b),alert(nt("alerts.analysisError")),o.classList.add("hidden");return}const h={},v={};y.elements.forEach(b=>{b.type==="node"?h[b.id]={lat:b.lat,lon:b.lon}:b.type==="way"&&b.tags&&(b.tags.highway||b.tags.railway)&&b.tags.name&&(v[b.id]={name:b.tags.name,nodes:b.nodes,id:b.id})});const S=new Map,E=ce.getLatLngs()[0].map(b=>({lat:b.lat,lon:b.lng}));for(const b in v){const M=v[b],D=M.nodes.map(O=>({id:O,...h[O]})).filter(O=>O.lat&&O.lon);if(D.length<2)continue;const z=[],k=[];for(let O=0;O<D.length-1;O++){const V=D[O],K=D[O+1],w=dv(V,E),X=dv(K,E);if(w!==X){let Z=null;for(let q=0;q<E.length;q++){const st=E[q],at=E[(q+1)%E.length],pt=Gw(V,K,st,at);if(pt){Z=pt;break}}if(Z){k.push(Z);const q=[Z];let st,at;X?(q.push({lat:V.lat,lon:V.lon}),st=O-1,at=-1):(q.push({lat:K.lat,lon:K.lon}),st=O+1,at=1);for(let pt=st;pt>=0&&pt<D.length;pt+=at){const yt=D[pt];if(q.length>=2){const St=q[q.length-2],J=q[q.length-1],tt={lat:yt.lat,lon:yt.lon};if(Hw(St,J,tt)<150)break}q.push({lat:yt.lat,lon:yt.lon})}z.push(q)}}}if(k.length>0){S.has(M.name)||S.set(M.name,{entryPoints:[],pathSegments:[],totalLength:0});const O=S.get(M.name);O.entryPoints.push(...k),O.pathSegments.push(...z);let V=0;z.forEach(K=>{for(let w=0;w<K.length-1;w++)V+=hv(K[w],K[w+1])}),O.totalLength+=V}}if(Ke=S,Ke.size>0){if(ln)try{ln.clearLayers(),ct.removeLayer(ln)}catch{}ln=L.layerGroup().addTo(ct);const b=document.getElementById("vehicle-select"),M=(b==null?void 0:b.value)||"alle",D=Gl(M),z=D?D[1]:3;Ke.forEach((V,K)=>{if(V.entryPoints.length===0)return;const w=[];V.entryPoints.forEach(X=>{const Z=L.circle([X.lat,X.lon],{radius:5,color:"red",fillColor:"#f03",fillOpacity:1,weight:2}).bindPopup(`<b>${nt("threats.popupHeader")}</b><br>${K}`);ln.addLayer(Z),w.push(Z)}),V.pathSegments.forEach(X=>{if(X.length>1){const Z=X.map(yt=>[yt.lat,yt.lon]);let q=0;for(let yt=0;yt<X.length-1;yt++)q+=hv(X[yt],X[yt+1]);const st=Ha(z,q);let at="#e74c3c";st<=30?at="#39b54a":st<=50&&(at="#f1c40f");const pt=L.polyline(Z,{color:at,weight:5,opacity:.9});ln.addLayer(pt),w.push(pt)}}),w.length>0&&ql.set(K,w)}),m0();const k=document.getElementById("floating-threats");k&&k.classList.remove("view-hidden");const O=document.querySelector(".product-recommendations-container");O&&(O.classList.remove("hidden"),await Hl())}else{const b=document.querySelector(".threat-list"),M=document.createElement("li");M.textContent=nt("threats.noCrossingWaysArea"),b.appendChild(M);const D=document.getElementById("floating-threats");D&&D.classList.remove("view-hidden")}}catch(e){console.error("Fehler bei der Gefahrenanalyse:",e),alert(nt("alerts.analysisError"));const n=document.querySelector(".threat-list"),s=document.createElement("li");s.textContent=nt("threats.analysisFailed"),n.appendChild(s)}finally{o.classList.add("hidden")}}};async function Fw(o){try{const e=typeof window<"u"&&window.location.hostname.endsWith("github.io"),n="AIzaSyAu89J9B0b57XIao133a19Wd64T6oiCA9A";if(!n||e)return console.warn("AI disabled for public/demo build. Using placeholder report sections."),Qw(o);const s=new Vx({apiKey:n}),l=nt("ai.reportPrompt",{locationName:o.locationName,assetToProtect:o.assetToProtect,securityLevel:o.securityLevel,protectionGrade:o.protectionGrade,threatList:o.threatList,protectionPeriod:o.protectionPeriod,productType:o.productType,penetration:o.penetration,debrisDistance:o.debrisDistance,language:kt==="de"?"German":"English"})+`

IMPORTANT: Generate the report in ${kt==="de"?"German":"English"} language only. All text must be in ${kt==="de"?"German":"English"}.`,c=((await s.models.generateContent({model:"gemini-2.5-flash",contents:l,config:{responseMimeType:"application/json",responseSchema:{type:xn.OBJECT,properties:{purpose:{type:xn.STRING},threatAnalysis:{type:xn.STRING},vulnerabilities:{type:xn.STRING},hvmMeasures:{type:xn.STRING},siteConsiderations:{type:xn.STRING},operationalImpact:{type:xn.STRING}},required:["purpose","threatAnalysis","vulnerabilities","hvmMeasures","siteConsiderations","operationalImpact"]}}})).text||"").trim(),m=JSON.parse(c);return Yw(m)}catch(e){return console.error("Fehler bei der Gemini-API-Anfrage für den Bericht:",e),alert(nt("alerts.geminiError")),null}}function Yw(o){const e=kt==="de",n=o.purpose||o.threatAnalysis||"",s=["der","die","das","und","für","von","mit","bei","auf","in","an","zu","zur","zum"],l=["the","and","for","of","with","at","on","in","to","from","by","as","is","are"],u=s.filter(v=>n.toLowerCase().includes(v)).length,c=l.filter(v=>n.toLowerCase().includes(v)).length,m=u>c;if(!(e&&!m||!e&&m))return console.log("AI text is already in correct language, no translation needed"),o;console.log("AI text needs translation. Current language:",kt,"Text language:",m?"German":"English");const h={};for(const[v,S]of Object.entries(o))typeof S=="string"?h[v]=Kw(S,e):h[v]=S;return h}function Kw(o,e){return e?o.replace(/\bThis report\b/gi,"Dieser Bericht").replace(/\baims to\b/gi,"zielt darauf ab").replace(/\bidentify\b/gi,"zu identifizieren").replace(/\bassess\b/gi,"zu bewerten").replace(/\bmitigate\b/gi,"zu mindern").replace(/\bpotential\b/gi,"potenzielle").replace(/\brisks\b/gi,"Risiken").replace(/\bassets\b/gi,"Schutzgüter").replace(/\bensuring\b/gi,"um sicherzustellen").replace(/\bbusiness continuity\b/gi,"Geschäftskontinuität").replace(/\bstrategic\b/gi,"strategische").replace(/\bsecurity\b/gi,"Sicherheits").replace(/\binvestments\b/gi,"Investitionen").replace(/\bThe primary threat\b/gi,"Die primäre Bedrohung").replace(/\bis\b/gi,"ist").replace(/\buse of vehicles\b/gi,"die Nutzung von Fahrzeugen").replace(/\bas\b/gi,"als").replace(/\bweapon\b/gi,"Waffe").replace(/\bPotential\b/gi,"Potenzielle").replace(/\badversaries\b/gi,"Gegner").replace(/\binclude\b/gi,"umfassen").replace(/\bstate-sponsored\b/gi,"staatsgestützte").replace(/\bterrorist\b/gi,"terroristische").replace(/\binsider threats\b/gi,"Innentäter-Bedrohungen").replace(/\bmalicious software\b/gi,"schädliche Software").replace(/\bdistributed denial\b/gi,"verteilte Verweigerung").replace(/\battacks\b/gi,"Angriffe").replace(/\bGiven\b/gi,"Angesichts").replace(/\bglobal\b/gi,"globaler").replace(/\btrends\b/gi,"Trends").replace(/\band\b/gi,"und").replace(/\bthe\b/gi,"der").replace(/\bof\b/gi,"von").replace(/\bto\b/gi,"zu").replace(/\bin\b/gi,"in").replace(/\bon\b/gi,"auf").replace(/\bat\b/gi,"bei").replace(/\bwith\b/gi,"mit").replace(/\bfor\b/gi,"für").replace(/\bfrom\b/gi,"von").replace(/\bby\b/gi,"durch").replace(/\bas\b/gi,"als").replace(/\bis\b/gi,"ist").replace(/\bare\b/gi,"sind").replace(/\bwas\b/gi,"war").replace(/\bwere\b/gi,"waren").replace(/\bwill\b/gi,"wird").replace(/\bwould\b/gi,"würde").replace(/\bcould\b/gi,"könnte").replace(/\bshould\b/gi,"sollte").replace(/\bmay\b/gi,"kann").replace(/\bmight\b/gi,"könnte").replace(/\bcan\b/gi,"kann"):o.replace(/\bDieser Bericht\b/gi,"This report").replace(/\bzielt darauf ab\b/gi,"aims to").replace(/\bzu identifizieren\b/gi,"identify").replace(/\bzu bewerten\b/gi,"assess").replace(/\bzu mindern\b/gi,"mitigate").replace(/\bpotenzielle\b/gi,"potential").replace(/\bRisiken\b/gi,"risks").replace(/\bSchutzgüter\b/gi,"assets").replace(/\bum sicherzustellen\b/gi,"ensuring").replace(/\bGeschäftskontinuität\b/gi,"business continuity").replace(/\bstrategische\b/gi,"strategic").replace(/\bSicherheits\b/gi,"security").replace(/\bInvestitionen\b/gi,"investments").replace(/\bDie primäre Bedrohung\b/gi,"The primary threat").replace(/\bist\b/gi,"is").replace(/\bdie Nutzung von Fahrzeugen\b/gi,"use of vehicles").replace(/\bals\b/gi,"as").replace(/\bWaffe\b/gi,"weapon").replace(/\bPotenzielle\b/gi,"Potential").replace(/\bGegner\b/gi,"adversaries").replace(/\bumfassen\b/gi,"include").replace(/\bstaatsgestützte\b/gi,"state-sponsored").replace(/\bterroristische\b/gi,"terrorist").replace(/\bInnentäter-Bedrohungen\b/gi,"insider threats").replace(/\bschädliche Software\b/gi,"malicious software").replace(/\bverteilte Verweigerung\b/gi,"distributed denial").replace(/\bAngriffe\b/gi,"attacks").replace(/\bAngesichts\b/gi,"Given").replace(/\bglobaler\b/gi,"global").replace(/\bTrends\b/gi,"trends").replace(/\bund\b/gi,"and").replace(/\bder\b/gi,"the").replace(/\bvon\b/gi,"of").replace(/\bzu\b/gi,"to").replace(/\bin\b/gi,"in").replace(/\bauf\b/gi,"on").replace(/\bbei\b/gi,"at").replace(/\bmit\b/gi,"with").replace(/\bfür\b/gi,"for").replace(/\bdurch\b/gi,"by").replace(/\bist\b/gi,"is").replace(/\bsind\b/gi,"are").replace(/\bwar\b/gi,"was").replace(/\bwaren\b/gi,"were").replace(/\bwird\b/gi,"will").replace(/\bwürde\b/gi,"would").replace(/\bkönnte\b/gi,"could").replace(/\bsollte\b/gi,"should").replace(/\bkann\b/gi,"may")}function Qw(o){var e,n,s,l,u,c,m,y,h,v;try{const S=window.planningState||{},E=((e=S.schutzgüter)==null?void 0:e.join(", "))||o.assetToProtect||nt("report.undefinedAsset"),b=((s=(n=S.risiko)==null?void 0:n.bedrohung)==null?void 0:s.art)||nt("report.undefinedValue"),M=((u=(l=S.risiko)==null?void 0:l.dynamik)==null?void 0:u.v_kmh)||o.estimatedSpeedKmH||nt("report.undefinedValue"),D=((m=(c=S.risiko)==null?void 0:c.site)==null?void 0:m.untergrund)||nt("report.undefinedValue"),z=((y=S.restrisiko)==null?void 0:y.klasse)||o.securityLevel||nt("report.undefinedValue"),k=(v=(h=S.risiko)==null?void 0:h.site)!=null&&v.anfahrkorridore&&S.risiko.site.anfahrkorridore.length>0?nt("report.identifiedCorridors",{count:S.risiko.site.anfahrkorridore.length}):nt("report.noChatGeometry");return kt==="de"?{purpose:`Schutzziel: Sicherung von ${E} am Standort ${o.locationName}. Der Assistent lieferte ergänzende Eingaben (Normbezug DIN SPEC 91414‑2 / ISO 22343‑2).`,threatAnalysis:`Bedrohungsannahme: ${b}. Aus der Karten-/Chat-Analyse ergibt sich eine Zufahrtsgeschwindigkeit von ca. ${M} km/h. Anfahrkorridore laut Chat: ${k}.`,vulnerabilities:`Untergrund/Fundamente: ${D}. Restrisiko (Chat/Slider): ${z}. Kritische Zufahrtswinkel bzw. Engstellen sind bei der Maßnahmendefinition zu berücksichtigen.`,hvmMeasures:`Empfohlene Maßnahmen orientieren sich an der erwarteten Geschwindigkeit und den Schutzzielen. Für ${E} mit Geschwindigkeit ~${M} km/h sind FSB mit entsprechendem Leistungsniveau, geprüften Fundamenten und Berücksichtigung des Anprallwinkels anzusetzen.`,siteConsiderations:`Betriebliche Rahmenbedingungen (z. B. Feuerwehrzufahrt, Fluchtwege) aus Chat sollten in die Detailplanung einfließen. Untergrund: ${D}.`,operationalImpact:"Maßnahmen sind so auszulegen, dass Betrieb, Rettungswege und Gestaltung berücksichtigt sind; temporäre Anpassungen (Events) werden unterstützt."}:{purpose:`Protection objective: Securing ${E} at location ${o.locationName}. The assistant provided additional inputs (standard reference DIN SPEC 91414‑2 / ISO 22343‑2).`,threatAnalysis:`Threat assumption: ${b}. From the map/chat analysis, an access speed of approximately ${M} km/h results. Access corridors according to chat: ${k}.`,vulnerabilities:`Ground/foundations: ${D}. Residual risk (Chat/Slider): ${z}. Critical impact angles or bottlenecks must be considered in measure definition.`,hvmMeasures:`Recommended measures are oriented to expected speed and protection objectives. For ${E} with speed ~${M} km/h, FSB with corresponding performance level, tested foundations and consideration of impact angle should be applied.`,siteConsiderations:`Operational framework conditions (e.g., fire brigade access, escape routes) from chat should flow into detailed planning. Ground: ${D}.`,operationalImpact:"Measures are designed so that operations, rescue routes and design are considered; temporary adaptations (events) are supported."}}catch{return kt==="de"?{purpose:`Schutzziel und Rahmenbedingungen für ${o.locationName}.`,threatAnalysis:"Zusammenfassung der Gefahren basierend auf Karten-/Chat-Eingaben.",vulnerabilities:"Allgemeine Schwachstellen am Standort.",hvmMeasures:"Empfohlene HVM‑Maßnahmen gemäß Annahmen.",siteConsiderations:"Standortspezifische Hinweise.",operationalImpact:"Betriebliche Auswirkungen und Gestaltung."}:{purpose:`Protection objective and framework conditions for ${o.locationName}.`,threatAnalysis:"Summary of hazards based on map/chat inputs.",vulnerabilities:"General vulnerabilities at the site.",hvmMeasures:"Recommended HVM measures according to assumptions.",siteConsiderations:"Site-specific notes.",operationalImpact:"Operational impacts and design."}}}async function Xw(o){const e=`https://nominatim.openstreetmap.org/reverse?format=json&lat=${o.lat}&lon=${o.lng}&zoom=18&addressdetails=1`;try{const n=await fetch(e,{headers:{"Accept-Language":kt}});return n.ok&&(await n.json()).display_name||"Unknown Location"}catch(n){return console.error("Fehler beim Reverse Geocoding:",n),"Could not determine location"}}async function Hl(){if(Ua.length===0)try{const y=await fetch("/Barricadix_MWP/product-database.json");if(!y.ok)throw new Error("Product database fetch failed");Ua=await y.json()}catch(y){console.error(nt("alerts.productDbError"),y);const h=document.querySelector("#poller-category-header small"),v=document.querySelector("#barrier-category-header small");h&&(h.textContent=nt("products.dbError")),v&&(v.textContent=nt("products.dbError"));return}const e=document.getElementById("vehicle-select").value,n=document.querySelector("#poller-category-header small"),s=document.querySelector("#barrier-category-header small");if(n&&(n.textContent=nt("products.resistanceHigh")),s&&(s.textContent=nt("products.resistanceMedium")),e==="alle")return;const l=["bollard","poller"],u=["barrier","barriere","gate"],c=Ua.find(y=>y.vehicleWeight===e&&y.type&&l.some(h=>y.type.toLowerCase().includes(h))),m=Ua.find(y=>y.vehicleWeight===e&&y.type&&u.some(h=>y.type.toLowerCase().includes(h)));n&&(n.textContent=c?`${nt("products.recommendation")} ${c.type}`:nt("products.noRecommendation")),s&&(s.textContent=m?`${nt("products.recommendation")} ${m.type}`:nt("products.noRecommendation"))}function pv(o){return o<33?nt("sidebar.low"):o<66?nt("products.resistanceMedium"):nt("sidebar.high")}function Zw(){const o=document.getElementById("vehicle-select"),e=parseInt(o.value,10);if(isNaN(e))return null;let n=null,s=1/0;for(const l of Ua){const u=parseInt(l.vehicleWeight,10),c=parseFloat(l.penetration);!isNaN(u)&&!isNaN(c)&&u>=e&&c<s&&(s=c,n=l)}return n}async function Jw(){var c;const o=document.getElementById("report-iframe"),e=document.querySelector(".report-loading-overlay"),n=document.getElementById("download-report-btn"),s=document.getElementById("map"),l=document.getElementById("report-preview-area");e.classList.remove("view-hidden"),n.disabled=!0;let u=null;try{ce&&(l.classList.add("view-hidden"),s.classList.remove("view-hidden"),await new Promise(St=>{ct.invalidateSize();const J=()=>requestAnimationFrame(()=>setTimeout(St,250));let tt;r0.once("load",()=>{clearTimeout(tt),J()}),ct.once("moveend",()=>{tt=window.setTimeout(J,500)}),ct.fitBounds(ce.getBounds(),{animate:!1})}),u=await html2canvas(s,{useCORS:!0,logging:!1,onclone:St=>{St.querySelectorAll(".leaflet-popup-pane > *").forEach(J=>J.style.display="none")}}));const m=ce?await Xw(ce.getBounds().getCenter()):nt("report.undefinedLocation"),h=document.getElementById("asset-to-protect").value.trim()||nt("report.undefinedAsset");let v=nt("report.noThreatAnalysis");if(Ke.size>0){const J=document.getElementById("vehicle-select").value,tt=Gl(J),B=Array.from(Ke.entries()).map(([F,$])=>{const ht=Math.round($.totalLength);let x=0;if(tt&&ht>0){const[,Q]=tt;x=Math.round(Ha(Q,ht))}return{name:F,lengthInMeters:ht,maxSpeed:x}});B.sort((F,$)=>$.maxSpeed-F.maxSpeed),v=`
                <table style="width: 100%; border-collapse: collapse; margin: 10px 0; font-size: 12px;">
                    <thead>
                        <tr style="background-color: #f0f0f0; font-weight: bold;">
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">${nt("report.threatsTable.street")}</th>
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">${nt("report.threatsTable.distance")}</th>
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">${nt("report.threatsTable.maxSpeed")}</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${B.map(F=>`
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">${F.name}</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">${F.lengthInMeters} m</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">${F.maxSpeed} km/h</td>
                            </tr>
                        `).join("")}
                    </tbody>
                </table>
            `}const S=document.getElementById("security-risk-slider"),E=document.getElementById("product-class-slider"),b=document.getElementById("protection-period-select"),M=document.getElementById("protection-product-select"),D=Zw(),z={locationName:m,assetToProtect:h,securityLevel:pv(parseInt(S.value)),protectionGrade:pv(parseInt(E.value)),threatList:v,protectionPeriod:b.options[b.selectedIndex].text,productType:M.options[M.selectedIndex].text,penetration:D?D.penetration:nt("report.undefinedValue"),debrisDistance:D&&D.debrisDistance||nt("report.undefinedValue")},k=await Fw(z);if(!k)throw new Error("AI did not return report sections.");const{jsPDF:O}=window.jspdf,V=new O({orientation:"p",unit:"mm",format:"a4"}),K=()=>{const St=V.internal.pageSize.getWidth(),J=V.internal.pageSize.getHeight();if(V.saveGraphicsState(),V.setFont("helvetica","bold"),V.setFontSize(120),V.setTextColor(200,200,200),O.GState){const tt=new O.GState({opacity:.2});V.setGState(tt)}V.text(nt("report.watermark"),St/2+50,J/2+50,{align:"center",angle:45}),V.restoreGraphicsState()},w=20,X=V.internal.pageSize.getWidth(),Z=X-w*2;let q=25;const st=(St,J)=>{q>250&&(V.addPage(),K(),q=25),V.setFont("helvetica","bold").setFontSize(14).text(nt(St),w,q),q+=7;const tt=V.setFont("helvetica","normal").setFontSize(11).splitTextToSize(J,Z);q+tt.length*5>280&&(V.addPage(),K(),q=25),V.text(tt,w,q),q+=tt.length*5+10};K();const at=nt("report.mainTitle",{locationName:m});V.setFont("helvetica","bold").setFontSize(18);const pt=V.splitTextToSize(at,Z),yt=8;if(q+pt.length*yt>280&&(V.addPage(),K(),q=25),V.text(pt,w,q),q+=pt.length*yt+5,V.setDrawColor(30,144,255).setLineWidth(.5).line(w,q,X-w,q),q+=15,st("report.sections.purpose.title",k.purpose),st("report.sections.threatAnalysis.title",k.threatAnalysis),Ke.size>0){q-=5,V.setFont("helvetica","normal").setFontSize(11);const J=document.getElementById("vehicle-select").value,tt=Gl(J);Ke.forEach((B,F)=>{let $=`• ${F} (${Math.round(B.totalLength)} m)`;if(tt&&B.totalLength>0){const[x,Q]=tt,et=Math.round(Ha(x,B.totalLength)),W=Math.round(Ha(Q,B.totalLength));$+=` | ${nt("threats.speed")}: ${et}-${W} km/h`}const ht=V.splitTextToSize($,Z-5);q+ht.length*7>280&&(V.addPage(),K(),q=25),V.text(ht,w+5,q),q+=ht.length*6}),q+=10}if(st("report.sections.vulnerabilities.title",k.vulnerabilities),st("report.sections.hvmMeasures.title",k.hvmMeasures),st("report.sections.siteConsiderations.title",k.siteConsiderations),u){const St=u.height/u.width,J=Z*St;q+J>280&&(V.addPage(),K(),q=25),V.addImage(u,"PNG",w,q,Z,J),q+=J+10}else{const St=nt("report.noMapAvailable"),J=V.setFont("helvetica","italic").setFontSize(10).splitTextToSize(St,Z);q+J.length*5>280&&(V.addPage(),K(),q=25),V.text(J,w,q),q+=J.length*5+10}st("report.sections.operationalImpact.title",k.operationalImpact);try{const St=V.getNumberOfPages||((c=V.internal)==null?void 0:c.getNumberOfPages),J=typeof St=="function"?St.call(V):1;for(let tt=1;tt<=J;tt++)V.setPage(tt),K()}catch{K()}l.classList.remove("view-hidden"),s.classList.add("view-hidden"),await new Promise(requestAnimationFrame);try{const St=V.output("blob");xl&&URL.revokeObjectURL(xl),xl=URL.createObjectURL(St),o.src=xl}catch{o.src=V.output("datauristring")}_n=V,n.disabled=!1}catch(m){console.error("Fehler bei der Erstellung des Berichts:",m),alert(nt("alerts.reportCreationError")),s.classList.add("view-hidden"),l.classList.remove("view-hidden")}finally{e.classList.add("view-hidden")}}function $w(){_n?_n.save(nt("report.reportFilename")):alert(nt("alerts.noReportToDownload"))}document.addEventListener("DOMContentLoaded",async()=>{var St;console.log("DOM Content Loaded - Starting initialization..."),rv(),h0();let o=0;const e=3;for(;o<e&&(!Jt.de||!Jt.en);)console.log(`Translation load attempt ${o+1}/${e}`),await d0(),o++,o<e&&(!Jt.de||!Jt.en)&&(console.log("Waiting 500ms before retry..."),await new Promise(J=>setTimeout(J,500)));(!Jt.de||!Jt.en)&&(console.warn("Failed to load translations from file, using embedded translations"),Jt=$a),kt="de",console.log("Translating UI..."),await f0(),g0();const n=localStorage.getItem("language")||"de";n!==kt&&(console.log(`Setting saved language: ${n}`),await fv(n)),document.querySelectorAll(".lang-btn").forEach(J=>{J.addEventListener("click",tt=>{const B=tt.currentTarget.dataset.lang;B&&B!==kt&&fv(B)})}),console.log("Initialization completed successfully");const s=document.getElementById("tooltip");document.querySelectorAll(".info-icon").forEach(J=>{J.addEventListener("mouseover",tt=>{const B=tt.currentTarget,F=B.dataset.tooltip||"";s.textContent=F,s.style.opacity="1";const $=B.getBoundingClientRect();s.style.left=`${$.left+window.scrollX}px`,s.style.top=`${$.bottom+window.scrollY+5}px`}),J.addEventListener("mouseout",()=>{s.style.opacity="0"})});const u=document.getElementById("map-search-input"),c=document.getElementById("map-search-button"),m=document.getElementById("toggle-sidebar"),y=document.querySelector(".sidebar"),h=async()=>{const J=u.value.trim();if(!J)return;const tt=`https://nominatim.openstreetmap.org/search?format=json&limit=1&q=${encodeURIComponent(J)}`;try{const B=await fetch(tt,{headers:{"Accept-Language":kt}});if(!B.ok)throw new Error(`API request failed with status ${B.status}`);const F=await B.json();if(F&&F.length>0){const{lat:$,lon:ht,display_name:x}=F[0];ct.setView([$,ht],15),_i&&ct.removeLayer(_i),_i&&(ct.removeLayer(_i),_i=null);const Q=L.divIcon({className:"search-marker",html:'<i class="fas fa-map-marker-alt" style="color: #dc2626; font-size: 20px;"></i>',iconSize:[25,41],iconAnchor:[12,41]});_i=L.marker([$,ht],{icon:Q,zIndexOffset:1e3}).addTo(ct),_i.bindPopup(`<b>${x}</b>`).openPopup(),ct.invalidateSize()}else alert(nt("alerts.locationNotFound"))}catch(B){console.error("Fehler bei der Kartensuche:",B),alert(nt("alerts.searchError"))}};c.addEventListener("click",h),u.addEventListener("keypress",J=>{J.key==="Enter"&&h()}),m&&y&&m.addEventListener("click",()=>{y.classList.toggle("open")});const v=document.getElementById("toggle-draw-mode"),S=document.getElementById("reset-drawing"),E=document.getElementById("map"),b=J=>{To=J;const tt=v.querySelector("span");J?(v.classList.add("active"),tt&&(tt.textContent=nt("map.setWaypointsActive")),E==null||E.classList.add("drawing-mode")):(v.classList.remove("active"),tt&&(tt.textContent=nt("map.setWaypoints")),E==null||E.classList.remove("drawing-mode"))},M=()=>{So.forEach(J=>ct.removeLayer(J)),So=[],sn&&ct.removeLayer(sn),sn=null,ce&&ct.removeLayer(ce),ce=null,Ml&&ct.removeLayer(Ml),Ml=null,an=[],To&&b(!1)},D=()=>{sn&&ct.removeLayer(sn),an.length>1&&(sn=L.polyline(an,{color:"var(--accent-color)",weight:3}).addTo(ct))},z=()=>{if(an.length<3)return;ce&&ct.removeLayer(ce),ce=L.polygon(an,{color:"yellow",fillColor:"#FFFF00",fillOpacity:.3,weight:2}).addTo(ct);const J=ce.getBounds().getCenter();Ml=L.marker(J,{icon:L.divIcon({className:"polygon-label",html:nt("map.securityAreaLabel"),iconSize:[150,24]})}).addTo(ct),sn&&ct.removeLayer(sn),sn=null,So.forEach(tt=>ct.removeLayer(tt)),So=[],an=[],b(!1)},k=J=>{if(!To)return;const tt=J.latlng,B=L.marker(tt).addTo(ct);an.length===0&&B.on("click",()=>{To&&an.length>=3&&z()}),an.push(tt),So.push(B),D()};ct.on("click",k);const O=document.querySelectorAll(".main-nav a"),V=document.querySelectorAll(".map-tabs a"),K=document.getElementById("analyze-threats"),w=document.getElementById("create-report-btn"),X=document.getElementById("download-report-btn"),Z=document.getElementById("report-iframe"),q=document.getElementById("map"),st=document.getElementById("report-preview-area"),at=document.getElementById("vehicle-select"),pt=async(J,tt)=>{tt&&(O.forEach(F=>F.classList.remove("active")),tt.classList.add("active")),V.forEach(F=>{const $=F;$.classList.toggle("active",$.getAttribute("data-target")===J)}),J==="nav-param-input"&&(M(),Ia(),_n=null),J==="nav-marking-area"&&(Ia(),_n=null),J==="nav-threat-analysis"&&(_n=null),J==="nav-product-selection"&&await Hl(),J==="nav-project-description"&&(Ia(),_n=null),v.classList.add("hidden"),S.classList.add("hidden"),K.classList.add("hidden"),w.classList.add("hidden"),X.classList.add("hidden");const B=J==="nav-risk-report";q.classList.toggle("view-hidden",B),st.classList.toggle("view-hidden",!B),ct&&(B||ct.invalidateSize()),_n||(Z.src="about:blank",X.disabled=!0),J==="nav-marking-area"?(v.classList.remove("hidden"),S.classList.remove("hidden")):J==="nav-threat-analysis"?K.classList.remove("hidden"):J==="nav-risk-report"&&(w.classList.remove("hidden"),X.classList.remove("hidden"),X.disabled=!_n)};O.forEach(J=>{J.addEventListener("click",async tt=>{tt.preventDefault();const B=tt.currentTarget,F=B.id;await pt(F,B)})}),V.forEach(J=>{J.addEventListener("click",async tt=>{tt.preventDefault();const F=tt.currentTarget.getAttribute("data-target"),$=document.getElementById(F);await pt(F,$??void 0)})}),at.addEventListener("change",async()=>{var J;Ke.size>0&&await mv(),((J=document.querySelector(".product-recommendations-container"))==null?void 0:J.classList.contains("hidden"))===!1&&await Hl()}),v.addEventListener("click",()=>{ce&&M(),b(!To)}),S.addEventListener("click",()=>{M(),Ia()}),K.addEventListener("click",mv),w.addEventListener("click",Jw),X.addEventListener("click",$w),(St=document.getElementById("nav-param-input"))==null||St.click();const yt=document.getElementById("chatbot-react-root");if(yt)try{Rw.createRoot(yt).render(j.createElement(Ew))}catch(J){console.error("Chatbot mount failed:",J)}rv()});function Ww(){console.log("=== DEBUG: Current View State ==="),[{id:"planning-view",name:"Planning View"},{id:"manufacturer-view",name:"Manufacturer View"},{id:"map",name:"Map Container"},{id:"chatbot-react-root",name:"Chatbot Root"},{selector:".sidebar",name:"Sidebar"},{selector:".map-area",name:"Map Area"},{selector:".map-tabs",name:"Map Tabs"},{selector:".map-toolbar",name:"Map Toolbar"}].forEach(({id:e,selector:n,name:s})=>{const l=n?document.querySelector(n):document.getElementById(e||"");if(l){const u=window.getComputedStyle(l),c=l;console.log(`${s}:`,{display:u.display,visibility:u.visibility,opacity:u.opacity,visible:c.offsetWidth>0&&c.offsetHeight>0})}else console.log(`${s}: NOT FOUND`)}),console.log("Map object exists:",!!ct),ct&&(console.log("Map center:",ct.getCenter()),console.log("Map zoom:",ct.getZoom())),console.log("=== END DEBUG ===")}function jw(){console.log("Restoring all planning view elements..."),[{selector:".map-area",display:"block"},{selector:"#map",display:"block",additionalStyles:{visibility:"visible",opacity:"1"}},{selector:".map-tabs",display:"flex"},{selector:".map-toolbar",display:"flex"},{selector:".sidebar",display:"block"},{selector:"#floating-threats",display:"none"},{selector:"#report-preview-area",display:"none"},{selector:".report-loading-overlay",display:"none"}].forEach(({selector:n,display:s,additionalStyles:l})=>{const u=document.querySelector(n);u?(u.style.display=s,l&&Object.entries(l).forEach(([c,m])=>{u.style[c]=m}),console.log(`Restored ${n} with display: ${s}`)):console.warn(`Element not found: ${n}`)});const e=document.getElementById("chatbot-react-root");e&&(e.style.display="block",e.style.visibility="visible",console.log("Chatbot root restored")),setTimeout(()=>{Ww()},100)}function p0(){const o=document.getElementById("manufacturer-view");if(!o)return;[{selector:"[data-translate-key]",attribute:"data-translate-key"},{selector:"[data-translate-key-placeholder]",attribute:"data-translate-key-placeholder"},{selector:"[data-translate-key-aria]",attribute:"data-translate-key-aria"},{selector:"[data-translate-key-tooltip]",attribute:"data-translate-key-tooltip"}].forEach(({selector:n,attribute:s})=>{o.querySelectorAll(n).forEach(l=>{const u=l.getAttribute(s);if(u){const c=nt(u);s==="data-translate-key-placeholder"?l.placeholder=c:s==="data-translate-key-aria"?l.setAttribute("aria-label",c):s==="data-translate-key-tooltip"?l.dataset.tooltip=c:l.textContent=c}})})}function g0(){console.log("Translating chatbot for language:",kt);const o=document.querySelector("#chatbot-react-root h2");o&&(o.textContent=nt("ai.chatbot.title"));const e=document.querySelector("#chatbot-react-root .message:first-child .message-content");e&&(e.textContent=nt("ai.chatbot.welcome"));const n=document.querySelector("#chatbot-react-root .message:nth-child(2) .message-content");n&&(n.textContent=nt("ai.chatbot.assetQuestion"));const s=document.querySelector('#chatbot-react-root input[type="text"]');s&&(s.placeholder=nt("ai.chatbot.inputPlaceholder"));const l=document.querySelector('#chatbot-react-root button[type="submit"]');l&&(l.textContent=nt("ai.chatbot.sendButton")),console.log("Chatbot translation completed")}

(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let kE,OE;function qE(){return{geminiUrl:kE,vertexUrl:OE}}function GE(o,e,n){var s,l,u;if(!(!((s=o.httpOptions)===null||s===void 0)&&s.baseUrl)){const c=qE();return o.vertexai?(l=c.vertexUrl)!==null&&l!==void 0?l:e:(u=c.geminiUrl)!==null&&u!==void 0?u:n}return o.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ja{}function gt(o,e){const n=/\{([^}]+)\}/g;return o.replace(n,(s,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const u=e[l];return u!=null?String(u):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function p(o,e,n){for(let u=0;u<e.length-1;u++){const c=e[u];if(c.endsWith("[]")){const m=c.slice(0,-2);if(!(m in o))if(Array.isArray(n))o[m]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(o[m])){const y=o[m];if(Array.isArray(n))for(let h=0;h<y.length;h++){const v=y[h];p(v,e.slice(u+1),n[h])}else for(const h of y)p(h,e.slice(u+1),n)}return}else if(c.endsWith("[0]")){const m=c.slice(0,-3);m in o||(o[m]=[{}]);const y=o[m];p(y[0],e.slice(u+1),n);return}(!o[c]||typeof o[c]!="object")&&(o[c]={}),o=o[c]}const s=e[e.length-1],l=o[s];if(l!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===l)return;if(typeof l=="object"&&typeof n=="object"&&l!==null&&n!==null)Object.assign(l,n);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else o[s]=n}function d(o,e){try{if(e.length===1&&e[0]==="_self")return o;for(let n=0;n<e.length;n++){if(typeof o!="object"||o===null)return;const s=e[n];if(s.endsWith("[]")){const l=s.slice(0,-2);if(l in o){const u=o[l];return Array.isArray(u)?u.map(c=>d(c,e.slice(n+1))):void 0}else return}else o=o[s]}return o}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qt(o,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(o.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function yv(o,e){const n=Qt(o,e);return n?n.startsWith("publishers/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/${n}`:n.startsWith("models/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/publishers/google/${n}`:n:""}function vv(o,e){return Array.isArray(e)?e.map(n=>Vl(o,n)):[Vl(o,e)]}function Vl(o,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function HE(o,e){const n=Vl(o,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function FE(o,e){const n=Vl(o,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function zp(o,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Tv(o,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>zp(o,n)):[zp(o,e)]}function Vc(o){return o!=null&&typeof o=="object"&&"parts"in o&&Array.isArray(o.parts)}function kp(o){return o!=null&&typeof o=="object"&&"functionCall"in o}function Op(o){return o!=null&&typeof o=="object"&&"functionResponse"in o}function Me(o,e){if(e==null)throw new Error("ContentUnion is required");return Vc(e)?e:{role:"user",parts:Tv(o,e)}}function Sv(o,e){if(!e)return[];if(o.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const s=Me(o,n);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(o.isVertexAI()){const n=Me(o,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Me(o,n)):[Me(o,e)]}function oi(o,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(kp(e)||Op(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Me(o,e)]}const n=[],s=[],l=Vc(e[0]);for(const u of e){const c=Vc(u);if(c!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)n.push(u);else{if(kp(u)||Op(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");s.push(u)}}return l||n.push({role:"user",parts:Tv(o,s)}),n}function Ev(o,e){return e}function Cv(o,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Fl(o,e){return e}function Yl(o,e){if(!Array.isArray(e))throw new Error("tool is required and must be an array of Tools");return e}function YE(o,e,n,s=1){const l=!e.startsWith(`${n}/`)&&e.split("/").length===s;return o.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${o.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${o.getProject()}/locations/${o.getLocation()}/${e}`:l?`projects/${o.getProject()}/locations/${o.getLocation()}/${n}/${e}`:e:l?`${n}/${e}`:e}function ai(o,e){if(typeof e!="string")throw new Error("name must be a string");return YE(o,e,"cachedContents")}function bv(o,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function si(o,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function Av(o,e){if(typeof e!="string")throw new Error("fromName must be a string");return e.startsWith("files/")?e.split("files/")[1]:e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KE(o,e){const n={};if(d(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const s=d(e,["thought"]);s!=null&&p(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&p(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&p(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&p(n,["fileData"],c);const m=d(e,["functionCall"]);m!=null&&p(n,["functionCall"],m);const y=d(e,["functionResponse"]);y!=null&&p(n,["functionResponse"],y);const h=d(e,["inlineData"]);h!=null&&p(n,["inlineData"],h);const v=d(e,["text"]);return v!=null&&p(n,["text"],v),n}function qp(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>KE(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function QE(){return{}}function XE(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&p(n,["dynamicThreshold"],l),n}function ZE(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&p(n,["dynamicRetrievalConfig"],XE(o,s)),n}function JE(o,e){const n={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(e,["googleSearch"])!=null&&p(n,["googleSearch"],QE());const l=d(e,["googleSearchRetrieval"]);l!=null&&p(n,["googleSearchRetrieval"],ZE(o,l));const u=d(e,["codeExecution"]);u!=null&&p(n,["codeExecution"],u);const c=d(e,["functionDeclarations"]);return c!=null&&p(n,["functionDeclarations"],c),n}function $E(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&p(n,["allowedFunctionNames"],l),n}function WE(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&p(n,["functionCallingConfig"],$E(o,s)),n}function jE(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&p(n,["ttl"],l);const u=d(e,["expireTime"]);n!==void 0&&u!=null&&p(n,["expireTime"],u);const c=d(e,["displayName"]);n!==void 0&&c!=null&&p(n,["displayName"],c);const m=d(e,["contents"]);if(n!==void 0&&m!=null){let S=oi(o,m);Array.isArray(S)&&(S=S.map(E=>qp(o,E))),p(n,["contents"],S)}const y=d(e,["systemInstruction"]);n!==void 0&&y!=null&&p(n,["systemInstruction"],qp(o,Me(o,y)));const h=d(e,["tools"]);if(n!==void 0&&h!=null){let S=h;Array.isArray(S)&&(S=S.map(E=>JE(o,E))),p(n,["tools"],S)}const v=d(e,["toolConfig"]);return n!==void 0&&v!=null&&p(n,["toolConfig"],WE(o,v)),s}function tC(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["model"],yv(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],jE(o,l,n)),n}function eC(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function nC(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function iC(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&p(n,["ttl"],l);const u=d(e,["expireTime"]);return n!==void 0&&u!=null&&p(n,["expireTime"],u),s}function oC(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],iC(o,l,n)),n}function aC(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&p(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);return n!==void 0&&u!=null&&p(n,["_query","pageToken"],u),s}function sC(o,e){const n={},s=d(e,["config"]);return s!=null&&p(n,["config"],aC(o,s,n)),n}function lC(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&p(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&p(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&p(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&p(n,["executableCode"],c);const m=d(e,["fileData"]);m!=null&&p(n,["fileData"],m);const y=d(e,["functionCall"]);y!=null&&p(n,["functionCall"],y);const h=d(e,["functionResponse"]);h!=null&&p(n,["functionResponse"],h);const v=d(e,["inlineData"]);v!=null&&p(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&p(n,["text"],S),n}function Gp(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>lC(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function rC(){return{}}function uC(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&p(n,["dynamicThreshold"],l),n}function cC(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&p(n,["dynamicRetrievalConfig"],uC(o,s)),n}function fC(o,e){const n={},s=d(e,["retrieval"]);s!=null&&p(n,["retrieval"],s),d(e,["googleSearch"])!=null&&p(n,["googleSearch"],rC());const u=d(e,["googleSearchRetrieval"]);u!=null&&p(n,["googleSearchRetrieval"],cC(o,u));const c=d(e,["codeExecution"]);c!=null&&p(n,["codeExecution"],c);const m=d(e,["functionDeclarations"]);return m!=null&&p(n,["functionDeclarations"],m),n}function dC(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&p(n,["allowedFunctionNames"],l),n}function hC(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&p(n,["functionCallingConfig"],dC(o,s)),n}function mC(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&p(n,["ttl"],l);const u=d(e,["expireTime"]);n!==void 0&&u!=null&&p(n,["expireTime"],u);const c=d(e,["displayName"]);n!==void 0&&c!=null&&p(n,["displayName"],c);const m=d(e,["contents"]);if(n!==void 0&&m!=null){let S=oi(o,m);Array.isArray(S)&&(S=S.map(E=>Gp(o,E))),p(n,["contents"],S)}const y=d(e,["systemInstruction"]);n!==void 0&&y!=null&&p(n,["systemInstruction"],Gp(o,Me(o,y)));const h=d(e,["tools"]);if(n!==void 0&&h!=null){let S=h;Array.isArray(S)&&(S=S.map(E=>fC(o,E))),p(n,["tools"],S)}const v=d(e,["toolConfig"]);return n!==void 0&&v!=null&&p(n,["toolConfig"],hC(o,v)),s}function pC(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["model"],yv(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],mC(o,l,n)),n}function gC(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function yC(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function vC(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&p(n,["ttl"],l);const u=d(e,["expireTime"]);return n!==void 0&&u!=null&&p(n,["expireTime"],u),s}function TC(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],vC(o,l,n)),n}function SC(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&p(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);return n!==void 0&&u!=null&&p(n,["_query","pageToken"],u),s}function EC(o,e){const n={},s=d(e,["config"]);return s!=null&&p(n,["config"],SC(o,s,n)),n}function _l(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["displayName"]);l!=null&&p(n,["displayName"],l);const u=d(e,["model"]);u!=null&&p(n,["model"],u);const c=d(e,["createTime"]);c!=null&&p(n,["createTime"],c);const m=d(e,["updateTime"]);m!=null&&p(n,["updateTime"],m);const y=d(e,["expireTime"]);y!=null&&p(n,["expireTime"],y);const h=d(e,["usageMetadata"]);return h!=null&&p(n,["usageMetadata"],h),n}function CC(){return{}}function bC(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&p(n,["nextPageToken"],s);const l=d(e,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>_l(o,c))),p(n,["cachedContents"],u)}return n}function Rl(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["displayName"]);l!=null&&p(n,["displayName"],l);const u=d(e,["model"]);u!=null&&p(n,["model"],u);const c=d(e,["createTime"]);c!=null&&p(n,["createTime"],c);const m=d(e,["updateTime"]);m!=null&&p(n,["updateTime"],m);const y=d(e,["expireTime"]);y!=null&&p(n,["expireTime"],y);const h=d(e,["usageMetadata"]);return h!=null&&p(n,["usageMetadata"],h),n}function AC(){return{}}function MC(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&p(n,["nextPageToken"],s);const l=d(e,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Rl(o,c))),p(n,["cachedContents"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ya;(function(o){o.PAGED_ITEM_BATCH_JOBS="batchJobs",o.PAGED_ITEM_MODELS="models",o.PAGED_ITEM_TUNING_JOBS="tuningJobs",o.PAGED_ITEM_FILES="files",o.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ya||(Ya={}));class cf{constructor(e,n,s,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,s,l)}init(e,n,s){var l,u;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let c={config:{}};s?typeof s=="object"?c=Object.assign({},s):c=s:c={config:{}},c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(u=(l=c.config)===null||l===void 0?void 0:l.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hp;(function(o){o.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",o.OUTCOME_OK="OUTCOME_OK",o.OUTCOME_FAILED="OUTCOME_FAILED",o.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Hp||(Hp={}));var Fp;(function(o){o.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",o.PYTHON="PYTHON"})(Fp||(Fp={}));var Yp;(function(o){o.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",o.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",o.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",o.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",o.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Yp||(Yp={}));var Kp;(function(o){o.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",o.SEVERITY="SEVERITY",o.PROBABILITY="PROBABILITY"})(Kp||(Kp={}));var Qp;(function(o){o.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE",o.OFF="OFF"})(Qp||(Qp={}));var Xp;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(Xp||(Xp={}));var xn;(function(o){o.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",o.STRING="STRING",o.NUMBER="NUMBER",o.INTEGER="INTEGER",o.BOOLEAN="BOOLEAN",o.ARRAY="ARRAY",o.OBJECT="OBJECT"})(xn||(xn={}));var Zp;(function(o){o.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",o.STOP="STOP",o.MAX_TOKENS="MAX_TOKENS",o.SAFETY="SAFETY",o.RECITATION="RECITATION",o.LANGUAGE="LANGUAGE",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.SPII="SPII",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.IMAGE_SAFETY="IMAGE_SAFETY"})(Zp||(Zp={}));var Jp;(function(o){o.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",o.NEGLIGIBLE="NEGLIGIBLE",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH"})(Jp||(Jp={}));var $p;(function(o){o.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",o.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",o.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",o.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",o.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})($p||($p={}));var Wp;(function(o){o.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",o.SAFETY="SAFETY",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Wp||(Wp={}));var jp;(function(o){o.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",o.ON_DEMAND="ON_DEMAND",o.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(jp||(jp={}));var Pl;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.AUDIO="AUDIO"})(Pl||(Pl={}));var tg;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(tg||(tg={}));var Pc;(function(o){o.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",o.JOB_STATE_QUEUED="JOB_STATE_QUEUED",o.JOB_STATE_PENDING="JOB_STATE_PENDING",o.JOB_STATE_RUNNING="JOB_STATE_RUNNING",o.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",o.JOB_STATE_FAILED="JOB_STATE_FAILED",o.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",o.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",o.JOB_STATE_PAUSED="JOB_STATE_PAUSED",o.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",o.JOB_STATE_UPDATING="JOB_STATE_UPDATING",o.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Pc||(Pc={}));var eg;(function(o){o.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",o.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",o.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",o.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",o.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",o.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",o.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(eg||(eg={}));var ng;(function(o){o.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",o.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",o.BALANCED="BALANCED",o.PRIORITIZE_COST="PRIORITIZE_COST"})(ng||(ng={}));var ig;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(ig||(ig={}));var og;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.AUTO="AUTO",o.ANY="ANY",o.NONE="NONE"})(og||(og={}));var ag;(function(o){o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE"})(ag||(ag={}));var sg;(function(o){o.DONT_ALLOW="DONT_ALLOW",o.ALLOW_ADULT="ALLOW_ADULT",o.ALLOW_ALL="ALLOW_ALL"})(sg||(sg={}));var lg;(function(o){o.auto="auto",o.en="en",o.ja="ja",o.ko="ko",o.hi="hi"})(lg||(lg={}));var rg;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.PROCESSING="PROCESSING",o.ACTIVE="ACTIVE",o.FAILED="FAILED"})(rg||(rg={}));var ug;(function(o){o.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",o.UPLOADED="UPLOADED",o.GENERATED="GENERATED"})(ug||(ug={}));var cg;(function(o){o.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",o.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",o.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",o.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",o.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(cg||(cg={}));var fg;(function(o){o.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",o.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",o.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",o.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(fg||(fg={}));var dg;(function(o){o.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",o.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",o.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",o.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(dg||(dg={}));var hg;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.VIDEO="VIDEO",o.AUDIO="AUDIO",o.DOCUMENT="DOCUMENT"})(hg||(hg={}));var mg;(function(o){o.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",o.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",o.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(mg||(mg={}));var pg;(function(o){o.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",o.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",o.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(pg||(pg={}));var gg;(function(o){o.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",o.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",o.NO_INTERRUPTION="NO_INTERRUPTION"})(gg||(gg={}));var yg;(function(o){o.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",o.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",o.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(yg||(yg={}));class Tl{get text(){var e,n,s,l,u,c,m,y;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const S=[];for(const E of(y=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[b,A]of Object.entries(E))b!=="text"&&b!=="thought"&&(A!==null||A!==void 0)&&S.push(b);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,h+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var e,n,s,l,u,c,m,y;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const S of(y=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[E,b]of Object.entries(S))E!=="inlineData"&&(b!==null||b!==void 0)&&v.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(h+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,s,l,u,c,m,y;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,n,s,l,u,c,m,y,h;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,s,l,u,c,m,y,h;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class vg{}class Tg{}class Sg{}class Eg{}class xC{}class Cg{}class bg{}class Ag{}class _C{}class Bc{constructor(e){const n={};for(const s of e.headers.entries())n[s[0]]=s[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class RC{}class DC{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wC extends ja{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new cf(Ya.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(n),n)}async create(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=pC(this.apiClient,e);return m=gt("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Rl(this.apiClient,v))}else{const h=tC(this.apiClient,e);return m=gt("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>_l(this.apiClient,v))}}async get(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=gC(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Rl(this.apiClient,v))}else{const h=eC(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>_l(this.apiClient,v))}}async delete(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=yC(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(()=>{const v=AC(),S=new bg;return Object.assign(S,v),S})}else{const h=nC(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(()=>{const v=CC(),S=new bg;return Object.assign(S,v),S})}}async update(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=TC(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Rl(this.apiClient,v))}else{const h=oC(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>_l(this.apiClient,v))}}async listInternal(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=EC(this.apiClient,e);return m=gt("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=MC(this.apiClient,v),E=new Ag;return Object.assign(E,S),E})}else{const h=sC(this.apiClient,e);return m=gt("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=bC(this.apiClient,v),E=new Ag;return Object.assign(E,S),E})}}}function Mg(o){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&o[e],s=0;if(n)return n.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&s>=o.length&&(o=void 0),{value:o&&o[s++],done:!o}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function me(o){return this instanceof me?(this.v=o,this):new me(o)}function Bl(o,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(o,e||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",c),l[Symbol.asyncIterator]=function(){return this},l;function c(b){return function(A){return Promise.resolve(A).then(b,S)}}function m(b,A){s[b]&&(l[b]=function(D){return new Promise(function(z,k){u.push([b,D,z,k])>1||y(b,D)})},A&&(l[b]=A(l[b])))}function y(b,A){try{h(s[b](A))}catch(D){E(u[0][3],D)}}function h(b){b.value instanceof me?Promise.resolve(b.value.v).then(v,S):E(u[0][2],b)}function v(b){y("next",b)}function S(b){y("throw",b)}function E(b,A){b(A),u.shift(),u.length&&y(u[0][0],u[0][1])}}function Uc(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=o[Symbol.asyncIterator],n;return e?e.call(o):(o=typeof Mg=="function"?Mg(o):o[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(u){n[u]=o[u]&&function(c){return new Promise(function(m,y){c=o[u](c),l(m,y,c.done,c.value)})}}function l(u,c,m,y){Promise.resolve(y).then(function(h){u({value:h,done:m})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NC(o){var e;if(o.candidates==null||o.candidates.length===0)return!1;const n=(e=o.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Mv(n)}function Mv(o){if(o.parts===void 0||o.parts.length===0)return!1;for(const e of o.parts)if(e===void 0||Object.keys(e).length===0||e.text!==void 0&&e.text==="")return!1;return!0}function LC(o){if(o.length!==0){if(o[0].role!=="user")throw new Error("History must start with a user turn.");for(const e of o)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function VC(o){if(o===void 0||o.length===0)return[];const e=[],n=o.length;let s=0,l=o[0];for(;s<n;)if(o[s].role==="user")l=o[s],s++;else{const u=[];let c=!0;for(;s<n&&o[s].role==="model";)u.push(o[s]),c&&!Mv(o[s])&&(c=!1),s++;c&&(e.push(l),e.push(...u))}return e}class PC{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new BC(this.apiClient,this.modelsModule,e.model,e.config,e.history)}}class BC{constructor(e,n,s,l={},u=[]){this.apiClient=e,this.modelsModule=n,this.model=s,this.config=l,this.history=u,this.sendPromise=Promise.resolve(),LC(u)}async sendMessage(e){var n;await this.sendPromise;const s=Me(this.apiClient,e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var u,c;const y=(c=(u=(await l).candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content,h=y?[y]:[];this.recordHistory(s,h)})(),await this.sendPromise,l}async sendMessageStream(e){var n;await this.sendPromise;const s=Me(this.apiClient,e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const u=await l;return this.processStreamResponse(u,s)}getHistory(e=!1){return e?VC(this.history):this.history}processStreamResponse(e,n){var s,l;return Bl(this,arguments,function*(){var c,m,y,h;const v=[];try{for(var S=!0,E=Uc(e),b;b=yield me(E.next()),c=b.done,!c;S=!0){h=b.value,S=!1;const A=h;if(NC(A)){const D=(l=(s=A.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content;D!==void 0&&v.push(D)}yield yield me(A)}}catch(A){m={error:A}}finally{try{!S&&!c&&(y=E.return)&&(yield me(y.call(E)))}finally{if(m)throw m.error}}this.recordHistory(n,v)})}recordHistory(e,n){let s=[];n.length>0&&n.every(l=>l.role==="model")?s=n:s.push({role:"model",parts:[]}),this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UC(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&p(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);return n!==void 0&&u!=null&&p(n,["_query","pageToken"],u),s}function IC(o,e){const n={},s=d(e,["config"]);return s!=null&&p(n,["config"],UC(o,s,n)),n}function zC(o,e){const n={},s=d(e,["details"]);s!=null&&p(n,["details"],s);const l=d(e,["message"]);l!=null&&p(n,["message"],l);const u=d(e,["code"]);return u!=null&&p(n,["code"],u),n}function kC(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["displayName"]);l!=null&&p(n,["displayName"],l);const u=d(e,["mimeType"]);u!=null&&p(n,["mimeType"],u);const c=d(e,["sizeBytes"]);c!=null&&p(n,["sizeBytes"],c);const m=d(e,["createTime"]);m!=null&&p(n,["createTime"],m);const y=d(e,["expirationTime"]);y!=null&&p(n,["expirationTime"],y);const h=d(e,["updateTime"]);h!=null&&p(n,["updateTime"],h);const v=d(e,["sha256Hash"]);v!=null&&p(n,["sha256Hash"],v);const S=d(e,["uri"]);S!=null&&p(n,["uri"],S);const E=d(e,["downloadUri"]);E!=null&&p(n,["downloadUri"],E);const b=d(e,["state"]);b!=null&&p(n,["state"],b);const A=d(e,["source"]);A!=null&&p(n,["source"],A);const D=d(e,["videoMetadata"]);D!=null&&p(n,["videoMetadata"],D);const z=d(e,["error"]);return z!=null&&p(n,["error"],zC(o,z)),n}function OC(o,e){const n={},s=d(e,["file"]);s!=null&&p(n,["file"],kC(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function qC(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","file"],Av(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function GC(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","file"],Av(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function HC(o,e){const n={},s=d(e,["details"]);s!=null&&p(n,["details"],s);const l=d(e,["message"]);l!=null&&p(n,["message"],l);const u=d(e,["code"]);return u!=null&&p(n,["code"],u),n}function Ic(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["displayName"]);l!=null&&p(n,["displayName"],l);const u=d(e,["mimeType"]);u!=null&&p(n,["mimeType"],u);const c=d(e,["sizeBytes"]);c!=null&&p(n,["sizeBytes"],c);const m=d(e,["createTime"]);m!=null&&p(n,["createTime"],m);const y=d(e,["expirationTime"]);y!=null&&p(n,["expirationTime"],y);const h=d(e,["updateTime"]);h!=null&&p(n,["updateTime"],h);const v=d(e,["sha256Hash"]);v!=null&&p(n,["sha256Hash"],v);const S=d(e,["uri"]);S!=null&&p(n,["uri"],S);const E=d(e,["downloadUri"]);E!=null&&p(n,["downloadUri"],E);const b=d(e,["state"]);b!=null&&p(n,["state"],b);const A=d(e,["source"]);A!=null&&p(n,["source"],A);const D=d(e,["videoMetadata"]);D!=null&&p(n,["videoMetadata"],D);const z=d(e,["error"]);return z!=null&&p(n,["error"],HC(o,z)),n}function FC(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&p(n,["nextPageToken"],s);const l=d(e,["files"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Ic(o,c))),p(n,["files"],u)}return n}function YC(){return{}}function KC(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QC extends ja{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new cf(Ya.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Ic(this.apiClient,n))}async listInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=IC(this.apiClient,e);return u=gt("files",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const h=FC(this.apiClient,y),v=new _C;return Object.assign(v,h),v})}}async createInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=OC(this.apiClient,e);return u=gt("upload/v1beta/files",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(()=>{const y=YC(),h=new RC;return Object.assign(h,y),h})}}async get(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=qC(this.apiClient,e);return u=gt("files/{file}",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>Ic(this.apiClient,y))}}async delete(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=GC(this.apiClient,e);return u=gt("files/{file}",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(()=>{const y=KC(),h=new DC;return Object.assign(h,y),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XC(o,e){const n={};if(d(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const s=d(e,["thought"]);s!=null&&p(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&p(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&p(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&p(n,["fileData"],c);const m=d(e,["functionCall"]);m!=null&&p(n,["functionCall"],m);const y=d(e,["functionResponse"]);y!=null&&p(n,["functionResponse"],y);const h=d(e,["inlineData"]);h!=null&&p(n,["inlineData"],h);const v=d(e,["text"]);return v!=null&&p(n,["text"],v),n}function ZC(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&p(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&p(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&p(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&p(n,["executableCode"],c);const m=d(e,["fileData"]);m!=null&&p(n,["fileData"],m);const y=d(e,["functionCall"]);y!=null&&p(n,["functionCall"],y);const h=d(e,["functionResponse"]);h!=null&&p(n,["functionResponse"],h);const v=d(e,["inlineData"]);v!=null&&p(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&p(n,["text"],S),n}function JC(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>XC(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function $C(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>ZC(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function WC(){return{}}function jC(){return{}}function tb(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&p(n,["dynamicThreshold"],l),n}function eb(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&p(n,["dynamicThreshold"],l),n}function nb(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&p(n,["dynamicRetrievalConfig"],tb(o,s)),n}function ib(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&p(n,["dynamicRetrievalConfig"],eb(o,s)),n}function ob(o,e){const n={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(e,["googleSearch"])!=null&&p(n,["googleSearch"],WC());const l=d(e,["googleSearchRetrieval"]);l!=null&&p(n,["googleSearchRetrieval"],nb(o,l));const u=d(e,["codeExecution"]);u!=null&&p(n,["codeExecution"],u);const c=d(e,["functionDeclarations"]);return c!=null&&p(n,["functionDeclarations"],c),n}function ab(o,e){const n={},s=d(e,["retrieval"]);s!=null&&p(n,["retrieval"],s),d(e,["googleSearch"])!=null&&p(n,["googleSearch"],jC());const u=d(e,["googleSearchRetrieval"]);u!=null&&p(n,["googleSearchRetrieval"],ib(o,u));const c=d(e,["codeExecution"]);c!=null&&p(n,["codeExecution"],c);const m=d(e,["functionDeclarations"]);return m!=null&&p(n,["functionDeclarations"],m),n}function sb(o,e){const n={},s=d(e,["handle"]);if(s!=null&&p(n,["handle"],s),d(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function lb(o,e){const n={},s=d(e,["handle"]);s!=null&&p(n,["handle"],s);const l=d(e,["transparent"]);return l!=null&&p(n,["transparent"],l),n}function rb(){return{}}function xg(){return{}}function ub(o,e){const n={},s=d(e,["disabled"]);s!=null&&p(n,["disabled"],s);const l=d(e,["startOfSpeechSensitivity"]);l!=null&&p(n,["startOfSpeechSensitivity"],l);const u=d(e,["endOfSpeechSensitivity"]);u!=null&&p(n,["endOfSpeechSensitivity"],u);const c=d(e,["prefixPaddingMs"]);c!=null&&p(n,["prefixPaddingMs"],c);const m=d(e,["silenceDurationMs"]);return m!=null&&p(n,["silenceDurationMs"],m),n}function cb(o,e){const n={},s=d(e,["disabled"]);s!=null&&p(n,["disabled"],s);const l=d(e,["startOfSpeechSensitivity"]);l!=null&&p(n,["startOfSpeechSensitivity"],l);const u=d(e,["endOfSpeechSensitivity"]);u!=null&&p(n,["endOfSpeechSensitivity"],u);const c=d(e,["prefixPaddingMs"]);c!=null&&p(n,["prefixPaddingMs"],c);const m=d(e,["silenceDurationMs"]);return m!=null&&p(n,["silenceDurationMs"],m),n}function fb(o,e){const n={},s=d(e,["automaticActivityDetection"]);s!=null&&p(n,["automaticActivityDetection"],ub(o,s));const l=d(e,["activityHandling"]);l!=null&&p(n,["activityHandling"],l);const u=d(e,["turnCoverage"]);return u!=null&&p(n,["turnCoverage"],u),n}function db(o,e){const n={},s=d(e,["automaticActivityDetection"]);s!=null&&p(n,["automaticActivityDetection"],cb(o,s));const l=d(e,["activityHandling"]);l!=null&&p(n,["activityHandling"],l);const u=d(e,["turnCoverage"]);return u!=null&&p(n,["turnCoverage"],u),n}function hb(o,e){const n={},s=d(e,["targetTokens"]);return s!=null&&p(n,["targetTokens"],s),n}function mb(o,e){const n={},s=d(e,["targetTokens"]);return s!=null&&p(n,["targetTokens"],s),n}function pb(o,e){const n={},s=d(e,["triggerTokens"]);s!=null&&p(n,["triggerTokens"],s);const l=d(e,["slidingWindow"]);return l!=null&&p(n,["slidingWindow"],hb(o,l)),n}function gb(o,e){const n={},s=d(e,["triggerTokens"]);s!=null&&p(n,["triggerTokens"],s);const l=d(e,["slidingWindow"]);return l!=null&&p(n,["slidingWindow"],mb(o,l)),n}function yb(o,e,n){const s={},l=d(e,["generationConfig"]);n!==void 0&&l!=null&&p(n,["setup","generationConfig"],l);const u=d(e,["responseModalities"]);n!==void 0&&u!=null&&p(n,["setup","generationConfig","responseModalities"],u);const c=d(e,["temperature"]);n!==void 0&&c!=null&&p(n,["setup","generationConfig","temperature"],c);const m=d(e,["topP"]);n!==void 0&&m!=null&&p(n,["setup","generationConfig","topP"],m);const y=d(e,["topK"]);n!==void 0&&y!=null&&p(n,["setup","generationConfig","topK"],y);const h=d(e,["maxOutputTokens"]);n!==void 0&&h!=null&&p(n,["setup","generationConfig","maxOutputTokens"],h);const v=d(e,["mediaResolution"]);n!==void 0&&v!=null&&p(n,["setup","generationConfig","mediaResolution"],v);const S=d(e,["seed"]);n!==void 0&&S!=null&&p(n,["setup","generationConfig","seed"],S);const E=d(e,["speechConfig"]);n!==void 0&&E!=null&&p(n,["setup","generationConfig","speechConfig"],E);const b=d(e,["systemInstruction"]);n!==void 0&&b!=null&&p(n,["setup","systemInstruction"],JC(o,Me(o,b)));const A=d(e,["tools"]);if(n!==void 0&&A!=null){let N=Yl(o,A);Array.isArray(N)&&(N=N.map(K=>ob(o,Fl(o,K)))),p(n,["setup","tools"],N)}const D=d(e,["sessionResumption"]);if(n!==void 0&&D!=null&&p(n,["setup","sessionResumption"],sb(o,D)),d(e,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const z=d(e,["outputAudioTranscription"]);n!==void 0&&z!=null&&p(n,["setup","outputAudioTranscription"],rb());const k=d(e,["realtimeInputConfig"]);n!==void 0&&k!=null&&p(n,["setup","realtimeInputConfig"],fb(o,k));const F=d(e,["contextWindowCompression"]);return n!==void 0&&F!=null&&p(n,["setup","contextWindowCompression"],pb(o,F)),s}function vb(o,e,n){const s={},l=d(e,["generationConfig"]);n!==void 0&&l!=null&&p(n,["setup","generationConfig"],l);const u=d(e,["responseModalities"]);n!==void 0&&u!=null&&p(n,["setup","generationConfig","responseModalities"],u);const c=d(e,["temperature"]);n!==void 0&&c!=null&&p(n,["setup","generationConfig","temperature"],c);const m=d(e,["topP"]);n!==void 0&&m!=null&&p(n,["setup","generationConfig","topP"],m);const y=d(e,["topK"]);n!==void 0&&y!=null&&p(n,["setup","generationConfig","topK"],y);const h=d(e,["maxOutputTokens"]);n!==void 0&&h!=null&&p(n,["setup","generationConfig","maxOutputTokens"],h);const v=d(e,["mediaResolution"]);n!==void 0&&v!=null&&p(n,["setup","generationConfig","mediaResolution"],v);const S=d(e,["seed"]);n!==void 0&&S!=null&&p(n,["setup","generationConfig","seed"],S);const E=d(e,["speechConfig"]);n!==void 0&&E!=null&&p(n,["setup","generationConfig","speechConfig"],E);const b=d(e,["systemInstruction"]);n!==void 0&&b!=null&&p(n,["setup","systemInstruction"],$C(o,Me(o,b)));const A=d(e,["tools"]);if(n!==void 0&&A!=null){let K=Yl(o,A);Array.isArray(K)&&(K=K.map(w=>ab(o,Fl(o,w)))),p(n,["setup","tools"],K)}const D=d(e,["sessionResumption"]);n!==void 0&&D!=null&&p(n,["setup","sessionResumption"],lb(o,D));const z=d(e,["inputAudioTranscription"]);n!==void 0&&z!=null&&p(n,["setup","inputAudioTranscription"],xg());const k=d(e,["outputAudioTranscription"]);n!==void 0&&k!=null&&p(n,["setup","outputAudioTranscription"],xg());const F=d(e,["realtimeInputConfig"]);n!==void 0&&F!=null&&p(n,["setup","realtimeInputConfig"],db(o,F));const N=d(e,["contextWindowCompression"]);return n!==void 0&&N!=null&&p(n,["setup","contextWindowCompression"],gb(o,N)),s}function Tb(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["setup","model"],Qt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],yb(o,l,n)),n}function Sb(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["setup","model"],Qt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],vb(o,l,n)),n}function Eb(){return{}}function Cb(){return{}}function bb(){return{}}function Ab(){return{}}function Mb(o,e){const n={},s=d(e,["media"]);s!=null&&p(n,["mediaChunks"],vv(o,s));const l=d(e,["audio"]);l!=null&&p(n,["audio"],FE(o,l));const u=d(e,["audioStreamEnd"]);u!=null&&p(n,["audioStreamEnd"],u);const c=d(e,["video"]);c!=null&&p(n,["video"],HE(o,c));const m=d(e,["text"]);return m!=null&&p(n,["text"],m),d(e,["activityStart"])!=null&&p(n,["activityStart"],Eb()),d(e,["activityEnd"])!=null&&p(n,["activityEnd"],bb()),n}function xb(o,e){const n={},s=d(e,["media"]);if(s!=null&&p(n,["mediaChunks"],vv(o,s)),d(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const l=d(e,["audioStreamEnd"]);if(l!=null&&p(n,["audioStreamEnd"],l),d(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(d(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return d(e,["activityStart"])!=null&&p(n,["activityStart"],Cb()),d(e,["activityEnd"])!=null&&p(n,["activityEnd"],Ab()),n}function _b(){return{}}function Rb(){return{}}function Db(o,e){const n={},s=d(e,["thought"]);s!=null&&p(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&p(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&p(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&p(n,["fileData"],c);const m=d(e,["functionCall"]);m!=null&&p(n,["functionCall"],m);const y=d(e,["functionResponse"]);y!=null&&p(n,["functionResponse"],y);const h=d(e,["inlineData"]);h!=null&&p(n,["inlineData"],h);const v=d(e,["text"]);return v!=null&&p(n,["text"],v),n}function wb(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&p(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&p(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&p(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&p(n,["executableCode"],c);const m=d(e,["fileData"]);m!=null&&p(n,["fileData"],m);const y=d(e,["functionCall"]);y!=null&&p(n,["functionCall"],y);const h=d(e,["functionResponse"]);h!=null&&p(n,["functionResponse"],h);const v=d(e,["inlineData"]);v!=null&&p(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&p(n,["text"],S),n}function Nb(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>Db(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function Lb(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>wb(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function _g(o,e){const n={},s=d(e,["text"]);s!=null&&p(n,["text"],s);const l=d(e,["finished"]);return l!=null&&p(n,["finished"],l),n}function Rg(o,e){const n={},s=d(e,["text"]);s!=null&&p(n,["text"],s);const l=d(e,["finished"]);return l!=null&&p(n,["finished"],l),n}function Vb(o,e){const n={},s=d(e,["modelTurn"]);s!=null&&p(n,["modelTurn"],Nb(o,s));const l=d(e,["turnComplete"]);l!=null&&p(n,["turnComplete"],l);const u=d(e,["interrupted"]);u!=null&&p(n,["interrupted"],u);const c=d(e,["groundingMetadata"]);c!=null&&p(n,["groundingMetadata"],c);const m=d(e,["generationComplete"]);m!=null&&p(n,["generationComplete"],m);const y=d(e,["inputTranscription"]);y!=null&&p(n,["inputTranscription"],_g(o,y));const h=d(e,["outputTranscription"]);return h!=null&&p(n,["outputTranscription"],_g(o,h)),n}function Pb(o,e){const n={},s=d(e,["modelTurn"]);s!=null&&p(n,["modelTurn"],Lb(o,s));const l=d(e,["turnComplete"]);l!=null&&p(n,["turnComplete"],l);const u=d(e,["interrupted"]);u!=null&&p(n,["interrupted"],u);const c=d(e,["groundingMetadata"]);c!=null&&p(n,["groundingMetadata"],c);const m=d(e,["generationComplete"]);m!=null&&p(n,["generationComplete"],m);const y=d(e,["inputTranscription"]);y!=null&&p(n,["inputTranscription"],Rg(o,y));const h=d(e,["outputTranscription"]);return h!=null&&p(n,["outputTranscription"],Rg(o,h)),n}function Bb(o,e){const n={},s=d(e,["id"]);s!=null&&p(n,["id"],s);const l=d(e,["args"]);l!=null&&p(n,["args"],l);const u=d(e,["name"]);return u!=null&&p(n,["name"],u),n}function Ub(o,e){const n={},s=d(e,["args"]);s!=null&&p(n,["args"],s);const l=d(e,["name"]);return l!=null&&p(n,["name"],l),n}function Ib(o,e){const n={},s=d(e,["functionCalls"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>Bb(o,u))),p(n,["functionCalls"],l)}return n}function zb(o,e){const n={},s=d(e,["functionCalls"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>Ub(o,u))),p(n,["functionCalls"],l)}return n}function kb(o,e){const n={},s=d(e,["ids"]);return s!=null&&p(n,["ids"],s),n}function Ob(o,e){const n={},s=d(e,["ids"]);return s!=null&&p(n,["ids"],s),n}function Sl(o,e){const n={},s=d(e,["modality"]);s!=null&&p(n,["modality"],s);const l=d(e,["tokenCount"]);return l!=null&&p(n,["tokenCount"],l),n}function El(o,e){const n={},s=d(e,["modality"]);s!=null&&p(n,["modality"],s);const l=d(e,["tokenCount"]);return l!=null&&p(n,["tokenCount"],l),n}function qb(o,e){const n={},s=d(e,["promptTokenCount"]);s!=null&&p(n,["promptTokenCount"],s);const l=d(e,["cachedContentTokenCount"]);l!=null&&p(n,["cachedContentTokenCount"],l);const u=d(e,["responseTokenCount"]);u!=null&&p(n,["responseTokenCount"],u);const c=d(e,["toolUsePromptTokenCount"]);c!=null&&p(n,["toolUsePromptTokenCount"],c);const m=d(e,["thoughtsTokenCount"]);m!=null&&p(n,["thoughtsTokenCount"],m);const y=d(e,["totalTokenCount"]);y!=null&&p(n,["totalTokenCount"],y);const h=d(e,["promptTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(A=>Sl(o,A))),p(n,["promptTokensDetails"],b)}const v=d(e,["cacheTokensDetails"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(A=>Sl(o,A))),p(n,["cacheTokensDetails"],b)}const S=d(e,["responseTokensDetails"]);if(S!=null){let b=S;Array.isArray(b)&&(b=b.map(A=>Sl(o,A))),p(n,["responseTokensDetails"],b)}const E=d(e,["toolUsePromptTokensDetails"]);if(E!=null){let b=E;Array.isArray(b)&&(b=b.map(A=>Sl(o,A))),p(n,["toolUsePromptTokensDetails"],b)}return n}function Gb(o,e){const n={},s=d(e,["promptTokenCount"]);s!=null&&p(n,["promptTokenCount"],s);const l=d(e,["cachedContentTokenCount"]);l!=null&&p(n,["cachedContentTokenCount"],l);const u=d(e,["candidatesTokenCount"]);u!=null&&p(n,["responseTokenCount"],u);const c=d(e,["toolUsePromptTokenCount"]);c!=null&&p(n,["toolUsePromptTokenCount"],c);const m=d(e,["thoughtsTokenCount"]);m!=null&&p(n,["thoughtsTokenCount"],m);const y=d(e,["totalTokenCount"]);y!=null&&p(n,["totalTokenCount"],y);const h=d(e,["promptTokensDetails"]);if(h!=null){let A=h;Array.isArray(A)&&(A=A.map(D=>El(o,D))),p(n,["promptTokensDetails"],A)}const v=d(e,["cacheTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(D=>El(o,D))),p(n,["cacheTokensDetails"],A)}const S=d(e,["candidatesTokensDetails"]);if(S!=null){let A=S;Array.isArray(A)&&(A=A.map(D=>El(o,D))),p(n,["responseTokensDetails"],A)}const E=d(e,["toolUsePromptTokensDetails"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(D=>El(o,D))),p(n,["toolUsePromptTokensDetails"],A)}const b=d(e,["trafficType"]);return b!=null&&p(n,["trafficType"],b),n}function Hb(o,e){const n={},s=d(e,["timeLeft"]);return s!=null&&p(n,["timeLeft"],s),n}function Fb(o,e){const n={},s=d(e,["timeLeft"]);return s!=null&&p(n,["timeLeft"],s),n}function Yb(o,e){const n={},s=d(e,["newHandle"]);s!=null&&p(n,["newHandle"],s);const l=d(e,["resumable"]);l!=null&&p(n,["resumable"],l);const u=d(e,["lastConsumedClientMessageIndex"]);return u!=null&&p(n,["lastConsumedClientMessageIndex"],u),n}function Kb(o,e){const n={},s=d(e,["newHandle"]);s!=null&&p(n,["newHandle"],s);const l=d(e,["resumable"]);l!=null&&p(n,["resumable"],l);const u=d(e,["lastConsumedClientMessageIndex"]);return u!=null&&p(n,["lastConsumedClientMessageIndex"],u),n}function Qb(o,e){const n={};d(e,["setupComplete"])!=null&&p(n,["setupComplete"],_b());const l=d(e,["serverContent"]);l!=null&&p(n,["serverContent"],Vb(o,l));const u=d(e,["toolCall"]);u!=null&&p(n,["toolCall"],Ib(o,u));const c=d(e,["toolCallCancellation"]);c!=null&&p(n,["toolCallCancellation"],kb(o,c));const m=d(e,["usageMetadata"]);m!=null&&p(n,["usageMetadata"],qb(o,m));const y=d(e,["goAway"]);y!=null&&p(n,["goAway"],Hb(o,y));const h=d(e,["sessionResumptionUpdate"]);return h!=null&&p(n,["sessionResumptionUpdate"],Yb(o,h)),n}function Xb(o,e){const n={};d(e,["setupComplete"])!=null&&p(n,["setupComplete"],Rb());const l=d(e,["serverContent"]);l!=null&&p(n,["serverContent"],Pb(o,l));const u=d(e,["toolCall"]);u!=null&&p(n,["toolCall"],zb(o,u));const c=d(e,["toolCallCancellation"]);c!=null&&p(n,["toolCallCancellation"],Ob(o,c));const m=d(e,["usageMetadata"]);m!=null&&p(n,["usageMetadata"],Gb(o,m));const y=d(e,["goAway"]);y!=null&&p(n,["goAway"],Fb(o,y));const h=d(e,["sessionResumptionUpdate"]);return h!=null&&p(n,["sessionResumptionUpdate"],Kb(o,h)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zb(o,e){const n={};if(d(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const s=d(e,["thought"]);s!=null&&p(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&p(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&p(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&p(n,["fileData"],c);const m=d(e,["functionCall"]);m!=null&&p(n,["functionCall"],m);const y=d(e,["functionResponse"]);y!=null&&p(n,["functionResponse"],y);const h=d(e,["inlineData"]);h!=null&&p(n,["inlineData"],h);const v=d(e,["text"]);return v!=null&&p(n,["text"],v),n}function Kl(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>Zb(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function Jb(o,e){const n={};if(d(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=d(e,["category"]);s!=null&&p(n,["category"],s);const l=d(e,["threshold"]);return l!=null&&p(n,["threshold"],l),n}function $b(){return{}}function Wb(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&p(n,["dynamicThreshold"],l),n}function jb(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&p(n,["dynamicRetrievalConfig"],Wb(o,s)),n}function tA(o,e){const n={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(e,["googleSearch"])!=null&&p(n,["googleSearch"],$b());const l=d(e,["googleSearchRetrieval"]);l!=null&&p(n,["googleSearchRetrieval"],jb(o,l));const u=d(e,["codeExecution"]);u!=null&&p(n,["codeExecution"],u);const c=d(e,["functionDeclarations"]);return c!=null&&p(n,["functionDeclarations"],c),n}function eA(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&p(n,["allowedFunctionNames"],l),n}function nA(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&p(n,["functionCallingConfig"],eA(o,s)),n}function iA(o,e){const n={},s=d(e,["voiceName"]);return s!=null&&p(n,["voiceName"],s),n}function oA(o,e){const n={},s=d(e,["prebuiltVoiceConfig"]);return s!=null&&p(n,["prebuiltVoiceConfig"],iA(o,s)),n}function aA(o,e){const n={},s=d(e,["voiceConfig"]);s!=null&&p(n,["voiceConfig"],oA(o,s));const l=d(e,["languageCode"]);return l!=null&&p(n,["languageCode"],l),n}function sA(o,e){const n={},s=d(e,["includeThoughts"]);s!=null&&p(n,["includeThoughts"],s);const l=d(e,["thinkingBudget"]);return l!=null&&p(n,["thinkingBudget"],l),n}function lA(o,e,n){const s={},l=d(e,["systemInstruction"]);n!==void 0&&l!=null&&p(n,["systemInstruction"],Kl(o,Me(o,l)));const u=d(e,["temperature"]);u!=null&&p(s,["temperature"],u);const c=d(e,["topP"]);c!=null&&p(s,["topP"],c);const m=d(e,["topK"]);m!=null&&p(s,["topK"],m);const y=d(e,["candidateCount"]);y!=null&&p(s,["candidateCount"],y);const h=d(e,["maxOutputTokens"]);h!=null&&p(s,["maxOutputTokens"],h);const v=d(e,["stopSequences"]);v!=null&&p(s,["stopSequences"],v);const S=d(e,["responseLogprobs"]);S!=null&&p(s,["responseLogprobs"],S);const E=d(e,["logprobs"]);E!=null&&p(s,["logprobs"],E);const b=d(e,["presencePenalty"]);b!=null&&p(s,["presencePenalty"],b);const A=d(e,["frequencyPenalty"]);A!=null&&p(s,["frequencyPenalty"],A);const D=d(e,["seed"]);D!=null&&p(s,["seed"],D);const z=d(e,["responseMimeType"]);z!=null&&p(s,["responseMimeType"],z);const k=d(e,["responseSchema"]);if(k!=null&&p(s,["responseSchema"],Ev(o,k)),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=d(e,["safetySettings"]);if(n!==void 0&&F!=null){let lt=F;Array.isArray(lt)&&(lt=lt.map(yt=>Jb(o,yt))),p(n,["safetySettings"],lt)}const N=d(e,["tools"]);if(n!==void 0&&N!=null){let lt=Yl(o,N);Array.isArray(lt)&&(lt=lt.map(yt=>tA(o,Fl(o,yt)))),p(n,["tools"],lt)}const K=d(e,["toolConfig"]);if(n!==void 0&&K!=null&&p(n,["toolConfig"],nA(o,K)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=d(e,["cachedContent"]);n!==void 0&&w!=null&&p(n,["cachedContent"],ai(o,w));const X=d(e,["responseModalities"]);X!=null&&p(s,["responseModalities"],X);const Z=d(e,["mediaResolution"]);Z!=null&&p(s,["mediaResolution"],Z);const H=d(e,["speechConfig"]);if(H!=null&&p(s,["speechConfig"],aA(o,Cv(o,H))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ot=d(e,["thinkingConfig"]);return ot!=null&&p(s,["thinkingConfig"],sA(o,ot)),s}function Dg(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(m=>Kl(o,m))),p(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&p(n,["generationConfig"],lA(o,u,n)),n}function rA(o,e,n){const s={},l=d(e,["taskType"]);n!==void 0&&l!=null&&p(n,["requests[]","taskType"],l);const u=d(e,["title"]);n!==void 0&&u!=null&&p(n,["requests[]","title"],u);const c=d(e,["outputDimensionality"]);if(n!==void 0&&c!=null&&p(n,["requests[]","outputDimensionality"],c),d(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function uA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);l!=null&&p(n,["requests[]","content"],Sv(o,l));const u=d(e,["config"]);u!=null&&p(n,["config"],rA(o,u,n));const c=d(e,["model"]);return c!==void 0&&p(n,["requests[]","model"],Qt(o,c)),n}function cA(o,e,n){const s={};if(d(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=d(e,["numberOfImages"]);n!==void 0&&l!=null&&p(n,["parameters","sampleCount"],l);const u=d(e,["aspectRatio"]);n!==void 0&&u!=null&&p(n,["parameters","aspectRatio"],u);const c=d(e,["guidanceScale"]);if(n!==void 0&&c!=null&&p(n,["parameters","guidanceScale"],c),d(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=d(e,["safetyFilterLevel"]);n!==void 0&&m!=null&&p(n,["parameters","safetySetting"],m);const y=d(e,["personGeneration"]);n!==void 0&&y!=null&&p(n,["parameters","personGeneration"],y);const h=d(e,["includeSafetyAttributes"]);n!==void 0&&h!=null&&p(n,["parameters","includeSafetyAttributes"],h);const v=d(e,["includeRaiReason"]);n!==void 0&&v!=null&&p(n,["parameters","includeRaiReason"],v);const S=d(e,["language"]);n!==void 0&&S!=null&&p(n,["parameters","language"],S);const E=d(e,["outputMimeType"]);n!==void 0&&E!=null&&p(n,["parameters","outputOptions","mimeType"],E);const b=d(e,["outputCompressionQuality"]);if(n!==void 0&&b!=null&&p(n,["parameters","outputOptions","compressionQuality"],b),d(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function fA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["prompt"]);l!=null&&p(n,["instances[0]","prompt"],l);const u=d(e,["config"]);return u!=null&&p(n,["config"],cA(o,u,n)),n}function dA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function hA(o,e,n){const s={},l=d(e,["displayName"]);n!==void 0&&l!=null&&p(n,["displayName"],l);const u=d(e,["description"]);return n!==void 0&&u!=null&&p(n,["description"],u),s}function mA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],hA(o,l,n)),n}function pA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function gA(o,e){const n={};if(d(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function yA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(m=>Kl(o,m))),p(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&p(n,["config"],gA(o,u)),n}function vA(o,e){const n={};if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=d(e,["imageBytes"]);s!=null&&p(n,["bytesBase64Encoded"],si(o,s));const l=d(e,["mimeType"]);return l!=null&&p(n,["mimeType"],l),n}function TA(o,e,n){const s={},l=d(e,["numberOfVideos"]);if(n!==void 0&&l!=null&&p(n,["parameters","sampleCount"],l),d(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=d(e,["durationSeconds"]);if(n!==void 0&&u!=null&&p(n,["parameters","durationSeconds"],u),d(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(e,["aspectRatio"]);if(n!==void 0&&c!=null&&p(n,["parameters","aspectRatio"],c),d(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const m=d(e,["personGeneration"]);if(n!==void 0&&m!=null&&p(n,["parameters","personGeneration"],m),d(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=d(e,["negativePrompt"]);if(n!==void 0&&y!=null&&p(n,["parameters","negativePrompt"],y),d(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function SA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["prompt"]);l!=null&&p(n,["instances[0]","prompt"],l);const u=d(e,["image"]);u!=null&&p(n,["instances[0]","image"],vA(o,u));const c=d(e,["config"]);return c!=null&&p(n,["config"],TA(o,c,n)),n}function EA(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&p(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&p(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&p(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&p(n,["executableCode"],c);const m=d(e,["fileData"]);m!=null&&p(n,["fileData"],m);const y=d(e,["functionCall"]);y!=null&&p(n,["functionCall"],y);const h=d(e,["functionResponse"]);h!=null&&p(n,["functionResponse"],h);const v=d(e,["inlineData"]);v!=null&&p(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&p(n,["text"],S),n}function wo(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>EA(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function CA(o,e){const n={},s=d(e,["featureSelectionPreference"]);return s!=null&&p(n,["featureSelectionPreference"],s),n}function bA(o,e){const n={},s=d(e,["method"]);s!=null&&p(n,["method"],s);const l=d(e,["category"]);l!=null&&p(n,["category"],l);const u=d(e,["threshold"]);return u!=null&&p(n,["threshold"],u),n}function AA(){return{}}function MA(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&p(n,["dynamicThreshold"],l),n}function xA(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&p(n,["dynamicRetrievalConfig"],MA(o,s)),n}function xv(o,e){const n={},s=d(e,["retrieval"]);s!=null&&p(n,["retrieval"],s),d(e,["googleSearch"])!=null&&p(n,["googleSearch"],AA());const u=d(e,["googleSearchRetrieval"]);u!=null&&p(n,["googleSearchRetrieval"],xA(o,u));const c=d(e,["codeExecution"]);c!=null&&p(n,["codeExecution"],c);const m=d(e,["functionDeclarations"]);return m!=null&&p(n,["functionDeclarations"],m),n}function _A(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&p(n,["allowedFunctionNames"],l),n}function RA(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&p(n,["functionCallingConfig"],_A(o,s)),n}function DA(o,e){const n={},s=d(e,["voiceName"]);return s!=null&&p(n,["voiceName"],s),n}function wA(o,e){const n={},s=d(e,["prebuiltVoiceConfig"]);return s!=null&&p(n,["prebuiltVoiceConfig"],DA(o,s)),n}function NA(o,e){const n={},s=d(e,["voiceConfig"]);s!=null&&p(n,["voiceConfig"],wA(o,s));const l=d(e,["languageCode"]);return l!=null&&p(n,["languageCode"],l),n}function LA(o,e){const n={},s=d(e,["includeThoughts"]);s!=null&&p(n,["includeThoughts"],s);const l=d(e,["thinkingBudget"]);return l!=null&&p(n,["thinkingBudget"],l),n}function VA(o,e,n){const s={},l=d(e,["systemInstruction"]);n!==void 0&&l!=null&&p(n,["systemInstruction"],wo(o,Me(o,l)));const u=d(e,["temperature"]);u!=null&&p(s,["temperature"],u);const c=d(e,["topP"]);c!=null&&p(s,["topP"],c);const m=d(e,["topK"]);m!=null&&p(s,["topK"],m);const y=d(e,["candidateCount"]);y!=null&&p(s,["candidateCount"],y);const h=d(e,["maxOutputTokens"]);h!=null&&p(s,["maxOutputTokens"],h);const v=d(e,["stopSequences"]);v!=null&&p(s,["stopSequences"],v);const S=d(e,["responseLogprobs"]);S!=null&&p(s,["responseLogprobs"],S);const E=d(e,["logprobs"]);E!=null&&p(s,["logprobs"],E);const b=d(e,["presencePenalty"]);b!=null&&p(s,["presencePenalty"],b);const A=d(e,["frequencyPenalty"]);A!=null&&p(s,["frequencyPenalty"],A);const D=d(e,["seed"]);D!=null&&p(s,["seed"],D);const z=d(e,["responseMimeType"]);z!=null&&p(s,["responseMimeType"],z);const k=d(e,["responseSchema"]);k!=null&&p(s,["responseSchema"],Ev(o,k));const F=d(e,["routingConfig"]);F!=null&&p(s,["routingConfig"],F);const N=d(e,["modelSelectionConfig"]);N!=null&&p(s,["modelConfig"],CA(o,N));const K=d(e,["safetySettings"]);if(n!==void 0&&K!=null){let J=K;Array.isArray(J)&&(J=J.map(j=>bA(o,j))),p(n,["safetySettings"],J)}const w=d(e,["tools"]);if(n!==void 0&&w!=null){let J=Yl(o,w);Array.isArray(J)&&(J=J.map(j=>xv(o,Fl(o,j)))),p(n,["tools"],J)}const X=d(e,["toolConfig"]);n!==void 0&&X!=null&&p(n,["toolConfig"],RA(o,X));const Z=d(e,["labels"]);n!==void 0&&Z!=null&&p(n,["labels"],Z);const H=d(e,["cachedContent"]);n!==void 0&&H!=null&&p(n,["cachedContent"],ai(o,H));const ot=d(e,["responseModalities"]);ot!=null&&p(s,["responseModalities"],ot);const lt=d(e,["mediaResolution"]);lt!=null&&p(s,["mediaResolution"],lt);const yt=d(e,["speechConfig"]);yt!=null&&p(s,["speechConfig"],NA(o,Cv(o,yt)));const Tt=d(e,["audioTimestamp"]);Tt!=null&&p(s,["audioTimestamp"],Tt);const dt=d(e,["thinkingConfig"]);return dt!=null&&p(s,["thinkingConfig"],LA(o,dt)),s}function wg(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(m=>wo(o,m))),p(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&p(n,["generationConfig"],VA(o,u,n)),n}function PA(o,e,n){const s={},l=d(e,["taskType"]);n!==void 0&&l!=null&&p(n,["instances[]","task_type"],l);const u=d(e,["title"]);n!==void 0&&u!=null&&p(n,["instances[]","title"],u);const c=d(e,["outputDimensionality"]);n!==void 0&&c!=null&&p(n,["parameters","outputDimensionality"],c);const m=d(e,["mimeType"]);n!==void 0&&m!=null&&p(n,["instances[]","mimeType"],m);const y=d(e,["autoTruncate"]);return n!==void 0&&y!=null&&p(n,["parameters","autoTruncate"],y),s}function BA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);l!=null&&p(n,["instances[]","content"],Sv(o,l));const u=d(e,["config"]);return u!=null&&p(n,["config"],PA(o,u,n)),n}function UA(o,e,n){const s={},l=d(e,["outputGcsUri"]);n!==void 0&&l!=null&&p(n,["parameters","storageUri"],l);const u=d(e,["negativePrompt"]);n!==void 0&&u!=null&&p(n,["parameters","negativePrompt"],u);const c=d(e,["numberOfImages"]);n!==void 0&&c!=null&&p(n,["parameters","sampleCount"],c);const m=d(e,["aspectRatio"]);n!==void 0&&m!=null&&p(n,["parameters","aspectRatio"],m);const y=d(e,["guidanceScale"]);n!==void 0&&y!=null&&p(n,["parameters","guidanceScale"],y);const h=d(e,["seed"]);n!==void 0&&h!=null&&p(n,["parameters","seed"],h);const v=d(e,["safetyFilterLevel"]);n!==void 0&&v!=null&&p(n,["parameters","safetySetting"],v);const S=d(e,["personGeneration"]);n!==void 0&&S!=null&&p(n,["parameters","personGeneration"],S);const E=d(e,["includeSafetyAttributes"]);n!==void 0&&E!=null&&p(n,["parameters","includeSafetyAttributes"],E);const b=d(e,["includeRaiReason"]);n!==void 0&&b!=null&&p(n,["parameters","includeRaiReason"],b);const A=d(e,["language"]);n!==void 0&&A!=null&&p(n,["parameters","language"],A);const D=d(e,["outputMimeType"]);n!==void 0&&D!=null&&p(n,["parameters","outputOptions","mimeType"],D);const z=d(e,["outputCompressionQuality"]);n!==void 0&&z!=null&&p(n,["parameters","outputOptions","compressionQuality"],z);const k=d(e,["addWatermark"]);n!==void 0&&k!=null&&p(n,["parameters","addWatermark"],k);const F=d(e,["enhancePrompt"]);return n!==void 0&&F!=null&&p(n,["parameters","enhancePrompt"],F),s}function IA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["prompt"]);l!=null&&p(n,["instances[0]","prompt"],l);const u=d(e,["config"]);return u!=null&&p(n,["config"],UA(o,u,n)),n}function zA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function kA(o,e,n){const s={},l=d(e,["displayName"]);n!==void 0&&l!=null&&p(n,["displayName"],l);const u=d(e,["description"]);return n!==void 0&&u!=null&&p(n,["description"],u),s}function OA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],kA(o,l,n)),n}function qA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function GA(o,e,n){const s={},l=d(e,["systemInstruction"]);n!==void 0&&l!=null&&p(n,["systemInstruction"],wo(o,Me(o,l)));const u=d(e,["tools"]);if(n!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(y=>xv(o,y))),p(n,["tools"],m)}const c=d(e,["generationConfig"]);return n!==void 0&&c!=null&&p(n,["generationConfig"],c),s}function HA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(m=>wo(o,m))),p(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&p(n,["config"],GA(o,u,n)),n}function FA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(m=>wo(o,m))),p(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&p(n,["config"],u),n}function YA(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&p(n,["gcsUri"],s);const l=d(e,["imageBytes"]);l!=null&&p(n,["bytesBase64Encoded"],si(o,l));const u=d(e,["mimeType"]);return u!=null&&p(n,["mimeType"],u),n}function KA(o,e,n){const s={},l=d(e,["numberOfVideos"]);n!==void 0&&l!=null&&p(n,["parameters","sampleCount"],l);const u=d(e,["outputGcsUri"]);n!==void 0&&u!=null&&p(n,["parameters","storageUri"],u);const c=d(e,["fps"]);n!==void 0&&c!=null&&p(n,["parameters","fps"],c);const m=d(e,["durationSeconds"]);n!==void 0&&m!=null&&p(n,["parameters","durationSeconds"],m);const y=d(e,["seed"]);n!==void 0&&y!=null&&p(n,["parameters","seed"],y);const h=d(e,["aspectRatio"]);n!==void 0&&h!=null&&p(n,["parameters","aspectRatio"],h);const v=d(e,["resolution"]);n!==void 0&&v!=null&&p(n,["parameters","resolution"],v);const S=d(e,["personGeneration"]);n!==void 0&&S!=null&&p(n,["parameters","personGeneration"],S);const E=d(e,["pubsubTopic"]);n!==void 0&&E!=null&&p(n,["parameters","pubsubTopic"],E);const b=d(e,["negativePrompt"]);n!==void 0&&b!=null&&p(n,["parameters","negativePrompt"],b);const A=d(e,["enhancePrompt"]);return n!==void 0&&A!=null&&p(n,["parameters","enhancePrompt"],A),s}function QA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["prompt"]);l!=null&&p(n,["instances[0]","prompt"],l);const u=d(e,["image"]);u!=null&&p(n,["instances[0]","image"],YA(o,u));const c=d(e,["config"]);return c!=null&&p(n,["config"],KA(o,c,n)),n}function XA(o,e){const n={},s=d(e,["thought"]);s!=null&&p(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&p(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&p(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&p(n,["fileData"],c);const m=d(e,["functionCall"]);m!=null&&p(n,["functionCall"],m);const y=d(e,["functionResponse"]);y!=null&&p(n,["functionResponse"],y);const h=d(e,["inlineData"]);h!=null&&p(n,["inlineData"],h);const v=d(e,["text"]);return v!=null&&p(n,["text"],v),n}function ZA(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>XA(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function JA(o,e){const n={},s=d(e,["citationSources"]);return s!=null&&p(n,["citations"],s),n}function $A(o,e){const n={},s=d(e,["content"]);s!=null&&p(n,["content"],ZA(o,s));const l=d(e,["citationMetadata"]);l!=null&&p(n,["citationMetadata"],JA(o,l));const u=d(e,["tokenCount"]);u!=null&&p(n,["tokenCount"],u);const c=d(e,["finishReason"]);c!=null&&p(n,["finishReason"],c);const m=d(e,["avgLogprobs"]);m!=null&&p(n,["avgLogprobs"],m);const y=d(e,["groundingMetadata"]);y!=null&&p(n,["groundingMetadata"],y);const h=d(e,["index"]);h!=null&&p(n,["index"],h);const v=d(e,["logprobsResult"]);v!=null&&p(n,["logprobsResult"],v);const S=d(e,["safetyRatings"]);return S!=null&&p(n,["safetyRatings"],S),n}function Ng(o,e){const n={},s=d(e,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(y=>$A(o,y))),p(n,["candidates"],m)}const l=d(e,["modelVersion"]);l!=null&&p(n,["modelVersion"],l);const u=d(e,["promptFeedback"]);u!=null&&p(n,["promptFeedback"],u);const c=d(e,["usageMetadata"]);return c!=null&&p(n,["usageMetadata"],c),n}function WA(o,e){const n={},s=d(e,["values"]);return s!=null&&p(n,["values"],s),n}function jA(){return{}}function tM(o,e){const n={},s=d(e,["embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>WA(o,c))),p(n,["embeddings"],u)}return d(e,["metadata"])!=null&&p(n,["metadata"],jA()),n}function eM(o,e){const n={},s=d(e,["bytesBase64Encoded"]);s!=null&&p(n,["imageBytes"],si(o,s));const l=d(e,["mimeType"]);return l!=null&&p(n,["mimeType"],l),n}function _v(o,e){const n={},s=d(e,["safetyAttributes","categories"]);s!=null&&p(n,["categories"],s);const l=d(e,["safetyAttributes","scores"]);l!=null&&p(n,["scores"],l);const u=d(e,["contentType"]);return u!=null&&p(n,["contentType"],u),n}function nM(o,e){const n={},s=d(e,["_self"]);s!=null&&p(n,["image"],eM(o,s));const l=d(e,["raiFilteredReason"]);l!=null&&p(n,["raiFilteredReason"],l);const u=d(e,["_self"]);return u!=null&&p(n,["safetyAttributes"],_v(o,u)),n}function iM(o,e){const n={},s=d(e,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>nM(o,c))),p(n,["generatedImages"],u)}const l=d(e,["positivePromptSafetyAttributes"]);return l!=null&&p(n,["positivePromptSafetyAttributes"],_v(o,l)),n}function oM(o,e){const n={},s=d(e,["baseModel"]);s!=null&&p(n,["baseModel"],s);const l=d(e,["createTime"]);l!=null&&p(n,["createTime"],l);const u=d(e,["updateTime"]);return u!=null&&p(n,["updateTime"],u),n}function Lg(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["displayName"]);l!=null&&p(n,["displayName"],l);const u=d(e,["description"]);u!=null&&p(n,["description"],u);const c=d(e,["version"]);c!=null&&p(n,["version"],c);const m=d(e,["_self"]);m!=null&&p(n,["tunedModelInfo"],oM(o,m));const y=d(e,["inputTokenLimit"]);y!=null&&p(n,["inputTokenLimit"],y);const h=d(e,["outputTokenLimit"]);h!=null&&p(n,["outputTokenLimit"],h);const v=d(e,["supportedGenerationMethods"]);return v!=null&&p(n,["supportedActions"],v),n}function aM(){return{}}function sM(o,e){const n={},s=d(e,["totalTokens"]);s!=null&&p(n,["totalTokens"],s);const l=d(e,["cachedContentTokenCount"]);return l!=null&&p(n,["cachedContentTokenCount"],l),n}function lM(o,e){const n={},s=d(e,["video","uri"]);s!=null&&p(n,["uri"],s);const l=d(e,["video","encodedVideo"]);l!=null&&p(n,["videoBytes"],si(o,l));const u=d(e,["encoding"]);return u!=null&&p(n,["mimeType"],u),n}function rM(o,e){const n={},s=d(e,["_self"]);return s!=null&&p(n,["video"],lM(o,s)),n}function uM(o,e){const n={},s=d(e,["generatedSamples"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>rM(o,m))),p(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&p(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&p(n,["raiMediaFilteredReasons"],u),n}function cM(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["metadata"]);l!=null&&p(n,["metadata"],l);const u=d(e,["done"]);u!=null&&p(n,["done"],u);const c=d(e,["error"]);c!=null&&p(n,["error"],c);const m=d(e,["response","generateVideoResponse"]);return m!=null&&p(n,["response"],uM(o,m)),n}function fM(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&p(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&p(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&p(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&p(n,["executableCode"],c);const m=d(e,["fileData"]);m!=null&&p(n,["fileData"],m);const y=d(e,["functionCall"]);y!=null&&p(n,["functionCall"],y);const h=d(e,["functionResponse"]);h!=null&&p(n,["functionResponse"],h);const v=d(e,["inlineData"]);v!=null&&p(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&p(n,["text"],S),n}function dM(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>fM(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function hM(o,e){const n={},s=d(e,["citations"]);return s!=null&&p(n,["citations"],s),n}function mM(o,e){const n={},s=d(e,["content"]);s!=null&&p(n,["content"],dM(o,s));const l=d(e,["citationMetadata"]);l!=null&&p(n,["citationMetadata"],hM(o,l));const u=d(e,["finishMessage"]);u!=null&&p(n,["finishMessage"],u);const c=d(e,["finishReason"]);c!=null&&p(n,["finishReason"],c);const m=d(e,["avgLogprobs"]);m!=null&&p(n,["avgLogprobs"],m);const y=d(e,["groundingMetadata"]);y!=null&&p(n,["groundingMetadata"],y);const h=d(e,["index"]);h!=null&&p(n,["index"],h);const v=d(e,["logprobsResult"]);v!=null&&p(n,["logprobsResult"],v);const S=d(e,["safetyRatings"]);return S!=null&&p(n,["safetyRatings"],S),n}function Vg(o,e){const n={},s=d(e,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(v=>mM(o,v))),p(n,["candidates"],h)}const l=d(e,["createTime"]);l!=null&&p(n,["createTime"],l);const u=d(e,["responseId"]);u!=null&&p(n,["responseId"],u);const c=d(e,["modelVersion"]);c!=null&&p(n,["modelVersion"],c);const m=d(e,["promptFeedback"]);m!=null&&p(n,["promptFeedback"],m);const y=d(e,["usageMetadata"]);return y!=null&&p(n,["usageMetadata"],y),n}function pM(o,e){const n={},s=d(e,["truncated"]);s!=null&&p(n,["truncated"],s);const l=d(e,["token_count"]);return l!=null&&p(n,["tokenCount"],l),n}function gM(o,e){const n={},s=d(e,["values"]);s!=null&&p(n,["values"],s);const l=d(e,["statistics"]);return l!=null&&p(n,["statistics"],pM(o,l)),n}function yM(o,e){const n={},s=d(e,["billableCharacterCount"]);return s!=null&&p(n,["billableCharacterCount"],s),n}function vM(o,e){const n={},s=d(e,["predictions[]","embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>gM(o,c))),p(n,["embeddings"],u)}const l=d(e,["metadata"]);return l!=null&&p(n,["metadata"],yM(o,l)),n}function TM(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&p(n,["gcsUri"],s);const l=d(e,["bytesBase64Encoded"]);l!=null&&p(n,["imageBytes"],si(o,l));const u=d(e,["mimeType"]);return u!=null&&p(n,["mimeType"],u),n}function Rv(o,e){const n={},s=d(e,["safetyAttributes","categories"]);s!=null&&p(n,["categories"],s);const l=d(e,["safetyAttributes","scores"]);l!=null&&p(n,["scores"],l);const u=d(e,["contentType"]);return u!=null&&p(n,["contentType"],u),n}function SM(o,e){const n={},s=d(e,["_self"]);s!=null&&p(n,["image"],TM(o,s));const l=d(e,["raiFilteredReason"]);l!=null&&p(n,["raiFilteredReason"],l);const u=d(e,["_self"]);u!=null&&p(n,["safetyAttributes"],Rv(o,u));const c=d(e,["prompt"]);return c!=null&&p(n,["enhancedPrompt"],c),n}function EM(o,e){const n={},s=d(e,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>SM(o,c))),p(n,["generatedImages"],u)}const l=d(e,["positivePromptSafetyAttributes"]);return l!=null&&p(n,["positivePromptSafetyAttributes"],Rv(o,l)),n}function CM(o,e){const n={},s=d(e,["endpoint"]);s!=null&&p(n,["name"],s);const l=d(e,["deployedModelId"]);return l!=null&&p(n,["deployedModelId"],l),n}function bM(o,e){const n={},s=d(e,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&p(n,["baseModel"],s);const l=d(e,["createTime"]);l!=null&&p(n,["createTime"],l);const u=d(e,["updateTime"]);return u!=null&&p(n,["updateTime"],u),n}function Pg(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["displayName"]);l!=null&&p(n,["displayName"],l);const u=d(e,["description"]);u!=null&&p(n,["description"],u);const c=d(e,["versionId"]);c!=null&&p(n,["version"],c);const m=d(e,["deployedModels"]);if(m!=null){let v=m;Array.isArray(v)&&(v=v.map(S=>CM(o,S))),p(n,["endpoints"],v)}const y=d(e,["labels"]);y!=null&&p(n,["labels"],y);const h=d(e,["_self"]);return h!=null&&p(n,["tunedModelInfo"],bM(o,h)),n}function AM(){return{}}function MM(o,e){const n={},s=d(e,["totalTokens"]);return s!=null&&p(n,["totalTokens"],s),n}function xM(o,e){const n={},s=d(e,["tokensInfo"]);return s!=null&&p(n,["tokensInfo"],s),n}function _M(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&p(n,["uri"],s);const l=d(e,["bytesBase64Encoded"]);l!=null&&p(n,["videoBytes"],si(o,l));const u=d(e,["mimeType"]);return u!=null&&p(n,["mimeType"],u),n}function RM(o,e){const n={},s=d(e,["_self"]);return s!=null&&p(n,["video"],_M(o,s)),n}function DM(o,e){const n={},s=d(e,["videos"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>RM(o,m))),p(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&p(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&p(n,["raiMediaFilteredReasons"],u),n}function wM(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["metadata"]);l!=null&&p(n,["metadata"],l);const u=d(e,["done"]);u!=null&&p(n,["done"],u);const c=d(e,["error"]);c!=null&&p(n,["error"],c);const m=d(e,["response"]);return m!=null&&p(n,["response"],DM(o,m)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function LM(o,e,n){let s,l;n.data instanceof Blob?l=JSON.parse(await n.data.text()):l=JSON.parse(n.data),o.isVertexAI()?s=Xb(o,l):s=Qb(o,l),e(s)}class VM{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s}async connect(e){var n,s,l,u;const c=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const h=IM(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())y=`${c}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const K=this.apiClient.getApiKey();y=`${c}/ws/google.ai.generativelanguage.${m}.GenerativeService.BidiGenerateContent?key=${K}`}let v=()=>{};const S=new Promise(K=>{v=K}),E=e.callbacks,b=function(){var K;(K=E==null?void 0:E.onopen)===null||K===void 0||K.call(E),v({})},A=this.apiClient,D={onopen:b,onmessage:K=>{LM(A,E.onmessage,K)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(K){},onclose:(s=E==null?void 0:E.onclose)!==null&&s!==void 0?s:function(K){}},z=this.webSocketFactory.create(y,UM(h),D);z.connect(),await S;let k=Qt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const K=this.apiClient.getProject(),w=this.apiClient.getLocation();k=`projects/${K}/locations/${w}/`+k}let F={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Pl.AUDIO]}:e.config.responseModalities=[Pl.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N={model:k,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=Sb(this.apiClient,N):F=Tb(this.apiClient,N),delete F.config,z.send(JSON.stringify(F)),new BM(z,this.apiClient)}}const PM={turnComplete:!0};class BM{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let s=[];try{s=oi(e,n.turns),e.isVertexAI()?s=s.map(l=>wo(e,l)):s=s.map(l=>Kl(e,l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:s,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let s=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?s=n.functionResponses:s=[n.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(NM)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},PM),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:xb(this.apiClient,e)}:n={realtimeInput:Mb(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function UM(o){const e={};return o.forEach((n,s)=>{e[s]=n}),e}function IM(o){const e=new Headers;for(const[n,s]of Object.entries(o))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zM extends ja{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(s=>{var l;let u;const c=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((l=y==null?void 0:y.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:c.push(y);let m;return u?m={generatedImages:c,positivePromptSafetyAttributes:u}:m={generatedImages:c},m})}async generateContentInternal(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=wg(this.apiClient,e);return m=gt("{model}:generateContent",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=Vg(this.apiClient,v),E=new Tl;return Object.assign(E,S),E})}else{const h=Dg(this.apiClient,e);return m=gt("{model}:generateContent",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=Ng(this.apiClient,v),E=new Tl;return Object.assign(E,S),E})}}async generateContentStreamInternal(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=wg(this.apiClient,e);m=gt("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h.config,delete h._url,delete h._query;const v=this.apiClient;return c=v.requestStream({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(S){return Bl(this,arguments,function*(){var E,b,A,D;try{for(var z=!0,k=Uc(S),F;F=yield me(k.next()),E=F.done,!E;z=!0){D=F.value,z=!1;const K=Vg(v,yield me(D.json())),w=new Tl;Object.assign(w,K),yield yield me(w)}}catch(N){b={error:N}}finally{try{!z&&!E&&(A=k.return)&&(yield me(A.call(k)))}finally{if(b)throw b.error}}})})}else{const h=Dg(this.apiClient,e);m=gt("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h.config,delete h._url,delete h._query;const v=this.apiClient;return c=v.requestStream({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),c.then(function(S){return Bl(this,arguments,function*(){var E,b,A,D;try{for(var z=!0,k=Uc(S),F;F=yield me(k.next()),E=F.done,!E;z=!0){D=F.value,z=!1;const K=Ng(v,yield me(D.json())),w=new Tl;Object.assign(w,K),yield yield me(w)}}catch(N){b={error:N}}finally{try{!z&&!E&&(A=k.return)&&(yield me(A.call(k)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=BA(this.apiClient,e);return m=gt("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=vM(this.apiClient,v),E=new vg;return Object.assign(E,S),E})}else{const h=uA(this.apiClient,e);return m=gt("{model}:batchEmbedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=tM(this.apiClient,v),E=new vg;return Object.assign(E,S),E})}}async generateImagesInternal(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=IA(this.apiClient,e);return m=gt("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=EM(this.apiClient,v),E=new Tg;return Object.assign(E,S),E})}else{const h=fA(this.apiClient,e);return m=gt("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=iM(this.apiClient,v),E=new Tg;return Object.assign(E,S),E})}}async get(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=zA(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Pg(this.apiClient,v))}else{const h=dA(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Lg(this.apiClient,v))}}async update(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=OA(this.apiClient,e);return m=gt("{model}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Pg(this.apiClient,v))}else{const h=mA(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Lg(this.apiClient,v))}}async delete(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=qA(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(()=>{const v=AM(),S=new Sg;return Object.assign(S,v),S})}else{const h=pA(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(()=>{const v=aM(),S=new Sg;return Object.assign(S,v),S})}}async countTokens(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=HA(this.apiClient,e);return m=gt("{model}:countTokens",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=MM(this.apiClient,v),E=new Eg;return Object.assign(E,S),E})}else{const h=yA(this.apiClient,e);return m=gt("{model}:countTokens",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=sM(this.apiClient,v),E=new Eg;return Object.assign(E,S),E})}}async computeTokens(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const m=FA(this.apiClient,e);return u=gt("{model}:computeTokens",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const h=xM(this.apiClient,y),v=new xC;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=QA(this.apiClient,e);return m=gt("{model}:predictLongRunning",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>wM(this.apiClient,v))}else{const h=SA(this.apiClient,e);return m=gt("{model}:predictLongRunning",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>cM(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kM(o,e){const n={},s=d(e,["operationName"]);s!=null&&p(n,["_url","operationName"],s);const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function OM(o,e){const n={},s=d(e,["operationName"]);s!=null&&p(n,["_url","operationName"],s);const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function qM(o,e){const n={},s=d(e,["operationName"]);s!=null&&p(n,["operationName"],s);const l=d(e,["resourceName"]);l!=null&&p(n,["_url","resourceName"],l);const u=d(e,["config"]);return u!=null&&p(n,["config"],u),n}function GM(o,e){const n={},s=d(e,["video","uri"]);s!=null&&p(n,["uri"],s);const l=d(e,["video","encodedVideo"]);l!=null&&p(n,["videoBytes"],si(o,l));const u=d(e,["encoding"]);return u!=null&&p(n,["mimeType"],u),n}function HM(o,e){const n={},s=d(e,["_self"]);return s!=null&&p(n,["video"],GM(o,s)),n}function FM(o,e){const n={},s=d(e,["generatedSamples"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>HM(o,m))),p(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&p(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&p(n,["raiMediaFilteredReasons"],u),n}function YM(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["metadata"]);l!=null&&p(n,["metadata"],l);const u=d(e,["done"]);u!=null&&p(n,["done"],u);const c=d(e,["error"]);c!=null&&p(n,["error"],c);const m=d(e,["response","generateVideoResponse"]);return m!=null&&p(n,["response"],FM(o,m)),n}function KM(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&p(n,["uri"],s);const l=d(e,["bytesBase64Encoded"]);l!=null&&p(n,["videoBytes"],si(o,l));const u=d(e,["mimeType"]);return u!=null&&p(n,["mimeType"],u),n}function QM(o,e){const n={},s=d(e,["_self"]);return s!=null&&p(n,["video"],KM(o,s)),n}function XM(o,e){const n={},s=d(e,["videos"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>QM(o,m))),p(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&p(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&p(n,["raiMediaFilteredReasons"],u),n}function Bg(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["metadata"]);l!=null&&p(n,["metadata"],l);const u=d(e,["done"]);u!=null&&p(n,["done"],u);const c=d(e,["error"]);c!=null&&p(n,["error"],c);const m=d(e,["response"]);return m!=null&&p(n,["response"],XM(o,m)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZM extends ja{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let u;return s&&"httpOptions"in s&&(u=s.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:u}})}else return this.getVideosOperationInternal({operationName:n.name,config:s})}async getVideosOperationInternal(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=OM(this.apiClient,e);return m=gt("{operationName}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Bg(this.apiClient,v))}else{const h=kM(this.apiClient,e);return m=gt("{operationName}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>YM(this.apiClient,v))}}async fetchPredictVideosOperationInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const m=qM(this.apiClient,e);return u=gt("{resourceName}:fetchPredictOperation",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>Bg(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JM="Content-Type",$M="X-Server-Timeout",WM="User-Agent",jM="x-goog-api-client",tx="0.12.0",ex=`google-genai-sdk/${tx}`,nx="v1beta1",ix="v1beta",Ug=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Dv extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class zc extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class ox{constructor(e){var n,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:nx,this.getProject()||this.getLocation()?(l.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(l.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(l.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:ix,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,s){const l=[this.getRequestUrlInternal(n)];return s&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,s);if(e.queryParams)for(const[c,m]of Object.entries(e.queryParams))l.searchParams.append(c,String(m));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,n,e.abortSignal),this.unaryApiCall(l,u,e.httpMethod)}patchHttpOptions(e,n){const s=JSON.parse(JSON.stringify(e));for(const[l,u]of Object.entries(n))typeof u=="object"?s[l]=Object.assign(Object.assign({},s[l]),u):u!==void 0&&(s[l]=u);return s}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,s);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,n,e.abortSignal),this.streamApiCall(l,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,s){if(n&&n.timeout||s){const l=new AbortController,u=l.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>l.abort(),n.timeout),s&&s.addEventListener("abort",()=>{l.abort()}),e.signal=u}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async l=>(await Ig(l),new Bc(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async l=>(await Ig(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var n;return Bl(this,arguments,function*(){const l=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),u=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let c="";for(;;){const{done:m,value:y}=yield me(l.read());if(m){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=u.decode(y);try{const S=JSON.parse(h);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),b=E.status,A=E.code,D=`got status: ${b}. ${JSON.stringify(S)}`;if(A>=400&&A<500)throw new Dv(D);if(A>=500&&A<600)throw new zc(D)}}catch(S){const E=S;if(E.name==="ClientError"||E.name==="ServerError")throw S}c+=h;let v=c.match(Ug);for(;v;){const S=v[1];try{const E=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield me(new Bc(E)),c=c.slice(v[0].length),v=c.match(Ug)}catch(E){throw new Error(`exception parsing stream chunk ${S}. ${E}`)}}}}finally{l.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},n=ex+" "+this.clientOptions.userAgentExtra;return e[WM]=n,e[jM]=n,e[JM]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[s,l]of Object.entries(e.headers))n.append(s,l);e.timeout&&e.timeout>0&&n.append($M,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var s;const l={};n!=null&&(l.mimeType=n.mimeType,l.name=n.name,l.displayName=n.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const u=this.clientOptions.uploader,c=await u.stat(e);l.sizeBytes=String(c.size);const m=(s=n==null?void 0:n.mimeType)!==null&&s!==void 0?s:c.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=m;const y=await this.fetchUploadUrl(l,n);return u.upload(e,y,this)}async fetchUploadUrl(e,n){var s;let l={};n!=null&&n.httpOptions?l=n.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const u={file:e},c=await this.request({path:gt("upload/v1beta/files",u._url),body:JSON.stringify(u),httpMethod:"POST",httpOptions:l});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(s=c==null?void 0:c.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function Ig(o){var e;if(o===void 0)throw new zc("response is undefined");if(!o.ok){const n=o.status,s=o.statusText;let l;!((e=o.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await o.json():l={error:{message:await o.text(),code:o.status,status:o.statusText}};const u=`got status: ${n} ${s}. ${JSON.stringify(l)}`;throw n>=400&&n<500?new Dv(u):n>=500&&n<600?new zc(u):new Error(u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ax(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],s);const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function sx(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&p(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);n!==void 0&&u!=null&&p(n,["_query","pageToken"],u);const c=d(e,["filter"]);return n!==void 0&&c!=null&&p(n,["_query","filter"],c),s}function lx(o,e){const n={},s=d(e,["config"]);return s!=null&&p(n,["config"],sx(o,s,n)),n}function rx(o,e){const n={},s=d(e,["textInput"]);s!=null&&p(n,["textInput"],s);const l=d(e,["output"]);return l!=null&&p(n,["output"],l),n}function ux(o,e){const n={};if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=d(e,["examples"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>rx(o,u))),p(n,["examples","examples"],l)}return n}function cx(o,e,n){const s={};if(d(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=d(e,["tunedModelDisplayName"]);if(n!==void 0&&l!=null&&p(n,["displayName"],l),d(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=d(e,["epochCount"]);n!==void 0&&u!=null&&p(n,["tuningTask","hyperparameters","epochCount"],u);const c=d(e,["learningRateMultiplier"]);if(c!=null&&p(s,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=d(e,["batchSize"]);n!==void 0&&m!=null&&p(n,["tuningTask","hyperparameters","batchSize"],m);const y=d(e,["learningRate"]);return n!==void 0&&y!=null&&p(n,["tuningTask","hyperparameters","learningRate"],y),s}function fx(o,e){const n={},s=d(e,["baseModel"]);s!=null&&p(n,["baseModel"],s);const l=d(e,["trainingDataset"]);l!=null&&p(n,["tuningTask","trainingData"],ux(o,l));const u=d(e,["config"]);return u!=null&&p(n,["config"],cx(o,u,n)),n}function dx(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],s);const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function hx(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&p(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);n!==void 0&&u!=null&&p(n,["_query","pageToken"],u);const c=d(e,["filter"]);return n!==void 0&&c!=null&&p(n,["_query","filter"],c),s}function mx(o,e){const n={},s=d(e,["config"]);return s!=null&&p(n,["config"],hx(o,s,n)),n}function px(o,e,n){const s={},l=d(e,["gcsUri"]);if(n!==void 0&&l!=null&&p(n,["supervisedTuningSpec","trainingDatasetUri"],l),d(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function gx(o,e){const n={},s=d(e,["gcsUri"]);return s!=null&&p(n,["validationDatasetUri"],s),n}function yx(o,e,n){const s={},l=d(e,["validationDataset"]);n!==void 0&&l!=null&&p(n,["supervisedTuningSpec"],gx(o,l));const u=d(e,["tunedModelDisplayName"]);n!==void 0&&u!=null&&p(n,["tunedModelDisplayName"],u);const c=d(e,["description"]);n!==void 0&&c!=null&&p(n,["description"],c);const m=d(e,["epochCount"]);n!==void 0&&m!=null&&p(n,["supervisedTuningSpec","hyperParameters","epochCount"],m);const y=d(e,["learningRateMultiplier"]);n!==void 0&&y!=null&&p(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const h=d(e,["adapterSize"]);if(n!==void 0&&h!=null&&p(n,["supervisedTuningSpec","hyperParameters","adapterSize"],h),d(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return s}function vx(o,e){const n={},s=d(e,["baseModel"]);s!=null&&p(n,["baseModel"],s);const l=d(e,["trainingDataset"]);l!=null&&p(n,["supervisedTuningSpec","trainingDatasetUri"],px(o,l,n));const u=d(e,["config"]);return u!=null&&p(n,["config"],yx(o,u,n)),n}function Tx(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["model"],s);const l=d(e,["name"]);return l!=null&&p(n,["endpoint"],l),n}function wv(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["state"]);l!=null&&p(n,["state"],bv(o,l));const u=d(e,["createTime"]);u!=null&&p(n,["createTime"],u);const c=d(e,["tuningTask","startTime"]);c!=null&&p(n,["startTime"],c);const m=d(e,["tuningTask","completeTime"]);m!=null&&p(n,["endTime"],m);const y=d(e,["updateTime"]);y!=null&&p(n,["updateTime"],y);const h=d(e,["description"]);h!=null&&p(n,["description"],h);const v=d(e,["baseModel"]);v!=null&&p(n,["baseModel"],v);const S=d(e,["_self"]);S!=null&&p(n,["tunedModel"],Tx(o,S));const E=d(e,["distillationSpec"]);E!=null&&p(n,["distillationSpec"],E);const b=d(e,["experiment"]);b!=null&&p(n,["experiment"],b);const A=d(e,["labels"]);A!=null&&p(n,["labels"],A);const D=d(e,["pipelineJob"]);D!=null&&p(n,["pipelineJob"],D);const z=d(e,["tunedModelDisplayName"]);return z!=null&&p(n,["tunedModelDisplayName"],z),n}function Sx(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&p(n,["nextPageToken"],s);const l=d(e,["tunedModels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>wv(o,c))),p(n,["tuningJobs"],u)}return n}function Ex(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["metadata"]);l!=null&&p(n,["metadata"],l);const u=d(e,["done"]);u!=null&&p(n,["done"],u);const c=d(e,["error"]);return c!=null&&p(n,["error"],c),n}function Cx(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["model"],s);const l=d(e,["endpoint"]);return l!=null&&p(n,["endpoint"],l),n}function kc(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["state"]);l!=null&&p(n,["state"],bv(o,l));const u=d(e,["createTime"]);u!=null&&p(n,["createTime"],u);const c=d(e,["startTime"]);c!=null&&p(n,["startTime"],c);const m=d(e,["endTime"]);m!=null&&p(n,["endTime"],m);const y=d(e,["updateTime"]);y!=null&&p(n,["updateTime"],y);const h=d(e,["error"]);h!=null&&p(n,["error"],h);const v=d(e,["description"]);v!=null&&p(n,["description"],v);const S=d(e,["baseModel"]);S!=null&&p(n,["baseModel"],S);const E=d(e,["tunedModel"]);E!=null&&p(n,["tunedModel"],Cx(o,E));const b=d(e,["supervisedTuningSpec"]);b!=null&&p(n,["supervisedTuningSpec"],b);const A=d(e,["tuningDataStats"]);A!=null&&p(n,["tuningDataStats"],A);const D=d(e,["encryptionSpec"]);D!=null&&p(n,["encryptionSpec"],D);const z=d(e,["partnerModelTuningSpec"]);z!=null&&p(n,["partnerModelTuningSpec"],z);const k=d(e,["distillationSpec"]);k!=null&&p(n,["distillationSpec"],k);const F=d(e,["experiment"]);F!=null&&p(n,["experiment"],F);const N=d(e,["labels"]);N!=null&&p(n,["labels"],N);const K=d(e,["pipelineJob"]);K!=null&&p(n,["pipelineJob"],K);const w=d(e,["tunedModelDisplayName"]);return w!=null&&p(n,["tunedModelDisplayName"],w),n}function bx(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&p(n,["nextPageToken"],s);const l=d(e,["tuningJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>kc(o,c))),p(n,["tuningJobs"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ax extends ja{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new cf(Ya.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const s=await this.tuneMldevInternal(n);let l="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?l=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(l=s.name.split("/operations/")[0]),{name:l,state:Pc.JOB_STATE_QUEUED}}}}async getInternal(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=dx(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>kc(this.apiClient,v))}else{const h=ax(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>wv(this.apiClient,v))}}async listInternal(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=mx(this.apiClient,e);return m=gt("tuningJobs",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=bx(this.apiClient,v),E=new Cg;return Object.assign(E,S),E})}else{const h=lx(this.apiClient,e);return m=gt("tunedModels",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=Sx(this.apiClient,v),E=new Cg;return Object.assign(E,S),E})}}async tuneInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const m=vx(this.apiClient,e);return u=gt("tuningJobs",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>kc(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=fx(this.apiClient,e);return u=gt("tunedModels",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>Ex(this.apiClient,y))}}}const Mx=1024*1024*8;async function xx(o,e,n){var s,l;let u=0,c=0,m=new Bc(new Response),y="upload";for(u=o.size;c<u;){const v=Math.min(Mx,u-c),S=o.slice(c,c+v);if(c+v>=u&&(y+=", finalize"),m=await n.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(c),"Content-Length":String(v)}}}),c+=v,((s=m==null?void 0:m.headers)===null||s===void 0?void 0:s["x-goog-upload-status"])!=="active")break;if(u<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(m==null?void 0:m.json());if(((l=m==null?void 0:m.headers)===null||l===void 0?void 0:l["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function _x(o){return{size:o.size,type:o.type}}class Rx{async upload(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await xx(e,n,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _x(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dx{create(e,n,s){return new wx(e,n,s)}}class wx{constructor(e,n,s){this.url=e,this.headers=n,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zg="x-goog-api-key";class Nx{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(zg)===null&&e.append(zg,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lx="gl-node/";class Vx{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const s=GE(e,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion;const l=new Nx(this.apiKey);this.apiClient=new ox({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Lx+"web",uploader:new Rx}),this.models=new zM(this.apiClient),this.live=new VM(this.apiClient,l,new Dx),this.chats=new PC(this.models,this.apiClient),this.caches=new wC(this.apiClient),this.files=new QC(this.apiClient),this.operations=new ZM(this.apiClient),this.tunings=new Ax(this.apiClient)}}var dc={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg;function Px(){if(kg)return vt;kg=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function E(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,D={};function z(x,Q,et){this.props=x,this.context=Q,this.refs=D,this.updater=et||b}z.prototype.isReactComponent={},z.prototype.setState=function(x,Q){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Q,"setState")},z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function k(){}k.prototype=z.prototype;function F(x,Q,et){this.props=x,this.context=Q,this.refs=D,this.updater=et||b}var N=F.prototype=new k;N.constructor=F,A(N,z.prototype),N.isPureReactComponent=!0;var K=Array.isArray,w={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function Z(x,Q,et,W,ut,xt){return et=xt.ref,{$$typeof:o,type:x,key:Q,ref:et!==void 0?et:null,props:xt}}function H(x,Q){return Z(x.type,Q,void 0,void 0,void 0,x.props)}function ot(x){return typeof x=="object"&&x!==null&&x.$$typeof===o}function lt(x){var Q={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(et){return Q[et]})}var yt=/\/+/g;function Tt(x,Q){return typeof x=="object"&&x!==null&&x.key!=null?lt(""+x.key):Q.toString(36)}function dt(){}function J(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(dt,dt):(x.status="pending",x.then(function(Q){x.status==="pending"&&(x.status="fulfilled",x.value=Q)},function(Q){x.status==="pending"&&(x.status="rejected",x.reason=Q)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function j(x,Q,et,W,ut){var xt=typeof x;(xt==="undefined"||xt==="boolean")&&(x=null);var pt=!1;if(x===null)pt=!0;else switch(xt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(x.$$typeof){case o:case e:pt=!0;break;case v:return pt=x._init,j(pt(x._payload),Q,et,W,ut)}}if(pt)return ut=ut(x),pt=W===""?"."+Tt(x,0):W,K(ut)?(et="",pt!=null&&(et=pt.replace(yt,"$&/")+"/"),j(ut,Q,et,"",function(wn){return wn})):ut!=null&&(ot(ut)&&(ut=H(ut,et+(ut.key==null||x&&x.key===ut.key?"":(""+ut.key).replace(yt,"$&/")+"/")+pt)),Q.push(ut)),1;pt=0;var _e=W===""?".":W+":";if(K(x))for(var kt=0;kt<x.length;kt++)W=x[kt],xt=_e+Tt(W,kt),pt+=j(W,Q,et,xt,ut);else if(kt=E(x),typeof kt=="function")for(x=kt.call(x),kt=0;!(W=x.next()).done;)W=W.value,xt=_e+Tt(W,kt++),pt+=j(W,Q,et,xt,ut);else if(xt==="object"){if(typeof x.then=="function")return j(J(x),Q,et,W,ut);throw Q=String(x),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return pt}function P(x,Q,et){if(x==null)return x;var W=[],ut=0;return j(x,W,"","",function(xt){return Q.call(et,xt,ut++)}),W}function q(x){if(x._status===-1){var Q=x._result;Q=Q(),Q.then(function(et){(x._status===0||x._status===-1)&&(x._status=1,x._result=et)},function(et){(x._status===0||x._status===-1)&&(x._status=2,x._result=et)}),x._status===-1&&(x._status=0,x._result=Q)}if(x._status===1)return x._result.default;throw x._result}var $=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function rt(){}return vt.Children={map:P,forEach:function(x,Q,et){P(x,function(){Q.apply(this,arguments)},et)},count:function(x){var Q=0;return P(x,function(){Q++}),Q},toArray:function(x){return P(x,function(Q){return Q})||[]},only:function(x){if(!ot(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},vt.Component=z,vt.Fragment=n,vt.Profiler=l,vt.PureComponent=F,vt.StrictMode=s,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,vt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return w.H.useMemoCache(x)}},vt.cache=function(x){return function(){return x.apply(null,arguments)}},vt.cloneElement=function(x,Q,et){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var W=A({},x.props),ut=x.key,xt=void 0;if(Q!=null)for(pt in Q.ref!==void 0&&(xt=void 0),Q.key!==void 0&&(ut=""+Q.key),Q)!X.call(Q,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&Q.ref===void 0||(W[pt]=Q[pt]);var pt=arguments.length-2;if(pt===1)W.children=et;else if(1<pt){for(var _e=Array(pt),kt=0;kt<pt;kt++)_e[kt]=arguments[kt+2];W.children=_e}return Z(x.type,ut,void 0,void 0,xt,W)},vt.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},vt.createElement=function(x,Q,et){var W,ut={},xt=null;if(Q!=null)for(W in Q.key!==void 0&&(xt=""+Q.key),Q)X.call(Q,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ut[W]=Q[W]);var pt=arguments.length-2;if(pt===1)ut.children=et;else if(1<pt){for(var _e=Array(pt),kt=0;kt<pt;kt++)_e[kt]=arguments[kt+2];ut.children=_e}if(x&&x.defaultProps)for(W in pt=x.defaultProps,pt)ut[W]===void 0&&(ut[W]=pt[W]);return Z(x,xt,void 0,void 0,null,ut)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(x){return{$$typeof:m,render:x}},vt.isValidElement=ot,vt.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:q}},vt.memo=function(x,Q){return{$$typeof:h,type:x,compare:Q===void 0?null:Q}},vt.startTransition=function(x){var Q=w.T,et={};w.T=et;try{var W=x(),ut=w.S;ut!==null&&ut(et,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(rt,$)}catch(xt){$(xt)}finally{w.T=Q}},vt.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},vt.use=function(x){return w.H.use(x)},vt.useActionState=function(x,Q,et){return w.H.useActionState(x,Q,et)},vt.useCallback=function(x,Q){return w.H.useCallback(x,Q)},vt.useContext=function(x){return w.H.useContext(x)},vt.useDebugValue=function(){},vt.useDeferredValue=function(x,Q){return w.H.useDeferredValue(x,Q)},vt.useEffect=function(x,Q,et){var W=w.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(x,Q)},vt.useId=function(){return w.H.useId()},vt.useImperativeHandle=function(x,Q,et){return w.H.useImperativeHandle(x,Q,et)},vt.useInsertionEffect=function(x,Q){return w.H.useInsertionEffect(x,Q)},vt.useLayoutEffect=function(x,Q){return w.H.useLayoutEffect(x,Q)},vt.useMemo=function(x,Q){return w.H.useMemo(x,Q)},vt.useOptimistic=function(x,Q){return w.H.useOptimistic(x,Q)},vt.useReducer=function(x,Q,et){return w.H.useReducer(x,Q,et)},vt.useRef=function(x){return w.H.useRef(x)},vt.useState=function(x){return w.H.useState(x)},vt.useSyncExternalStore=function(x,Q,et){return w.H.useSyncExternalStore(x,Q,et)},vt.useTransition=function(){return w.H.useTransition()},vt.version="19.1.1",vt}var Og;function ff(){return Og||(Og=1,dc.exports=Px()),dc.exports}var tt=ff(),hc={exports:{}},La={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg;function Bx(){if(qg)return La;qg=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:o,type:s,key:c,ref:l!==void 0?l:null,props:u}}return La.Fragment=e,La.jsx=n,La.jsxs=n,La}var Gg;function Ux(){return Gg||(Gg=1,hc.exports=Bx()),hc.exports}var It=Ux();const df=tt.createContext({});function hf(o){const e=tt.useRef(null);return e.current===null&&(e.current=o()),e.current}const mf=typeof window<"u",Nv=mf?tt.useLayoutEffect:tt.useEffect,Ql=tt.createContext(null);function pf(o,e){o.indexOf(e)===-1&&o.push(e)}function gf(o,e){const n=o.indexOf(e);n>-1&&o.splice(n,1)}const Rn=(o,e,n)=>n>e?e:n<o?o:n;let yf=()=>{};const Dn={},Lv=o=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(o);function Vv(o){return typeof o=="object"&&o!==null}const Pv=o=>/^0[^.\s]+$/u.test(o);function vf(o){let e;return()=>(e===void 0&&(e=o()),e)}const Xe=o=>o,Ix=(o,e)=>n=>e(o(n)),ts=(...o)=>o.reduce(Ix),Ka=(o,e,n)=>{const s=e-o;return s===0?1:(n-o)/s};class Tf{constructor(){this.subscriptions=[]}add(e){return pf(this.subscriptions,e),()=>gf(this.subscriptions,e)}notify(e,n,s){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](e,n,s);else for(let u=0;u<l;u++){const c=this.subscriptions[u];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rn=o=>o*1e3,un=o=>o/1e3;function Bv(o,e){return e?o*(1e3/e):0}const Uv=(o,e,n)=>(((1-3*n+3*e)*o+(3*n-6*e))*o+3*e)*o,zx=1e-7,kx=12;function Ox(o,e,n,s,l){let u,c,m=0;do c=e+(n-e)/2,u=Uv(c,s,l)-o,u>0?n=c:e=c;while(Math.abs(u)>zx&&++m<kx);return c}function es(o,e,n,s){if(o===e&&n===s)return Xe;const l=u=>Ox(u,0,1,o,n);return u=>u===0||u===1?u:Uv(l(u),e,s)}const Iv=o=>e=>e<=.5?o(2*e)/2:(2-o(2*(1-e)))/2,zv=o=>e=>1-o(1-e),kv=es(.33,1.53,.69,.99),Sf=zv(kv),Ov=Iv(Sf),qv=o=>(o*=2)<1?.5*Sf(o):.5*(2-Math.pow(2,-10*(o-1))),Ef=o=>1-Math.sin(Math.acos(o)),Gv=zv(Ef),Hv=Iv(Ef),qx=es(.42,0,1,1),Gx=es(0,0,.58,1),Fv=es(.42,0,.58,1),Hx=o=>Array.isArray(o)&&typeof o[0]!="number",Yv=o=>Array.isArray(o)&&typeof o[0]=="number",Fx={linear:Xe,easeIn:qx,easeInOut:Fv,easeOut:Gx,circIn:Ef,circInOut:Hv,circOut:Gv,backIn:Sf,backInOut:Ov,backOut:kv,anticipate:qv},Yx=o=>typeof o=="string",Hg=o=>{if(Yv(o)){yf(o.length===4);const[e,n,s,l]=o;return es(e,n,s,l)}else if(Yx(o))return Fx[o];return o},Cl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Kx(o,e){let n=new Set,s=new Set,l=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function y(v){c.has(v)&&(h.schedule(v),o()),v(m)}const h={schedule:(v,S=!1,E=!1)=>{const A=E&&l?n:s;return S&&c.add(v),A.has(v)||A.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(m=v,l){u=!0;return}l=!0,[n,s]=[s,n],n.forEach(y),n.clear(),l=!1,u&&(u=!1,h.process(v))}};return h}const Qx=40;function Kv(o,e){let n=!1,s=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=Cl.reduce((N,K)=>(N[K]=Kx(u),N),{}),{setup:m,read:y,resolveKeyframes:h,preUpdate:v,update:S,preRender:E,render:b,postRender:A}=c,D=()=>{const N=Dn.useManualTiming?l.timestamp:performance.now();n=!1,Dn.useManualTiming||(l.delta=s?1e3/60:Math.max(Math.min(N-l.timestamp,Qx),1)),l.timestamp=N,l.isProcessing=!0,m.process(l),y.process(l),h.process(l),v.process(l),S.process(l),E.process(l),b.process(l),A.process(l),l.isProcessing=!1,n&&e&&(s=!1,o(D))},z=()=>{n=!0,s=!0,l.isProcessing||o(D)};return{schedule:Cl.reduce((N,K)=>{const w=c[K];return N[K]=(X,Z=!1,H=!1)=>(n||z(),w.schedule(X,Z,H)),N},{}),cancel:N=>{for(let K=0;K<Cl.length;K++)c[Cl[K]].cancel(N)},state:l,steps:c}}const{schedule:qt,cancel:ni,state:ce,steps:mc}=Kv(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xe,!0);let Dl;function Xx(){Dl=void 0}const xe={now:()=>(Dl===void 0&&xe.set(ce.isProcessing||Dn.useManualTiming?ce.timestamp:performance.now()),Dl),set:o=>{Dl=o,queueMicrotask(Xx)}},Qv=o=>e=>typeof e=="string"&&e.startsWith(o),Cf=Qv("--"),Zx=Qv("var(--"),bf=o=>Zx(o)?Jx.test(o.split("/*")[0].trim()):!1,Jx=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,No={test:o=>typeof o=="number",parse:parseFloat,transform:o=>o},Qa={...No,transform:o=>Rn(0,1,o)},bl={...No,default:1},ka=o=>Math.round(o*1e5)/1e5,Af=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $x(o){return o==null}const Wx=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Mf=(o,e)=>n=>!!(typeof n=="string"&&Wx.test(n)&&n.startsWith(o)||e&&!$x(n)&&Object.prototype.hasOwnProperty.call(n,e)),Xv=(o,e,n)=>s=>{if(typeof s!="string")return s;const[l,u,c,m]=s.match(Af);return{[o]:parseFloat(l),[e]:parseFloat(u),[n]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},jx=o=>Rn(0,255,o),pc={...No,transform:o=>Math.round(jx(o))},wi={test:Mf("rgb","red"),parse:Xv("red","green","blue"),transform:({red:o,green:e,blue:n,alpha:s=1})=>"rgba("+pc.transform(o)+", "+pc.transform(e)+", "+pc.transform(n)+", "+ka(Qa.transform(s))+")"};function t1(o){let e="",n="",s="",l="";return o.length>5?(e=o.substring(1,3),n=o.substring(3,5),s=o.substring(5,7),l=o.substring(7,9)):(e=o.substring(1,2),n=o.substring(2,3),s=o.substring(3,4),l=o.substring(4,5),e+=e,n+=n,s+=s,l+=l),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:l?parseInt(l,16)/255:1}}const Oc={test:Mf("#"),parse:t1,transform:wi.transform},ns=o=>({test:e=>typeof e=="string"&&e.endsWith(o)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${o}`}),ei=ns("deg"),cn=ns("%"),mt=ns("px"),e1=ns("vh"),n1=ns("vw"),Fg={...cn,parse:o=>cn.parse(o)/100,transform:o=>cn.transform(o*100)},Co={test:Mf("hsl","hue"),parse:Xv("hue","saturation","lightness"),transform:({hue:o,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(o)+", "+cn.transform(ka(e))+", "+cn.transform(ka(n))+", "+ka(Qa.transform(s))+")"},te={test:o=>wi.test(o)||Oc.test(o)||Co.test(o),parse:o=>wi.test(o)?wi.parse(o):Co.test(o)?Co.parse(o):Oc.parse(o),transform:o=>typeof o=="string"?o:o.hasOwnProperty("red")?wi.transform(o):Co.transform(o),getAnimatableNone:o=>{const e=te.parse(o);return e.alpha=0,te.transform(e)}},i1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function o1(o){var e,n;return isNaN(o)&&typeof o=="string"&&(((e=o.match(Af))==null?void 0:e.length)||0)+(((n=o.match(i1))==null?void 0:n.length)||0)>0}const Zv="number",Jv="color",a1="var",s1="var(",Yg="${}",l1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xa(o){const e=o.toString(),n=[],s={color:[],number:[],var:[]},l=[];let u=0;const m=e.replace(l1,y=>(te.test(y)?(s.color.push(u),l.push(Jv),n.push(te.parse(y))):y.startsWith(s1)?(s.var.push(u),l.push(a1),n.push(y)):(s.number.push(u),l.push(Zv),n.push(parseFloat(y))),++u,Yg)).split(Yg);return{values:n,split:m,indexes:s,types:l}}function $v(o){return Xa(o).values}function Wv(o){const{split:e,types:n}=Xa(o),s=e.length;return l=>{let u="";for(let c=0;c<s;c++)if(u+=e[c],l[c]!==void 0){const m=n[c];m===Zv?u+=ka(l[c]):m===Jv?u+=te.transform(l[c]):u+=l[c]}return u}}const r1=o=>typeof o=="number"?0:te.test(o)?te.getAnimatableNone(o):o;function u1(o){const e=$v(o);return Wv(o)(e.map(r1))}const ii={test:o1,parse:$v,createTransformer:Wv,getAnimatableNone:u1};function gc(o,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?o+(e-o)*6*n:n<1/2?e:n<2/3?o+(e-o)*(2/3-n)*6:o}function c1({hue:o,saturation:e,lightness:n,alpha:s}){o/=360,e/=100,n/=100;let l=0,u=0,c=0;if(!e)l=u=c=n;else{const m=n<.5?n*(1+e):n+e-n*e,y=2*n-m;l=gc(y,m,o+1/3),u=gc(y,m,o),c=gc(y,m,o-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function Ul(o,e){return n=>n>0?e:o}const Ht=(o,e,n)=>o+(e-o)*n,yc=(o,e,n)=>{const s=o*o,l=n*(e*e-s)+s;return l<0?0:Math.sqrt(l)},f1=[Oc,wi,Co],d1=o=>f1.find(e=>e.test(o));function Kg(o){const e=d1(o);if(!e)return!1;let n=e.parse(o);return e===Co&&(n=c1(n)),n}const Qg=(o,e)=>{const n=Kg(o),s=Kg(e);if(!n||!s)return Ul(o,e);const l={...n};return u=>(l.red=yc(n.red,s.red,u),l.green=yc(n.green,s.green,u),l.blue=yc(n.blue,s.blue,u),l.alpha=Ht(n.alpha,s.alpha,u),wi.transform(l))},qc=new Set(["none","hidden"]);function h1(o,e){return qc.has(o)?n=>n<=0?o:e:n=>n>=1?e:o}function m1(o,e){return n=>Ht(o,e,n)}function xf(o){return typeof o=="number"?m1:typeof o=="string"?bf(o)?Ul:te.test(o)?Qg:y1:Array.isArray(o)?jv:typeof o=="object"?te.test(o)?Qg:p1:Ul}function jv(o,e){const n=[...o],s=n.length,l=o.map((u,c)=>xf(u)(u,e[c]));return u=>{for(let c=0;c<s;c++)n[c]=l[c](u);return n}}function p1(o,e){const n={...o,...e},s={};for(const l in n)o[l]!==void 0&&e[l]!==void 0&&(s[l]=xf(o[l])(o[l],e[l]));return l=>{for(const u in s)n[u]=s[u](l);return n}}function g1(o,e){const n=[],s={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],c=o.indexes[u][s[u]],m=o.values[c]??0;n[l]=m,s[u]++}return n}const y1=(o,e)=>{const n=ii.createTransformer(e),s=Xa(o),l=Xa(e);return s.indexes.var.length===l.indexes.var.length&&s.indexes.color.length===l.indexes.color.length&&s.indexes.number.length>=l.indexes.number.length?qc.has(o)&&!l.values.length||qc.has(e)&&!s.values.length?h1(o,e):ts(jv(g1(s,l),l.values),n):Ul(o,e)};function tT(o,e,n){return typeof o=="number"&&typeof e=="number"&&typeof n=="number"?Ht(o,e,n):xf(o)(o,e)}const v1=o=>{const e=({timestamp:n})=>o(n);return{start:(n=!0)=>qt.update(e,n),stop:()=>ni(e),now:()=>ce.isProcessing?ce.timestamp:xe.now()}},eT=(o,e,n=10)=>{let s="";const l=Math.max(Math.round(e/n),2);for(let u=0;u<l;u++)s+=Math.round(o(u/(l-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Il=2e4;function _f(o){let e=0;const n=50;let s=o.next(e);for(;!s.done&&e<Il;)e+=n,s=o.next(e);return e>=Il?1/0:e}function T1(o,e=100,n){const s=n({...o,keyframes:[0,e]}),l=Math.min(_f(s),Il);return{type:"keyframes",ease:u=>s.next(l*u).value/e,duration:un(l)}}const S1=5;function nT(o,e,n){const s=Math.max(e-S1,0);return Bv(n-o(s),e-s)}const Kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vc=.001;function E1({duration:o=Kt.duration,bounce:e=Kt.bounce,velocity:n=Kt.velocity,mass:s=Kt.mass}){let l,u,c=1-e;c=Rn(Kt.minDamping,Kt.maxDamping,c),o=Rn(Kt.minDuration,Kt.maxDuration,un(o)),c<1?(l=h=>{const v=h*c,S=v*o,E=v-n,b=Gc(h,c),A=Math.exp(-S);return vc-E/b*A},u=h=>{const S=h*c*o,E=S*n+n,b=Math.pow(c,2)*Math.pow(h,2)*o,A=Math.exp(-S),D=Gc(Math.pow(h,2),c);return(-l(h)+vc>0?-1:1)*((E-b)*A)/D}):(l=h=>{const v=Math.exp(-h*o),S=(h-n)*o+1;return-vc+v*S},u=h=>{const v=Math.exp(-h*o),S=(n-h)*(o*o);return v*S});const m=5/o,y=b1(l,u,m);if(o=rn(o),isNaN(y))return{stiffness:Kt.stiffness,damping:Kt.damping,duration:o};{const h=Math.pow(y,2)*s;return{stiffness:h,damping:c*2*Math.sqrt(s*h),duration:o}}}const C1=12;function b1(o,e,n){let s=n;for(let l=1;l<C1;l++)s=s-o(s)/e(s);return s}function Gc(o,e){return o*Math.sqrt(1-e*e)}const A1=["duration","bounce"],M1=["stiffness","damping","mass"];function Xg(o,e){return e.some(n=>o[n]!==void 0)}function x1(o){let e={velocity:Kt.velocity,stiffness:Kt.stiffness,damping:Kt.damping,mass:Kt.mass,isResolvedFromDuration:!1,...o};if(!Xg(o,M1)&&Xg(o,A1))if(o.visualDuration){const n=o.visualDuration,s=2*Math.PI/(n*1.2),l=s*s,u=2*Rn(.05,1,1-(o.bounce||0))*Math.sqrt(l);e={...e,mass:Kt.mass,stiffness:l,damping:u}}else{const n=E1(o);e={...e,...n,mass:Kt.mass},e.isResolvedFromDuration=!0}return e}function zl(o=Kt.visualDuration,e=Kt.bounce){const n=typeof o!="object"?{visualDuration:o,keyframes:[0,1],bounce:e}:o;let{restSpeed:s,restDelta:l}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],m={done:!1,value:u},{stiffness:y,damping:h,mass:v,duration:S,velocity:E,isResolvedFromDuration:b}=x1({...n,velocity:-un(n.velocity||0)}),A=E||0,D=h/(2*Math.sqrt(y*v)),z=c-u,k=un(Math.sqrt(y/v)),F=Math.abs(z)<5;s||(s=F?Kt.restSpeed.granular:Kt.restSpeed.default),l||(l=F?Kt.restDelta.granular:Kt.restDelta.default);let N;if(D<1){const w=Gc(k,D);N=X=>{const Z=Math.exp(-D*k*X);return c-Z*((A+D*k*z)/w*Math.sin(w*X)+z*Math.cos(w*X))}}else if(D===1)N=w=>c-Math.exp(-k*w)*(z+(A+k*z)*w);else{const w=k*Math.sqrt(D*D-1);N=X=>{const Z=Math.exp(-D*k*X),H=Math.min(w*X,300);return c-Z*((A+D*k*z)*Math.sinh(H)+w*z*Math.cosh(H))/w}}const K={calculatedDuration:b&&S||null,next:w=>{const X=N(w);if(b)m.done=w>=S;else{let Z=w===0?A:0;D<1&&(Z=w===0?rn(A):nT(N,w,X));const H=Math.abs(Z)<=s,ot=Math.abs(c-X)<=l;m.done=H&&ot}return m.value=m.done?c:X,m},toString:()=>{const w=Math.min(_f(K),Il),X=eT(Z=>K.next(w*Z).value,w,30);return w+"ms "+X},toTransition:()=>{}};return K}zl.applyToOptions=o=>{const e=T1(o,100,zl);return o.ease=e.ease,o.duration=rn(e.duration),o.type="keyframes",o};function Hc({keyframes:o,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:y,restDelta:h=.5,restSpeed:v}){const S=o[0],E={done:!1,value:S},b=H=>m!==void 0&&H<m||y!==void 0&&H>y,A=H=>m===void 0?y:y===void 0||Math.abs(m-H)<Math.abs(y-H)?m:y;let D=n*e;const z=S+D,k=c===void 0?z:c(z);k!==z&&(D=k-S);const F=H=>-D*Math.exp(-H/s),N=H=>k+F(H),K=H=>{const ot=F(H),lt=N(H);E.done=Math.abs(ot)<=h,E.value=E.done?k:lt};let w,X;const Z=H=>{b(E.value)&&(w=H,X=zl({keyframes:[E.value,A(E.value)],velocity:nT(N,H,E.value),damping:l,stiffness:u,restDelta:h,restSpeed:v}))};return Z(0),{calculatedDuration:null,next:H=>{let ot=!1;return!X&&w===void 0&&(ot=!0,K(H),Z(H)),w!==void 0&&H>=w?X.next(H-w):(!ot&&K(H),E)}}}function _1(o,e,n){const s=[],l=n||Dn.mix||tT,u=o.length-1;for(let c=0;c<u;c++){let m=l(o[c],o[c+1]);if(e){const y=Array.isArray(e)?e[c]||Xe:e;m=ts(y,m)}s.push(m)}return s}function R1(o,e,{clamp:n=!0,ease:s,mixer:l}={}){const u=o.length;if(yf(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=o[0]===o[1];o[0]>o[u-1]&&(o=[...o].reverse(),e=[...e].reverse());const m=_1(e,s,l),y=m.length,h=v=>{if(c&&v<o[0])return e[0];let S=0;if(y>1)for(;S<o.length-2&&!(v<o[S+1]);S++);const E=Ka(o[S],o[S+1],v);return m[S](E)};return n?v=>h(Rn(o[0],o[u-1],v)):h}function D1(o,e){const n=o[o.length-1];for(let s=1;s<=e;s++){const l=Ka(0,e,s);o.push(Ht(n,1,l))}}function w1(o){const e=[0];return D1(e,o.length-1),e}function N1(o,e){return o.map(n=>n*e)}function L1(o,e){return o.map(()=>e||Fv).splice(0,o.length-1)}function Oa({duration:o=300,keyframes:e,times:n,ease:s="easeInOut"}){const l=Hx(s)?s.map(Hg):Hg(s),u={done:!1,value:e[0]},c=N1(n&&n.length===e.length?n:w1(e),o),m=R1(c,e,{ease:Array.isArray(l)?l:L1(e,l)});return{calculatedDuration:o,next:y=>(u.value=m(y),u.done=y>=o,u)}}const V1=o=>o!==null;function Rf(o,{repeat:e,repeatType:n="loop"},s,l=1){const u=o.filter(V1),m=l<0||e&&n!=="loop"&&e%2===1?0:u.length-1;return!m||s===void 0?u[m]:s}const P1={decay:Hc,inertia:Hc,tween:Oa,keyframes:Oa,spring:zl};function iT(o){typeof o.type=="string"&&(o.type=P1[o.type])}class Df{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const B1=o=>o/100;class wf extends Df{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,l;const{motionValue:n}=this.options;n&&n.updatedAt!==xe.now()&&this.tick(xe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(l=(s=this.options).onStop)==null||l.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;iT(e);const{type:n=Oa,repeat:s=0,repeatDelay:l=0,repeatType:u,velocity:c=0}=e;let{keyframes:m}=e;const y=n||Oa;y!==Oa&&typeof m[0]!="number"&&(this.mixKeyframes=ts(B1,tT(m[0],m[1])),m=[0,100]);const h=y({...e,keyframes:m});u==="mirror"&&(this.mirroredGenerator=y({...e,keyframes:[...m].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=_f(h));const{calculatedDuration:v}=h;this.calculatedDuration=v,this.resolvedDuration=v+l,this.totalDuration=this.resolvedDuration*(s+1)-l,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:l,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:y}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:v,repeat:S,repeatType:E,repeatDelay:b,type:A,onUpdate:D,finalKeyframe:z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-l/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const k=this.currentTime-h*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?k<0:k>l;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let N=this.currentTime,K=s;if(S){const H=Math.min(this.currentTime,l)/m;let ot=Math.floor(H),lt=H%1;!lt&&H>=1&&(lt=1),lt===1&&ot--,ot=Math.min(ot,S+1),!!(ot%2)&&(E==="reverse"?(lt=1-lt,b&&(lt-=b/m)):E==="mirror"&&(K=c)),N=Rn(0,1,lt)*m}const w=F?{done:!1,value:v[0]}:K.next(N);u&&(w.value=u(w.value));let{done:X}=w;!F&&y!==null&&(X=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return Z&&A!==Hc&&(w.value=Rf(v,this.options,z,this.speed)),D&&D(w.value),Z&&this.finish(),w}then(e,n){return this.finished.then(e,n)}get duration(){return un(this.calculatedDuration)}get time(){return un(this.currentTime)}set time(e){var n;e=rn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xe.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=un(this.currentTime))}play(){var l,u;if(this.isStopped)return;const{driver:e=v1,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(u=(l=this.options).onPlay)==null||u.call(l);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function U1(o){for(let e=1;e<o.length;e++)o[e]??(o[e]=o[e-1])}const Ni=o=>o*180/Math.PI,Fc=o=>{const e=Ni(Math.atan2(o[1],o[0]));return Yc(e)},I1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:o=>(Math.abs(o[0])+Math.abs(o[3]))/2,rotate:Fc,rotateZ:Fc,skewX:o=>Ni(Math.atan(o[1])),skewY:o=>Ni(Math.atan(o[2])),skew:o=>(Math.abs(o[1])+Math.abs(o[2]))/2},Yc=o=>(o=o%360,o<0&&(o+=360),o),Zg=Fc,Jg=o=>Math.sqrt(o[0]*o[0]+o[1]*o[1]),$g=o=>Math.sqrt(o[4]*o[4]+o[5]*o[5]),z1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Jg,scaleY:$g,scale:o=>(Jg(o)+$g(o))/2,rotateX:o=>Yc(Ni(Math.atan2(o[6],o[5]))),rotateY:o=>Yc(Ni(Math.atan2(-o[2],o[0]))),rotateZ:Zg,rotate:Zg,skewX:o=>Ni(Math.atan(o[4])),skewY:o=>Ni(Math.atan(o[1])),skew:o=>(Math.abs(o[1])+Math.abs(o[4]))/2};function Kc(o){return o.includes("scale")?1:0}function Qc(o,e){if(!o||o==="none")return Kc(e);const n=o.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,l;if(n)s=z1,l=n;else{const m=o.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=I1,l=m}if(!l)return Kc(e);const u=s[e],c=l[1].split(",").map(O1);return typeof u=="function"?u(c):c[u]}const k1=(o,e)=>{const{transform:n="none"}=getComputedStyle(o);return Qc(n,e)};function O1(o){return parseFloat(o.trim())}const Lo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vo=new Set(Lo),Wg=o=>o===No||o===mt,q1=new Set(["x","y","z"]),G1=Lo.filter(o=>!q1.has(o));function H1(o){const e=[];return G1.forEach(n=>{const s=o.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Vi={width:({x:o},{paddingLeft:e="0",paddingRight:n="0"})=>o.max-o.min-parseFloat(e)-parseFloat(n),height:({y:o},{paddingTop:e="0",paddingBottom:n="0"})=>o.max-o.min-parseFloat(e)-parseFloat(n),top:(o,{top:e})=>parseFloat(e),left:(o,{left:e})=>parseFloat(e),bottom:({y:o},{top:e})=>parseFloat(e)+(o.max-o.min),right:({x:o},{left:e})=>parseFloat(e)+(o.max-o.min),x:(o,{transform:e})=>Qc(e,"x"),y:(o,{transform:e})=>Qc(e,"y")};Vi.translateX=Vi.x;Vi.translateY=Vi.y;const Pi=new Set;let Xc=!1,Zc=!1,Jc=!1;function oT(){if(Zc){const o=Array.from(Pi).filter(s=>s.needsMeasurement),e=new Set(o.map(s=>s.element)),n=new Map;e.forEach(s=>{const l=H1(s);l.length&&(n.set(s,l),s.render())}),o.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const l=n.get(s);l&&l.forEach(([u,c])=>{var m;(m=s.getValue(u))==null||m.set(c)})}),o.forEach(s=>s.measureEndState()),o.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Zc=!1,Xc=!1,Pi.forEach(o=>o.complete(Jc)),Pi.clear()}function aT(){Pi.forEach(o=>{o.readKeyframes(),o.needsMeasurement&&(Zc=!0)})}function F1(){Jc=!0,aT(),oT(),Jc=!1}class Nf{constructor(e,n,s,l,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=l,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Pi.add(this),Xc||(Xc=!0,qt.read(aT),qt.resolveKeyframes(oT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:l}=this;if(e[0]===null){const u=l==null?void 0:l.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(s&&n){const m=s.readValue(n,c);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=c),l&&u===void 0&&l.set(e[0])}U1(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Pi.delete(this)}cancel(){this.state==="scheduled"&&(Pi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Y1=o=>o.startsWith("--");function K1(o,e,n){Y1(e)?o.style.setProperty(e,n):o.style[e]=n}const Q1=vf(()=>window.ScrollTimeline!==void 0),X1={};function Z1(o,e){const n=vf(o);return()=>X1[e]??n()}const sT=Z1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ua=([o,e,n,s])=>`cubic-bezier(${o}, ${e}, ${n}, ${s})`,jg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ua([0,.65,.55,1]),circOut:Ua([.55,0,1,.45]),backIn:Ua([.31,.01,.66,-.59]),backOut:Ua([.33,1.53,.69,.99])};function lT(o,e){if(o)return typeof o=="function"?sT()?eT(o,e):"ease-out":Yv(o)?Ua(o):Array.isArray(o)?o.map(n=>lT(n,e)||jg.easeOut):jg[o]}function J1(o,e,n,{delay:s=0,duration:l=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:y}={},h=void 0){const v={[e]:n};y&&(v.offset=y);const S=lT(m,l);Array.isArray(S)&&(v.easing=S);const E={delay:s,duration:l,easing:Array.isArray(S)?"linear":S,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return h&&(E.pseudoElement=h),o.animate(v,E)}function rT(o){return typeof o=="function"&&"applyToOptions"in o}function $1({type:o,...e}){return rT(o)&&sT()?o.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class W1 extends Df{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:l,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:y}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,yf(typeof e.type!="string");const h=$1(e);this.animation=J1(n,s,l,h,u),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Rf(l,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):K1(n,s,v),this.animation.cancel()}y==null||y(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return un(Number(e))}get time(){return un(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=rn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Q1()?(this.animation.timeline=e,Xe):n(this)}}const uT={anticipate:qv,backInOut:Ov,circInOut:Hv};function j1(o){return o in uT}function t_(o){typeof o.ease=="string"&&j1(o.ease)&&(o.ease=uT[o.ease])}const ty=10;class e_ extends W1{constructor(e){t_(e),iT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:l,element:u,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const m=new wf({...c,autoplay:!1}),y=rn(this.finishedTime??this.time);n.setWithVelocity(m.sample(y-ty).value,m.sample(y).value,ty),m.stop()}}const ey=(o,e)=>e==="zIndex"?!1:!!(typeof o=="number"||Array.isArray(o)||typeof o=="string"&&(ii.test(o)||o==="0")&&!o.startsWith("url("));function n_(o){const e=o[0];if(o.length===1)return!0;for(let n=0;n<o.length;n++)if(o[n]!==e)return!0}function i_(o,e,n,s){const l=o[0];if(l===null)return!1;if(e==="display"||e==="visibility")return!0;const u=o[o.length-1],c=ey(l,e),m=ey(u,e);return!c||!m?!1:n_(o)||(n==="spring"||rT(n))&&s}function $c(o){o.duration=0,o.type}const o_=new Set(["opacity","clipPath","filter","transform"]),a_=vf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function s_(o){var v;const{motionValue:e,name:n,repeatDelay:s,repeatType:l,damping:u,type:c}=o;if(!(((v=e==null?void 0:e.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:h}=e.owner.getProps();return a_()&&n&&o_.has(n)&&(n!=="transform"||!h)&&!y&&!s&&l!=="mirror"&&u!==0&&c!=="inertia"}const l_=40;class r_ extends Df{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:y,motionValue:h,element:v,...S}){var A;super(),this.stop=()=>{var D,z;this._animation&&(this._animation.stop(),(D=this.stopTimeline)==null||D.call(this)),(z=this.keyframeResolver)==null||z.cancel()},this.createdAt=xe.now();const E={autoplay:e,delay:n,type:s,repeat:l,repeatDelay:u,repeatType:c,name:y,motionValue:h,element:v,...S},b=(v==null?void 0:v.KeyframeResolver)||Nf;this.keyframeResolver=new b(m,(D,z,k)=>this.onKeyframesResolved(D,z,E,!k),y,h,v),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(e,n,s,l){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:y,isHandoff:h,onUpdate:v}=s;this.resolvedAt=xe.now(),i_(e,u,c,m)||((Dn.instantAnimations||!y)&&(v==null||v(Rf(e,s,n))),e[0]=e[e.length-1],$c(s),s.repeat=0);const E={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>l_?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},b=!h&&s_(E)?new e_({...E,element:E.motionValue.owner.current}):new wf(E);b.finished.then(()=>this.notifyFinished()).catch(Xe),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),F1()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const u_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function c_(o){const e=u_.exec(o);if(!e)return[,];const[,n,s,l]=e;return[`--${n??s}`,l]}function cT(o,e,n=1){const[s,l]=c_(o);if(!s)return;const u=window.getComputedStyle(e).getPropertyValue(s);if(u){const c=u.trim();return Lv(c)?parseFloat(c):c}return bf(l)?cT(l,e,n+1):l}function Lf(o,e){return(o==null?void 0:o[e])??(o==null?void 0:o.default)??o}const fT=new Set(["width","height","top","left","right","bottom",...Lo]),f_={test:o=>o==="auto",parse:o=>o},dT=o=>e=>e.test(o),hT=[No,mt,cn,ei,n1,e1,f_],ny=o=>hT.find(dT(o));function d_(o){return typeof o=="number"?o===0:o!==null?o==="none"||o==="0"||Pv(o):!0}const h_=new Set(["brightness","contrast","saturate","opacity"]);function m_(o){const[e,n]=o.slice(0,-1).split("(");if(e==="drop-shadow")return o;const[s]=n.match(Af)||[];if(!s)return o;const l=n.replace(s,"");let u=h_.has(e)?1:0;return s!==n&&(u*=100),e+"("+u+l+")"}const p_=/\b([a-z-]*)\(.*?\)/gu,Wc={...ii,getAnimatableNone:o=>{const e=o.match(p_);return e?e.map(m_).join(" "):o}},iy={...No,transform:Math.round},g_={rotate:ei,rotateX:ei,rotateY:ei,rotateZ:ei,scale:bl,scaleX:bl,scaleY:bl,scaleZ:bl,skew:ei,skewX:ei,skewY:ei,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:Qa,originX:Fg,originY:Fg,originZ:mt},Vf={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,radius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,top:mt,right:mt,bottom:mt,left:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,backgroundPositionX:mt,backgroundPositionY:mt,...g_,zIndex:iy,fillOpacity:Qa,strokeOpacity:Qa,numOctaves:iy},y_={...Vf,color:te,backgroundColor:te,outlineColor:te,fill:te,stroke:te,borderColor:te,borderTopColor:te,borderRightColor:te,borderBottomColor:te,borderLeftColor:te,filter:Wc,WebkitFilter:Wc},mT=o=>y_[o];function pT(o,e){let n=mT(o);return n!==Wc&&(n=ii),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const v_=new Set(["auto","none","0"]);function T_(o,e,n){let s=0,l;for(;s<o.length&&!l;){const u=o[s];typeof u=="string"&&!v_.has(u)&&Xa(u).values.length&&(l=o[s]),s++}if(l&&n)for(const u of e)o[u]=pT(n,l)}class S_ extends Nf{constructor(e,n,s,l,u){super(e,n,s,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let h=e[y];if(typeof h=="string"&&(h=h.trim(),bf(h))){const v=cT(h,n.current);v!==void 0&&(e[y]=v),y===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!fT.has(s)||e.length!==2)return;const[l,u]=e,c=ny(l),m=ny(u);if(c!==m)if(Wg(c)&&Wg(m))for(let y=0;y<e.length;y++){const h=e[y];typeof h=="string"&&(e[y]=parseFloat(h))}else Vi[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let l=0;l<e.length;l++)(e[l]===null||d_(e[l]))&&s.push(l);s.length&&T_(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vi[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const l=n[n.length-1];l!==void 0&&e.getValue(s,l).jump(l,!1)}measureEndState(){var m;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const l=e.getValue(n);l&&l.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=Vi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(m=this.removedTransforms)!=null&&m.length&&this.removedTransforms.forEach(([y,h])=>{e.getValue(y).set(h)}),this.resolveNoneKeyframes()}}function E_(o,e,n){if(o instanceof EventTarget)return[o];if(typeof o=="string"){let s=document;const l=(n==null?void 0:n[o])??s.querySelectorAll(o);return l?Array.from(l):[]}return Array.from(o)}const gT=(o,e)=>e&&typeof o=="number"?e.transform(o):o;function yT(o){return Vv(o)&&"offsetHeight"in o}const oy=30,C_=o=>!isNaN(parseFloat(o));class b_{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var u;const l=xe.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=xe.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=C_(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Tf);const s=this.events[e].add(n);return e==="change"?()=>{s(),qt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>oy)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,oy);return Bv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ro(o,e){return new b_(o,e)}const{schedule:Pf}=Kv(queueMicrotask,!1),We={x:!1,y:!1};function vT(){return We.x||We.y}function A_(o){return o==="x"||o==="y"?We[o]?null:(We[o]=!0,()=>{We[o]=!1}):We.x||We.y?null:(We.x=We.y=!0,()=>{We.x=We.y=!1})}function TT(o,e){const n=E_(o),s=new AbortController,l={passive:!0,...e,signal:s.signal};return[n,l,()=>s.abort()]}function ay(o){return!(o.pointerType==="touch"||vT())}function M_(o,e,n={}){const[s,l,u]=TT(o,n),c=m=>{if(!ay(m))return;const{target:y}=m,h=e(y,m);if(typeof h!="function"||!y)return;const v=S=>{ay(S)&&(h(S),y.removeEventListener("pointerleave",v))};y.addEventListener("pointerleave",v,l)};return s.forEach(m=>{m.addEventListener("pointerenter",c,l)}),u}const ST=(o,e)=>e?o===e?!0:ST(o,e.parentElement):!1,Bf=o=>o.pointerType==="mouse"?typeof o.button!="number"||o.button<=0:o.isPrimary!==!1,x_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function __(o){return x_.has(o.tagName)||o.tabIndex!==-1}const wl=new WeakSet;function sy(o){return e=>{e.key==="Enter"&&o(e)}}function Tc(o,e){o.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const R_=(o,e)=>{const n=o.currentTarget;if(!n)return;const s=sy(()=>{if(wl.has(n))return;Tc(n,"down");const l=sy(()=>{Tc(n,"up")}),u=()=>Tc(n,"cancel");n.addEventListener("keyup",l,e),n.addEventListener("blur",u,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function ly(o){return Bf(o)&&!vT()}function D_(o,e,n={}){const[s,l,u]=TT(o,n),c=m=>{const y=m.currentTarget;if(!ly(m))return;wl.add(y);const h=e(y,m),v=(b,A)=>{window.removeEventListener("pointerup",S),window.removeEventListener("pointercancel",E),wl.has(y)&&wl.delete(y),ly(b)&&typeof h=="function"&&h(b,{success:A})},S=b=>{v(b,y===window||y===document||n.useGlobalTarget||ST(y,b.target))},E=b=>{v(b,!1)};window.addEventListener("pointerup",S,l),window.addEventListener("pointercancel",E,l)};return s.forEach(m=>{(n.useGlobalTarget?window:m).addEventListener("pointerdown",c,l),yT(m)&&(m.addEventListener("focus",h=>R_(h,l)),!__(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function ET(o){return Vv(o)&&"ownerSVGElement"in o}function w_(o){return ET(o)&&o.tagName==="svg"}const pe=o=>!!(o&&o.getVelocity),N_=[...hT,te,ii],L_=o=>N_.find(dT(o)),Uf=tt.createContext({transformPagePoint:o=>o,isStatic:!1,reducedMotion:"never"});class V_ extends tt.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,l=yT(s)&&s.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function P_({children:o,isPresent:e,anchorX:n,root:s}){const l=tt.useId(),u=tt.useRef(null),c=tt.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=tt.useContext(Uf);return tt.useInsertionEffect(()=>{const{width:y,height:h,top:v,left:S,right:E}=c.current;if(e||!u.current||!y||!h)return;const b=n==="left"?`left: ${S}`:`right: ${E}`;u.current.dataset.motionPopId=l;const A=document.createElement("style");m&&(A.nonce=m);const D=s??document.head;return D.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${h}px !important;
            ${b}px !important;
            top: ${v}px !important;
          }
        `),()=>{D.contains(A)&&D.removeChild(A)}},[e]),It.jsx(V_,{isPresent:e,childRef:u,sizeRef:c,children:tt.cloneElement(o,{ref:u})})}const B_=({children:o,initial:e,isPresent:n,onExitComplete:s,custom:l,presenceAffectsLayout:u,mode:c,anchorX:m,root:y})=>{const h=hf(U_),v=tt.useId();let S=!0,E=tt.useMemo(()=>(S=!1,{id:v,initial:e,isPresent:n,custom:l,onExitComplete:b=>{h.set(b,!0);for(const A of h.values())if(!A)return;s&&s()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[n,h,s]);return u&&S&&(E={...E}),tt.useMemo(()=>{h.forEach((b,A)=>h.set(A,!1))},[n]),tt.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),c==="popLayout"&&(o=It.jsx(P_,{isPresent:n,anchorX:m,root:y,children:o})),It.jsx(Ql.Provider,{value:E,children:o})};function U_(){return new Map}function CT(o=!0){const e=tt.useContext(Ql);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:l}=e,u=tt.useId();tt.useEffect(()=>{if(o)return l(u)},[o]);const c=tt.useCallback(()=>o&&s&&s(u),[u,s,o]);return!n&&s?[!1,c]:[!0]}const Al=o=>o.key||"";function ry(o){const e=[];return tt.Children.forEach(o,n=>{tt.isValidElement(n)&&e.push(n)}),e}const I_=({children:o,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:l=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",root:y})=>{const[h,v]=CT(c),S=tt.useMemo(()=>ry(o),[o]),E=c&&!h?[]:S.map(Al),b=tt.useRef(!0),A=tt.useRef(S),D=hf(()=>new Map),[z,k]=tt.useState(S),[F,N]=tt.useState(S);Nv(()=>{b.current=!1,A.current=S;for(let X=0;X<F.length;X++){const Z=Al(F[X]);E.includes(Z)?D.delete(Z):D.get(Z)!==!0&&D.set(Z,!1)}},[F,E.length,E.join("-")]);const K=[];if(S!==z){let X=[...S];for(let Z=0;Z<F.length;Z++){const H=F[Z],ot=Al(H);E.includes(ot)||(X.splice(Z,0,H),K.push(H))}return u==="wait"&&K.length&&(X=K),N(ry(X)),k(S),null}const{forceRender:w}=tt.useContext(df);return It.jsx(It.Fragment,{children:F.map(X=>{const Z=Al(X),H=c&&!h?!1:S===F||E.includes(Z),ot=()=>{if(D.has(Z))D.set(Z,!0);else return;let lt=!0;D.forEach(yt=>{yt||(lt=!1)}),lt&&(w==null||w(),N(A.current),c&&(v==null||v()),s&&s())};return It.jsx(B_,{isPresent:H,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:l,mode:u,root:y,onExitComplete:H?void 0:ot,anchorX:m,children:X},Z)})})},bT=tt.createContext({strict:!1}),uy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Do={};for(const o in uy)Do[o]={isEnabled:e=>uy[o].some(n=>!!e[n])};function z_(o){for(const e in o)Do[e]={...Do[e],...o[e]}}const k_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kl(o){return o.startsWith("while")||o.startsWith("drag")&&o!=="draggable"||o.startsWith("layout")||o.startsWith("onTap")||o.startsWith("onPan")||o.startsWith("onLayout")||k_.has(o)}let AT=o=>!kl(o);function O_(o){typeof o=="function"&&(AT=e=>e.startsWith("on")?!kl(e):o(e))}try{O_(require("@emotion/is-prop-valid").default)}catch{}function q_(o,e,n){const s={};for(const l in o)l==="values"&&typeof o.values=="object"||(AT(l)||n===!0&&kl(l)||!e&&!kl(l)||o.draggable&&l.startsWith("onDrag"))&&(s[l]=o[l]);return s}const Xl=tt.createContext({});function Zl(o){return o!==null&&typeof o=="object"&&typeof o.start=="function"}function Za(o){return typeof o=="string"||Array.isArray(o)}const If=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zf=["initial",...If];function Jl(o){return Zl(o.animate)||zf.some(e=>Za(o[e]))}function MT(o){return!!(Jl(o)||o.variants)}function G_(o,e){if(Jl(o)){const{initial:n,animate:s}=o;return{initial:n===!1||Za(n)?n:void 0,animate:Za(s)?s:void 0}}return o.inherit!==!1?e:{}}function H_(o){const{initial:e,animate:n}=G_(o,tt.useContext(Xl));return tt.useMemo(()=>({initial:e,animate:n}),[cy(e),cy(n)])}function cy(o){return Array.isArray(o)?o.join(" "):o}const Ja={};function F_(o){for(const e in o)Ja[e]=o[e],Cf(e)&&(Ja[e].isCSSVariable=!0)}function xT(o,{layout:e,layoutId:n}){return Vo.has(o)||o.startsWith("origin")||(e||n!==void 0)&&(!!Ja[o]||o==="opacity")}const Y_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},K_=Lo.length;function Q_(o,e,n){let s="",l=!0;for(let u=0;u<K_;u++){const c=Lo[u],m=o[c];if(m===void 0)continue;let y=!0;if(typeof m=="number"?y=m===(c.startsWith("scale")?1:0):y=parseFloat(m)===0,!y||n){const h=gT(m,Vf[c]);if(!y){l=!1;const v=Y_[c]||c;s+=`${v}(${h}) `}n&&(e[c]=h)}}return s=s.trim(),n?s=n(e,l?"":s):l&&(s="none"),s}function kf(o,e,n){const{style:s,vars:l,transformOrigin:u}=o;let c=!1,m=!1;for(const y in e){const h=e[y];if(Vo.has(y)){c=!0;continue}else if(Cf(y)){l[y]=h;continue}else{const v=gT(h,Vf[y]);y.startsWith("origin")?(m=!0,u[y]=v):s[y]=v}}if(e.transform||(c||n?s.transform=Q_(e,o.transform,n):s.transform&&(s.transform="none")),m){const{originX:y="50%",originY:h="50%",originZ:v=0}=u;s.transformOrigin=`${y} ${h} ${v}`}}const Of=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _T(o,e,n){for(const s in e)!pe(e[s])&&!xT(s,n)&&(o[s]=e[s])}function X_({transformTemplate:o},e){return tt.useMemo(()=>{const n=Of();return kf(n,e,o),Object.assign({},n.vars,n.style)},[e])}function Z_(o,e){const n=o.style||{},s={};return _T(s,n,o),Object.assign(s,X_(o,e)),s}function J_(o,e){const n={},s=Z_(o,e);return o.drag&&o.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=o.drag===!0?"none":`pan-${o.drag==="x"?"y":"x"}`),o.tabIndex===void 0&&(o.onTap||o.onTapStart||o.whileTap)&&(n.tabIndex=0),n.style=s,n}const $_={offset:"stroke-dashoffset",array:"stroke-dasharray"},W_={offset:"strokeDashoffset",array:"strokeDasharray"};function j_(o,e,n=1,s=0,l=!0){o.pathLength=1;const u=l?$_:W_;o[u.offset]=mt.transform(-s);const c=mt.transform(e),m=mt.transform(n);o[u.array]=`${c} ${m}`}function RT(o,{attrX:e,attrY:n,attrScale:s,pathLength:l,pathSpacing:u=1,pathOffset:c=0,...m},y,h,v){if(kf(o,m,h),y){o.style.viewBox&&(o.attrs.viewBox=o.style.viewBox);return}o.attrs=o.style,o.style={};const{attrs:S,style:E}=o;S.transform&&(E.transform=S.transform,delete S.transform),(E.transform||S.transformOrigin)&&(E.transformOrigin=S.transformOrigin??"50% 50%",delete S.transformOrigin),E.transform&&(E.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete S.transformBox),e!==void 0&&(S.x=e),n!==void 0&&(S.y=n),s!==void 0&&(S.scale=s),l!==void 0&&j_(S,l,u,c,!1)}const DT=()=>({...Of(),attrs:{}}),wT=o=>typeof o=="string"&&o.toLowerCase()==="svg";function tR(o,e,n,s){const l=tt.useMemo(()=>{const u=DT();return RT(u,e,wT(s),o.transformTemplate,o.style),{...u.attrs,style:{...u.style}}},[e]);if(o.style){const u={};_T(u,o.style,o),l.style={...u,...l.style}}return l}const eR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qf(o){return typeof o!="string"||o.includes("-")?!1:!!(eR.indexOf(o)>-1||/[A-Z]/u.test(o))}function nR(o,e,n,{latestValues:s},l,u=!1){const m=(qf(o)?tR:J_)(e,s,l,o),y=q_(e,typeof o=="string",u),h=o!==tt.Fragment?{...y,...m,ref:n}:{},{children:v}=e,S=tt.useMemo(()=>pe(v)?v.get():v,[v]);return tt.createElement(o,{...h,children:S})}function fy(o){const e=[{},{}];return o==null||o.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Gf(o,e,n,s){if(typeof e=="function"){const[l,u]=fy(s);e=e(n!==void 0?n:o.custom,l,u)}if(typeof e=="string"&&(e=o.variants&&o.variants[e]),typeof e=="function"){const[l,u]=fy(s);e=e(n!==void 0?n:o.custom,l,u)}return e}function Nl(o){return pe(o)?o.get():o}function iR({scrapeMotionValuesFromProps:o,createRenderState:e},n,s,l){return{latestValues:oR(n,s,l,o),renderState:e()}}function oR(o,e,n,s){const l={},u=s(o,{});for(const E in u)l[E]=Nl(u[E]);let{initial:c,animate:m}=o;const y=Jl(o),h=MT(o);e&&h&&!y&&o.inherit!==!1&&(c===void 0&&(c=e.initial),m===void 0&&(m=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const S=v?m:c;if(S&&typeof S!="boolean"&&!Zl(S)){const E=Array.isArray(S)?S:[S];for(let b=0;b<E.length;b++){const A=Gf(o,E[b]);if(A){const{transitionEnd:D,transition:z,...k}=A;for(const F in k){let N=k[F];if(Array.isArray(N)){const K=v?N.length-1:0;N=N[K]}N!==null&&(l[F]=N)}for(const F in D)l[F]=D[F]}}}return l}const NT=o=>(e,n)=>{const s=tt.useContext(Xl),l=tt.useContext(Ql),u=()=>iR(o,e,s,l);return n?u():hf(u)};function Hf(o,e,n){var u;const{style:s}=o,l={};for(const c in s)(pe(s[c])||e.style&&pe(e.style[c])||xT(c,o)||((u=n==null?void 0:n.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(l[c]=s[c]);return l}const aR=NT({scrapeMotionValuesFromProps:Hf,createRenderState:Of});function LT(o,e,n){const s=Hf(o,e,n);for(const l in o)if(pe(o[l])||pe(e[l])){const u=Lo.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;s[u]=o[l]}return s}const sR=NT({scrapeMotionValuesFromProps:LT,createRenderState:DT}),lR=Symbol.for("motionComponentSymbol");function bo(o){return o&&typeof o=="object"&&Object.prototype.hasOwnProperty.call(o,"current")}function rR(o,e,n){return tt.useCallback(s=>{s&&o.onMount&&o.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):bo(n)&&(n.current=s))},[e])}const Ff=o=>o.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uR="framerAppearId",VT="data-"+Ff(uR),PT=tt.createContext({});function cR(o,e,n,s,l){var D,z;const{visualElement:u}=tt.useContext(Xl),c=tt.useContext(bT),m=tt.useContext(Ql),y=tt.useContext(Uf).reducedMotion,h=tt.useRef(null);s=s||c.renderer,!h.current&&s&&(h.current=s(o,{visualState:e,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y}));const v=h.current,S=tt.useContext(PT);v&&!v.projection&&l&&(v.type==="html"||v.type==="svg")&&fR(h.current,n,l,S);const E=tt.useRef(!1);tt.useInsertionEffect(()=>{v&&E.current&&v.update(n,m)});const b=n[VT],A=tt.useRef(!!b&&!((D=window.MotionHandoffIsComplete)!=null&&D.call(window,b))&&((z=window.MotionHasOptimisedAnimation)==null?void 0:z.call(window,b)));return Nv(()=>{v&&(E.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),A.current&&v.animationState&&v.animationState.animateChanges())}),tt.useEffect(()=>{v&&(!A.current&&v.animationState&&v.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,b)}),A.current=!1),v.enteringChildren=void 0)}),v}function fR(o,e,n,s){const{layoutId:l,layout:u,drag:c,dragConstraints:m,layoutScroll:y,layoutRoot:h,layoutCrossfade:v}=e;o.projection=new n(o.latestValues,e["data-framer-portal-id"]?void 0:BT(o.parent)),o.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||m&&bo(m),visualElement:o,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:y,layoutRoot:h})}function BT(o){if(o)return o.options.allowProjection!==!1?o.projection:BT(o.parent)}function Sc(o,{forwardMotionProps:e=!1}={},n,s){n&&z_(n);const l=qf(o)?sR:aR;function u(m,y){let h;const v={...tt.useContext(Uf),...m,layoutId:dR(m)},{isStatic:S}=v,E=H_(m),b=l(m,S);if(!S&&mf){hR();const A=mR(v);h=A.MeasureLayout,E.visualElement=cR(o,b,v,s,A.ProjectionNode)}return It.jsxs(Xl.Provider,{value:E,children:[h&&E.visualElement?It.jsx(h,{visualElement:E.visualElement,...v}):null,nR(o,m,rR(b,E.visualElement,y),b,S,e)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=tt.forwardRef(u);return c[lR]=o,c}function dR({layoutId:o}){const e=tt.useContext(df).id;return e&&o!==void 0?e+"-"+o:o}function hR(o,e){tt.useContext(bT).strict}function mR(o){const{drag:e,layout:n}=Do;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(o)||n!=null&&n.isEnabled(o)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function pR(o,e){if(typeof Proxy>"u")return Sc;const n=new Map,s=(u,c)=>Sc(u,c,o,e),l=(u,c)=>s(u,c);return new Proxy(l,{get:(u,c)=>c==="create"?s:(n.has(c)||n.set(c,Sc(c,void 0,o,e)),n.get(c))})}function UT({top:o,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:o,max:s}}}function gR({x:o,y:e}){return{top:e.min,right:o.max,bottom:e.max,left:o.min}}function yR(o,e){if(!e)return o;const n=e({x:o.left,y:o.top}),s=e({x:o.right,y:o.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Ec(o){return o===void 0||o===1}function jc({scale:o,scaleX:e,scaleY:n}){return!Ec(o)||!Ec(e)||!Ec(n)}function Ri(o){return jc(o)||IT(o)||o.z||o.rotate||o.rotateX||o.rotateY||o.skewX||o.skewY}function IT(o){return dy(o.x)||dy(o.y)}function dy(o){return o&&o!=="0%"}function Ol(o,e,n){const s=o-n,l=e*s;return n+l}function hy(o,e,n,s,l){return l!==void 0&&(o=Ol(o,l,s)),Ol(o,n,s)+e}function tf(o,e=0,n=1,s,l){o.min=hy(o.min,e,n,s,l),o.max=hy(o.max,e,n,s,l)}function zT(o,{x:e,y:n}){tf(o.x,e.translate,e.scale,e.originPoint),tf(o.y,n.translate,n.scale,n.originPoint)}const my=.999999999999,py=1.0000000000001;function vR(o,e,n,s=!1){const l=n.length;if(!l)return;e.x=e.y=1;let u,c;for(let m=0;m<l;m++){u=n[m],c=u.projectionDelta;const{visualElement:y}=u.options;y&&y.props.style&&y.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Mo(o,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,zT(o,c)),s&&Ri(u.latestValues)&&Mo(o,u.latestValues))}e.x<py&&e.x>my&&(e.x=1),e.y<py&&e.y>my&&(e.y=1)}function Ao(o,e){o.min=o.min+e,o.max=o.max+e}function gy(o,e,n,s,l=.5){const u=Ht(o.min,o.max,l);tf(o,e,n,u,s)}function Mo(o,e){gy(o.x,e.x,e.scaleX,e.scale,e.originX),gy(o.y,e.y,e.scaleY,e.scale,e.originY)}function kT(o,e){return UT(yR(o.getBoundingClientRect(),e))}function TR(o,e,n){const s=kT(o,n),{scroll:l}=e;return l&&(Ao(s.x,l.offset.x),Ao(s.y,l.offset.y)),s}const yy=()=>({translate:0,scale:1,origin:0,originPoint:0}),xo=()=>({x:yy(),y:yy()}),vy=()=>({min:0,max:0}),Jt=()=>({x:vy(),y:vy()}),ef={current:null},OT={current:!1};function SR(){if(OT.current=!0,!!mf)if(window.matchMedia){const o=window.matchMedia("(prefers-reduced-motion)"),e=()=>ef.current=o.matches;o.addEventListener("change",e),e()}else ef.current=!1}const ER=new WeakMap;function CR(o,e,n){for(const s in e){const l=e[s],u=n[s];if(pe(l))o.addValue(s,l);else if(pe(u))o.addValue(s,Ro(l,{owner:o}));else if(u!==l)if(o.hasValue(s)){const c=o.getValue(s);c.liveStyle===!0?c.jump(l):c.hasAnimated||c.set(l)}else{const c=o.getStaticValue(s);o.addValue(s,Ro(c!==void 0?c:l,{owner:o}))}}for(const s in n)e[s]===void 0&&o.removeValue(s);return e}const Ty=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bR{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:l,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Nf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=xe.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,qt.render(this.render,!1,!0))};const{latestValues:y,renderState:h}=c;this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=l,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Jl(n),this.isVariantNode=MT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...S}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in S){const b=S[E];y[E]!==void 0&&pe(b)&&b.set(y[E])}}mount(e){var n;this.current=e,ER.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,l)=>this.bindToMotionValue(l,s)),OT.current||SR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ef.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ni(this.notifyUpdate),ni(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Vo.has(e);s&&this.onBindTransform&&this.onBindTransform();const l=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&qt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Do){const n=Do[e];if(!n)continue;const{isEnabled:s,Feature:l}=n;if(!this.features[e]&&l&&s(this.props)&&(this.features[e]=new l(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Ty.length;s++){const l=Ty[s];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,c=e[u];c&&(this.propEventSubscriptions[l]=this.on(l,c))}this.prevMotionValues=CR(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Ro(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Lv(s)||Pv(s))?s=parseFloat(s):!L_(s)&&ii.test(n)&&(s=pT(e,n)),this.setBaseTarget(e,pe(s)?s.get():s)),pe(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var u;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=Gf(this.props,n,(u=this.presenceContext)==null?void 0:u.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!pe(l)?l:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Tf),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Pf.render(this.render)}}class qT extends bR{constructor(){super(...arguments),this.KeyframeResolver=S_}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pe(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function GT(o,{style:e,vars:n},s,l){const u=o.style;let c;for(c in e)u[c]=e[c];l==null||l.applyProjectionStyles(u,s);for(c in n)u.setProperty(c,n[c])}function AR(o){return window.getComputedStyle(o)}class MR extends qT{constructor(){super(...arguments),this.type="html",this.renderInstance=GT}readValueFromInstance(e,n){var s;if(Vo.has(n))return(s=this.projection)!=null&&s.isProjecting?Kc(n):k1(e,n);{const l=AR(e),u=(Cf(n)?l.getPropertyValue(n):l[n])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(e,{transformPagePoint:n}){return kT(e,n)}build(e,n,s){kf(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Hf(e,n,s)}}const HT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xR(o,e,n,s){GT(o,e,void 0,s);for(const l in e.attrs)o.setAttribute(HT.has(l)?l:Ff(l),e.attrs[l])}class _R extends qT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Jt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Vo.has(n)){const s=mT(n);return s&&s.default||0}return n=HT.has(n)?n:Ff(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return LT(e,n,s)}build(e,n,s){RT(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,l){xR(e,n,s,l)}mount(e){this.isSVGTag=wT(e.tagName),super.mount(e)}}const RR=(o,e)=>qf(o)?new _R(e):new MR(e,{allowProjection:o!==tt.Fragment});function _o(o,e,n){const s=o.getProps();return Gf(s,e,n!==void 0?n:s.custom,o)}const nf=o=>Array.isArray(o);function DR(o,e,n){o.hasValue(e)?o.getValue(e).set(n):o.addValue(e,Ro(n))}function wR(o){return nf(o)?o[o.length-1]||0:o}function NR(o,e){const n=_o(o,e);let{transitionEnd:s={},transition:l={},...u}=n||{};u={...u,...s};for(const c in u){const m=wR(u[c]);DR(o,c,m)}}function LR(o){return!!(pe(o)&&o.add)}function of(o,e){const n=o.getValue("willChange");if(LR(n))return n.add(e);if(!n&&Dn.WillChange){const s=new Dn.WillChange("auto");o.addValue("willChange",s),s.add(e)}}function FT(o){return o.props[VT]}const VR=o=>o!==null;function PR(o,{repeat:e,repeatType:n="loop"},s){const l=o.filter(VR),u=e&&n!=="loop"&&e%2===1?0:l.length-1;return l[u]}const BR={type:"spring",stiffness:500,damping:25,restSpeed:10},UR=o=>({type:"spring",stiffness:550,damping:o===0?2*Math.sqrt(550):30,restSpeed:10}),IR={type:"keyframes",duration:.8},zR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kR=(o,{keyframes:e})=>e.length>2?IR:Vo.has(o)?o.startsWith("scale")?UR(e[1]):BR:zR;function OR({when:o,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:l,repeat:u,repeatType:c,repeatDelay:m,from:y,elapsed:h,...v}){return!!Object.keys(v).length}const Yf=(o,e,n,s={},l,u)=>c=>{const m=Lf(s,o)||{},y=m.delay||s.delay||0;let{elapsed:h=0}=s;h=h-rn(y);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...m,delay:-h,onUpdate:E=>{e.set(E),m.onUpdate&&m.onUpdate(E)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:o,motionValue:e,element:u?void 0:l};OR(m)||Object.assign(v,kR(o,v)),v.duration&&(v.duration=rn(v.duration)),v.repeatDelay&&(v.repeatDelay=rn(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let S=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&($c(v),v.delay===0&&(S=!0)),(Dn.instantAnimations||Dn.skipAnimations)&&(S=!0,$c(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,S&&!u&&e.get()!==void 0){const E=PR(v.keyframes,m);if(E!==void 0){qt.update(()=>{v.onUpdate(E),v.onComplete()});return}}return m.isSync?new wf(v):new r_(v)};function qR({protectedKeys:o,needsAnimating:e},n){const s=o.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function YT(o,e,{delay:n=0,transitionOverride:s,type:l}={}){let{transition:u=o.getDefaultTransition(),transitionEnd:c,...m}=e;s&&(u=s);const y=[],h=l&&o.animationState&&o.animationState.getState()[l];for(const v in m){const S=o.getValue(v,o.latestValues[v]??null),E=m[v];if(E===void 0||h&&qR(h,v))continue;const b={delay:n,...Lf(u||{},v)},A=S.get();if(A!==void 0&&!S.isAnimating&&!Array.isArray(E)&&E===A&&!b.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const k=FT(o);if(k){const F=window.MotionHandoffAnimation(k,v,qt);F!==null&&(b.startTime=F,D=!0)}}of(o,v),S.start(Yf(v,S,E,o.shouldReduceMotion&&fT.has(v)?{type:!1}:b,o,D));const z=S.animation;z&&y.push(z)}return c&&Promise.all(y).then(()=>{qt.update(()=>{c&&NR(o,c)})}),y}function KT(o,e,n,s=0,l=1){const u=Array.from(o).sort((h,v)=>h.sortNodePosition(v)).indexOf(e),c=o.size,m=(c-1)*s;return typeof n=="function"?n(u,c):l===1?u*s:m-u*s}function af(o,e,n={}){var y;const s=_o(o,e,n.type==="exit"?(y=o.presenceContext)==null?void 0:y.custom:void 0);let{transition:l=o.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(l=n.transitionOverride);const u=s?()=>Promise.all(YT(o,s,n)):()=>Promise.resolve(),c=o.variantChildren&&o.variantChildren.size?(h=0)=>{const{delayChildren:v=0,staggerChildren:S,staggerDirection:E}=l;return GR(o,e,h,v,S,E,n)}:()=>Promise.resolve(),{when:m}=l;if(m){const[h,v]=m==="beforeChildren"?[u,c]:[c,u];return h().then(()=>v())}else return Promise.all([u(),c(n.delay)])}function GR(o,e,n=0,s=0,l=0,u=1,c){const m=[];for(const y of o.variantChildren)y.notify("AnimationStart",e),m.push(af(y,e,{...c,delay:n+(typeof s=="function"?0:s)+KT(o.variantChildren,y,s,l,u)}).then(()=>y.notify("AnimationComplete",e)));return Promise.all(m)}function HR(o,e,n={}){o.notify("AnimationStart",e);let s;if(Array.isArray(e)){const l=e.map(u=>af(o,u,n));s=Promise.all(l)}else if(typeof e=="string")s=af(o,e,n);else{const l=typeof e=="function"?_o(o,e,n.custom):e;s=Promise.all(YT(o,l,n))}return s.then(()=>{o.notify("AnimationComplete",e)})}function QT(o,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==o.length)return!1;for(let s=0;s<n;s++)if(e[s]!==o[s])return!1;return!0}const FR=zf.length;function XT(o){if(!o)return;if(!o.isControllingVariants){const n=o.parent?XT(o.parent)||{}:{};return o.props.initial!==void 0&&(n.initial=o.props.initial),n}const e={};for(let n=0;n<FR;n++){const s=zf[n],l=o.props[s];(Za(l)||l===!1)&&(e[s]=l)}return e}const YR=[...If].reverse(),KR=If.length;function QR(o){return e=>Promise.all(e.map(({animation:n,options:s})=>HR(o,n,s)))}function XR(o){let e=QR(o),n=Sy(),s=!0;const l=y=>(h,v)=>{var E;const S=_o(o,v,y==="exit"?(E=o.presenceContext)==null?void 0:E.custom:void 0);if(S){const{transition:b,transitionEnd:A,...D}=S;h={...h,...D,...A}}return h};function u(y){e=y(o)}function c(y){const{props:h}=o,v=XT(o.parent)||{},S=[],E=new Set;let b={},A=1/0;for(let z=0;z<KR;z++){const k=YR[z],F=n[k],N=h[k]!==void 0?h[k]:v[k],K=Za(N),w=k===y?F.isActive:null;w===!1&&(A=z);let X=N===v[k]&&N!==h[k]&&K;if(X&&s&&o.manuallyAnimateOnMount&&(X=!1),F.protectedKeys={...b},!F.isActive&&w===null||!N&&!F.prevProp||Zl(N)||typeof N=="boolean")continue;const Z=ZR(F.prevProp,N);let H=Z||k===y&&F.isActive&&!X&&K||z>A&&K,ot=!1;const lt=Array.isArray(N)?N:[N];let yt=lt.reduce(l(k),{});w===!1&&(yt={});const{prevResolvedValues:Tt={}}=F,dt={...Tt,...yt},J=q=>{H=!0,E.has(q)&&(ot=!0,E.delete(q)),F.needsAnimating[q]=!0;const $=o.getValue(q);$&&($.liveStyle=!1)};for(const q in dt){const $=yt[q],rt=Tt[q];if(b.hasOwnProperty(q))continue;let x=!1;nf($)&&nf(rt)?x=!QT($,rt):x=$!==rt,x?$!=null?J(q):E.add(q):$!==void 0&&E.has(q)?J(q):F.protectedKeys[q]=!0}F.prevProp=N,F.prevResolvedValues=yt,F.isActive&&(b={...b,...yt}),s&&o.blockInitialAnimation&&(H=!1);const j=X&&Z;H&&(!j||ot)&&S.push(...lt.map(q=>{const $={type:k};if(typeof q=="string"&&s&&!j&&o.manuallyAnimateOnMount&&o.parent){const{parent:rt}=o,x=_o(rt,q);if(rt.enteringChildren&&x){const{delayChildren:Q}=x.transition||{};$.delay=KT(rt.enteringChildren,o,Q)}}return{animation:q,options:$}}))}if(E.size){const z={};if(typeof h.initial!="boolean"){const k=_o(o,Array.isArray(h.initial)?h.initial[0]:h.initial);k&&k.transition&&(z.transition=k.transition)}E.forEach(k=>{const F=o.getBaseTarget(k),N=o.getValue(k);N&&(N.liveStyle=!0),z[k]=F??null}),S.push({animation:z})}let D=!!S.length;return s&&(h.initial===!1||h.initial===h.animate)&&!o.manuallyAnimateOnMount&&(D=!1),s=!1,D?e(S):Promise.resolve()}function m(y,h){var S;if(n[y].isActive===h)return Promise.resolve();(S=o.variantChildren)==null||S.forEach(E=>{var b;return(b=E.animationState)==null?void 0:b.setActive(y,h)}),n[y].isActive=h;const v=c(y);for(const E in n)n[E].protectedKeys={};return v}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>n,reset:()=>{n=Sy(),s=!0}}}function ZR(o,e){return typeof e=="string"?e!==o:Array.isArray(e)?!QT(e,o):!1}function xi(o=!1){return{isActive:o,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Sy(){return{animate:xi(!0),whileInView:xi(),whileHover:xi(),whileTap:xi(),whileDrag:xi(),whileFocus:xi(),exit:xi()}}class li{constructor(e){this.isMounted=!1,this.node=e}update(){}}class JR extends li{constructor(e){super(e),e.animationState||(e.animationState=XR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Zl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let $R=0;class WR extends li{constructor(){super(...arguments),this.id=$R++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const l=this.node.animationState.setActive("exit",!e);n&&!e&&l.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const jR={animation:{Feature:JR},exit:{Feature:WR}};function $a(o,e,n,s={passive:!0}){return o.addEventListener(e,n,s),()=>o.removeEventListener(e,n)}function is(o){return{point:{x:o.pageX,y:o.pageY}}}const tD=o=>e=>Bf(e)&&o(e,is(e));function qa(o,e,n,s){return $a(o,e,tD(n),s)}const ZT=1e-4,eD=1-ZT,nD=1+ZT,JT=.01,iD=0-JT,oD=0+JT;function ve(o){return o.max-o.min}function aD(o,e,n){return Math.abs(o-e)<=n}function Ey(o,e,n,s=.5){o.origin=s,o.originPoint=Ht(e.min,e.max,o.origin),o.scale=ve(n)/ve(e),o.translate=Ht(n.min,n.max,o.origin)-o.originPoint,(o.scale>=eD&&o.scale<=nD||isNaN(o.scale))&&(o.scale=1),(o.translate>=iD&&o.translate<=oD||isNaN(o.translate))&&(o.translate=0)}function Ga(o,e,n,s){Ey(o.x,e.x,n.x,s?s.originX:void 0),Ey(o.y,e.y,n.y,s?s.originY:void 0)}function Cy(o,e,n){o.min=n.min+e.min,o.max=o.min+ve(e)}function sD(o,e,n){Cy(o.x,e.x,n.x),Cy(o.y,e.y,n.y)}function by(o,e,n){o.min=e.min-n.min,o.max=o.min+ve(e)}function Ha(o,e,n){by(o.x,e.x,n.x),by(o.y,e.y,n.y)}function Qe(o){return[o("x"),o("y")]}const $T=({current:o})=>o?o.ownerDocument.defaultView:null,Ay=(o,e)=>Math.abs(o-e);function lD(o,e){const n=Ay(o.x,e.x),s=Ay(o.y,e.y);return Math.sqrt(n**2+s**2)}class WT{constructor(e,n,{transformPagePoint:s,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=bc(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,A=lD(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!A)return;const{point:D}=E,{timestamp:z}=ce;this.history.push({...D,timestamp:z});const{onStart:k,onMove:F}=this.handlers;b||(k&&k(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,E)},this.handlePointerMove=(E,b)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Cc(b,this.transformPagePoint),qt.update(this.updatePoint,!0)},this.handlePointerUp=(E,b)=>{this.end();const{onEnd:A,onSessionEnd:D,resumeAnimation:z}=this.handlers;if(this.dragSnapToOrigin&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=bc(E.type==="pointercancel"?this.lastMoveEventInfo:Cc(b,this.transformPagePoint),this.history);this.startEvent&&A&&A(E,k),D&&D(E,k)},!Bf(e))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=l||window;const m=is(e),y=Cc(m,this.transformPagePoint),{point:h}=y,{timestamp:v}=ce;this.history=[{...h,timestamp:v}];const{onSessionStart:S}=n;S&&S(e,bc(y,this.history)),this.removeListeners=ts(qa(this.contextWindow,"pointermove",this.handlePointerMove),qa(this.contextWindow,"pointerup",this.handlePointerUp),qa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ni(this.updatePoint)}}function Cc(o,e){return e?{point:e(o.point)}:o}function My(o,e){return{x:o.x-e.x,y:o.y-e.y}}function bc({point:o},e){return{point:o,delta:My(o,jT(e)),offset:My(o,rD(e)),velocity:uD(e,.1)}}function rD(o){return o[0]}function jT(o){return o[o.length-1]}function uD(o,e){if(o.length<2)return{x:0,y:0};let n=o.length-1,s=null;const l=jT(o);for(;n>=0&&(s=o[n],!(l.timestamp-s.timestamp>rn(e)));)n--;if(!s)return{x:0,y:0};const u=un(l.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(l.x-s.x)/u,y:(l.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function cD(o,{min:e,max:n},s){return e!==void 0&&o<e?o=s?Ht(e,o,s.min):Math.max(o,e):n!==void 0&&o>n&&(o=s?Ht(n,o,s.max):Math.min(o,n)),o}function xy(o,e,n){return{min:e!==void 0?o.min+e:void 0,max:n!==void 0?o.max+n-(o.max-o.min):void 0}}function fD(o,{top:e,left:n,bottom:s,right:l}){return{x:xy(o.x,n,l),y:xy(o.y,e,s)}}function _y(o,e){let n=e.min-o.min,s=e.max-o.max;return e.max-e.min<o.max-o.min&&([n,s]=[s,n]),{min:n,max:s}}function dD(o,e){return{x:_y(o.x,e.x),y:_y(o.y,e.y)}}function hD(o,e){let n=.5;const s=ve(o),l=ve(e);return l>s?n=Ka(e.min,e.max-s,o.min):s>l&&(n=Ka(o.min,o.max-l,e.min)),Rn(0,1,n)}function mD(o,e){const n={};return e.min!==void 0&&(n.min=e.min-o.min),e.max!==void 0&&(n.max=e.max-o.min),n}const sf=.35;function pD(o=sf){return o===!1?o=0:o===!0&&(o=sf),{x:Ry(o,"left","right"),y:Ry(o,"top","bottom")}}function Ry(o,e,n){return{min:Dy(o,e),max:Dy(o,n)}}function Dy(o,e){return typeof o=="number"?o:o[e]||0}const gD=new WeakMap;class yD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=S=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(is(S).point)},c=(S,E)=>{const{drag:b,dragPropagation:A,onDragStart:D}=this.getProps();if(b&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=A_(b),!this.openDragLock))return;this.latestPointerEvent=S,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qe(k=>{let F=this.getAxisMotionValue(k).get()||0;if(cn.test(F)){const{projection:N}=this.visualElement;if(N&&N.layout){const K=N.layout.layoutBox[k];K&&(F=ve(K)*(parseFloat(F)/100))}}this.originPoint[k]=F}),D&&qt.postRender(()=>D(S,E)),of(this.visualElement,"transform");const{animationState:z}=this.visualElement;z&&z.setActive("whileDrag",!0)},m=(S,E)=>{this.latestPointerEvent=S,this.latestPanInfo=E;const{dragPropagation:b,dragDirectionLock:A,onDirectionLock:D,onDrag:z}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:k}=E;if(A&&this.currentDirection===null){this.currentDirection=vD(k),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",E.point,k),this.updateAxis("y",E.point,k),this.visualElement.render(),z&&z(S,E)},y=(S,E)=>{this.latestPointerEvent=S,this.latestPanInfo=E,this.stop(S,E),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Qe(S=>{var E;return this.getAnimationState(S)==="paused"&&((E=this.getAxisMotionValue(S).animation)==null?void 0:E.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new WT(e,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:y,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:$T(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,l=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!s)return;const{velocity:c}=l;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&qt.postRender(()=>m(s,l))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:l}=this.getProps();if(!s||!Ml(e,l,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=cD(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,l=this.constraints;e&&bo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=fD(s.layoutBox,e):this.constraints=!1,this.elastic=pD(n),l!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Qe(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=mD(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!bo(e))return!1;const s=e.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=TR(s,l.root,this.visualElement.getTransformPagePoint());let c=dD(l.layout.layoutBox,u);if(n){const m=n(gR(c));this.hasMutatedConstraints=!!m,m&&(c=UT(m))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:l,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),y=this.constraints||{},h=Qe(v=>{if(!Ml(v,n,this.currentDirection))return;let S=y&&y[v]||{};c&&(S={min:0,max:0});const E=l?200:1e6,b=l?40:1e7,A={type:"inertia",velocity:s?e[v]:0,bounceStiffness:E,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...u,...S};return this.startAxisValueAnimation(v,A)});return Promise.all(h).then(m)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return of(this.visualElement,e),s.start(Yf(e,s,0,n,this.visualElement,!1))}stopAnimation(){Qe(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qe(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),l=s[n];return l||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Qe(n=>{const{drag:s}=this.getProps();if(!Ml(n,s,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(n);if(l&&l.layout){const{min:c,max:m}=l.layout.layoutBox[n];u.set(e[n]-Ht(c,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!bo(n)||!s||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Qe(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const y=m.get();l[c]=hD({min:y,max:y},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Qe(c=>{if(!Ml(c,e,null))return;const m=this.getAxisMotionValue(c),{min:y,max:h}=this.constraints[c];m.set(Ht(y,h,l[c]))})}addListeners(){if(!this.visualElement.current)return;gD.set(this.visualElement,this);const e=this.visualElement.current,n=qa(e,"pointerdown",y=>{const{drag:h,dragListener:v=!0}=this.getProps();h&&v&&this.start(y)}),s=()=>{const{dragConstraints:y}=this.getProps();bo(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",s);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),qt.read(s);const c=$a(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",({delta:y,hasLayoutChanged:h})=>{this.isDragging&&h&&(Qe(v=>{const S=this.getAxisMotionValue(v);S&&(this.originPoint[v]+=y[v].translate,S.set(S.get()+y[v].translate))}),this.visualElement.render())});return()=>{c(),n(),u(),m&&m()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:c=sf,dragMomentum:m=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:l,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function Ml(o,e,n){return(e===!0||e===o)&&(n===null||n===o)}function vD(o,e=10){let n=null;return Math.abs(o.y)>e?n="y":Math.abs(o.x)>e&&(n="x"),n}class TD extends li{constructor(e){super(e),this.removeGroupControls=Xe,this.removeListeners=Xe,this.controls=new yD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xe}unmount(){this.removeGroupControls(),this.removeListeners()}}const wy=o=>(e,n)=>{o&&qt.postRender(()=>o(e,n))};class SD extends li{constructor(){super(...arguments),this.removePointerDownListener=Xe}onPointerDown(e){this.session=new WT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$T(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:l}=this.node.getProps();return{onSessionStart:wy(e),onStart:wy(n),onMove:s,onEnd:(u,c)=>{delete this.session,l&&qt.postRender(()=>l(u,c))}}}mount(){this.removePointerDownListener=qa(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ll={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ny(o,e){return e.max===e.min?0:o/(e.max-e.min)*100}const Va={correct:(o,e)=>{if(!e.target)return o;if(typeof o=="string")if(mt.test(o))o=parseFloat(o);else return o;const n=Ny(o,e.target.x),s=Ny(o,e.target.y);return`${n}% ${s}%`}},ED={correct:(o,{treeScale:e,projectionDelta:n})=>{const s=o,l=ii.parse(o);if(l.length>5)return s;const u=ii.createTransformer(o),c=typeof l[0]!="number"?1:0,m=n.x.scale*e.x,y=n.y.scale*e.y;l[0+c]/=m,l[1+c]/=y;const h=Ht(m,y,.5);return typeof l[2+c]=="number"&&(l[2+c]/=h),typeof l[3+c]=="number"&&(l[3+c]/=h),u(l)}};let Ac=!1;class CD extends tt.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:l}=this.props,{projection:u}=e;F_(bD),u&&(n.group&&n.group.add(u),s&&s.register&&l&&s.register(u),Ac&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Ll.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:l,isPresent:u}=this.props,{projection:c}=s;return c&&(c.isPresent=u,Ac=!0,l||e.layoutDependency!==n||n===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||qt.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Pf.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:l}=e;Ac=!0,l&&(l.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(l),s&&s.deregister&&s.deregister(l))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function t0(o){const[e,n]=CT(),s=tt.useContext(df);return It.jsx(CD,{...o,layoutGroup:s,switchLayoutGroup:tt.useContext(PT),isPresent:e,safeToRemove:n})}const bD={borderRadius:{...Va,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Va,borderTopRightRadius:Va,borderBottomLeftRadius:Va,borderBottomRightRadius:Va,boxShadow:ED};function AD(o,e,n){const s=pe(o)?o:Ro(o);return s.start(Yf("",s,e,n)),s.animation}const MD=(o,e)=>o.depth-e.depth;class xD{constructor(){this.children=[],this.isDirty=!1}add(e){pf(this.children,e),this.isDirty=!0}remove(e){gf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(MD),this.isDirty=!1,this.children.forEach(e)}}function _D(o,e){const n=xe.now(),s=({timestamp:l})=>{const u=l-n;u>=e&&(ni(s),o(u-e))};return qt.setup(s,!0),()=>ni(s)}const e0=["TopLeft","TopRight","BottomLeft","BottomRight"],RD=e0.length,Ly=o=>typeof o=="string"?parseFloat(o):o,Vy=o=>typeof o=="number"||mt.test(o);function DD(o,e,n,s,l,u){l?(o.opacity=Ht(0,n.opacity??1,wD(s)),o.opacityExit=Ht(e.opacity??1,0,ND(s))):u&&(o.opacity=Ht(e.opacity??1,n.opacity??1,s));for(let c=0;c<RD;c++){const m=`border${e0[c]}Radius`;let y=Py(e,m),h=Py(n,m);if(y===void 0&&h===void 0)continue;y||(y=0),h||(h=0),y===0||h===0||Vy(y)===Vy(h)?(o[m]=Math.max(Ht(Ly(y),Ly(h),s),0),(cn.test(h)||cn.test(y))&&(o[m]+="%")):o[m]=h}(e.rotate||n.rotate)&&(o.rotate=Ht(e.rotate||0,n.rotate||0,s))}function Py(o,e){return o[e]!==void 0?o[e]:o.borderRadius}const wD=n0(0,.5,Gv),ND=n0(.5,.95,Xe);function n0(o,e,n){return s=>s<o?0:s>e?1:n(Ka(o,e,s))}function By(o,e){o.min=e.min,o.max=e.max}function Ke(o,e){By(o.x,e.x),By(o.y,e.y)}function Uy(o,e){o.translate=e.translate,o.scale=e.scale,o.originPoint=e.originPoint,o.origin=e.origin}function Iy(o,e,n,s,l){return o-=e,o=Ol(o,1/n,s),l!==void 0&&(o=Ol(o,1/l,s)),o}function LD(o,e=0,n=1,s=.5,l,u=o,c=o){if(cn.test(e)&&(e=parseFloat(e),e=Ht(c.min,c.max,e/100)-c.min),typeof e!="number")return;let m=Ht(u.min,u.max,s);o===u&&(m-=e),o.min=Iy(o.min,e,n,m,l),o.max=Iy(o.max,e,n,m,l)}function zy(o,e,[n,s,l],u,c){LD(o,e[n],e[s],e[l],e.scale,u,c)}const VD=["x","scaleX","originX"],PD=["y","scaleY","originY"];function ky(o,e,n,s){zy(o.x,e,VD,n?n.x:void 0,s?s.x:void 0),zy(o.y,e,PD,n?n.y:void 0,s?s.y:void 0)}function Oy(o){return o.translate===0&&o.scale===1}function i0(o){return Oy(o.x)&&Oy(o.y)}function qy(o,e){return o.min===e.min&&o.max===e.max}function BD(o,e){return qy(o.x,e.x)&&qy(o.y,e.y)}function Gy(o,e){return Math.round(o.min)===Math.round(e.min)&&Math.round(o.max)===Math.round(e.max)}function o0(o,e){return Gy(o.x,e.x)&&Gy(o.y,e.y)}function Hy(o){return ve(o.x)/ve(o.y)}function Fy(o,e){return o.translate===e.translate&&o.scale===e.scale&&o.originPoint===e.originPoint}class UD{constructor(){this.members=[]}add(e){pf(this.members,e),e.scheduleRender()}remove(e){if(gf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(l=>e===l);if(n===0)return!1;let s;for(let l=n;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:l}=e.options;l===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ID(o,e,n){let s="";const l=o.x.translate/e.x,u=o.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((l||u||c)&&(s=`translate3d(${l}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:v,rotateX:S,rotateY:E,skewX:b,skewY:A}=n;h&&(s=`perspective(${h}px) ${s}`),v&&(s+=`rotate(${v}deg) `),S&&(s+=`rotateX(${S}deg) `),E&&(s+=`rotateY(${E}deg) `),b&&(s+=`skewX(${b}deg) `),A&&(s+=`skewY(${A}deg) `)}const m=o.x.scale*e.x,y=o.y.scale*e.y;return(m!==1||y!==1)&&(s+=`scale(${m}, ${y})`),s||"none"}const Mc=["","X","Y","Z"],zD=1e3;let kD=0;function xc(o,e,n,s){const{latestValues:l}=e;l[o]&&(n[o]=l[o],e.setStaticValue(o,0),s&&(s[o]=0))}function a0(o){if(o.hasCheckedOptimisedAppear=!0,o.root===o)return;const{visualElement:e}=o.options;if(!e)return;const n=FT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:l,layoutId:u}=o.options;window.MotionCancelOptimisedAnimation(n,"transform",qt,!(l||u))}const{parent:s}=o;s&&!s.hasCheckedOptimisedAppear&&a0(s)}function s0({attachResizeListener:o,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:l}){return class{constructor(c={},m=e==null?void 0:e()){this.id=kD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(GD),this.nodes.forEach(KD),this.nodes.forEach(QD),this.nodes.forEach(HD)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new xD)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Tf),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const y=this.eventHandlers.get(c);y&&y.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=ET(c)&&!w_(c),this.instance=c;const{layoutId:m,layout:y,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||m)&&(this.isLayoutDirty=!0),o){let v,S=0;const E=()=>this.root.updateBlockedByResize=!1;qt.read(()=>{S=window.innerWidth}),o(c,()=>{const b=window.innerWidth;b!==S&&(S=b,this.root.updateBlockedByResize=!0,v&&v(),v=_D(E,250),Ll.hasAnimatedSinceResize&&(Ll.hasAnimatedSinceResize=!1,this.nodes.forEach(Qy)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&h&&(m||y)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:S,hasRelativeLayoutChanged:E,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||h.getDefaultTransition()||WD,{onLayoutAnimationStart:D,onLayoutAnimationComplete:z}=h.getProps(),k=!this.targetLayout||!o0(this.targetLayout,b),F=!S&&E;if(this.options.layoutRoot||this.resumeFrom||F||S&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...Lf(A,"layout"),onPlay:D,onComplete:z};(h.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(v,F)}else S||Qy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ni(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XD),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&a0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const S=this.path[v];S.shouldResetTransform=!0,S.updateScroll("snapshot"),S.options.layoutRoot&&S.willUpdate(!1)}const{layoutId:m,layout:y}=this.options;if(m===void 0&&!y)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Yy);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ky);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(YD),this.nodes.forEach(OD),this.nodes.forEach(qD)):this.nodes.forEach(Ky),this.clearAllSnapshots();const m=xe.now();ce.delta=Rn(0,1e3/60,m-ce.timestamp),ce.timestamp=m,ce.isProcessing=!0,mc.update.process(ce),mc.preRender.process(ce),mc.render.process(ce),ce.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Pf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FD),this.sharedNodes.forEach(ZD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ve(this.snapshot.measuredBox.x)&&!ve(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const y=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:y,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!l)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!i0(this.projectionDelta),y=this.getTransformTemplate(),h=y?y(this.latestValues,""):void 0,v=h!==this.prevTransformTemplateValue;c&&this.instance&&(m||Ri(this.latestValues)||v)&&(l(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let y=this.removeElementScroll(m);return c&&(y=this.removeTransform(y)),jD(y),{animationId:this.root.animationId,measuredBox:m,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:c}=this.options;if(!c)return Jt();const m=c.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(tw))){const{scroll:v}=this.root;v&&(Ao(m.x,v.offset.x),Ao(m.y,v.offset.y))}return m}removeElementScroll(c){var y;const m=Jt();if(Ke(m,c),(y=this.scroll)!=null&&y.wasRoot)return m;for(let h=0;h<this.path.length;h++){const v=this.path[h],{scroll:S,options:E}=v;v!==this.root&&S&&E.layoutScroll&&(S.wasRoot&&Ke(m,c),Ao(m.x,S.offset.x),Ao(m.y,S.offset.y))}return m}applyTransform(c,m=!1){const y=Jt();Ke(y,c);for(let h=0;h<this.path.length;h++){const v=this.path[h];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Mo(y,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ri(v.latestValues)&&Mo(y,v.latestValues)}return Ri(this.latestValues)&&Mo(y,this.latestValues),y}removeTransform(c){const m=Jt();Ke(m,c);for(let y=0;y<this.path.length;y++){const h=this.path[y];if(!h.instance||!Ri(h.latestValues))continue;jc(h.latestValues)&&h.updateSnapshot();const v=Jt(),S=h.measurePageBox();Ke(v,S),ky(m,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,v)}return Ri(this.latestValues)&&ky(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ce.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var E;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==m;if(!(c||y&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:S}=this.options;if(!(!this.layout||!(v||S))){if(this.resolvedRelativeTargetAt=ce.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jt(),this.relativeTargetOrigin=Jt(),Ha(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Ke(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Jt(),this.targetWithTransforms=Jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ke(this.target,this.layout.layoutBox),zT(this.target,this.targetDelta)):Ke(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jt(),this.relativeTargetOrigin=Jt(),Ha(this.relativeTargetOrigin,this.target,b.target),Ke(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||jc(this.parent.latestValues)||IT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const c=this.getLead(),m=!!this.resumingFrom||this!==c;let y=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(y=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===ce.timestamp&&(y=!1),y)return;const{layout:h,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||v))return;Ke(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,E=this.treeScale.y;vR(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Jt());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Uy(this.prevProjectionDelta.x,this.projectionDelta.x),Uy(this.prevProjectionDelta.y,this.projectionDelta.y)),Ga(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==E||!Fy(this.projectionDelta.x,this.prevProjectionDelta.x)||!Fy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var m;if((m=this.options.visualElement)==null||m.scheduleRender(),c){const y=this.getStack();y&&y.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xo(),this.projectionDelta=xo(),this.projectionDeltaWithTransform=xo()}setAnimationOrigin(c,m=!1){const y=this.snapshot,h=y?y.latestValues:{},v={...this.latestValues},S=xo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const E=Jt(),b=y?y.source:void 0,A=this.layout?this.layout.source:void 0,D=b!==A,z=this.getStack(),k=!z||z.members.length<=1,F=!!(D&&!k&&this.options.crossfade===!0&&!this.path.some($D));this.animationProgress=0;let N;this.mixTargetDelta=K=>{const w=K/1e3;Xy(S.x,c.x,w),Xy(S.y,c.y,w),this.setTargetDelta(S),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ha(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JD(this.relativeTarget,this.relativeTargetOrigin,E,w),N&&BD(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Jt()),Ke(N,this.relativeTarget)),D&&(this.animationValues=v,DD(v,h,this.latestValues,w,F,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var m,y,h;this.notifyListeners("animationStart"),(m=this.currentAnimation)==null||m.stop(),(h=(y=this.resumingFrom)==null?void 0:y.currentAnimation)==null||h.stop(),this.pendingAnimation&&(ni(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qt.update(()=>{Ll.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ro(0)),this.currentAnimation=AD(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:y,layout:h,latestValues:v}=c;if(!(!m||!y||!h)){if(this!==c&&this.layout&&h&&l0(this.options.animationType,this.layout.layoutBox,h.layoutBox)){y=this.target||Jt();const S=ve(this.layout.layoutBox.x);y.x.min=c.target.x.min,y.x.max=y.x.min+S;const E=ve(this.layout.layoutBox.y);y.y.min=c.target.y.min,y.y.max=y.y.min+E}Ke(m,y),Mo(m,v),Ga(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new UD),this.sharedNodes.get(c).add(m);const h=m.options.initialPromotionConfig;m.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var m;const{layoutId:c}=this.options;return c?((m=this.getStack())==null?void 0:m.lead)||this:this}getPrevLead(){var m;const{layoutId:c}=this.options;return c?(m=this.getStack())==null?void 0:m.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:y}={}){const h=this.getStack();h&&h.promote(this,y),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:y}=c;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(m=!0),!m)return;const h={};y.z&&xc("z",c,h,this.animationValues);for(let v=0;v<Mc.length;v++)xc(`rotate${Mc[v]}`,c,h,this.animationValues),xc(`skew${Mc[v]}`,c,h,this.animationValues);c.render();for(const v in h)c.setStaticValue(v,h[v]),this.animationValues&&(this.animationValues[v]=h[v]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Nl(m==null?void 0:m.pointerEvents)||"",c.transform=y?y(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Nl(m==null?void 0:m.pointerEvents)||""),this.hasProjected&&!Ri(this.latestValues)&&(c.transform=y?y({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=h.animationValues||h.latestValues;this.applyTransformsToTarget();let S=ID(this.projectionDeltaWithTransform,this.treeScale,v);y&&(S=y(v,S)),c.transform=S;const{x:E,y:b}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${b.origin*100}% 0`,h.animationValues?c.opacity=h===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=h===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const A in Ja){if(v[A]===void 0)continue;const{correct:D,applyTo:z,isCSSVariable:k}=Ja[A],F=S==="none"?v[A]:D(v[A],h);if(z){const N=z.length;for(let K=0;K<N;K++)c[z[K]]=F}else k?this.options.visualElement.renderState.vars[A]=F:c[A]=F}this.options.layoutId&&(c.pointerEvents=h===this?Nl(m==null?void 0:m.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var m;return(m=c.currentAnimation)==null?void 0:m.stop()}),this.root.nodes.forEach(Yy),this.root.sharedNodes.clear()}}}function OD(o){o.updateLayout()}function qD(o){var n;const e=((n=o.resumeFrom)==null?void 0:n.snapshot)||o.snapshot;if(o.isLead()&&o.layout&&e&&o.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:l}=o.layout,{animationType:u}=o.options,c=e.source!==o.layout.source;u==="size"?Qe(S=>{const E=c?e.measuredBox[S]:e.layoutBox[S],b=ve(E);E.min=s[S].min,E.max=E.min+b}):l0(u,e.layoutBox,s)&&Qe(S=>{const E=c?e.measuredBox[S]:e.layoutBox[S],b=ve(s[S]);E.max=E.min+b,o.relativeTarget&&!o.currentAnimation&&(o.isProjectionDirty=!0,o.relativeTarget[S].max=o.relativeTarget[S].min+b)});const m=xo();Ga(m,s,e.layoutBox);const y=xo();c?Ga(y,o.applyTransform(l,!0),e.measuredBox):Ga(y,s,e.layoutBox);const h=!i0(m);let v=!1;if(!o.resumeFrom){const S=o.getClosestProjectingParent();if(S&&!S.resumeFrom){const{snapshot:E,layout:b}=S;if(E&&b){const A=Jt();Ha(A,e.layoutBox,E.layoutBox);const D=Jt();Ha(D,s,b.layoutBox),o0(A,D)||(v=!0),S.options.layoutRoot&&(o.relativeTarget=D,o.relativeTargetOrigin=A,o.relativeParent=S)}}}o.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:y,layoutDelta:m,hasLayoutChanged:h,hasRelativeLayoutChanged:v})}else if(o.isLead()){const{onExitComplete:s}=o.options;s&&s()}o.options.transition=void 0}function GD(o){o.parent&&(o.isProjecting()||(o.isProjectionDirty=o.parent.isProjectionDirty),o.isSharedProjectionDirty||(o.isSharedProjectionDirty=!!(o.isProjectionDirty||o.parent.isProjectionDirty||o.parent.isSharedProjectionDirty)),o.isTransformDirty||(o.isTransformDirty=o.parent.isTransformDirty))}function HD(o){o.isProjectionDirty=o.isSharedProjectionDirty=o.isTransformDirty=!1}function FD(o){o.clearSnapshot()}function Yy(o){o.clearMeasurements()}function Ky(o){o.isLayoutDirty=!1}function YD(o){const{visualElement:e}=o.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),o.resetTransform()}function Qy(o){o.finishAnimation(),o.targetDelta=o.relativeTarget=o.target=void 0,o.isProjectionDirty=!0}function KD(o){o.resolveTargetDelta()}function QD(o){o.calcProjection()}function XD(o){o.resetSkewAndRotation()}function ZD(o){o.removeLeadSnapshot()}function Xy(o,e,n){o.translate=Ht(e.translate,0,n),o.scale=Ht(e.scale,1,n),o.origin=e.origin,o.originPoint=e.originPoint}function Zy(o,e,n,s){o.min=Ht(e.min,n.min,s),o.max=Ht(e.max,n.max,s)}function JD(o,e,n,s){Zy(o.x,e.x,n.x,s),Zy(o.y,e.y,n.y,s)}function $D(o){return o.animationValues&&o.animationValues.opacityExit!==void 0}const WD={duration:.45,ease:[.4,0,.1,1]},Jy=o=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(o),$y=Jy("applewebkit/")&&!Jy("chrome/")?Math.round:Xe;function Wy(o){o.min=$y(o.min),o.max=$y(o.max)}function jD(o){Wy(o.x),Wy(o.y)}function l0(o,e,n){return o==="position"||o==="preserve-aspect"&&!aD(Hy(e),Hy(n),.2)}function tw(o){var e;return o!==o.root&&((e=o.scroll)==null?void 0:e.wasRoot)}const ew=s0({attachResizeListener:(o,e)=>$a(o,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_c={current:void 0},r0=s0({measureScroll:o=>({x:o.scrollLeft,y:o.scrollTop}),defaultParent:()=>{if(!_c.current){const o=new ew({});o.mount(window),o.setOptions({layoutScroll:!0}),_c.current=o}return _c.current},resetTransform:(o,e)=>{o.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:o=>window.getComputedStyle(o).position==="fixed"}),nw={pan:{Feature:SD},drag:{Feature:TD,ProjectionNode:r0,MeasureLayout:t0}};function jy(o,e,n){const{props:s}=o;o.animationState&&s.whileHover&&o.animationState.setActive("whileHover",n==="Start");const l="onHover"+n,u=s[l];u&&qt.postRender(()=>u(e,is(e)))}class iw extends li{mount(){const{current:e}=this.node;e&&(this.unmount=M_(e,(n,s)=>(jy(this.node,s,"Start"),l=>jy(this.node,l,"End"))))}unmount(){}}class ow extends li{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ts($a(this.node.current,"focus",()=>this.onFocus()),$a(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tv(o,e,n){const{props:s}=o;if(o.current instanceof HTMLButtonElement&&o.current.disabled)return;o.animationState&&s.whileTap&&o.animationState.setActive("whileTap",n==="Start");const l="onTap"+(n==="End"?"":n),u=s[l];u&&qt.postRender(()=>u(e,is(e)))}class aw extends li{mount(){const{current:e}=this.node;e&&(this.unmount=D_(e,(n,s)=>(tv(this.node,s,"Start"),(l,{success:u})=>tv(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lf=new WeakMap,Rc=new WeakMap,sw=o=>{const e=lf.get(o.target);e&&e(o)},lw=o=>{o.forEach(sw)};function rw({root:o,...e}){const n=o||document;Rc.has(n)||Rc.set(n,{});const s=Rc.get(n),l=JSON.stringify(e);return s[l]||(s[l]=new IntersectionObserver(lw,{root:o,...e})),s[l]}function uw(o,e,n){const s=rw(e);return lf.set(o,n),s.observe(o),()=>{lf.delete(o),s.unobserve(o)}}const cw={some:0,all:1};class fw extends li{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:l="some",once:u}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof l=="number"?l:cw[l]},m=y=>{const{isIntersecting:h}=y;if(this.isInView===h||(this.isInView=h,u&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:v,onViewportLeave:S}=this.node.getProps(),E=h?v:S;E&&E(y)};return uw(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(dw(e,n))&&this.startObserver()}unmount(){}}function dw({viewport:o={}},{viewport:e={}}={}){return n=>o[n]!==e[n]}const hw={inView:{Feature:fw},tap:{Feature:aw},focus:{Feature:ow},hover:{Feature:iw}},mw={layout:{ProjectionNode:r0,MeasureLayout:t0}},pw={...jR,...hw,...nw,...mw},gw=pR(pw,RR);function ev(o,e){return e.split(".").reduce((n,s)=>n?n[s]:void 0,o)}function nv(o,e,n){const s=e.split("."),l=s.pop();let u=o;for(const c of s)(typeof u[c]!="object"||u[c]===null)&&(u[c]={}),u=u[c];u[l]=n}function rf(o,e=[],n=.7){if(!e||e.length===0)return{ask:!0,reason:"missing"};const s=[...e].sort((l,u)=>u.confidence-l.confidence)[0];return s.confidence>=n?{value:s.value,ask:!1}:{value:s.value,ask:!0,reason:"low_confidence"}}function Mt(o){var s;if(typeof window<"u"&&window.t)try{const l=window.t(o);if(l&&l!==o)return console.log(`Chatbot: Using global translation for "${o}":`,l),l}catch{console.log("Chatbot: Global translation failed, using fallback")}const e={de:{"ai.chatbot.title":"Zufahrtsschutz-Assistent","ai.chatbot.welcome":"Willkommen zum Zufahrtsschutz-Assistenten. Ich stelle nur Fragen, die noch fehlen oder unsicher sind. Bereit?","ai.chatbot.assetQuestion":"Welche Schutzgter mchten Sie absichern? Hinweis: Grundlage fr Schutzziel & Schutzklasse (DIN SPEC 91414-2 / ISO 22343-2)","ai.chatbot.inputPlaceholder":"Antwort eingeben...","ai.chatbot.sendButton":"Senden","ai.chatbot.stakeholderQuestion":"Wer sind die relevanten Stakeholder (Behrden, Veranstalter, Betreiber)?","ai.chatbot.restRiskQuestion":"Welches akzeptable Restrisiko gilt?","ai.chatbot.operationalQuestion":"Betriebsanforderungen (mehrfach whlbar)","ai.chatbot.threatQuestion":"Welche Art fahrzeuggesttzter Bedrohung ist zu erwarten?","ai.chatbot.vehicleTypesQuestion":"Welche Fahrzeugtypen sind relevant?","ai.chatbot.accessCorridorsQuestion":"Wo knnten Fahrzeuge eindringen? (Karte markieren oder beschreiben)","ai.chatbot.speedQuestion":"Maximale Zufahrtsgeschwindigkeit (km/h)","ai.chatbot.angleQuestion":"Wahrscheinlicher Anprallwinkel ()","ai.chatbot.groundQuestion":"Untergrund/Fundamente am Standort","ai.chatbot.riskMatrixQuestion":"Risikobewertung: Eintrittswahrscheinlichkeit & Schadensausma","ai.chatbot.completionMessage":"Danke! Alle erforderlichen Angaben sind vorhanden. Mchten Sie den normkonformen PDF-Plan erzeugen?","ai.chatbot.infoPrefix":"Hinweis: ","ai.chatbot.assetQuestionInfo":"Grundlage fr Schutzziel & Schutzklasse (DIN SPEC 91414-2 / ISO 22343-2)","ai.chatbot.restRiskQuestionInfo":"Steuert Schutzklasse/Sicherungsgrad (DIN SPEC 91414-2)","ai.chatbot.speedQuestionInfo":"Pflichtparameter fr FSB-Performance (ISO 22343-2/-1)","ai.chatbot.angleQuestionInfo":"Pflichtparameter fr FSB-Performance (ISO 22343-2/-1)","ai.chatbot.riskMatrixQuestionInfo":"Erzeugt Sicherungsgrad & Schutzklasse (DIN SPEC 91414-2)","ai.chatbot.assetOptions":"Menschenmenge,Gebude,KRITIS-Prozess,Veranstaltungsflche","ai.chatbot.assetPlaceholder":"z. B. Menschenmenge, Bhne","ai.chatbot.stakeholderOptions":"Behrden,Veranstalter,Betreiber","ai.chatbot.restRiskOptions":"niedrig,mittel,hoch","ai.chatbot.operationalOptions":"Feuerwehrzufahrt,Fluchtwege,Verkehrssicherheit,Betriebssicherheit","ai.chatbot.threatOptions":"intentional,unbeabsichtigt,beides","ai.chatbot.vehicleOptions":"PKW,Transporter,LKW,Bus","ai.chatbot.groundOptions":"Asphalt,Beton,Pflaster,Erde,Unbekannt","ai.chatbot.riskMatrixOptions":"EW:niedrig|SA:gering,EW:niedrig|SA:mittel,EW:mittel|SA:mittel,EW:hoch|SA:schwer","ai.chatbot.accessCorridorsPlaceholder":"Polyline/Polygon auswhlen oder kurz beschreiben"},en:{"ai.chatbot.title":"Access Protection Assistant","ai.chatbot.welcome":"Welcome to the Access Protection Assistant. I only ask questions that are still missing or uncertain. Ready?","ai.chatbot.assetQuestion":"Which protective assets would you like to secure? Note: Basis for Protection Goal & Protection Class (DIN SPEC 91414-2 / ISO 22343-2)","ai.chatbot.inputPlaceholder":"Enter answer...","ai.chatbot.sendButton":"Send","ai.chatbot.stakeholderQuestion":"Who are the relevant stakeholders (authorities, organizers, operators)?","ai.chatbot.restRiskQuestion":"What acceptable residual risk applies?","ai.chatbot.operationalQuestion":"Operational requirements (multiple choice)","ai.chatbot.threatQuestion":"What type of vehicle-based threat is expected?","ai.chatbot.vehicleTypesQuestion":"Which vehicle types are relevant?","ai.chatbot.accessCorridorsQuestion":"Where could vehicles penetrate? (Mark on map or describe)","ai.chatbot.speedQuestion":"Maximum access speed (km/h)","ai.chatbot.angleQuestion":"Probable impact angle ()","ai.chatbot.groundQuestion":"Ground/foundations at the site","ai.chatbot.riskMatrixQuestion":"Risk assessment: probability of occurrence & extent of damage","ai.chatbot.completionMessage":"Thank you! All required information is available. Would you like to generate the standards-compliant PDF plan?","ai.chatbot.infoPrefix":"Note: ","ai.chatbot.assetQuestionInfo":"Basis for Protection Goal & Protection Class (DIN SPEC 91414-2 / ISO 22343-2)","ai.chatbot.restRiskQuestionInfo":"Controls Protection Class/Security Level (DIN SPEC 91414-2)","ai.chatbot.speedQuestionInfo":"Required parameter for FSB performance (ISO 22343-2/-1)","ai.chatbot.angleQuestionInfo":"Required parameter for FSB performance (ISO 22343-2/-1)","ai.chatbot.riskMatrixQuestionInfo":"Generates Security Level & Protection Class (DIN SPEC 91414-2)","ai.chatbot.assetOptions":"Crowd,Building,CRITIS Process,Event Area","ai.chatbot.assetPlaceholder":"e.g. crowd, stage","ai.chatbot.stakeholderOptions":"Authorities,Organizers,Operators","ai.chatbot.restRiskOptions":"low,medium,high","ai.chatbot.operationalOptions":"Fire Brigade Access,Escape Routes,Traffic Safety,Operational Safety","ai.chatbot.threatOptions":"intentional,unintentional,both","ai.chatbot.vehicleOptions":"Car,Van,Truck,Bus","ai.chatbot.groundOptions":"Asphalt,Concrete,Pavement,Earth,Unknown","ai.chatbot.riskMatrixOptions":"PO:low|SD:medium,PO:medium|SD:medium,PO:high|SD:severe","ai.chatbot.accessCorridorsPlaceholder":"Select polyline/polygon or describe briefly"}};let n="de";if(typeof window<"u")if(window.currentLanguage)n=window.currentLanguage,console.log("Chatbot: Language from window.currentLanguage:",n);else if(window.translations&&window.translations.currentLanguage)n=window.translations.currentLanguage,console.log("Chatbot: Language from window.translations.currentLanguage:",n);else{const l=document.querySelector('.lang-btn[data-lang="de"].active'),u=document.querySelector('.lang-btn[data-lang="en"].active');if(console.log("Chatbot: DOM flag detection - German flag:",l,"English flag:",u),u)n="en",console.log("Chatbot: Language from DOM flag detection (EN):",n);else if(l)n="de",console.log("Chatbot: Language from DOM flag detection (DE):",n);else{console.log("Chatbot: Language detection failed, using default (DE)");const c=document.querySelectorAll(".lang-btn");console.log("Chatbot: All lang-btn elements found:",c),c.forEach((m,y)=>{console.log(`Chatbot: lang-btn ${y}:`,{classList:m.classList.toString(),dataLang:m.dataset.lang,isActive:m.classList.contains("active")})})}}return console.log(`Chatbot translation for key "${o}": language="${n}", result="${((s=e[n])==null?void 0:s[o])||o}"`),e[n]&&e[n][o]?e[n][o]:o}function yw(){return[{id:"schutzgueter",label:Mt("ai.chatbot.assetQuestion"),field:"schutzgter",type:"chips",options:Mt("ai.chatbot.assetOptions").split(","),placeholder:Mt("ai.chatbot.assetPlaceholder"),info:Mt("ai.chatbot.assetQuestionInfo")},{id:"stakeholder",label:Mt("ai.chatbot.stakeholderQuestion"),field:"stakeholder",type:"chips",options:Mt("ai.chatbot.stakeholderOptions").split(",")},{id:"restrisiko",label:Mt("ai.chatbot.restRiskQuestion"),field:"restrisiko.klasse",type:"select",options:Mt("ai.chatbot.restRiskOptions").split(","),info:Mt("ai.chatbot.restRiskQuestionInfo")},{id:"betrieb",label:Mt("ai.chatbot.operationalQuestion"),field:"betrieb",type:"multiselect",options:Mt("ai.chatbot.operationalOptions").split(",")},{id:"bedrohung",label:Mt("ai.chatbot.threatQuestion"),field:"risiko.bedrohung.art",type:"select",options:Mt("ai.chatbot.threatOptions").split(",")},{id:"fahrzeugtypen",label:Mt("ai.chatbot.vehicleTypesQuestion"),field:"risiko.bedrohung.fahrzeugtypen",type:"chips",options:Mt("ai.chatbot.vehicleOptions").split(",")},{id:"anfahrkorridore",label:Mt("ai.chatbot.accessCorridorsQuestion"),field:"risiko.site.anfahrkorridore",type:"geo",placeholder:Mt("ai.chatbot.accessCorridorsPlaceholder")},{id:"geschwindigkeit",label:Mt("ai.chatbot.speedQuestion"),field:"risiko.dynamik.v_kmh",type:"number",info:Mt("ai.chatbot.speedQuestionInfo"),resolver:o=>rf("risiko.dynamik.v_kmh",o,.7)},{id:"winkel",label:Mt("ai.chatbot.angleQuestion"),field:"risiko.dynamik.winkel_grad",type:"number",info:Mt("ai.chatbot.angleQuestionInfo"),resolver:o=>rf("risiko.dynamik.winkel_grad",o,.7)},{id:"untergrund",label:Mt("ai.chatbot.groundQuestion"),field:"risiko.site.untergrund",type:"select",options:Mt("ai.chatbot.groundOptions").split(",")},{id:"risikomatrix",label:Mt("ai.chatbot.riskMatrixQuestion"),field:"risiko.matrix",type:"select",options:Mt("ai.chatbot.riskMatrixOptions").split(","),info:Mt("ai.chatbot.riskMatrixQuestionInfo")}]}function vw({open:o,onToggle:e}){return It.jsx("button",{"aria-label":Mt("ai.chatbot.title"),onClick:e,className:"zb-btn",children:It.jsx("span",{className:"text-xl",children:o?"":""})})}function Tw({role:o,text:e}){const n=o==="bot";return It.jsx("div",{className:`zb-msg ${n?"zb-msg-left":"zb-msg-right"}`,children:It.jsx("div",{className:`zb-bubble ${n?"zb-bot":"zb-user"}`,children:e})})}function Sw({onSend:o}){const[e,n]=tt.useState("");return It.jsxs("div",{className:"zb-input",children:[It.jsx("input",{className:"zb-input-field",placeholder:Mt("ai.chatbot.inputPlaceholder"),value:e,onChange:s=>n(s.target.value),onKeyDown:s=>{s.key==="Enter"&&e.trim()&&(o(e.trim()),n(""))}}),It.jsx("button",{className:"zb-input-send",onClick:()=>{e.trim()&&(o(e.trim()),n(""))},children:Mt("ai.chatbot.sendButton")})]})}function Ew({planningState:o,setPlanningState:e,getCandidatesFor:n}){const[s,l]=tt.useState({}),u=o??s,c=e??(w=>l(X=>w(X)));window.planningState=u;const[m,y]=tt.useState(!0),[h,v]=tt.useState([]),[S,E]=tt.useState(null),[b,A]=tt.useState(!1),D=tt.useRef(null);tt.useEffect(()=>{h.length===0&&z(Mt("ai.chatbot.welcome"))},[]),tt.useEffect(()=>{h.length>0&&(D.current&&(D.current.scrollTop=D.current.scrollHeight),setTimeout(()=>{D.current&&(D.current.scrollTop=D.current.scrollHeight)},50))},[h.length]);function z(w){v(X=>[...X,{role:"bot",text:w}])}function k(w,X){v(Z=>[...Z,{role:"user",text:w,field:X}])}const F=w=>{const X=ev(u,w.field);if(X!=null&&X!=="")return{ask:!1,value:X};const Z=n?n(w.field):[];return w.resolver?w.resolver(Z):rf(w.field,Z,.7)};function N(){for(const w of yw()){if(w.dependsOn&&w.dependsOn.find(H=>!ev(u,H)))continue;const X=F(w);if(X.ask)return w;X.value!==void 0&&c(Z=>{const H={...Z??{}};return nv(H,w.field,X.value),H})}return null}tt.useEffect(()=>{if(b||S)return;const w=N();if(w){E(w);const X=w.label,Z=w.info?Mt("ai.chatbot.infoPrefix")+w.info:"";z(X+(Z?`

${Z}`:""))}else!b&&h.length>0&&(z(Mt("ai.chatbot.completionMessage")),A(!0))},[u,m,S,b]),tt.useEffect(()=>{const w=()=>{console.log("Language changed, re-rendering chatbot"),v([]),E(null),A(!1),setTimeout(()=>{z(Mt("ai.chatbot.welcome"))},100)};window.addEventListener("languageChanged",w);const X=setInterval(()=>{const Z=window.currentLanguage;Z&&Z!==window.lastChatbotLanguage&&(window.lastChatbotLanguage=Z,console.log("Chatbot: Language change detected via polling:",Z),w());const H=document.querySelector('.lang-btn[data-lang="de"].active'),ot=document.querySelector('.lang-btn[data-lang="en"].active');let lt=null;ot?lt="en":H&&(lt="de"),lt&&lt!==window.lastChatbotDetectedLanguage&&(window.lastChatbotDetectedLanguage=lt,console.log("Chatbot: Language change detected via DOM flags:",lt),w())},100);return()=>{window.removeEventListener("languageChanged",w),clearInterval(X)}},[]);function K(w){if(!S){/^(ja|start|bereit|ok|okay|los)/i.test(w)&&(A(!1),E(null)),k(w);return}k(w,S.field);let X=w;if(S.type==="number"){const Z=parseFloat(w.replace(",","."));X=isNaN(Z)?void 0:Z}else S.type==="chips"?X=w.split(",").map(Z=>Z.trim()).filter(Boolean):S.type==="multiselect"?X=w.split(",").map(Z=>Z.trim()).filter(Boolean):S.type==="select"?X=w.trim():S.type==="bool"&&(X=/^(ja|true|y|yes)$/i.test(w));c(Z=>{const H={...Z??{}};return X!==void 0&&nv(H,S.field,X),H}),E(null)}return It.jsxs(It.Fragment,{children:[It.jsx(vw,{open:m,onToggle:()=>y(w=>!w)}),It.jsx(I_,{children:m&&It.jsxs(gw.aside,{initial:{x:380,opacity:0},animate:{x:0,opacity:1},exit:{x:380,opacity:0},transition:{type:"spring",stiffness:240,damping:28},className:"zb-panel","aria-label":"Zufahrtsschutz-Assistent Panel",children:[It.jsx("header",{className:"zb-header",children:It.jsx("div",{className:"zb-title",children:Mt("ai.chatbot.title")})}),It.jsx("div",{className:"zb-messages",ref:D,children:h.map((w,X)=>It.jsx(Tw,{role:w.role,text:w.text},X))}),It.jsx(Sw,{onSend:K})]})})]})}var Dc={exports:{}},Pa={},wc={exports:{}},Nc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function Cw(){return iv||(iv=1,function(o){function e(P,q){var $=P.length;P.push(q);t:for(;0<$;){var rt=$-1>>>1,x=P[rt];if(0<l(x,q))P[rt]=q,P[$]=x,$=rt;else break t}}function n(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var q=P[0],$=P.pop();if($!==q){P[0]=$;t:for(var rt=0,x=P.length,Q=x>>>1;rt<Q;){var et=2*(rt+1)-1,W=P[et],ut=et+1,xt=P[ut];if(0>l(W,$))ut<x&&0>l(xt,W)?(P[rt]=xt,P[ut]=$,rt=ut):(P[rt]=W,P[et]=$,rt=et);else if(ut<x&&0>l(xt,$))P[rt]=xt,P[ut]=$,rt=ut;else break t}}return q}function l(P,q){var $=P.sortIndex-q.sortIndex;return $!==0?$:P.id-q.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;o.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();o.unstable_now=function(){return c.now()-m}}var y=[],h=[],v=1,S=null,E=3,b=!1,A=!1,D=!1,z=!1,k=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function K(P){for(var q=n(h);q!==null;){if(q.callback===null)s(h);else if(q.startTime<=P)s(h),q.sortIndex=q.expirationTime,e(y,q);else break;q=n(h)}}function w(P){if(D=!1,K(P),!A)if(n(y)!==null)A=!0,X||(X=!0,Tt());else{var q=n(h);q!==null&&j(w,q.startTime-P)}}var X=!1,Z=-1,H=5,ot=-1;function lt(){return z?!0:!(o.unstable_now()-ot<H)}function yt(){if(z=!1,X){var P=o.unstable_now();ot=P;var q=!0;try{t:{A=!1,D&&(D=!1,F(Z),Z=-1),b=!0;var $=E;try{e:{for(K(P),S=n(y);S!==null&&!(S.expirationTime>P&&lt());){var rt=S.callback;if(typeof rt=="function"){S.callback=null,E=S.priorityLevel;var x=rt(S.expirationTime<=P);if(P=o.unstable_now(),typeof x=="function"){S.callback=x,K(P),q=!0;break e}S===n(y)&&s(y),K(P)}else s(y);S=n(y)}if(S!==null)q=!0;else{var Q=n(h);Q!==null&&j(w,Q.startTime-P),q=!1}}break t}finally{S=null,E=$,b=!1}q=void 0}}finally{q?Tt():X=!1}}}var Tt;if(typeof N=="function")Tt=function(){N(yt)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,J=dt.port2;dt.port1.onmessage=yt,Tt=function(){J.postMessage(null)}}else Tt=function(){k(yt,0)};function j(P,q){Z=k(function(){P(o.unstable_now())},q)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(P){P.callback=null},o.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<P?Math.floor(1e3/P):5},o.unstable_getCurrentPriorityLevel=function(){return E},o.unstable_next=function(P){switch(E){case 1:case 2:case 3:var q=3;break;default:q=E}var $=E;E=q;try{return P()}finally{E=$}},o.unstable_requestPaint=function(){z=!0},o.unstable_runWithPriority=function(P,q){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var $=E;E=P;try{return q()}finally{E=$}},o.unstable_scheduleCallback=function(P,q,$){var rt=o.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?rt+$:rt):$=rt,P){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=$+x,P={id:v++,callback:q,priorityLevel:P,startTime:$,expirationTime:x,sortIndex:-1},$>rt?(P.sortIndex=$,e(h,P),n(y)===null&&P===n(h)&&(D?(F(Z),Z=-1):D=!0,j(w,$-rt))):(P.sortIndex=x,e(y,P),A||b||(A=!0,X||(X=!0,Tt()))),P},o.unstable_shouldYield=lt,o.unstable_wrapCallback=function(P){var q=E;return function(){var $=E;E=q;try{return P.apply(this,arguments)}finally{E=$}}}}(Nc)),Nc}var ov;function bw(){return ov||(ov=1,wc.exports=Cw()),wc.exports}var Lc={exports:{}},he={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function Aw(){if(av)return he;av=1;var o=ff();function e(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,h,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:h,implementation:v}}var c=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return he.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,he.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return u(y,h,null,v)},he.flushSync=function(y){var h=c.T,v=s.p;try{if(c.T=null,s.p=2,y)return y()}finally{c.T=h,s.p=v,s.d.f()}},he.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(y,h))},he.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},he.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,S=m(v,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?s.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:b}):v==="script"&&s.d.X(y,{crossOrigin:S,integrity:E,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},he.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=m(h.as,h.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(y)},he.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,S=m(v,h.crossOrigin);s.d.L(y,v,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},he.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=m(h.as,h.crossOrigin);s.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(y)},he.requestFormReset=function(y){s.d.r(y)},he.unstable_batchedUpdates=function(y,h){return y(h)},he.useFormState=function(y,h,v){return c.H.useFormState(y,h,v)},he.useFormStatus=function(){return c.H.useHostTransitionStatus()},he.version="19.1.1",he}var sv;function Mw(){if(sv)return Lc.exports;sv=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),Lc.exports=Aw(),Lc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function xw(){if(lv)return Pa;lv=1;var o=bw(),e=ff(),n=Mw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,r=i;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(r=f.return,r!==null){a=r;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return m(f),t;if(g===r)return m(f),i;g=g.sibling}throw Error(s(188))}if(a.return!==r.return)a=f,r=g;else{for(var T=!1,C=f.child;C;){if(C===a){T=!0,a=f,r=g;break}if(C===r){T=!0,r=f,a=g;break}C=C.sibling}if(!T){for(C=g.child;C;){if(C===a){T=!0,a=g,r=f;break}if(C===r){T=!0,r=g,a=f;break}C=C.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==r)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function h(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=h(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),N=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),ot=Symbol.for("react.activity"),lt=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function Tt(t){return t===null||typeof t!="object"?null:(t=yt&&t[yt]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Symbol.for("react.client.reference");function J(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===dt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case z:return"Profiler";case D:return"StrictMode";case w:return"Suspense";case X:return"SuspenseList";case ot:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case N:return(t.displayName||"Context")+".Provider";case F:return(t._context.displayName||"Context")+".Consumer";case K:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z:return i=t.displayName||null,i!==null?i:J(t.type)||"Memo";case H:i=t._payload,t=t._init;try{return J(t(i))}catch{}}return null}var j=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},rt=[],x=-1;function Q(t){return{current:t}}function et(t){0>x||(t.current=rt[x],rt[x]=null,x--)}function W(t,i){x++,rt[x]=t.current,t.current=i}var ut=Q(null),xt=Q(null),pt=Q(null),_e=Q(null);function kt(t,i){switch(W(pt,i),W(xt,t),W(ut,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?dp(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=dp(i),t=hp(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ut),W(ut,t)}function wn(){et(ut),et(xt),et(pt)}function $l(t){t.memoizedState!==null&&W(_e,t);var i=ut.current,a=hp(i,t.type);i!==a&&(W(xt,t),W(ut,a))}function os(t){xt.current===t&&(et(ut),et(xt)),_e.current===t&&(et(_e),_a._currentValue=$)}var Wl=Object.prototype.hasOwnProperty,jl=o.unstable_scheduleCallback,tr=o.unstable_cancelCallback,y0=o.unstable_shouldYield,v0=o.unstable_requestPaint,tn=o.unstable_now,T0=o.unstable_getCurrentPriorityLevel,Kf=o.unstable_ImmediatePriority,Qf=o.unstable_UserBlockingPriority,as=o.unstable_NormalPriority,S0=o.unstable_LowPriority,Xf=o.unstable_IdlePriority,E0=o.log,C0=o.unstable_setDisableYieldValue,Bo=null,Re=null;function Nn(t){if(typeof E0=="function"&&C0(t),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(Bo,t)}catch{}}var De=Math.clz32?Math.clz32:M0,b0=Math.log,A0=Math.LN2;function M0(t){return t>>>=0,t===0?32:31-(b0(t)/A0|0)|0}var ss=256,ls=4194304;function ri(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function rs(t,i,a){var r=t.pendingLanes;if(r===0)return 0;var f=0,g=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var C=r&134217727;return C!==0?(r=C&~g,r!==0?f=ri(r):(T&=C,T!==0?f=ri(T):a||(a=C&~t,a!==0&&(f=ri(a))))):(C=r&~g,C!==0?f=ri(C):T!==0?f=ri(T):a||(a=r&~t,a!==0&&(f=ri(a)))),f===0?0:i!==0&&i!==f&&(i&g)===0&&(g=f&-f,a=i&-i,g>=a||g===32&&(a&4194048)!==0)?i:f}function Uo(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function x0(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zf(){var t=ss;return ss<<=1,(ss&4194048)===0&&(ss=256),t}function Jf(){var t=ls;return ls<<=1,(ls&62914560)===0&&(ls=4194304),t}function er(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Io(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _0(t,i,a,r,f,g){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var C=t.entanglements,M=t.expirationTimes,B=t.hiddenUpdates;for(a=T&~a;0<a;){var O=31-De(a),Y=1<<O;C[O]=0,M[O]=-1;var U=B[O];if(U!==null)for(B[O]=null,O=0;O<U.length;O++){var I=U[O];I!==null&&(I.lane&=-536870913)}a&=~Y}r!==0&&$f(t,r,0),g!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=g&~(T&~i))}function $f(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var r=31-De(i);t.entangledLanes|=i,t.entanglements[r]=t.entanglements[r]|1073741824|a&4194090}function Wf(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var r=31-De(a),f=1<<r;f&i|t[r]&i&&(t[r]|=i),a&=~f}}function nr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ir(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function jf(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:Lp(t.type))}function R0(t,i){var a=q.p;try{return q.p=t,i()}finally{q.p=a}}var Ln=Math.random().toString(36).slice(2),fe="__reactFiber$"+Ln,Se="__reactProps$"+Ln,Bi="__reactContainer$"+Ln,or="__reactEvents$"+Ln,D0="__reactListeners$"+Ln,w0="__reactHandles$"+Ln,td="__reactResources$"+Ln,zo="__reactMarker$"+Ln;function ar(t){delete t[fe],delete t[Se],delete t[or],delete t[D0],delete t[w0]}function Ui(t){var i=t[fe];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Bi]||a[fe]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=yp(t);t!==null;){if(a=t[fe])return a;t=yp(t)}return i}t=a,a=t.parentNode}return null}function Ii(t){if(t=t[fe]||t[Bi]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ko(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function zi(t){var i=t[td];return i||(i=t[td]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ie(t){t[zo]=!0}var ed=new Set,nd={};function ui(t,i){ki(t,i),ki(t+"Capture",i)}function ki(t,i){for(nd[t]=i,t=0;t<i.length;t++)ed.add(i[t])}var N0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),id={},od={};function L0(t){return Wl.call(od,t)?!0:Wl.call(id,t)?!1:N0.test(t)?od[t]=!0:(id[t]=!0,!1)}function us(t,i,a){if(L0(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function cs(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function fn(t,i,a,r){if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+r)}}var sr,ad;function Oi(t){if(sr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);sr=i&&i[1]||"",ad=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sr+t+ad}var lr=!1;function rr(t,i){if(!t||lr)return"";lr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(I){var U=I}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(I){U=I}t.call(Y.prototype)}}else{try{throw Error()}catch(I){U=I}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(I){if(I&&U&&typeof I.stack=="string")return[I.stack,U.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=r.DetermineComponentFrameRoot(),T=g[0],C=g[1];if(T&&C){var M=T.split(`
`),B=C.split(`
`);for(f=r=0;r<M.length&&!M[r].includes("DetermineComponentFrameRoot");)r++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(r===M.length||f===B.length)for(r=M.length-1,f=B.length-1;1<=r&&0<=f&&M[r]!==B[f];)f--;for(;1<=r&&0<=f;r--,f--)if(M[r]!==B[f]){if(r!==1||f!==1)do if(r--,f--,0>f||M[r]!==B[f]){var O=`
`+M[r].replace(" at new "," at ");return t.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",t.displayName)),O}while(1<=r&&0<=f);break}}}finally{lr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Oi(a):""}function V0(t){switch(t.tag){case 26:case 27:case 5:return Oi(t.type);case 16:return Oi("Lazy");case 13:return Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 15:return rr(t.type,!1);case 11:return rr(t.type.render,!1);case 1:return rr(t.type,!0);case 31:return Oi("Activity");default:return""}}function sd(t){try{var i="";do i+=V0(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ie(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ld(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function P0(t){var i=ld(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),r=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){r=""+T,g.call(this,T)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(T){r=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function fs(t){t._valueTracker||(t._valueTracker=P0(t))}function rd(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),r="";return t&&(r=ld(t)?t.checked?"true":"false":t.value),t=r,t!==a?(i.setValue(t),!0):!1}function ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var B0=/[\n"\\]/g;function ze(t){return t.replace(B0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ur(t,i,a,r,f,g,T,C){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ie(i)):t.value!==""+Ie(i)&&(t.value=""+Ie(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?cr(t,T,Ie(i)):a!=null?cr(t,T,Ie(a)):r!=null&&t.removeAttribute("value"),f==null&&g!=null&&(t.defaultChecked=!!g),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+Ie(C):t.removeAttribute("name")}function ud(t,i,a,r,f,g,T,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),i!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;a=a!=null?""+Ie(a):"",i=i!=null?""+Ie(i):a,C||i===t.value||(t.value=i),t.defaultValue=i}r=r??f,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=C?t.checked:!!r,t.defaultChecked=!!r,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function cr(t,i,a){i==="number"&&ds(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function qi(t,i,a,r){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&r&&(t[a].defaultSelected=!0)}else{for(a=""+Ie(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,r&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function cd(t,i,a){if(i!=null&&(i=""+Ie(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ie(a):""}function fd(t,i,a,r){if(i==null){if(r!=null){if(a!=null)throw Error(s(92));if(j(r)){if(1<r.length)throw Error(s(93));r=r[0]}a=r}a==null&&(a=""),i=a}a=Ie(i),t.defaultValue=a,r=t.textContent,r===a&&r!==""&&r!==null&&(t.value=r)}function Gi(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var U0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dd(t,i,a){var r=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":r?t.setProperty(i,a):typeof a!="number"||a===0||U0.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function hd(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var f in i)r=i[f],i.hasOwnProperty(f)&&a[f]!==r&&dd(t,f,r)}else for(var g in i)i.hasOwnProperty(g)&&dd(t,g,i[g])}function fr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),z0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hs(t){return z0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var dr=null;function hr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hi=null,Fi=null;function md(t){var i=Ii(t);if(i&&(t=i.stateNode)){var a=t[Se]||null;t:switch(t=i.stateNode,i.type){case"input":if(ur(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ze(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var r=a[i];if(r!==t&&r.form===t.form){var f=r[Se]||null;if(!f)throw Error(s(90));ur(r,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)r=a[i],r.form===t.form&&rd(r)}break t;case"textarea":cd(t,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&qi(t,!!a.multiple,i,!1)}}}var mr=!1;function pd(t,i,a){if(mr)return t(i,a);mr=!0;try{var r=t(i);return r}finally{if(mr=!1,(Hi!==null||Fi!==null)&&(Ws(),Hi&&(i=Hi,t=Fi,Fi=Hi=null,md(i),t)))for(i=0;i<t.length;i++)md(t[i])}}function Oo(t,i){var a=t.stateNode;if(a===null)return null;var r=a[Se]||null;if(r===null)return null;a=r[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pr=!1;if(dn)try{var qo={};Object.defineProperty(qo,"passive",{get:function(){pr=!0}}),window.addEventListener("test",qo,qo),window.removeEventListener("test",qo,qo)}catch{pr=!1}var Vn=null,gr=null,ms=null;function gd(){if(ms)return ms;var t,i=gr,a=i.length,r,f="value"in Vn?Vn.value:Vn.textContent,g=f.length;for(t=0;t<a&&i[t]===f[t];t++);var T=a-t;for(r=1;r<=T&&i[a-r]===f[g-r];r++);return ms=f.slice(t,1<r?1-r:void 0)}function ps(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function gs(){return!0}function yd(){return!1}function Ee(t){function i(a,r,f,g,T){this._reactName=a,this._targetInst=f,this.type=r,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(a=t[C],this[C]=a?a(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?gs:yd,this.isPropagationStopped=yd,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),i}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ys=Ee(ci),Go=v({},ci,{view:0,detail:0}),k0=Ee(Go),yr,vr,Ho,vs=v({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ho&&(Ho&&t.type==="mousemove"?(yr=t.screenX-Ho.screenX,vr=t.screenY-Ho.screenY):vr=yr=0,Ho=t),yr)},movementY:function(t){return"movementY"in t?t.movementY:vr}}),vd=Ee(vs),O0=v({},vs,{dataTransfer:0}),q0=Ee(O0),G0=v({},Go,{relatedTarget:0}),Tr=Ee(G0),H0=v({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),F0=Ee(H0),Y0=v({},ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),K0=Ee(Y0),Q0=v({},ci,{data:0}),Td=Ee(Q0),X0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $0(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=J0[t])?!!i[t]:!1}function Sr(){return $0}var W0=v({},Go,{key:function(t){if(t.key){var i=X0[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ps(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Z0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(t){return t.type==="keypress"?ps(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ps(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),j0=Ee(W0),tS=v({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sd=Ee(tS),eS=v({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),nS=Ee(eS),iS=v({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),oS=Ee(iS),aS=v({},vs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sS=Ee(aS),lS=v({},ci,{newState:0,oldState:0}),rS=Ee(lS),uS=[9,13,27,32],Er=dn&&"CompositionEvent"in window,Fo=null;dn&&"documentMode"in document&&(Fo=document.documentMode);var cS=dn&&"TextEvent"in window&&!Fo,Ed=dn&&(!Er||Fo&&8<Fo&&11>=Fo),Cd=" ",bd=!1;function Ad(t,i){switch(t){case"keyup":return uS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Md(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yi=!1;function fS(t,i){switch(t){case"compositionend":return Md(i);case"keypress":return i.which!==32?null:(bd=!0,Cd);case"textInput":return t=i.data,t===Cd&&bd?null:t;default:return null}}function dS(t,i){if(Yi)return t==="compositionend"||!Er&&Ad(t,i)?(t=gd(),ms=gr=Vn=null,Yi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ed&&i.locale!=="ko"?null:i.data;default:return null}}var hS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!hS[t.type]:i==="textarea"}function _d(t,i,a,r){Hi?Fi?Fi.push(r):Fi=[r]:Hi=r,i=ol(i,"onChange"),0<i.length&&(a=new ys("onChange","change",null,a,r),t.push({event:a,listeners:i}))}var Yo=null,Ko=null;function mS(t){lp(t,0)}function Ts(t){var i=ko(t);if(rd(i))return t}function Rd(t,i){if(t==="change")return i}var Dd=!1;if(dn){var Cr;if(dn){var br="oninput"in document;if(!br){var wd=document.createElement("div");wd.setAttribute("oninput","return;"),br=typeof wd.oninput=="function"}Cr=br}else Cr=!1;Dd=Cr&&(!document.documentMode||9<document.documentMode)}function Nd(){Yo&&(Yo.detachEvent("onpropertychange",Ld),Ko=Yo=null)}function Ld(t){if(t.propertyName==="value"&&Ts(Ko)){var i=[];_d(i,Ko,t,hr(t)),pd(mS,i)}}function pS(t,i,a){t==="focusin"?(Nd(),Yo=i,Ko=a,Yo.attachEvent("onpropertychange",Ld)):t==="focusout"&&Nd()}function gS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ts(Ko)}function yS(t,i){if(t==="click")return Ts(i)}function vS(t,i){if(t==="input"||t==="change")return Ts(i)}function TS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var we=typeof Object.is=="function"?Object.is:TS;function Qo(t,i){if(we(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),r=Object.keys(i);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var f=a[r];if(!Wl.call(i,f)||!we(t[f],i[f]))return!1}return!0}function Vd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pd(t,i){var a=Vd(t);t=0;for(var r;a;){if(a.nodeType===3){if(r=t+a.textContent.length,t<=i&&r>=i)return{node:a,offset:i-t};t=r}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Vd(a)}}function Bd(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Bd(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ud(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ds(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ds(t.document)}return i}function Ar(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var SS=dn&&"documentMode"in document&&11>=document.documentMode,Ki=null,Mr=null,Xo=null,xr=!1;function Id(t,i,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xr||Ki==null||Ki!==ds(r)||(r=Ki,"selectionStart"in r&&Ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xo&&Qo(Xo,r)||(Xo=r,r=ol(Mr,"onSelect"),0<r.length&&(i=new ys("onSelect","select",null,i,a),t.push({event:i,listeners:r}),i.target=Ki)))}function fi(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Qi={animationend:fi("Animation","AnimationEnd"),animationiteration:fi("Animation","AnimationIteration"),animationstart:fi("Animation","AnimationStart"),transitionrun:fi("Transition","TransitionRun"),transitionstart:fi("Transition","TransitionStart"),transitioncancel:fi("Transition","TransitionCancel"),transitionend:fi("Transition","TransitionEnd")},_r={},zd={};dn&&(zd=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function di(t){if(_r[t])return _r[t];if(!Qi[t])return t;var i=Qi[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in zd)return _r[t]=i[a];return t}var kd=di("animationend"),Od=di("animationiteration"),qd=di("animationstart"),ES=di("transitionrun"),CS=di("transitionstart"),bS=di("transitioncancel"),Gd=di("transitionend"),Hd=new Map,Rr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rr.push("scrollEnd");function Ze(t,i){Hd.set(t,i),ui(i,[t])}var Fd=new WeakMap;function ke(t,i){if(typeof t=="object"&&t!==null){var a=Fd.get(t);return a!==void 0?a:(i={value:t,source:i,stack:sd(i)},Fd.set(t,i),i)}return{value:t,source:i,stack:sd(i)}}var Oe=[],Xi=0,Dr=0;function Ss(){for(var t=Xi,i=Dr=Xi=0;i<t;){var a=Oe[i];Oe[i++]=null;var r=Oe[i];Oe[i++]=null;var f=Oe[i];Oe[i++]=null;var g=Oe[i];if(Oe[i++]=null,r!==null&&f!==null){var T=r.pending;T===null?f.next=f:(f.next=T.next,T.next=f),r.pending=f}g!==0&&Yd(a,f,g)}}function Es(t,i,a,r){Oe[Xi++]=t,Oe[Xi++]=i,Oe[Xi++]=a,Oe[Xi++]=r,Dr|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function wr(t,i,a,r){return Es(t,i,a,r),Cs(t)}function Zi(t,i){return Es(t,null,null,i),Cs(t)}function Yd(t,i,a){t.lanes|=a;var r=t.alternate;r!==null&&(r.lanes|=a);for(var f=!1,g=t.return;g!==null;)g.childLanes|=a,r=g.alternate,r!==null&&(r.childLanes|=a),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(f=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,f&&i!==null&&(f=31-De(a),t=g.hiddenUpdates,r=t[f],r===null?t[f]=[i]:r.push(i),i.lane=a|536870912),g):null}function Cs(t){if(50<Ta)throw Ta=0,Uu=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ji={};function AS(t,i,a,r){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ne(t,i,a,r){return new AS(t,i,a,r)}function Nr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hn(t,i){var a=t.alternate;return a===null?(a=Ne(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Kd(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function bs(t,i,a,r,f,g){var T=0;if(r=t,typeof t=="function")Nr(t)&&(T=1);else if(typeof t=="string")T=xE(t,a,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case ot:return t=Ne(31,a,i,f),t.elementType=ot,t.lanes=g,t;case A:return hi(a.children,f,g,i);case D:T=8,f|=24;break;case z:return t=Ne(12,a,i,f|2),t.elementType=z,t.lanes=g,t;case w:return t=Ne(13,a,i,f),t.elementType=w,t.lanes=g,t;case X:return t=Ne(19,a,i,f),t.elementType=X,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:case N:T=10;break t;case F:T=9;break t;case K:T=11;break t;case Z:T=14;break t;case H:T=16,r=null;break t}T=29,a=Error(s(130,t===null?"null":typeof t,"")),r=null}return i=Ne(T,a,i,f),i.elementType=t,i.type=r,i.lanes=g,i}function hi(t,i,a,r){return t=Ne(7,t,r,i),t.lanes=a,t}function Lr(t,i,a){return t=Ne(6,t,null,i),t.lanes=a,t}function Vr(t,i,a){return i=Ne(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var $i=[],Wi=0,As=null,Ms=0,qe=[],Ge=0,mi=null,mn=1,pn="";function pi(t,i){$i[Wi++]=Ms,$i[Wi++]=As,As=t,Ms=i}function Qd(t,i,a){qe[Ge++]=mn,qe[Ge++]=pn,qe[Ge++]=mi,mi=t;var r=mn;t=pn;var f=32-De(r)-1;r&=~(1<<f),a+=1;var g=32-De(i)+f;if(30<g){var T=f-f%5;g=(r&(1<<T)-1).toString(32),r>>=T,f-=T,mn=1<<32-De(i)+f|a<<f|r,pn=g+t}else mn=1<<g|a<<f|r,pn=t}function Pr(t){t.return!==null&&(pi(t,1),Qd(t,1,0))}function Br(t){for(;t===As;)As=$i[--Wi],$i[Wi]=null,Ms=$i[--Wi],$i[Wi]=null;for(;t===mi;)mi=qe[--Ge],qe[Ge]=null,pn=qe[--Ge],qe[Ge]=null,mn=qe[--Ge],qe[Ge]=null}var ge=null,Ft=null,Rt=!1,gi=null,en=!1,Ur=Error(s(519));function yi(t){var i=Error(s(418,""));throw $o(ke(i,t)),Ur}function Xd(t){var i=t.stateNode,a=t.type,r=t.memoizedProps;switch(i[fe]=t,i[Se]=r,a){case"dialog":bt("cancel",i),bt("close",i);break;case"iframe":case"object":case"embed":bt("load",i);break;case"video":case"audio":for(a=0;a<Ea.length;a++)bt(Ea[a],i);break;case"source":bt("error",i);break;case"img":case"image":case"link":bt("error",i),bt("load",i);break;case"details":bt("toggle",i);break;case"input":bt("invalid",i),ud(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),fs(i);break;case"select":bt("invalid",i);break;case"textarea":bt("invalid",i),fd(i,r.value,r.defaultValue,r.children),fs(i)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||r.suppressHydrationWarning===!0||fp(i.textContent,a)?(r.popover!=null&&(bt("beforetoggle",i),bt("toggle",i)),r.onScroll!=null&&bt("scroll",i),r.onScrollEnd!=null&&bt("scrollend",i),r.onClick!=null&&(i.onclick=al),i=!0):i=!1,i||yi(t)}function Zd(t){for(ge=t.return;ge;)switch(ge.tag){case 5:case 13:en=!1;return;case 27:case 3:en=!0;return;default:ge=ge.return}}function Zo(t){if(t!==ge)return!1;if(!Rt)return Zd(t),Rt=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wu(t.type,t.memoizedProps)),a=!a),a&&Ft&&yi(t),Zd(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Ft=$e(t.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Ft=null}}else i===27?(i=Ft,Zn(t.type)?(t=nc,nc=null,Ft=t):Ft=i):Ft=ge?$e(t.stateNode.nextSibling):null;return!0}function Jo(){Ft=ge=null,Rt=!1}function Jd(){var t=gi;return t!==null&&(Ae===null?Ae=t:Ae.push.apply(Ae,t),gi=null),t}function $o(t){gi===null?gi=[t]:gi.push(t)}var Ir=Q(null),vi=null,gn=null;function Pn(t,i,a){W(Ir,i._currentValue),i._currentValue=a}function yn(t){t._currentValue=Ir.current,et(Ir)}function zr(t,i,a){for(;t!==null;){var r=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),t===a)break;t=t.return}}function kr(t,i,a,r){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var g=f.dependencies;if(g!==null){var T=f.child;g=g.firstContext;t:for(;g!==null;){var C=g;g=f;for(var M=0;M<i.length;M++)if(C.context===i[M]){g.lanes|=a,C=g.alternate,C!==null&&(C.lanes|=a),zr(g.return,a,t),r||(T=null);break t}g=C.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,g=T.alternate,g!==null&&(g.lanes|=a),zr(T,a,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Wo(t,i,a,r){t=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var C=f.type;we(f.pendingProps.value,T.value)||(t!==null?t.push(C):t=[C])}}else if(f===_e.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(_a):t=[_a])}f=f.return}t!==null&&kr(i,t,a,r),i.flags|=262144}function xs(t){for(t=t.firstContext;t!==null;){if(!we(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ti(t){vi=t,gn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function de(t){return $d(vi,t)}function _s(t,i){return vi===null&&Ti(t),$d(t,i)}function $d(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},gn===null){if(t===null)throw Error(s(308));gn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else gn=gn.next=i;return a}var MS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,r){t.push(r)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},xS=o.unstable_scheduleCallback,_S=o.unstable_NormalPriority,ee={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Or(){return{controller:new MS,data:new Map,refCount:0}}function jo(t){t.refCount--,t.refCount===0&&xS(_S,function(){t.controller.abort()})}var ta=null,qr=0,ji=0,to=null;function RS(t,i){if(ta===null){var a=ta=[];qr=0,ji=Hu(),to={status:"pending",value:void 0,then:function(r){a.push(r)}}}return qr++,i.then(Wd,Wd),i}function Wd(){if(--qr===0&&ta!==null){to!==null&&(to.status="fulfilled");var t=ta;ta=null,ji=0,to=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function DS(t,i){var a=[],r={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){r.status="fulfilled",r.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(r.status="rejected",r.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),r}var jd=P.S;P.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&RS(t,i),jd!==null&&jd(t,i)};var Si=Q(null);function Gr(){var t=Si.current;return t!==null?t:Ut.pooledCache}function Rs(t,i){i===null?W(Si,Si.current):W(Si,i.pool)}function th(){var t=Gr();return t===null?null:{parent:ee._currentValue,pool:t}}var ea=Error(s(460)),eh=Error(s(474)),Ds=Error(s(542)),Hr={then:function(){}};function nh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ws(){}function ih(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ws,ws),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ah(t),t;default:if(typeof i.status=="string")i.then(ws,ws);else{if(t=Ut,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(r){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=r}},function(r){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ah(t),t}throw na=i,ea}}var na=null;function oh(){if(na===null)throw Error(s(459));var t=na;return na=null,t}function ah(t){if(t===ea||t===Ds)throw Error(s(483))}var Bn=!1;function Fr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yr(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Un(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function In(t,i,a){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Dt&2)!==0){var f=r.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),r.pending=i,i=Cs(t),Yd(t,null,a),i}return Es(t,r,i,a),Cs(t)}function ia(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var r=i.lanes;r&=t.pendingLanes,a|=r,i.lanes=a,Wf(t,a)}}function Kr(t,i){var a=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?f=g=T:g=g.next=T,a=a.next}while(a!==null);g===null?f=g=i:g=g.next=i}else f=g=i;a={baseState:r.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:r.shared,callbacks:r.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Qr=!1;function oa(){if(Qr){var t=to;if(t!==null)throw t}}function aa(t,i,a,r){Qr=!1;var f=t.updateQueue;Bn=!1;var g=f.firstBaseUpdate,T=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var M=C,B=M.next;M.next=null,T===null?g=B:T.next=B,T=M;var O=t.alternate;O!==null&&(O=O.updateQueue,C=O.lastBaseUpdate,C!==T&&(C===null?O.firstBaseUpdate=B:C.next=B,O.lastBaseUpdate=M))}if(g!==null){var Y=f.baseState;T=0,O=B=M=null,C=g;do{var U=C.lane&-536870913,I=U!==C.lane;if(I?(At&U)===U:(r&U)===U){U!==0&&U===ji&&(Qr=!0),O!==null&&(O=O.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var ht=t,ct=C;U=i;var Pt=a;switch(ct.tag){case 1:if(ht=ct.payload,typeof ht=="function"){Y=ht.call(Pt,Y,U);break t}Y=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=ct.payload,U=typeof ht=="function"?ht.call(Pt,Y,U):ht,U==null)break t;Y=v({},Y,U);break t;case 2:Bn=!0}}U=C.callback,U!==null&&(t.flags|=64,I&&(t.flags|=8192),I=f.callbacks,I===null?f.callbacks=[U]:I.push(U))}else I={lane:U,tag:C.tag,payload:C.payload,callback:C.callback,next:null},O===null?(B=O=I,M=Y):O=O.next=I,T|=U;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;I=C,C=I.next,I.next=null,f.lastBaseUpdate=I,f.shared.pending=null}}while(!0);O===null&&(M=Y),f.baseState=M,f.firstBaseUpdate=B,f.lastBaseUpdate=O,g===null&&(f.shared.lanes=0),Yn|=T,t.lanes=T,t.memoizedState=Y}}function sh(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function lh(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)sh(a[t],i)}var eo=Q(null),Ns=Q(0);function rh(t,i){t=An,W(Ns,t),W(eo,i),An=t|i.baseLanes}function Xr(){W(Ns,An),W(eo,eo.current)}function Zr(){An=Ns.current,et(eo),et(Ns)}var zn=0,St=null,Lt=null,Wt=null,Ls=!1,no=!1,Ei=!1,Vs=0,sa=0,io=null,wS=0;function Xt(){throw Error(s(321))}function Jr(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!we(t[a],i[a]))return!1;return!0}function $r(t,i,a,r,f,g){return zn=g,St=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,P.H=t===null||t.memoizedState===null?Yh:Kh,Ei=!1,g=a(r,f),Ei=!1,no&&(g=ch(i,a,r,f)),uh(t),g}function uh(t){P.H=ks;var i=Lt!==null&&Lt.next!==null;if(zn=0,Wt=Lt=St=null,Ls=!1,sa=0,io=null,i)throw Error(s(300));t===null||oe||(t=t.dependencies,t!==null&&xs(t)&&(oe=!0))}function ch(t,i,a,r){St=t;var f=0;do{if(no&&(io=null),sa=0,no=!1,25<=f)throw Error(s(301));if(f+=1,Wt=Lt=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}P.H=IS,g=i(a,r)}while(no);return g}function NS(){var t=P.H,i=t.useState()[0];return i=typeof i.then=="function"?la(i):i,t=t.useState()[0],(Lt!==null?Lt.memoizedState:null)!==t&&(St.flags|=1024),i}function Wr(){var t=Vs!==0;return Vs=0,t}function jr(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function tu(t){if(Ls){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ls=!1}zn=0,Wt=Lt=St=null,no=!1,sa=Vs=0,io=null}function Ce(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?St.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function jt(){if(Lt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var i=Wt===null?St.memoizedState:Wt.next;if(i!==null)Wt=i,Lt=t;else{if(t===null)throw St.alternate===null?Error(s(467)):Error(s(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Wt===null?St.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function la(t){var i=sa;return sa+=1,io===null&&(io=[]),t=ih(io,t,i),i=St,(Wt===null?i.memoizedState:Wt.next)===null&&(i=i.alternate,P.H=i===null||i.memoizedState===null?Yh:Kh),t}function Ps(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return la(t);if(t.$$typeof===N)return de(t)}throw Error(s(438,String(t)))}function nu(t){var i=null,a=St.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var r=St.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=eu(),St.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),r=0;r<t;r++)a[r]=lt;return i.index++,a}function vn(t,i){return typeof i=="function"?i(t):i}function Bs(t){var i=jt();return iu(i,Lt,t)}function iu(t,i,a){var r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=a;var f=t.baseQueue,g=r.pending;if(g!==null){if(f!==null){var T=f.next;f.next=g.next,g.next=T}i.baseQueue=f=g,r.pending=null}if(g=t.baseState,f===null)t.memoizedState=g;else{i=f.next;var C=T=null,M=null,B=i,O=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(At&Y)===Y:(zn&Y)===Y){var U=B.revertLane;if(U===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===ji&&(O=!0);else if((zn&U)===U){B=B.next,U===ji&&(O=!0);continue}else Y={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(C=M=Y,T=g):M=M.next=Y,St.lanes|=U,Yn|=U;Y=B.action,Ei&&a(g,Y),g=B.hasEagerState?B.eagerState:a(g,Y)}else U={lane:Y,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(C=M=U,T=g):M=M.next=U,St.lanes|=Y,Yn|=Y;B=B.next}while(B!==null&&B!==i);if(M===null?T=g:M.next=C,!we(g,t.memoizedState)&&(oe=!0,O&&(a=to,a!==null)))throw a;t.memoizedState=g,t.baseState=T,t.baseQueue=M,r.lastRenderedState=g}return f===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function ou(t){var i=jt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var r=a.dispatch,f=a.pending,g=i.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do g=t(g,T.action),T=T.next;while(T!==f);we(g,i.memoizedState)||(oe=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,r]}function fh(t,i,a){var r=St,f=jt(),g=Rt;if(g){if(a===void 0)throw Error(s(407));a=a()}else a=i();var T=!we((Lt||f).memoizedState,a);T&&(f.memoizedState=a,oe=!0),f=f.queue;var C=mh.bind(null,r,f,t);if(ra(2048,8,C,[t]),f.getSnapshot!==i||T||Wt!==null&&Wt.memoizedState.tag&1){if(r.flags|=2048,oo(9,Us(),hh.bind(null,r,f,a,i),null),Ut===null)throw Error(s(349));g||(zn&124)!==0||dh(r,i,a)}return a}function dh(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=St.updateQueue,i===null?(i=eu(),St.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function hh(t,i,a,r){i.value=a,i.getSnapshot=r,ph(i)&&gh(t)}function mh(t,i,a){return a(function(){ph(i)&&gh(t)})}function ph(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!we(t,a)}catch{return!0}}function gh(t){var i=Zi(t,2);i!==null&&Ue(i,t,2)}function au(t){var i=Ce();if(typeof t=="function"){var a=t;if(t=a(),Ei){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:t},i}function yh(t,i,a,r){return t.baseState=a,iu(t,Lt,typeof r=="function"?r:vn)}function LS(t,i,a,r,f){if(zs(t))throw Error(s(485));if(t=i.action,t!==null){var g={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};P.T!==null?a(!0):g.isTransition=!1,r(g),a=i.pending,a===null?(g.next=i.pending=g,vh(i,g)):(g.next=a.next,i.pending=a.next=g)}}function vh(t,i){var a=i.action,r=i.payload,f=t.state;if(i.isTransition){var g=P.T,T={};P.T=T;try{var C=a(f,r),M=P.S;M!==null&&M(T,C),Th(t,i,C)}catch(B){su(t,i,B)}finally{P.T=g}}else try{g=a(f,r),Th(t,i,g)}catch(B){su(t,i,B)}}function Th(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){Sh(t,i,r)},function(r){return su(t,i,r)}):Sh(t,i,a)}function Sh(t,i,a){i.status="fulfilled",i.value=a,Eh(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,vh(t,a)))}function su(t,i,a){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=a,Eh(i),i=i.next;while(i!==r)}t.action=null}function Eh(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ch(t,i){return i}function bh(t,i){if(Rt){var a=Ut.formState;if(a!==null){t:{var r=St;if(Rt){if(Ft){e:{for(var f=Ft,g=en;f.nodeType!==8;){if(!g){f=null;break e}if(f=$e(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Ft=$e(f.nextSibling),r=f.data==="F!";break t}}yi(r)}r=!1}r&&(i=a[0])}}return a=Ce(),a.memoizedState=a.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ch,lastRenderedState:i},a.queue=r,a=Gh.bind(null,St,r),r.dispatch=a,r=au(!1),g=fu.bind(null,St,!1,r.queue),r=Ce(),f={state:i,dispatch:null,action:t,pending:null},r.queue=f,a=LS.bind(null,St,f,g,a),f.dispatch=a,r.memoizedState=t,[i,a,!1]}function Ah(t){var i=jt();return Mh(i,Lt,t)}function Mh(t,i,a){if(i=iu(t,i,Ch)[0],t=Bs(vn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=la(i)}catch(T){throw T===ea?Ds:T}else r=i;i=jt();var f=i.queue,g=f.dispatch;return a!==i.memoizedState&&(St.flags|=2048,oo(9,Us(),VS.bind(null,f,a),null)),[r,g,t]}function VS(t,i){t.action=i}function xh(t){var i=jt(),a=Lt;if(a!==null)return Mh(i,a,t);jt(),i=i.memoizedState,a=jt();var r=a.queue.dispatch;return a.memoizedState=t,[i,r,!1]}function oo(t,i,a,r){return t={tag:t,create:a,deps:r,inst:i,next:null},i=St.updateQueue,i===null&&(i=eu(),St.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(r=a.next,a.next=t,t.next=r,i.lastEffect=t),t}function Us(){return{destroy:void 0,resource:void 0}}function _h(){return jt().memoizedState}function Is(t,i,a,r){var f=Ce();r=r===void 0?null:r,St.flags|=t,f.memoizedState=oo(1|i,Us(),a,r)}function ra(t,i,a,r){var f=jt();r=r===void 0?null:r;var g=f.memoizedState.inst;Lt!==null&&r!==null&&Jr(r,Lt.memoizedState.deps)?f.memoizedState=oo(i,g,a,r):(St.flags|=t,f.memoizedState=oo(1|i,g,a,r))}function Rh(t,i){Is(8390656,8,t,i)}function Dh(t,i){ra(2048,8,t,i)}function wh(t,i){return ra(4,2,t,i)}function Nh(t,i){return ra(4,4,t,i)}function Lh(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Vh(t,i,a){a=a!=null?a.concat([t]):null,ra(4,4,Lh.bind(null,i,t),a)}function lu(){}function Ph(t,i){var a=jt();i=i===void 0?null:i;var r=a.memoizedState;return i!==null&&Jr(i,r[1])?r[0]:(a.memoizedState=[t,i],t)}function Bh(t,i){var a=jt();i=i===void 0?null:i;var r=a.memoizedState;if(i!==null&&Jr(i,r[1]))return r[0];if(r=t(),Ei){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[r,i],r}function ru(t,i,a){return a===void 0||(zn&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=zm(),St.lanes|=t,Yn|=t,a)}function Uh(t,i,a,r){return we(a,i)?a:eo.current!==null?(t=ru(t,a,r),we(t,i)||(oe=!0),t):(zn&42)===0?(oe=!0,t.memoizedState=a):(t=zm(),St.lanes|=t,Yn|=t,i)}function Ih(t,i,a,r,f){var g=q.p;q.p=g!==0&&8>g?g:8;var T=P.T,C={};P.T=C,fu(t,!1,i,a);try{var M=f(),B=P.S;if(B!==null&&B(C,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var O=DS(M,r);ua(t,i,O,Be(t))}else ua(t,i,r,Be(t))}catch(Y){ua(t,i,{then:function(){},status:"rejected",reason:Y},Be())}finally{q.p=g,P.T=T}}function PS(){}function uu(t,i,a,r){if(t.tag!==5)throw Error(s(476));var f=zh(t).queue;Ih(t,f,i,$,a===null?PS:function(){return kh(t),a(r)})}function zh(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:$},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function kh(t){var i=zh(t).next.queue;ua(t,i,{},Be())}function cu(){return de(_a)}function Oh(){return jt().memoizedState}function qh(){return jt().memoizedState}function BS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Be();t=Un(a);var r=In(i,t,a);r!==null&&(Ue(r,i,a),ia(r,i,a)),i={cache:Or()},t.payload=i;return}i=i.return}}function US(t,i,a){var r=Be();a={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},zs(t)?Hh(i,a):(a=wr(t,i,a,r),a!==null&&(Ue(a,t,r),Fh(a,i,r)))}function Gh(t,i,a){var r=Be();ua(t,i,a,r)}function ua(t,i,a,r){var f={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(zs(t))Hh(i,f);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var T=i.lastRenderedState,C=g(T,a);if(f.hasEagerState=!0,f.eagerState=C,we(C,T))return Es(t,i,f,0),Ut===null&&Ss(),!1}catch{}finally{}if(a=wr(t,i,f,r),a!==null)return Ue(a,t,r),Fh(a,i,r),!0}return!1}function fu(t,i,a,r){if(r={lane:2,revertLane:Hu(),action:r,hasEagerState:!1,eagerState:null,next:null},zs(t)){if(i)throw Error(s(479))}else i=wr(t,a,r,2),i!==null&&Ue(i,t,2)}function zs(t){var i=t.alternate;return t===St||i!==null&&i===St}function Hh(t,i){no=Ls=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Fh(t,i,a){if((a&4194048)!==0){var r=i.lanes;r&=t.pendingLanes,a|=r,i.lanes=a,Wf(t,a)}}var ks={readContext:de,use:Ps,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt},Yh={readContext:de,use:Ps,useCallback:function(t,i){return Ce().memoizedState=[t,i===void 0?null:i],t},useContext:de,useEffect:Rh,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Is(4194308,4,Lh.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Is(4194308,4,t,i)},useInsertionEffect:function(t,i){Is(4,2,t,i)},useMemo:function(t,i){var a=Ce();i=i===void 0?null:i;var r=t();if(Ei){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[r,i],r},useReducer:function(t,i,a){var r=Ce();if(a!==void 0){var f=a(i);if(Ei){Nn(!0);try{a(i)}finally{Nn(!1)}}}else f=i;return r.memoizedState=r.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},r.queue=t,t=t.dispatch=US.bind(null,St,t),[r.memoizedState,t]},useRef:function(t){var i=Ce();return t={current:t},i.memoizedState=t},useState:function(t){t=au(t);var i=t.queue,a=Gh.bind(null,St,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:lu,useDeferredValue:function(t,i){var a=Ce();return ru(a,t,i)},useTransition:function(){var t=au(!1);return t=Ih.bind(null,St,t.queue,!0,!1),Ce().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var r=St,f=Ce();if(Rt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ut===null)throw Error(s(349));(At&124)!==0||dh(r,i,a)}f.memoizedState=a;var g={value:a,getSnapshot:i};return f.queue=g,Rh(mh.bind(null,r,g,t),[t]),r.flags|=2048,oo(9,Us(),hh.bind(null,r,g,a,i),null),a},useId:function(){var t=Ce(),i=Ut.identifierPrefix;if(Rt){var a=pn,r=mn;a=(r&~(1<<32-De(r)-1)).toString(32)+a,i=""+i+"R"+a,a=Vs++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=wS++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:cu,useFormState:bh,useActionState:bh,useOptimistic:function(t){var i=Ce();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=fu.bind(null,St,!0,a),a.dispatch=i,[t,i]},useMemoCache:nu,useCacheRefresh:function(){return Ce().memoizedState=BS.bind(null,St)}},Kh={readContext:de,use:Ps,useCallback:Ph,useContext:de,useEffect:Dh,useImperativeHandle:Vh,useInsertionEffect:wh,useLayoutEffect:Nh,useMemo:Bh,useReducer:Bs,useRef:_h,useState:function(){return Bs(vn)},useDebugValue:lu,useDeferredValue:function(t,i){var a=jt();return Uh(a,Lt.memoizedState,t,i)},useTransition:function(){var t=Bs(vn)[0],i=jt().memoizedState;return[typeof t=="boolean"?t:la(t),i]},useSyncExternalStore:fh,useId:Oh,useHostTransitionStatus:cu,useFormState:Ah,useActionState:Ah,useOptimistic:function(t,i){var a=jt();return yh(a,Lt,t,i)},useMemoCache:nu,useCacheRefresh:qh},IS={readContext:de,use:Ps,useCallback:Ph,useContext:de,useEffect:Dh,useImperativeHandle:Vh,useInsertionEffect:wh,useLayoutEffect:Nh,useMemo:Bh,useReducer:ou,useRef:_h,useState:function(){return ou(vn)},useDebugValue:lu,useDeferredValue:function(t,i){var a=jt();return Lt===null?ru(a,t,i):Uh(a,Lt.memoizedState,t,i)},useTransition:function(){var t=ou(vn)[0],i=jt().memoizedState;return[typeof t=="boolean"?t:la(t),i]},useSyncExternalStore:fh,useId:Oh,useHostTransitionStatus:cu,useFormState:xh,useActionState:xh,useOptimistic:function(t,i){var a=jt();return Lt!==null?yh(a,Lt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:nu,useCacheRefresh:qh},ao=null,ca=0;function Os(t){var i=ca;return ca+=1,ao===null&&(ao=[]),ih(ao,t,i)}function fa(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function qs(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Qh(t){var i=t._init;return i(t._payload)}function Xh(t){function i(R,_){if(t){var V=R.deletions;V===null?(R.deletions=[_],R.flags|=16):V.push(_)}}function a(R,_){if(!t)return null;for(;_!==null;)i(R,_),_=_.sibling;return null}function r(R){for(var _=new Map;R!==null;)R.key!==null?_.set(R.key,R):_.set(R.index,R),R=R.sibling;return _}function f(R,_){return R=hn(R,_),R.index=0,R.sibling=null,R}function g(R,_,V){return R.index=V,t?(V=R.alternate,V!==null?(V=V.index,V<_?(R.flags|=67108866,_):V):(R.flags|=67108866,_)):(R.flags|=1048576,_)}function T(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function C(R,_,V,G){return _===null||_.tag!==6?(_=Lr(V,R.mode,G),_.return=R,_):(_=f(_,V),_.return=R,_)}function M(R,_,V,G){var at=V.type;return at===A?O(R,_,V.props.children,G,V.key):_!==null&&(_.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===H&&Qh(at)===_.type)?(_=f(_,V.props),fa(_,V),_.return=R,_):(_=bs(V.type,V.key,V.props,null,R.mode,G),fa(_,V),_.return=R,_)}function B(R,_,V,G){return _===null||_.tag!==4||_.stateNode.containerInfo!==V.containerInfo||_.stateNode.implementation!==V.implementation?(_=Vr(V,R.mode,G),_.return=R,_):(_=f(_,V.children||[]),_.return=R,_)}function O(R,_,V,G,at){return _===null||_.tag!==7?(_=hi(V,R.mode,G,at),_.return=R,_):(_=f(_,V),_.return=R,_)}function Y(R,_,V){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Lr(""+_,R.mode,V),_.return=R,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case E:return V=bs(_.type,_.key,_.props,null,R.mode,V),fa(V,_),V.return=R,V;case b:return _=Vr(_,R.mode,V),_.return=R,_;case H:var G=_._init;return _=G(_._payload),Y(R,_,V)}if(j(_)||Tt(_))return _=hi(_,R.mode,V,null),_.return=R,_;if(typeof _.then=="function")return Y(R,Os(_),V);if(_.$$typeof===N)return Y(R,_s(R,_),V);qs(R,_)}return null}function U(R,_,V,G){var at=_!==null?_.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return at!==null?null:C(R,_,""+V,G);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case E:return V.key===at?M(R,_,V,G):null;case b:return V.key===at?B(R,_,V,G):null;case H:return at=V._init,V=at(V._payload),U(R,_,V,G)}if(j(V)||Tt(V))return at!==null?null:O(R,_,V,G,null);if(typeof V.then=="function")return U(R,_,Os(V),G);if(V.$$typeof===N)return U(R,_,_s(R,V),G);qs(R,V)}return null}function I(R,_,V,G,at){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return R=R.get(V)||null,C(_,R,""+G,at);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return R=R.get(G.key===null?V:G.key)||null,M(_,R,G,at);case b:return R=R.get(G.key===null?V:G.key)||null,B(_,R,G,at);case H:var Et=G._init;return G=Et(G._payload),I(R,_,V,G,at)}if(j(G)||Tt(G))return R=R.get(V)||null,O(_,R,G,at,null);if(typeof G.then=="function")return I(R,_,V,Os(G),at);if(G.$$typeof===N)return I(R,_,V,_s(_,G),at);qs(_,G)}return null}function ht(R,_,V,G){for(var at=null,Et=null,st=_,ft=_=0,se=null;st!==null&&ft<V.length;ft++){st.index>ft?(se=st,st=null):se=st.sibling;var _t=U(R,st,V[ft],G);if(_t===null){st===null&&(st=se);break}t&&st&&_t.alternate===null&&i(R,st),_=g(_t,_,ft),Et===null?at=_t:Et.sibling=_t,Et=_t,st=se}if(ft===V.length)return a(R,st),Rt&&pi(R,ft),at;if(st===null){for(;ft<V.length;ft++)st=Y(R,V[ft],G),st!==null&&(_=g(st,_,ft),Et===null?at=st:Et.sibling=st,Et=st);return Rt&&pi(R,ft),at}for(st=r(st);ft<V.length;ft++)se=I(st,R,ft,V[ft],G),se!==null&&(t&&se.alternate!==null&&st.delete(se.key===null?ft:se.key),_=g(se,_,ft),Et===null?at=se:Et.sibling=se,Et=se);return t&&st.forEach(function(ti){return i(R,ti)}),Rt&&pi(R,ft),at}function ct(R,_,V,G){if(V==null)throw Error(s(151));for(var at=null,Et=null,st=_,ft=_=0,se=null,_t=V.next();st!==null&&!_t.done;ft++,_t=V.next()){st.index>ft?(se=st,st=null):se=st.sibling;var ti=U(R,st,_t.value,G);if(ti===null){st===null&&(st=se);break}t&&st&&ti.alternate===null&&i(R,st),_=g(ti,_,ft),Et===null?at=ti:Et.sibling=ti,Et=ti,st=se}if(_t.done)return a(R,st),Rt&&pi(R,ft),at;if(st===null){for(;!_t.done;ft++,_t=V.next())_t=Y(R,_t.value,G),_t!==null&&(_=g(_t,_,ft),Et===null?at=_t:Et.sibling=_t,Et=_t);return Rt&&pi(R,ft),at}for(st=r(st);!_t.done;ft++,_t=V.next())_t=I(st,R,ft,_t.value,G),_t!==null&&(t&&_t.alternate!==null&&st.delete(_t.key===null?ft:_t.key),_=g(_t,_,ft),Et===null?at=_t:Et.sibling=_t,Et=_t);return t&&st.forEach(function(zE){return i(R,zE)}),Rt&&pi(R,ft),at}function Pt(R,_,V,G){if(typeof V=="object"&&V!==null&&V.type===A&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case E:t:{for(var at=V.key;_!==null;){if(_.key===at){if(at=V.type,at===A){if(_.tag===7){a(R,_.sibling),G=f(_,V.props.children),G.return=R,R=G;break t}}else if(_.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===H&&Qh(at)===_.type){a(R,_.sibling),G=f(_,V.props),fa(G,V),G.return=R,R=G;break t}a(R,_);break}else i(R,_);_=_.sibling}V.type===A?(G=hi(V.props.children,R.mode,G,V.key),G.return=R,R=G):(G=bs(V.type,V.key,V.props,null,R.mode,G),fa(G,V),G.return=R,R=G)}return T(R);case b:t:{for(at=V.key;_!==null;){if(_.key===at)if(_.tag===4&&_.stateNode.containerInfo===V.containerInfo&&_.stateNode.implementation===V.implementation){a(R,_.sibling),G=f(_,V.children||[]),G.return=R,R=G;break t}else{a(R,_);break}else i(R,_);_=_.sibling}G=Vr(V,R.mode,G),G.return=R,R=G}return T(R);case H:return at=V._init,V=at(V._payload),Pt(R,_,V,G)}if(j(V))return ht(R,_,V,G);if(Tt(V)){if(at=Tt(V),typeof at!="function")throw Error(s(150));return V=at.call(V),ct(R,_,V,G)}if(typeof V.then=="function")return Pt(R,_,Os(V),G);if(V.$$typeof===N)return Pt(R,_,_s(R,V),G);qs(R,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,_!==null&&_.tag===6?(a(R,_.sibling),G=f(_,V),G.return=R,R=G):(a(R,_),G=Lr(V,R.mode,G),G.return=R,R=G),T(R)):a(R,_)}return function(R,_,V,G){try{ca=0;var at=Pt(R,_,V,G);return ao=null,at}catch(st){if(st===ea||st===Ds)throw st;var Et=Ne(29,st,null,R.mode);return Et.lanes=G,Et.return=R,Et}finally{}}}var so=Xh(!0),Zh=Xh(!1),He=Q(null),nn=null;function kn(t){var i=t.alternate;W(ne,ne.current&1),W(He,t),nn===null&&(i===null||eo.current!==null||i.memoizedState!==null)&&(nn=t)}function Jh(t){if(t.tag===22){if(W(ne,ne.current),W(He,t),nn===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(nn=t)}}else On()}function On(){W(ne,ne.current),W(He,He.current)}function Tn(t){et(He),nn===t&&(nn=null),et(ne)}var ne=Q(0);function Gs(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ec(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function du(t,i,a,r){i=t.memoizedState,a=a(r,i),a=a==null?i:v({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var hu={enqueueSetState:function(t,i,a){t=t._reactInternals;var r=Be(),f=Un(r);f.payload=i,a!=null&&(f.callback=a),i=In(t,f,r),i!==null&&(Ue(i,t,r),ia(i,t,r))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var r=Be(),f=Un(r);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=In(t,f,r),i!==null&&(Ue(i,t,r),ia(i,t,r))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Be(),r=Un(a);r.tag=2,i!=null&&(r.callback=i),i=In(t,r,a),i!==null&&(Ue(i,t,a),ia(i,t,a))}};function $h(t,i,a,r,f,g,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,g,T):i.prototype&&i.prototype.isPureReactComponent?!Qo(a,r)||!Qo(f,g):!0}function Wh(t,i,a,r){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,r),i.state!==t&&hu.enqueueReplaceState(i,i.state,null)}function Ci(t,i){var a=i;if("ref"in i){a={};for(var r in i)r!=="ref"&&(a[r]=i[r])}if(t=t.defaultProps){a===i&&(a=v({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var Hs=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function jh(t){Hs(t)}function tm(t){console.error(t)}function em(t){Hs(t)}function Fs(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function nm(t,i,a){try{var r=t.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function mu(t,i,a){return a=Un(a),a.tag=3,a.payload={element:null},a.callback=function(){Fs(t,i)},a}function im(t){return t=Un(t),t.tag=3,t}function om(t,i,a,r){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var g=r.value;t.payload=function(){return f(g)},t.callback=function(){nm(i,a,r)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){nm(i,a,r),typeof f!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var C=r.stack;this.componentDidCatch(r.value,{componentStack:C!==null?C:""})})}function zS(t,i,a,r,f){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=a.alternate,i!==null&&Wo(i,a,f,!0),a=He.current,a!==null){switch(a.tag){case 13:return nn===null?zu():a.alternate===null&&Yt===0&&(Yt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,r===Hr?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([r]):i.add(r),Ou(t,r,f)),!1;case 22:return a.flags|=65536,r===Hr?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([r]):a.add(r)),Ou(t,r,f)),!1}throw Error(s(435,a.tag))}return Ou(t,r,f),zu(),!1}if(Rt)return i=He.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,r!==Ur&&(t=Error(s(422),{cause:r}),$o(ke(t,a)))):(r!==Ur&&(i=Error(s(423),{cause:r}),$o(ke(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,r=ke(r,a),f=mu(t.stateNode,r,f),Kr(t,f),Yt!==4&&(Yt=2)),!1;var g=Error(s(520),{cause:r});if(g=ke(g,a),va===null?va=[g]:va.push(g),Yt!==4&&(Yt=2),i===null)return!0;r=ke(r,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=mu(a.stateNode,r,t),Kr(a,t),!1;case 1:if(i=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Kn===null||!Kn.has(g))))return a.flags|=65536,f&=-f,a.lanes|=f,f=im(f),om(f,t,a,r),Kr(a,f),!1}a=a.return}while(a!==null);return!1}var am=Error(s(461)),oe=!1;function le(t,i,a,r){i.child=t===null?Zh(i,null,a,r):so(i,t.child,a,r)}function sm(t,i,a,r,f){a=a.render;var g=i.ref;if("ref"in r){var T={};for(var C in r)C!=="ref"&&(T[C]=r[C])}else T=r;return Ti(i),r=$r(t,i,a,T,g,f),C=Wr(),t!==null&&!oe?(jr(t,i,f),Sn(t,i,f)):(Rt&&C&&Pr(i),i.flags|=1,le(t,i,r,f),i.child)}function lm(t,i,a,r,f){if(t===null){var g=a.type;return typeof g=="function"&&!Nr(g)&&g.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=g,rm(t,i,g,r,f)):(t=bs(a.type,null,r,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(g=t.child,!Cu(t,f)){var T=g.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(T,r)&&t.ref===i.ref)return Sn(t,i,f)}return i.flags|=1,t=hn(g,r),t.ref=i.ref,t.return=i,i.child=t}function rm(t,i,a,r,f){if(t!==null){var g=t.memoizedProps;if(Qo(g,r)&&t.ref===i.ref)if(oe=!1,i.pendingProps=r=g,Cu(t,f))(t.flags&131072)!==0&&(oe=!0);else return i.lanes=t.lanes,Sn(t,i,f)}return pu(t,i,a,r,f)}function um(t,i,a){var r=i.pendingProps,f=r.children,g=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if((i.flags&128)!==0){if(r=g!==null?g.baseLanes|a:a,t!==null){for(f=i.child=t.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;i.childLanes=g&~r}else i.childLanes=0,i.child=null;return cm(t,i,r,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Rs(i,g!==null?g.cachePool:null),g!==null?rh(i,g):Xr(),Jh(i);else return i.lanes=i.childLanes=536870912,cm(t,i,g!==null?g.baseLanes|a:a,a)}else g!==null?(Rs(i,g.cachePool),rh(i,g),On(),i.memoizedState=null):(t!==null&&Rs(i,null),Xr(),On());return le(t,i,f,a),i.child}function cm(t,i,a,r){var f=Gr();return f=f===null?null:{parent:ee._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Rs(i,null),Xr(),Jh(i),t!==null&&Wo(t,i,r,!0),null}function Ys(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function pu(t,i,a,r,f){return Ti(i),a=$r(t,i,a,r,void 0,f),r=Wr(),t!==null&&!oe?(jr(t,i,f),Sn(t,i,f)):(Rt&&r&&Pr(i),i.flags|=1,le(t,i,a,f),i.child)}function fm(t,i,a,r,f,g){return Ti(i),i.updateQueue=null,a=ch(i,r,a,f),uh(t),r=Wr(),t!==null&&!oe?(jr(t,i,g),Sn(t,i,g)):(Rt&&r&&Pr(i),i.flags|=1,le(t,i,a,g),i.child)}function dm(t,i,a,r,f){if(Ti(i),i.stateNode===null){var g=Ji,T=a.contextType;typeof T=="object"&&T!==null&&(g=de(T)),g=new a(r,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=hu,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=r,g.state=i.memoizedState,g.refs={},Fr(i),T=a.contextType,g.context=typeof T=="object"&&T!==null?de(T):Ji,g.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(du(i,a,T,r),g.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&hu.enqueueReplaceState(g,g.state,null),aa(i,r,g,f),oa(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(t===null){g=i.stateNode;var C=i.memoizedProps,M=Ci(a,C);g.props=M;var B=g.context,O=a.contextType;T=Ji,typeof O=="object"&&O!==null&&(T=de(O));var Y=a.getDerivedStateFromProps;O=typeof Y=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,O||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||B!==T)&&Wh(i,g,r,T),Bn=!1;var U=i.memoizedState;g.state=U,aa(i,r,g,f),oa(),B=i.memoizedState,C||U!==B||Bn?(typeof Y=="function"&&(du(i,a,Y,r),B=i.memoizedState),(M=Bn||$h(i,a,M,r,U,B,T))?(O||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=B),g.props=r,g.state=B,g.context=T,r=M):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{g=i.stateNode,Yr(t,i),T=i.memoizedProps,O=Ci(a,T),g.props=O,Y=i.pendingProps,U=g.context,B=a.contextType,M=Ji,typeof B=="object"&&B!==null&&(M=de(B)),C=a.getDerivedStateFromProps,(B=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==Y||U!==M)&&Wh(i,g,r,M),Bn=!1,U=i.memoizedState,g.state=U,aa(i,r,g,f),oa();var I=i.memoizedState;T!==Y||U!==I||Bn||t!==null&&t.dependencies!==null&&xs(t.dependencies)?(typeof C=="function"&&(du(i,a,C,r),I=i.memoizedState),(O=Bn||$h(i,a,O,r,U,I,M)||t!==null&&t.dependencies!==null&&xs(t.dependencies))?(B||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(r,I,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(r,I,M)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===t.memoizedProps&&U===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&U===t.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=I),g.props=r,g.state=I,g.context=M,r=O):(typeof g.componentDidUpdate!="function"||T===t.memoizedProps&&U===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&U===t.memoizedState||(i.flags|=1024),r=!1)}return g=r,Ys(t,i),r=(i.flags&128)!==0,g||r?(g=i.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,t!==null&&r?(i.child=so(i,t.child,null,f),i.child=so(i,null,a,f)):le(t,i,a,f),i.memoizedState=g.state,t=i.child):t=Sn(t,i,f),t}function hm(t,i,a,r){return Jo(),i.flags|=256,le(t,i,a,r),i.child}var gu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yu(t){return{baseLanes:t,cachePool:th()}}function vu(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Fe),t}function mm(t,i,a){var r=i.pendingProps,f=!1,g=(i.flags&128)!==0,T;if((T=g)||(T=t!==null&&t.memoizedState===null?!1:(ne.current&2)!==0),T&&(f=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(Rt){if(f?kn(i):On(),Rt){var C=Ft,M;if(M=C){t:{for(M=C,C=en;M.nodeType!==8;){if(!C){C=null;break t}if(M=$e(M.nextSibling),M===null){C=null;break t}}C=M}C!==null?(i.memoizedState={dehydrated:C,treeContext:mi!==null?{id:mn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},M=Ne(18,null,null,0),M.stateNode=C,M.return=i,i.child=M,ge=i,Ft=null,M=!0):M=!1}M||yi(i)}if(C=i.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return ec(C)?i.lanes=32:i.lanes=536870912,null;Tn(i)}return C=r.children,r=r.fallback,f?(On(),f=i.mode,C=Ks({mode:"hidden",children:C},f),r=hi(r,f,a,null),C.return=i,r.return=i,C.sibling=r,i.child=C,f=i.child,f.memoizedState=yu(a),f.childLanes=vu(t,T,a),i.memoizedState=gu,r):(kn(i),Tu(i,C))}if(M=t.memoizedState,M!==null&&(C=M.dehydrated,C!==null)){if(g)i.flags&256?(kn(i),i.flags&=-257,i=Su(t,i,a)):i.memoizedState!==null?(On(),i.child=t.child,i.flags|=128,i=null):(On(),f=r.fallback,C=i.mode,r=Ks({mode:"visible",children:r.children},C),f=hi(f,C,a,null),f.flags|=2,r.return=i,f.return=i,r.sibling=f,i.child=r,so(i,t.child,null,a),r=i.child,r.memoizedState=yu(a),r.childLanes=vu(t,T,a),i.memoizedState=gu,i=f);else if(kn(i),ec(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var B=T.dgst;T=B,r=Error(s(419)),r.stack="",r.digest=T,$o({value:r,source:null,stack:null}),i=Su(t,i,a)}else if(oe||Wo(t,i,a,!1),T=(a&t.childLanes)!==0,oe||T){if(T=Ut,T!==null&&(r=a&-a,r=(r&42)!==0?1:nr(r),r=(r&(T.suspendedLanes|a))!==0?0:r,r!==0&&r!==M.retryLane))throw M.retryLane=r,Zi(t,r),Ue(T,t,r),am;C.data==="$?"||zu(),i=Su(t,i,a)}else C.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=M.treeContext,Ft=$e(C.nextSibling),ge=i,Rt=!0,gi=null,en=!1,t!==null&&(qe[Ge++]=mn,qe[Ge++]=pn,qe[Ge++]=mi,mn=t.id,pn=t.overflow,mi=i),i=Tu(i,r.children),i.flags|=4096);return i}return f?(On(),f=r.fallback,C=i.mode,M=t.child,B=M.sibling,r=hn(M,{mode:"hidden",children:r.children}),r.subtreeFlags=M.subtreeFlags&65011712,B!==null?f=hn(B,f):(f=hi(f,C,a,null),f.flags|=2),f.return=i,r.return=i,r.sibling=f,i.child=r,r=f,f=i.child,C=t.child.memoizedState,C===null?C=yu(a):(M=C.cachePool,M!==null?(B=ee._currentValue,M=M.parent!==B?{parent:B,pool:B}:M):M=th(),C={baseLanes:C.baseLanes|a,cachePool:M}),f.memoizedState=C,f.childLanes=vu(t,T,a),i.memoizedState=gu,r):(kn(i),a=t.child,t=a.sibling,a=hn(a,{mode:"visible",children:r.children}),a.return=i,a.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=a,i.memoizedState=null,a)}function Tu(t,i){return i=Ks({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ks(t,i){return t=Ne(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Su(t,i,a){return so(i,t.child,null,a),t=Tu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function pm(t,i,a){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i),zr(t.return,i,a)}function Eu(t,i,a,r,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=r,g.tail=a,g.tailMode=f)}function gm(t,i,a){var r=i.pendingProps,f=r.revealOrder,g=r.tail;if(le(t,i,r.children,a),r=ne.current,(r&2)!==0)r=r&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pm(t,a,i);else if(t.tag===19)pm(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break t;for(;t.sibling===null;){if(t.return===null||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(W(ne,r),f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&Gs(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Eu(i,!1,f,a,g);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Gs(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Eu(i,!0,a,null,g);break;case"together":Eu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Sn(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Yn|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Wo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=hn(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=hn(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Cu(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&xs(t)))}function kS(t,i,a){switch(i.tag){case 3:kt(i,i.stateNode.containerInfo),Pn(i,ee,t.memoizedState.cache),Jo();break;case 27:case 5:$l(i);break;case 4:kt(i,i.stateNode.containerInfo);break;case 10:Pn(i,i.type,i.memoizedProps.value);break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(kn(i),i.flags|=128,null):(a&i.child.childLanes)!==0?mm(t,i,a):(kn(i),t=Sn(t,i,a),t!==null?t.sibling:null);kn(i);break;case 19:var f=(t.flags&128)!==0;if(r=(a&i.childLanes)!==0,r||(Wo(t,i,a,!1),r=(a&i.childLanes)!==0),f){if(r)return gm(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),W(ne,ne.current),r)break;return null;case 22:case 23:return i.lanes=0,um(t,i,a);case 24:Pn(i,ee,t.memoizedState.cache)}return Sn(t,i,a)}function ym(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)oe=!0;else{if(!Cu(t,a)&&(i.flags&128)===0)return oe=!1,kS(t,i,a);oe=(t.flags&131072)!==0}else oe=!1,Rt&&(i.flags&1048576)!==0&&Qd(i,Ms,i.index);switch(i.lanes=0,i.tag){case 16:t:{t=i.pendingProps;var r=i.elementType,f=r._init;if(r=f(r._payload),i.type=r,typeof r=="function")Nr(r)?(t=Ci(r,t),i.tag=1,i=dm(null,i,r,t,a)):(i.tag=0,i=pu(null,i,r,t,a));else{if(r!=null){if(f=r.$$typeof,f===K){i.tag=11,i=sm(null,i,r,t,a);break t}else if(f===Z){i.tag=14,i=lm(null,i,r,t,a);break t}}throw i=J(r)||r,Error(s(306,i,""))}}return i;case 0:return pu(t,i,i.type,i.pendingProps,a);case 1:return r=i.type,f=Ci(r,i.pendingProps),dm(t,i,r,f,a);case 3:t:{if(kt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));r=i.pendingProps;var g=i.memoizedState;f=g.element,Yr(t,i),aa(i,r,null,a);var T=i.memoizedState;if(r=T.cache,Pn(i,ee,r),r!==g.cache&&kr(i,[ee],a,!0),oa(),r=T.element,g.isDehydrated)if(g={element:r,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=hm(t,i,r,a);break t}else if(r!==f){f=ke(Error(s(424)),i),$o(f),i=hm(t,i,r,a);break t}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ft=$e(t.firstChild),ge=i,Rt=!0,gi=null,en=!0,a=Zh(i,null,r,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Jo(),r===f){i=Sn(t,i,a);break t}le(t,i,r,a)}i=i.child}return i;case 26:return Ys(t,i),t===null?(a=Ep(i.type,null,i.pendingProps,null))?i.memoizedState=a:Rt||(a=i.type,t=i.pendingProps,r=sl(pt.current).createElement(a),r[fe]=i,r[Se]=t,ue(r,a,t),ie(r),i.stateNode=r):i.memoizedState=Ep(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return $l(i),t===null&&Rt&&(r=i.stateNode=vp(i.type,i.pendingProps,pt.current),ge=i,en=!0,f=Ft,Zn(i.type)?(nc=f,Ft=$e(r.firstChild)):Ft=f),le(t,i,i.pendingProps.children,a),Ys(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Rt&&((f=r=Ft)&&(r=hE(r,i.type,i.pendingProps,en),r!==null?(i.stateNode=r,ge=i,Ft=$e(r.firstChild),en=!1,f=!0):f=!1),f||yi(i)),$l(i),f=i.type,g=i.pendingProps,T=t!==null?t.memoizedProps:null,r=g.children,Wu(f,g)?r=null:T!==null&&Wu(f,T)&&(i.flags|=32),i.memoizedState!==null&&(f=$r(t,i,NS,null,null,a),_a._currentValue=f),Ys(t,i),le(t,i,r,a),i.child;case 6:return t===null&&Rt&&((t=a=Ft)&&(a=mE(a,i.pendingProps,en),a!==null?(i.stateNode=a,ge=i,Ft=null,t=!0):t=!1),t||yi(i)),null;case 13:return mm(t,i,a);case 4:return kt(i,i.stateNode.containerInfo),r=i.pendingProps,t===null?i.child=so(i,null,r,a):le(t,i,r,a),i.child;case 11:return sm(t,i,i.type,i.pendingProps,a);case 7:return le(t,i,i.pendingProps,a),i.child;case 8:return le(t,i,i.pendingProps.children,a),i.child;case 12:return le(t,i,i.pendingProps.children,a),i.child;case 10:return r=i.pendingProps,Pn(i,i.type,r.value),le(t,i,r.children,a),i.child;case 9:return f=i.type._context,r=i.pendingProps.children,Ti(i),f=de(f),r=r(f),i.flags|=1,le(t,i,r,a),i.child;case 14:return lm(t,i,i.type,i.pendingProps,a);case 15:return rm(t,i,i.type,i.pendingProps,a);case 19:return gm(t,i,a);case 31:return r=i.pendingProps,a=i.mode,r={mode:r.mode,children:r.children},t===null?(a=Ks(r,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=hn(t.child,r),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return um(t,i,a);case 24:return Ti(i),r=de(ee),t===null?(f=Gr(),f===null&&(f=Ut,g=Or(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=a),f=g),i.memoizedState={parent:r,cache:f},Fr(i),Pn(i,ee,f)):((t.lanes&a)!==0&&(Yr(t,i),aa(i,null,null,a),oa()),f=t.memoizedState,g=i.memoizedState,f.parent!==r?(f={parent:r,cache:r},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Pn(i,ee,r)):(r=g.cache,Pn(i,ee,r),r!==f.cache&&kr(i,[ee],a,!0))),le(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function En(t){t.flags|=4}function vm(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!xp(i)){if(i=He.current,i!==null&&((At&4194048)===At?nn!==null:(At&62914560)!==At&&(At&536870912)===0||i!==nn))throw na=Hr,eh;t.flags|=8192}}function Qs(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Jf():536870912,t.lanes|=i,co|=i)}function da(t,i){if(!Rt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,r=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,r|=f.subtreeFlags&65011712,r|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,r|=f.subtreeFlags,r|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=r,t.childLanes=a,i}function OS(t,i,a){var r=i.pendingProps;switch(Br(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(i),null;case 1:return Gt(i),null;case 3:return a=i.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),yn(ee),wn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Zo(i)?En(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Jd())),Gt(i),null;case 26:return a=i.memoizedState,t===null?(En(i),a!==null?(Gt(i),vm(i,a)):(Gt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(En(i),Gt(i),vm(i,a)):(Gt(i),i.flags&=-16777217):(t.memoizedProps!==r&&En(i),Gt(i),i.flags&=-16777217),null;case 27:os(i),a=pt.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==r&&En(i);else{if(!r){if(i.stateNode===null)throw Error(s(166));return Gt(i),null}t=ut.current,Zo(i)?Xd(i):(t=vp(f,r,a),i.stateNode=t,En(i))}return Gt(i),null;case 5:if(os(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==r&&En(i);else{if(!r){if(i.stateNode===null)throw Error(s(166));return Gt(i),null}if(t=ut.current,Zo(i))Xd(i);else{switch(f=sl(pt.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?f.createElement("select",{is:r.is}):f.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?f.createElement(a,{is:r.is}):f.createElement(a)}}t[fe]=i,t[Se]=r;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;t:switch(ue(t,a,r),a){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&En(i)}}return Gt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==r&&En(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(s(166));if(t=pt.current,Zo(i)){if(t=i.stateNode,a=i.memoizedProps,r=null,f=ge,f!==null)switch(f.tag){case 27:case 5:r=f.memoizedProps}t[fe]=i,t=!!(t.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||fp(t.nodeValue,a)),t||yi(i)}else t=sl(t).createTextNode(r),t[fe]=i,i.stateNode=t}return Gt(i),null;case 13:if(r=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Zo(i),r!==null&&r.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[fe]=i}else Jo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Gt(i),f=!1}else f=Jd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Tn(i),i):(Tn(i),null)}if(Tn(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=r!==null,t=t!==null&&t.memoizedState!==null,a){r=i.child,f=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(f=r.alternate.memoizedState.cachePool.pool);var g=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(g=r.memoizedState.cachePool.pool),g!==f&&(r.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Qs(i,i.updateQueue),Gt(i),null;case 4:return wn(),t===null&&Qu(i.stateNode.containerInfo),Gt(i),null;case 10:return yn(i.type),Gt(i),null;case 19:if(et(ne),f=i.memoizedState,f===null)return Gt(i),null;if(r=(i.flags&128)!==0,g=f.rendering,g===null)if(r)da(f,!1);else{if(Yt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(g=Gs(t),g!==null){for(i.flags|=128,da(f,!1),t=g.updateQueue,i.updateQueue=t,Qs(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Kd(a,t),a=a.sibling;return W(ne,ne.current&1|2),i.child}t=t.sibling}f.tail!==null&&tn()>Js&&(i.flags|=128,r=!0,da(f,!1),i.lanes=4194304)}else{if(!r)if(t=Gs(g),t!==null){if(i.flags|=128,r=!0,t=t.updateQueue,i.updateQueue=t,Qs(i,t),da(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Rt)return Gt(i),null}else 2*tn()-f.renderingStartTime>Js&&a!==536870912&&(i.flags|=128,r=!0,da(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(t=f.last,t!==null?t.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=tn(),i.sibling=null,t=ne.current,W(ne,r?t&1|2:t&1),i):(Gt(i),null);case 22:case 23:return Tn(i),Zr(),r=i.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(a&536870912)!==0&&(i.flags&128)===0&&(Gt(i),i.subtreeFlags&6&&(i.flags|=8192)):Gt(i),a=i.updateQueue,a!==null&&Qs(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(i.flags|=2048),t!==null&&et(Si),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),yn(ee),Gt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function qS(t,i){switch(Br(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return yn(ee),wn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return os(i),null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Jo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return et(ne),null;case 4:return wn(),null;case 10:return yn(i.type),null;case 22:case 23:return Tn(i),Zr(),t!==null&&et(Si),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return yn(ee),null;case 25:return null;default:return null}}function Tm(t,i){switch(Br(i),i.tag){case 3:yn(ee),wn();break;case 26:case 27:case 5:os(i);break;case 4:wn();break;case 13:Tn(i);break;case 19:et(ne);break;case 10:yn(i.type);break;case 22:case 23:Tn(i),Zr(),t!==null&&et(Si);break;case 24:yn(ee)}}function ha(t,i){try{var a=i.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var f=r.next;a=f;do{if((a.tag&t)===t){r=void 0;var g=a.create,T=a.inst;r=g(),T.destroy=r}a=a.next}while(a!==f)}}catch(C){Bt(i,i.return,C)}}function qn(t,i,a){try{var r=i.updateQueue,f=r!==null?r.lastEffect:null;if(f!==null){var g=f.next;r=g;do{if((r.tag&t)===t){var T=r.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,f=i;var M=a,B=C;try{B()}catch(O){Bt(f,M,O)}}}r=r.next}while(r!==g)}}catch(O){Bt(i,i.return,O)}}function Sm(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{lh(i,a)}catch(r){Bt(t,t.return,r)}}}function Em(t,i,a){a.props=Ci(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(r){Bt(t,i,r)}}function ma(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof a=="function"?t.refCleanup=a(r):a.current=r}}catch(f){Bt(t,i,f)}}function on(t,i){var a=t.ref,r=t.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(f){Bt(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Bt(t,i,f)}else a.current=null}function Cm(t){var i=t.type,a=t.memoizedProps,r=t.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break t;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(f){Bt(t,t.return,f)}}function bu(t,i,a){try{var r=t.stateNode;rE(r,t.type,a,i),r[Se]=i}catch(f){Bt(t,t.return,f)}}function bm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zn(t.type)||t.tag===4}function Au(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||bm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zn(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mu(t,i,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=al));else if(r!==4&&(r===27&&Zn(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Mu(t,i,a),t=t.sibling;t!==null;)Mu(t,i,a),t=t.sibling}function Xs(t,i,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(r!==4&&(r===27&&Zn(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Xs(t,i,a),t=t.sibling;t!==null;)Xs(t,i,a),t=t.sibling}function Am(t){var i=t.stateNode,a=t.memoizedProps;try{for(var r=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);ue(i,r,a),i[fe]=t,i[Se]=a}catch(g){Bt(t,t.return,g)}}var Cn=!1,Zt=!1,xu=!1,Mm=typeof WeakSet=="function"?WeakSet:Set,ae=null;function GS(t,i){if(t=t.containerInfo,Ju=dl,t=Ud(t),Ar(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var f=r.anchorOffset,g=r.focusNode;r=r.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break t}var T=0,C=-1,M=-1,B=0,O=0,Y=t,U=null;e:for(;;){for(var I;Y!==a||f!==0&&Y.nodeType!==3||(C=T+f),Y!==g||r!==0&&Y.nodeType!==3||(M=T+r),Y.nodeType===3&&(T+=Y.nodeValue.length),(I=Y.firstChild)!==null;)U=Y,Y=I;for(;;){if(Y===t)break e;if(U===a&&++B===f&&(C=T),U===g&&++O===r&&(M=T),(I=Y.nextSibling)!==null)break;Y=U,U=Y.parentNode}Y=I}a=C===-1||M===-1?null:{start:C,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for($u={focusedElem:t,selectionRange:a},dl=!1,ae=i;ae!==null;)if(i=ae,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,ae=t;else for(;ae!==null;){switch(i=ae,g=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,a=i,f=g.memoizedProps,g=g.memoizedState,r=a.stateNode;try{var ht=Ci(a.type,f,a.elementType===a.type);t=r.getSnapshotBeforeUpdate(ht,g),r.__reactInternalSnapshotBeforeUpdate=t}catch(ct){Bt(a,a.return,ct)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)tc(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,ae=t;break}ae=i.return}}function xm(t,i,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:Gn(t,a),r&4&&ha(5,a);break;case 1:if(Gn(t,a),r&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){Bt(a,a.return,T)}else{var f=Ci(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Bt(a,a.return,T)}}r&64&&Sm(a),r&512&&ma(a,a.return);break;case 3:if(Gn(t,a),r&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{lh(t,i)}catch(T){Bt(a,a.return,T)}}break;case 27:i===null&&r&4&&Am(a);case 26:case 5:Gn(t,a),i===null&&r&4&&Cm(a),r&512&&ma(a,a.return);break;case 12:Gn(t,a);break;case 13:Gn(t,a),r&4&&Dm(t,a),r&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=$S.bind(null,a),pE(t,a))));break;case 22:if(r=a.memoizedState!==null||Cn,!r){i=i!==null&&i.memoizedState!==null||Zt,f=Cn;var g=Zt;Cn=r,(Zt=i)&&!g?Hn(t,a,(a.subtreeFlags&8772)!==0):Gn(t,a),Cn=f,Zt=g}break;case 30:break;default:Gn(t,a)}}function _m(t){var i=t.alternate;i!==null&&(t.alternate=null,_m(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ar(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ot=null,be=!1;function bn(t,i,a){for(a=a.child;a!==null;)Rm(t,i,a),a=a.sibling}function Rm(t,i,a){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(Bo,a)}catch{}switch(a.tag){case 26:Zt||on(a,i),bn(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Zt||on(a,i);var r=Ot,f=be;Zn(a.type)&&(Ot=a.stateNode,be=!1),bn(t,i,a),ba(a.stateNode),Ot=r,be=f;break;case 5:Zt||on(a,i);case 6:if(r=Ot,f=be,Ot=null,bn(t,i,a),Ot=r,be=f,Ot!==null)if(be)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(a.stateNode)}catch(g){Bt(a,i,g)}else try{Ot.removeChild(a.stateNode)}catch(g){Bt(a,i,g)}break;case 18:Ot!==null&&(be?(t=Ot,gp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Na(t)):gp(Ot,a.stateNode));break;case 4:r=Ot,f=be,Ot=a.stateNode.containerInfo,be=!0,bn(t,i,a),Ot=r,be=f;break;case 0:case 11:case 14:case 15:Zt||qn(2,a,i),Zt||qn(4,a,i),bn(t,i,a);break;case 1:Zt||(on(a,i),r=a.stateNode,typeof r.componentWillUnmount=="function"&&Em(a,i,r)),bn(t,i,a);break;case 21:bn(t,i,a);break;case 22:Zt=(r=Zt)||a.memoizedState!==null,bn(t,i,a),Zt=r;break;default:bn(t,i,a)}}function Dm(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Na(t)}catch(a){Bt(i,i.return,a)}}function HS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Mm),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Mm),i;default:throw Error(s(435,t.tag))}}function _u(t,i){var a=HS(t);i.forEach(function(r){var f=WS.bind(null,t,r);a.has(r)||(a.add(r),r.then(f,f))})}function Le(t,i){var a=i.deletions;if(a!==null)for(var r=0;r<a.length;r++){var f=a[r],g=t,T=i,C=T;t:for(;C!==null;){switch(C.tag){case 27:if(Zn(C.type)){Ot=C.stateNode,be=!1;break t}break;case 5:Ot=C.stateNode,be=!1;break t;case 3:case 4:Ot=C.stateNode.containerInfo,be=!0;break t}C=C.return}if(Ot===null)throw Error(s(160));Rm(g,T,f),Ot=null,be=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)wm(i,t),i=i.sibling}var Je=null;function wm(t,i){var a=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Le(i,t),Ve(t),r&4&&(qn(3,t,t.return),ha(3,t),qn(5,t,t.return));break;case 1:Le(i,t),Ve(t),r&512&&(Zt||a===null||on(a,a.return)),r&64&&Cn&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var f=Je;if(Le(i,t),Ve(t),r&512&&(Zt||a===null||on(a,a.return)),r&4){var g=a!==null?a.memoizedState:null;if(r=t.memoizedState,a===null)if(r===null)if(t.stateNode===null){t:{r=t.type,a=t.memoizedProps,f=f.ownerDocument||f;e:switch(r){case"title":g=f.getElementsByTagName("title")[0],(!g||g[zo]||g[fe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(r),f.head.insertBefore(g,f.querySelector("head > title"))),ue(g,r,a),g[fe]=t,ie(g),r=g;break t;case"link":var T=Ap("link","href",f).get(r+(a.href||""));if(T){for(var C=0;C<T.length;C++)if(g=T[C],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(C,1);break e}}g=f.createElement(r),ue(g,r,a),f.head.appendChild(g);break;case"meta":if(T=Ap("meta","content",f).get(r+(a.content||""))){for(C=0;C<T.length;C++)if(g=T[C],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(C,1);break e}}g=f.createElement(r),ue(g,r,a),f.head.appendChild(g);break;default:throw Error(s(468,r))}g[fe]=t,ie(g),r=g}t.stateNode=r}else Mp(f,t.type,t.stateNode);else t.stateNode=bp(f,r,t.memoizedProps);else g!==r?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,r===null?Mp(f,t.type,t.stateNode):bp(f,r,t.memoizedProps)):r===null&&t.stateNode!==null&&bu(t,t.memoizedProps,a.memoizedProps)}break;case 27:Le(i,t),Ve(t),r&512&&(Zt||a===null||on(a,a.return)),a!==null&&r&4&&bu(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Le(i,t),Ve(t),r&512&&(Zt||a===null||on(a,a.return)),t.flags&32){f=t.stateNode;try{Gi(f,"")}catch(I){Bt(t,t.return,I)}}r&4&&t.stateNode!=null&&(f=t.memoizedProps,bu(t,f,a!==null?a.memoizedProps:f)),r&1024&&(xu=!0);break;case 6:if(Le(i,t),Ve(t),r&4){if(t.stateNode===null)throw Error(s(162));r=t.memoizedProps,a=t.stateNode;try{a.nodeValue=r}catch(I){Bt(t,t.return,I)}}break;case 3:if(ul=null,f=Je,Je=ll(i.containerInfo),Le(i,t),Je=f,Ve(t),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Na(i.containerInfo)}catch(I){Bt(t,t.return,I)}xu&&(xu=!1,Nm(t));break;case 4:r=Je,Je=ll(t.stateNode.containerInfo),Le(i,t),Ve(t),Je=r;break;case 12:Le(i,t),Ve(t);break;case 13:Le(i,t),Ve(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vu=tn()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,_u(t,r)));break;case 22:f=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,B=Cn,O=Zt;if(Cn=B||f,Zt=O||M,Le(i,t),Zt=O,Cn=B,Ve(t),r&8192)t:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||M||Cn||Zt||bi(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){M=a=i;try{if(g=M.stateNode,f)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=M.stateNode;var Y=M.memoizedProps.style,U=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;C.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(I){Bt(M,M.return,I)}}}else if(i.tag===6){if(a===null){M=i;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(I){Bt(M,M.return,I)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=t.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,_u(t,a))));break;case 19:Le(i,t),Ve(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,_u(t,r)));break;case 30:break;case 21:break;default:Le(i,t),Ve(t)}}function Ve(t){var i=t.flags;if(i&2){try{for(var a,r=t.return;r!==null;){if(bm(r)){a=r;break}r=r.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,g=Au(t);Xs(t,g,f);break;case 5:var T=a.stateNode;a.flags&32&&(Gi(T,""),a.flags&=-33);var C=Au(t);Xs(t,C,T);break;case 3:case 4:var M=a.stateNode.containerInfo,B=Au(t);Mu(t,B,M);break;default:throw Error(s(161))}}catch(O){Bt(t,t.return,O)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Nm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Nm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Gn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)xm(t,i.alternate,i),i=i.sibling}function bi(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:qn(4,i,i.return),bi(i);break;case 1:on(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Em(i,i.return,a),bi(i);break;case 27:ba(i.stateNode);case 26:case 5:on(i,i.return),bi(i);break;case 22:i.memoizedState===null&&bi(i);break;case 30:bi(i);break;default:bi(i)}t=t.sibling}}function Hn(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,f=t,g=i,T=g.flags;switch(g.tag){case 0:case 11:case 15:Hn(f,g,a),ha(4,g);break;case 1:if(Hn(f,g,a),r=g,f=r.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Bt(r,r.return,B)}if(r=g,f=r.updateQueue,f!==null){var C=r.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)sh(M[f],C)}catch(B){Bt(r,r.return,B)}}a&&T&64&&Sm(g),ma(g,g.return);break;case 27:Am(g);case 26:case 5:Hn(f,g,a),a&&r===null&&T&4&&Cm(g),ma(g,g.return);break;case 12:Hn(f,g,a);break;case 13:Hn(f,g,a),a&&T&4&&Dm(f,g);break;case 22:g.memoizedState===null&&Hn(f,g,a),ma(g,g.return);break;case 30:break;default:Hn(f,g,a)}i=i.sibling}}function Ru(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&jo(a))}function Du(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&jo(t))}function an(t,i,a,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Lm(t,i,a,r),i=i.sibling}function Lm(t,i,a,r){var f=i.flags;switch(i.tag){case 0:case 11:case 15:an(t,i,a,r),f&2048&&ha(9,i);break;case 1:an(t,i,a,r);break;case 3:an(t,i,a,r),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&jo(t)));break;case 12:if(f&2048){an(t,i,a,r),t=i.stateNode;try{var g=i.memoizedProps,T=g.id,C=g.onPostCommit;typeof C=="function"&&C(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Bt(i,i.return,M)}}else an(t,i,a,r);break;case 13:an(t,i,a,r);break;case 23:break;case 22:g=i.stateNode,T=i.alternate,i.memoizedState!==null?g._visibility&2?an(t,i,a,r):pa(t,i):g._visibility&2?an(t,i,a,r):(g._visibility|=2,lo(t,i,a,r,(i.subtreeFlags&10256)!==0)),f&2048&&Ru(T,i);break;case 24:an(t,i,a,r),f&2048&&Du(i.alternate,i);break;default:an(t,i,a,r)}}function lo(t,i,a,r,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=t,T=i,C=a,M=r,B=T.flags;switch(T.tag){case 0:case 11:case 15:lo(g,T,C,M,f),ha(8,T);break;case 23:break;case 22:var O=T.stateNode;T.memoizedState!==null?O._visibility&2?lo(g,T,C,M,f):pa(g,T):(O._visibility|=2,lo(g,T,C,M,f)),f&&B&2048&&Ru(T.alternate,T);break;case 24:lo(g,T,C,M,f),f&&B&2048&&Du(T.alternate,T);break;default:lo(g,T,C,M,f)}i=i.sibling}}function pa(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,r=i,f=r.flags;switch(r.tag){case 22:pa(a,r),f&2048&&Ru(r.alternate,r);break;case 24:pa(a,r),f&2048&&Du(r.alternate,r);break;default:pa(a,r)}i=i.sibling}}var ga=8192;function ro(t){if(t.subtreeFlags&ga)for(t=t.child;t!==null;)Vm(t),t=t.sibling}function Vm(t){switch(t.tag){case 26:ro(t),t.flags&ga&&t.memoizedState!==null&&RE(Je,t.memoizedState,t.memoizedProps);break;case 5:ro(t);break;case 3:case 4:var i=Je;Je=ll(t.stateNode.containerInfo),ro(t),Je=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ga,ga=16777216,ro(t),ga=i):ro(t));break;default:ro(t)}}function Pm(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ya(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var r=i[a];ae=r,Um(r,t)}Pm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bm(t),t=t.sibling}function Bm(t){switch(t.tag){case 0:case 11:case 15:ya(t),t.flags&2048&&qn(9,t,t.return);break;case 3:ya(t);break;case 12:ya(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Zs(t)):ya(t);break;default:ya(t)}}function Zs(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var r=i[a];ae=r,Um(r,t)}Pm(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:qn(8,i,i.return),Zs(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Zs(i));break;default:Zs(i)}t=t.sibling}}function Um(t,i){for(;ae!==null;){var a=ae;switch(a.tag){case 0:case 11:case 15:qn(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:jo(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,ae=r;else t:for(a=t;ae!==null;){r=ae;var f=r.sibling,g=r.return;if(_m(r),r===a){ae=null;break t}if(f!==null){f.return=g,ae=f;break t}ae=g}}}var FS={getCacheForType:function(t){var i=de(ee),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},YS=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Ut=null,Ct=null,At=0,wt=0,Pe=null,Fn=!1,uo=!1,wu=!1,An=0,Yt=0,Yn=0,Ai=0,Nu=0,Fe=0,co=0,va=null,Ae=null,Lu=!1,Vu=0,Js=1/0,$s=null,Kn=null,re=0,Qn=null,fo=null,ho=0,Pu=0,Bu=null,Im=null,Ta=0,Uu=null;function Be(){if((Dt&2)!==0&&At!==0)return At&-At;if(P.T!==null){var t=ji;return t!==0?t:Hu()}return jf()}function zm(){Fe===0&&(Fe=(At&536870912)===0||Rt?Zf():536870912);var t=He.current;return t!==null&&(t.flags|=32),Fe}function Ue(t,i,a){(t===Ut&&(wt===2||wt===9)||t.cancelPendingCommit!==null)&&(mo(t,0),Xn(t,At,Fe,!1)),Io(t,a),((Dt&2)===0||t!==Ut)&&(t===Ut&&((Dt&2)===0&&(Ai|=a),Yt===4&&Xn(t,At,Fe,!1)),sn(t))}function km(t,i,a){if((Dt&6)!==0)throw Error(s(327));var r=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Uo(t,i),f=r?XS(t,i):ku(t,i,!0),g=r;do{if(f===0){uo&&!r&&Xn(t,i,0,!1);break}else{if(a=t.current.alternate,g&&!KS(a)){f=ku(t,i,!1),g=!1;continue}if(f===2){if(g=i,t.errorRecoveryDisabledLanes&g)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;t:{var C=t;f=va;var M=C.current.memoizedState.isDehydrated;if(M&&(mo(C,T).flags|=256),T=ku(C,T,!1),T!==2){if(wu&&!M){C.errorRecoveryDisabledLanes|=g,Ai|=g,f=4;break t}g=Ae,Ae=f,g!==null&&(Ae===null?Ae=g:Ae.push.apply(Ae,g))}f=T}if(g=!1,f!==2)continue}}if(f===1){mo(t,0),Xn(t,i,0,!0);break}t:{switch(r=t,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Xn(r,i,Fe,!Fn);break t;case 2:Ae=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Vu+300-tn(),10<f)){if(Xn(r,i,Fe,!Fn),rs(r,0,!0)!==0)break t;r.timeoutHandle=mp(Om.bind(null,r,a,Ae,$s,Lu,i,Fe,Ai,co,Fn,g,2,-0,0),f);break t}Om(r,a,Ae,$s,Lu,i,Fe,Ai,co,Fn,g,0,-0,0)}}break}while(!0);sn(t)}function Om(t,i,a,r,f,g,T,C,M,B,O,Y,U,I){if(t.timeoutHandle=-1,Y=i.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(xa={stylesheets:null,count:0,unsuspend:_E},Vm(i),Y=DE(),Y!==null)){t.cancelPendingCommit=Y(Qm.bind(null,t,i,g,a,r,f,T,C,M,O,1,U,I)),Xn(t,g,T,!B);return}Qm(t,i,g,a,r,f,T,C,M)}function KS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var f=a[r],g=f.getSnapshot;f=f.value;try{if(!we(g(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xn(t,i,a,r){i&=~Nu,i&=~Ai,t.suspendedLanes|=i,t.pingedLanes&=~i,r&&(t.warmLanes|=i),r=t.expirationTimes;for(var f=i;0<f;){var g=31-De(f),T=1<<g;r[g]=-1,f&=~T}a!==0&&$f(t,a,i)}function Ws(){return(Dt&6)===0?(Sa(0),!1):!0}function Iu(){if(Ct!==null){if(wt===0)var t=Ct.return;else t=Ct,gn=vi=null,tu(t),ao=null,ca=0,t=Ct;for(;t!==null;)Tm(t.alternate,t),t=t.return;Ct=null}}function mo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,cE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Iu(),Ut=t,Ct=a=hn(t.current,null),At=i,wt=0,Pe=null,Fn=!1,uo=Uo(t,i),wu=!1,co=Fe=Nu=Ai=Yn=Yt=0,Ae=va=null,Lu=!1,(i&8)!==0&&(i|=i&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=i;0<r;){var f=31-De(r),g=1<<f;i|=t[f],r&=~g}return An=i,Ss(),a}function qm(t,i){St=null,P.H=ks,i===ea||i===Ds?(i=oh(),wt=3):i===eh?(i=oh(),wt=4):wt=i===am?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Pe=i,Ct===null&&(Yt=1,Fs(t,ke(i,t.current)))}function Gm(){var t=P.H;return P.H=ks,t===null?ks:t}function Hm(){var t=P.A;return P.A=FS,t}function zu(){Yt=4,Fn||(At&4194048)!==At&&He.current!==null||(uo=!0),(Yn&134217727)===0&&(Ai&134217727)===0||Ut===null||Xn(Ut,At,Fe,!1)}function ku(t,i,a){var r=Dt;Dt|=2;var f=Gm(),g=Hm();(Ut!==t||At!==i)&&($s=null,mo(t,i)),i=!1;var T=Yt;t:do try{if(wt!==0&&Ct!==null){var C=Ct,M=Pe;switch(wt){case 8:Iu(),T=6;break t;case 3:case 2:case 9:case 6:He.current===null&&(i=!0);var B=wt;if(wt=0,Pe=null,po(t,C,M,B),a&&uo){T=0;break t}break;default:B=wt,wt=0,Pe=null,po(t,C,M,B)}}QS(),T=Yt;break}catch(O){qm(t,O)}while(!0);return i&&t.shellSuspendCounter++,gn=vi=null,Dt=r,P.H=f,P.A=g,Ct===null&&(Ut=null,At=0,Ss()),T}function QS(){for(;Ct!==null;)Fm(Ct)}function XS(t,i){var a=Dt;Dt|=2;var r=Gm(),f=Hm();Ut!==t||At!==i?($s=null,Js=tn()+500,mo(t,i)):uo=Uo(t,i);t:do try{if(wt!==0&&Ct!==null){i=Ct;var g=Pe;e:switch(wt){case 1:wt=0,Pe=null,po(t,i,g,1);break;case 2:case 9:if(nh(g)){wt=0,Pe=null,Ym(i);break}i=function(){wt!==2&&wt!==9||Ut!==t||(wt=7),sn(t)},g.then(i,i);break t;case 3:wt=7;break t;case 4:wt=5;break t;case 7:nh(g)?(wt=0,Pe=null,Ym(i)):(wt=0,Pe=null,po(t,i,g,7));break;case 5:var T=null;switch(Ct.tag){case 26:T=Ct.memoizedState;case 5:case 27:var C=Ct;if(!T||xp(T)){wt=0,Pe=null;var M=C.sibling;if(M!==null)Ct=M;else{var B=C.return;B!==null?(Ct=B,js(B)):Ct=null}break e}}wt=0,Pe=null,po(t,i,g,5);break;case 6:wt=0,Pe=null,po(t,i,g,6);break;case 8:Iu(),Yt=6;break t;default:throw Error(s(462))}}ZS();break}catch(O){qm(t,O)}while(!0);return gn=vi=null,P.H=r,P.A=f,Dt=a,Ct!==null?0:(Ut=null,At=0,Ss(),Yt)}function ZS(){for(;Ct!==null&&!y0();)Fm(Ct)}function Fm(t){var i=ym(t.alternate,t,An);t.memoizedProps=t.pendingProps,i===null?js(t):Ct=i}function Ym(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=fm(a,i,i.pendingProps,i.type,void 0,At);break;case 11:i=fm(a,i,i.pendingProps,i.type.render,i.ref,At);break;case 5:tu(i);default:Tm(a,i),i=Ct=Kd(i,An),i=ym(a,i,An)}t.memoizedProps=t.pendingProps,i===null?js(t):Ct=i}function po(t,i,a,r){gn=vi=null,tu(i),ao=null,ca=0;var f=i.return;try{if(zS(t,f,i,a,At)){Yt=1,Fs(t,ke(a,t.current)),Ct=null;return}}catch(g){if(f!==null)throw Ct=f,g;Yt=1,Fs(t,ke(a,t.current)),Ct=null;return}i.flags&32768?(Rt||r===1?t=!0:uo||(At&536870912)!==0?t=!1:(Fn=t=!0,(r===2||r===9||r===3||r===6)&&(r=He.current,r!==null&&r.tag===13&&(r.flags|=16384))),Km(i,t)):js(i)}function js(t){var i=t;do{if((i.flags&32768)!==0){Km(i,Fn);return}t=i.return;var a=OS(i.alternate,i,An);if(a!==null){Ct=a;return}if(i=i.sibling,i!==null){Ct=i;return}Ct=i=t}while(i!==null);Yt===0&&(Yt=5)}function Km(t,i){do{var a=qS(t.alternate,t);if(a!==null){a.flags&=32767,Ct=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=a}while(t!==null);Yt=6,Ct=null}function Qm(t,i,a,r,f,g,T,C,M){t.cancelPendingCommit=null;do tl();while(re!==0);if((Dt&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=Dr,_0(t,a,g,T,C,M),t===Ut&&(Ct=Ut=null,At=0),fo=i,Qn=t,ho=a,Pu=g,Bu=f,Im=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jS(as,function(){return Wm(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=P.T,P.T=null,f=q.p,q.p=2,T=Dt,Dt|=4;try{GS(t,i,a)}finally{Dt=T,q.p=f,P.T=r}}re=1,Xm(),Zm(),Jm()}}function Xm(){if(re===1){re=0;var t=Qn,i=fo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=P.T,P.T=null;var r=q.p;q.p=2;var f=Dt;Dt|=4;try{wm(i,t);var g=$u,T=Ud(t.containerInfo),C=g.focusedElem,M=g.selectionRange;if(T!==C&&C&&C.ownerDocument&&Bd(C.ownerDocument.documentElement,C)){if(M!==null&&Ar(C)){var B=M.start,O=M.end;if(O===void 0&&(O=B),"selectionStart"in C)C.selectionStart=B,C.selectionEnd=Math.min(O,C.value.length);else{var Y=C.ownerDocument||document,U=Y&&Y.defaultView||window;if(U.getSelection){var I=U.getSelection(),ht=C.textContent.length,ct=Math.min(M.start,ht),Pt=M.end===void 0?ct:Math.min(M.end,ht);!I.extend&&ct>Pt&&(T=Pt,Pt=ct,ct=T);var R=Pd(C,ct),_=Pd(C,Pt);if(R&&_&&(I.rangeCount!==1||I.anchorNode!==R.node||I.anchorOffset!==R.offset||I.focusNode!==_.node||I.focusOffset!==_.offset)){var V=Y.createRange();V.setStart(R.node,R.offset),I.removeAllRanges(),ct>Pt?(I.addRange(V),I.extend(_.node,_.offset)):(V.setEnd(_.node,_.offset),I.addRange(V))}}}}for(Y=[],I=C;I=I.parentNode;)I.nodeType===1&&Y.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<Y.length;C++){var G=Y[C];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}dl=!!Ju,$u=Ju=null}finally{Dt=f,q.p=r,P.T=a}}t.current=i,re=2}}function Zm(){if(re===2){re=0;var t=Qn,i=fo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=P.T,P.T=null;var r=q.p;q.p=2;var f=Dt;Dt|=4;try{xm(t,i.alternate,i)}finally{Dt=f,q.p=r,P.T=a}}re=3}}function Jm(){if(re===4||re===3){re=0,v0();var t=Qn,i=fo,a=ho,r=Im;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?re=5:(re=0,fo=Qn=null,$m(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Kn=null),ir(a),i=i.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(Bo,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=P.T,f=q.p,q.p=2,P.T=null;try{for(var g=t.onRecoverableError,T=0;T<r.length;T++){var C=r[T];g(C.value,{componentStack:C.stack})}}finally{P.T=i,q.p=f}}(ho&3)!==0&&tl(),sn(t),f=t.pendingLanes,(a&4194090)!==0&&(f&42)!==0?t===Uu?Ta++:(Ta=0,Uu=t):Ta=0,Sa(0)}}function $m(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,jo(i)))}function tl(t){return Xm(),Zm(),Jm(),Wm()}function Wm(){if(re!==5)return!1;var t=Qn,i=Pu;Pu=0;var a=ir(ho),r=P.T,f=q.p;try{q.p=32>a?32:a,P.T=null,a=Bu,Bu=null;var g=Qn,T=ho;if(re=0,fo=Qn=null,ho=0,(Dt&6)!==0)throw Error(s(331));var C=Dt;if(Dt|=4,Bm(g.current),Lm(g,g.current,T,a),Dt=C,Sa(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(Bo,g)}catch{}return!0}finally{q.p=f,P.T=r,$m(t,i)}}function jm(t,i,a){i=ke(a,i),i=mu(t.stateNode,i,2),t=In(t,i,2),t!==null&&(Io(t,2),sn(t))}function Bt(t,i,a){if(t.tag===3)jm(t,t,a);else for(;i!==null;){if(i.tag===3){jm(i,t,a);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kn===null||!Kn.has(r))){t=ke(a,t),a=im(2),r=In(i,a,2),r!==null&&(om(a,r,i,t),Io(r,2),sn(r));break}}i=i.return}}function Ou(t,i,a){var r=t.pingCache;if(r===null){r=t.pingCache=new YS;var f=new Set;r.set(i,f)}else f=r.get(i),f===void 0&&(f=new Set,r.set(i,f));f.has(a)||(wu=!0,f.add(a),t=JS.bind(null,t,i,a),i.then(t,t))}function JS(t,i,a){var r=t.pingCache;r!==null&&r.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ut===t&&(At&a)===a&&(Yt===4||Yt===3&&(At&62914560)===At&&300>tn()-Vu?(Dt&2)===0&&mo(t,0):Nu|=a,co===At&&(co=0)),sn(t)}function tp(t,i){i===0&&(i=Jf()),t=Zi(t,i),t!==null&&(Io(t,i),sn(t))}function $S(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),tp(t,a)}function WS(t,i){var a=0;switch(t.tag){case 13:var r=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(i),tp(t,a)}function jS(t,i){return jl(t,i)}var el=null,go=null,qu=!1,nl=!1,Gu=!1,Mi=0;function sn(t){t!==go&&t.next===null&&(go===null?el=go=t:go=go.next=t),nl=!0,qu||(qu=!0,eE())}function Sa(t,i){if(!Gu&&nl){Gu=!0;do for(var a=!1,r=el;r!==null;){if(t!==0){var f=r.pendingLanes;if(f===0)var g=0;else{var T=r.suspendedLanes,C=r.pingedLanes;g=(1<<31-De(42|t)+1)-1,g&=f&~(T&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,op(r,g))}else g=At,g=rs(r,r===Ut?g:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(g&3)===0||Uo(r,g)||(a=!0,op(r,g));r=r.next}while(a);Gu=!1}}function tE(){ep()}function ep(){nl=qu=!1;var t=0;Mi!==0&&(uE()&&(t=Mi),Mi=0);for(var i=tn(),a=null,r=el;r!==null;){var f=r.next,g=np(r,i);g===0?(r.next=null,a===null?el=f:a.next=f,f===null&&(go=a)):(a=r,(t!==0||(g&3)!==0)&&(nl=!0)),r=f}Sa(t)}function np(t,i){for(var a=t.suspendedLanes,r=t.pingedLanes,f=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var T=31-De(g),C=1<<T,M=f[T];M===-1?((C&a)===0||(C&r)!==0)&&(f[T]=x0(C,i)):M<=i&&(t.expiredLanes|=C),g&=~C}if(i=Ut,a=At,a=rs(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,a===0||t===i&&(wt===2||wt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&tr(r),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Uo(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(r!==null&&tr(r),ir(a)){case 2:case 8:a=Qf;break;case 32:a=as;break;case 268435456:a=Xf;break;default:a=as}return r=ip.bind(null,t),a=jl(a,r),t.callbackPriority=i,t.callbackNode=a,i}return r!==null&&r!==null&&tr(r),t.callbackPriority=2,t.callbackNode=null,2}function ip(t,i){if(re!==0&&re!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(tl()&&t.callbackNode!==a)return null;var r=At;return r=rs(t,t===Ut?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(km(t,r,i),np(t,tn()),t.callbackNode!=null&&t.callbackNode===a?ip.bind(null,t):null)}function op(t,i){if(tl())return null;km(t,i,!0)}function eE(){fE(function(){(Dt&6)!==0?jl(Kf,tE):ep()})}function Hu(){return Mi===0&&(Mi=Zf()),Mi}function ap(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:hs(""+t)}function sp(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function nE(t,i,a,r,f){if(i==="submit"&&a&&a.stateNode===f){var g=ap((f[Se]||null).action),T=r.submitter;T&&(i=(i=T[Se]||null)?ap(i.formAction):T.getAttribute("formAction"),i!==null&&(g=i,T=null));var C=new ys("action","action",null,r,f);t.push({event:C,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Mi!==0){var M=T?sp(f,T):new FormData(f);uu(a,{pending:!0,data:M,method:f.method,action:g},null,M)}}else typeof g=="function"&&(C.preventDefault(),M=T?sp(f,T):new FormData(f),uu(a,{pending:!0,data:M,method:f.method,action:g},g,M))},currentTarget:f}]})}}for(var Fu=0;Fu<Rr.length;Fu++){var Yu=Rr[Fu],iE=Yu.toLowerCase(),oE=Yu[0].toUpperCase()+Yu.slice(1);Ze(iE,"on"+oE)}Ze(kd,"onAnimationEnd"),Ze(Od,"onAnimationIteration"),Ze(qd,"onAnimationStart"),Ze("dblclick","onDoubleClick"),Ze("focusin","onFocus"),Ze("focusout","onBlur"),Ze(ES,"onTransitionRun"),Ze(CS,"onTransitionStart"),Ze(bS,"onTransitionCancel"),Ze(Gd,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ea));function lp(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var r=t[a],f=r.event;r=r.listeners;t:{var g=void 0;if(i)for(var T=r.length-1;0<=T;T--){var C=r[T],M=C.instance,B=C.currentTarget;if(C=C.listener,M!==g&&f.isPropagationStopped())break t;g=C,f.currentTarget=B;try{g(f)}catch(O){Hs(O)}f.currentTarget=null,g=M}else for(T=0;T<r.length;T++){if(C=r[T],M=C.instance,B=C.currentTarget,C=C.listener,M!==g&&f.isPropagationStopped())break t;g=C,f.currentTarget=B;try{g(f)}catch(O){Hs(O)}f.currentTarget=null,g=M}}}}function bt(t,i){var a=i[or];a===void 0&&(a=i[or]=new Set);var r=t+"__bubble";a.has(r)||(rp(i,t,2,!1),a.add(r))}function Ku(t,i,a){var r=0;i&&(r|=4),rp(a,t,r,i)}var il="_reactListening"+Math.random().toString(36).slice(2);function Qu(t){if(!t[il]){t[il]=!0,ed.forEach(function(a){a!=="selectionchange"&&(aE.has(a)||Ku(a,!1,t),Ku(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[il]||(i[il]=!0,Ku("selectionchange",!1,i))}}function rp(t,i,a,r){switch(Lp(i)){case 2:var f=LE;break;case 8:f=VE;break;default:f=lc}a=f.bind(null,i,a,t),f=void 0,!pr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),r?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Xu(t,i,a,r,f){var g=r;if((i&1)===0&&(i&2)===0&&r!==null)t:for(;;){if(r===null)return;var T=r.tag;if(T===3||T===4){var C=r.stateNode.containerInfo;if(C===f)break;if(T===4)for(T=r.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;C!==null;){if(T=Ui(C),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){r=g=T;continue t}C=C.parentNode}}r=r.return}pd(function(){var B=g,O=hr(a),Y=[];t:{var U=Hd.get(t);if(U!==void 0){var I=ys,ht=t;switch(t){case"keypress":if(ps(a)===0)break t;case"keydown":case"keyup":I=j0;break;case"focusin":ht="focus",I=Tr;break;case"focusout":ht="blur",I=Tr;break;case"beforeblur":case"afterblur":I=Tr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=vd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=q0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=nS;break;case kd:case Od:case qd:I=F0;break;case Gd:I=oS;break;case"scroll":case"scrollend":I=k0;break;case"wheel":I=sS;break;case"copy":case"cut":case"paste":I=K0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Sd;break;case"toggle":case"beforetoggle":I=rS}var ct=(i&4)!==0,Pt=!ct&&(t==="scroll"||t==="scrollend"),R=ct?U!==null?U+"Capture":null:U;ct=[];for(var _=B,V;_!==null;){var G=_;if(V=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||V===null||R===null||(G=Oo(_,R),G!=null&&ct.push(Ca(_,G,V))),Pt)break;_=_.return}0<ct.length&&(U=new I(U,ht,null,a,O),Y.push({event:U,listeners:ct}))}}if((i&7)===0){t:{if(U=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",U&&a!==dr&&(ht=a.relatedTarget||a.fromElement)&&(Ui(ht)||ht[Bi]))break t;if((I||U)&&(U=O.window===O?O:(U=O.ownerDocument)?U.defaultView||U.parentWindow:window,I?(ht=a.relatedTarget||a.toElement,I=B,ht=ht?Ui(ht):null,ht!==null&&(Pt=u(ht),ct=ht.tag,ht!==Pt||ct!==5&&ct!==27&&ct!==6)&&(ht=null)):(I=null,ht=B),I!==ht)){if(ct=vd,G="onMouseLeave",R="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(ct=Sd,G="onPointerLeave",R="onPointerEnter",_="pointer"),Pt=I==null?U:ko(I),V=ht==null?U:ko(ht),U=new ct(G,_+"leave",I,a,O),U.target=Pt,U.relatedTarget=V,G=null,Ui(O)===B&&(ct=new ct(R,_+"enter",ht,a,O),ct.target=V,ct.relatedTarget=Pt,G=ct),Pt=G,I&&ht)e:{for(ct=I,R=ht,_=0,V=ct;V;V=yo(V))_++;for(V=0,G=R;G;G=yo(G))V++;for(;0<_-V;)ct=yo(ct),_--;for(;0<V-_;)R=yo(R),V--;for(;_--;){if(ct===R||R!==null&&ct===R.alternate)break e;ct=yo(ct),R=yo(R)}ct=null}else ct=null;I!==null&&up(Y,U,I,ct,!1),ht!==null&&Pt!==null&&up(Y,Pt,ht,ct,!0)}}t:{if(U=B?ko(B):window,I=U.nodeName&&U.nodeName.toLowerCase(),I==="select"||I==="input"&&U.type==="file")var at=Rd;else if(xd(U))if(Dd)at=vS;else{at=gS;var Et=pS}else I=U.nodeName,!I||I.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?B&&fr(B.elementType)&&(at=Rd):at=yS;if(at&&(at=at(t,B))){_d(Y,at,a,O);break t}Et&&Et(t,U,B),t==="focusout"&&B&&U.type==="number"&&B.memoizedProps.value!=null&&cr(U,"number",U.value)}switch(Et=B?ko(B):window,t){case"focusin":(xd(Et)||Et.contentEditable==="true")&&(Ki=Et,Mr=B,Xo=null);break;case"focusout":Xo=Mr=Ki=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Id(Y,a,O);break;case"selectionchange":if(SS)break;case"keydown":case"keyup":Id(Y,a,O)}var st;if(Er)t:{switch(t){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else Yi?Ad(t,a)&&(ft="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ft="onCompositionStart");ft&&(Ed&&a.locale!=="ko"&&(Yi||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Yi&&(st=gd()):(Vn=O,gr="value"in Vn?Vn.value:Vn.textContent,Yi=!0)),Et=ol(B,ft),0<Et.length&&(ft=new Td(ft,t,null,a,O),Y.push({event:ft,listeners:Et}),st?ft.data=st:(st=Md(a),st!==null&&(ft.data=st)))),(st=cS?fS(t,a):dS(t,a))&&(ft=ol(B,"onBeforeInput"),0<ft.length&&(Et=new Td("onBeforeInput","beforeinput",null,a,O),Y.push({event:Et,listeners:ft}),Et.data=st)),nE(Y,t,B,a,O)}lp(Y,i)})}function Ca(t,i,a){return{instance:t,listener:i,currentTarget:a}}function ol(t,i){for(var a=i+"Capture",r=[];t!==null;){var f=t,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Oo(t,a),f!=null&&r.unshift(Ca(t,f,g)),f=Oo(t,i),f!=null&&r.push(Ca(t,f,g))),t.tag===3)return r;t=t.return}return[]}function yo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function up(t,i,a,r,f){for(var g=i._reactName,T=[];a!==null&&a!==r;){var C=a,M=C.alternate,B=C.stateNode;if(C=C.tag,M!==null&&M===r)break;C!==5&&C!==26&&C!==27||B===null||(M=B,f?(B=Oo(a,g),B!=null&&T.unshift(Ca(a,B,M))):f||(B=Oo(a,g),B!=null&&T.push(Ca(a,B,M)))),a=a.return}T.length!==0&&t.push({event:i,listeners:T})}var sE=/\r\n?/g,lE=/\u0000|\uFFFD/g;function cp(t){return(typeof t=="string"?t:""+t).replace(sE,`
`).replace(lE,"")}function fp(t,i){return i=cp(i),cp(t)===i}function al(){}function Vt(t,i,a,r,f,g){switch(a){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||Gi(t,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&Gi(t,""+r);break;case"className":cs(t,"class",r);break;case"tabIndex":cs(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":cs(t,a,r);break;case"style":hd(t,r,g);break;case"data":if(i!=="object"){cs(t,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=hs(""+r),t.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(i!=="input"&&Vt(t,i,"name",f.name,f,null),Vt(t,i,"formEncType",f.formEncType,f,null),Vt(t,i,"formMethod",f.formMethod,f,null),Vt(t,i,"formTarget",f.formTarget,f,null)):(Vt(t,i,"encType",f.encType,f,null),Vt(t,i,"method",f.method,f,null),Vt(t,i,"target",f.target,f,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=hs(""+r),t.setAttribute(a,r);break;case"onClick":r!=null&&(t.onclick=al);break;case"onScroll":r!=null&&bt("scroll",t);break;case"onScrollEnd":r!=null&&bt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(a=r.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}a=hs(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""+r):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":r===!0?t.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,r):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(a,r):t.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(a):t.setAttribute(a,r);break;case"popover":bt("beforetoggle",t),bt("toggle",t),us(t,"popover",r);break;case"xlinkActuate":fn(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":fn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":fn(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":fn(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":fn(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":fn(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":fn(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":fn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":fn(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":us(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=I0.get(a)||a,us(t,a,r))}}function Zu(t,i,a,r,f,g){switch(a){case"style":hd(t,r,g);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(a=r.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof r=="string"?Gi(t,r):(typeof r=="number"||typeof r=="bigint")&&Gi(t,""+r);break;case"onScroll":r!=null&&bt("scroll",t);break;case"onScrollEnd":r!=null&&bt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=al);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nd.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),g=t[Se]||null,g=g!=null?g[a]:null,typeof g=="function"&&t.removeEventListener(i,g,f),typeof r=="function")){typeof g!="function"&&g!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,r,f);break t}a in t?t[a]=r:r===!0?t.setAttribute(a,""):us(t,a,r)}}}function ue(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",t),bt("load",t);var r=!1,f=!1,g;for(g in a)if(a.hasOwnProperty(g)){var T=a[g];if(T!=null)switch(g){case"src":r=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Vt(t,i,g,T,a,null)}}f&&Vt(t,i,"srcSet",a.srcSet,a,null),r&&Vt(t,i,"src",a.src,a,null);return;case"input":bt("invalid",t);var C=g=T=f=null,M=null,B=null;for(r in a)if(a.hasOwnProperty(r)){var O=a[r];if(O!=null)switch(r){case"name":f=O;break;case"type":T=O;break;case"checked":M=O;break;case"defaultChecked":B=O;break;case"value":g=O;break;case"defaultValue":C=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,i));break;default:Vt(t,i,r,O,a,null)}}ud(t,g,C,M,B,T,f,!1),fs(t);return;case"select":bt("invalid",t),r=T=g=null;for(f in a)if(a.hasOwnProperty(f)&&(C=a[f],C!=null))switch(f){case"value":g=C;break;case"defaultValue":T=C;break;case"multiple":r=C;default:Vt(t,i,f,C,a,null)}i=g,a=T,t.multiple=!!r,i!=null?qi(t,!!r,i,!1):a!=null&&qi(t,!!r,a,!0);return;case"textarea":bt("invalid",t),g=f=r=null;for(T in a)if(a.hasOwnProperty(T)&&(C=a[T],C!=null))switch(T){case"value":r=C;break;case"defaultValue":f=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:Vt(t,i,T,C,a,null)}fd(t,r,f,g),fs(t);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(r=a[M],r!=null))switch(M){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Vt(t,i,M,r,a,null)}return;case"dialog":bt("beforetoggle",t),bt("toggle",t),bt("cancel",t),bt("close",t);break;case"iframe":case"object":bt("load",t);break;case"video":case"audio":for(r=0;r<Ea.length;r++)bt(Ea[r],t);break;case"image":bt("error",t),bt("load",t);break;case"details":bt("toggle",t);break;case"embed":case"source":case"link":bt("error",t),bt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(r=a[B],r!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Vt(t,i,B,r,a,null)}return;default:if(fr(i)){for(O in a)a.hasOwnProperty(O)&&(r=a[O],r!==void 0&&Zu(t,i,O,r,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(r=a[C],r!=null&&Vt(t,i,C,r,a,null))}function rE(t,i,a,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,T=null,C=null,M=null,B=null,O=null;for(I in a){var Y=a[I];if(a.hasOwnProperty(I)&&Y!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":M=Y;default:r.hasOwnProperty(I)||Vt(t,i,I,null,r,Y)}}for(var U in r){var I=r[U];if(Y=a[U],r.hasOwnProperty(U)&&(I!=null||Y!=null))switch(U){case"type":g=I;break;case"name":f=I;break;case"checked":B=I;break;case"defaultChecked":O=I;break;case"value":T=I;break;case"defaultValue":C=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,i));break;default:I!==Y&&Vt(t,i,U,I,r,Y)}}ur(t,T,C,M,B,O,g,f);return;case"select":I=T=C=U=null;for(g in a)if(M=a[g],a.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":I=M;default:r.hasOwnProperty(g)||Vt(t,i,g,null,r,M)}for(f in r)if(g=r[f],M=a[f],r.hasOwnProperty(f)&&(g!=null||M!=null))switch(f){case"value":U=g;break;case"defaultValue":C=g;break;case"multiple":T=g;default:g!==M&&Vt(t,i,f,g,r,M)}i=C,a=T,r=I,U!=null?qi(t,!!a,U,!1):!!r!=!!a&&(i!=null?qi(t,!!a,i,!0):qi(t,!!a,a?[]:"",!1));return;case"textarea":I=U=null;for(C in a)if(f=a[C],a.hasOwnProperty(C)&&f!=null&&!r.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Vt(t,i,C,null,r,f)}for(T in r)if(f=r[T],g=a[T],r.hasOwnProperty(T)&&(f!=null||g!=null))switch(T){case"value":U=f;break;case"defaultValue":I=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Vt(t,i,T,f,r,g)}cd(t,U,I);return;case"option":for(var ht in a)if(U=a[ht],a.hasOwnProperty(ht)&&U!=null&&!r.hasOwnProperty(ht))switch(ht){case"selected":t.selected=!1;break;default:Vt(t,i,ht,null,r,U)}for(M in r)if(U=r[M],I=a[M],r.hasOwnProperty(M)&&U!==I&&(U!=null||I!=null))switch(M){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Vt(t,i,M,U,r,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in a)U=a[ct],a.hasOwnProperty(ct)&&U!=null&&!r.hasOwnProperty(ct)&&Vt(t,i,ct,null,r,U);for(B in r)if(U=r[B],I=a[B],r.hasOwnProperty(B)&&U!==I&&(U!=null||I!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,i));break;default:Vt(t,i,B,U,r,I)}return;default:if(fr(i)){for(var Pt in a)U=a[Pt],a.hasOwnProperty(Pt)&&U!==void 0&&!r.hasOwnProperty(Pt)&&Zu(t,i,Pt,void 0,r,U);for(O in r)U=r[O],I=a[O],!r.hasOwnProperty(O)||U===I||U===void 0&&I===void 0||Zu(t,i,O,U,r,I);return}}for(var R in a)U=a[R],a.hasOwnProperty(R)&&U!=null&&!r.hasOwnProperty(R)&&Vt(t,i,R,null,r,U);for(Y in r)U=r[Y],I=a[Y],!r.hasOwnProperty(Y)||U===I||U==null&&I==null||Vt(t,i,Y,U,r,I)}var Ju=null,$u=null;function sl(t){return t.nodeType===9?t:t.ownerDocument}function dp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hp(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Wu(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ju=null;function uE(){var t=window.event;return t&&t.type==="popstate"?t===ju?!1:(ju=t,!0):(ju=null,!1)}var mp=typeof setTimeout=="function"?setTimeout:void 0,cE=typeof clearTimeout=="function"?clearTimeout:void 0,pp=typeof Promise=="function"?Promise:void 0,fE=typeof queueMicrotask=="function"?queueMicrotask:typeof pp<"u"?function(t){return pp.resolve(null).then(t).catch(dE)}:mp;function dE(t){setTimeout(function(){throw t})}function Zn(t){return t==="head"}function gp(t,i){var a=i,r=0,f=0;do{var g=a.nextSibling;if(t.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<r&&8>r){a=r;var T=t.ownerDocument;if(a&1&&ba(T.documentElement),a&2&&ba(T.body),a&4)for(a=T.head,ba(a),T=a.firstChild;T;){var C=T.nextSibling,M=T.nodeName;T[zo]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=C}}if(f===0){t.removeChild(g),Na(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:r=a.charCodeAt(0)-48;else r=0;a=g}while(a);Na(i)}function tc(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":tc(a),ar(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function hE(t,i,a,r){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[zo])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=$e(t.nextSibling),t===null)break}return null}function mE(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=$e(t.nextSibling),t===null))return null;return t}function ec(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function pE(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var r=function(){i(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function $e(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var nc=null;function yp(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function vp(t,i,a){switch(i=sl(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ba(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ar(t)}var Ye=new Map,Tp=new Set;function ll(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mn=q.d;q.d={f:gE,r:yE,D:vE,C:TE,L:SE,m:EE,X:bE,S:CE,M:AE};function gE(){var t=Mn.f(),i=Ws();return t||i}function yE(t){var i=Ii(t);i!==null&&i.tag===5&&i.type==="form"?kh(i):Mn.r(t)}var vo=typeof document>"u"?null:document;function Sp(t,i,a){var r=vo;if(r&&typeof i=="string"&&i){var f=ze(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Tp.has(f)||(Tp.add(f),t={rel:t,crossOrigin:a,href:i},r.querySelector(f)===null&&(i=r.createElement("link"),ue(i,"link",t),ie(i),r.head.appendChild(i)))}}function vE(t){Mn.D(t),Sp("dns-prefetch",t,null)}function TE(t,i){Mn.C(t,i),Sp("preconnect",t,i)}function SE(t,i,a){Mn.L(t,i,a);var r=vo;if(r&&t&&i){var f='link[rel="preload"][as="'+ze(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ze(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ze(a.imageSizes)+'"]')):f+='[href="'+ze(t)+'"]';var g=f;switch(i){case"style":g=To(t);break;case"script":g=So(t)}Ye.has(g)||(t=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ye.set(g,t),r.querySelector(f)!==null||i==="style"&&r.querySelector(Aa(g))||i==="script"&&r.querySelector(Ma(g))||(i=r.createElement("link"),ue(i,"link",t),ie(i),r.head.appendChild(i)))}}function EE(t,i){Mn.m(t,i);var a=vo;if(a&&t){var r=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ze(r)+'"][href="'+ze(t)+'"]',g=f;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=So(t)}if(!Ye.has(g)&&(t=v({rel:"modulepreload",href:t},i),Ye.set(g,t),a.querySelector(f)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ma(g)))return}r=a.createElement("link"),ue(r,"link",t),ie(r),a.head.appendChild(r)}}}function CE(t,i,a){Mn.S(t,i,a);var r=vo;if(r&&t){var f=zi(r).hoistableStyles,g=To(t);i=i||"default";var T=f.get(g);if(!T){var C={loading:0,preload:null};if(T=r.querySelector(Aa(g)))C.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ye.get(g))&&ic(t,a);var M=T=r.createElement("link");ie(M),ue(M,"link",t),M._p=new Promise(function(B,O){M.onload=B,M.onerror=O}),M.addEventListener("load",function(){C.loading|=1}),M.addEventListener("error",function(){C.loading|=2}),C.loading|=4,rl(T,i,r)}T={type:"stylesheet",instance:T,count:1,state:C},f.set(g,T)}}}function bE(t,i){Mn.X(t,i);var a=vo;if(a&&t){var r=zi(a).hoistableScripts,f=So(t),g=r.get(f);g||(g=a.querySelector(Ma(f)),g||(t=v({src:t,async:!0},i),(i=Ye.get(f))&&oc(t,i),g=a.createElement("script"),ie(g),ue(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},r.set(f,g))}}function AE(t,i){Mn.M(t,i);var a=vo;if(a&&t){var r=zi(a).hoistableScripts,f=So(t),g=r.get(f);g||(g=a.querySelector(Ma(f)),g||(t=v({src:t,async:!0,type:"module"},i),(i=Ye.get(f))&&oc(t,i),g=a.createElement("script"),ie(g),ue(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},r.set(f,g))}}function Ep(t,i,a,r){var f=(f=pt.current)?ll(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=To(a.href),a=zi(f).hoistableStyles,r=a.get(i),r||(r={type:"style",instance:null,count:0,state:null},a.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=To(a.href);var g=zi(f).hoistableStyles,T=g.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,T),(g=f.querySelector(Aa(t)))&&!g._p&&(T.instance=g,T.state.loading=5),Ye.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ye.set(t,a),g||ME(f,t,a,T.state))),i&&r===null)throw Error(s(528,""));return T}if(i&&r!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=So(a),a=zi(f).hoistableScripts,r=a.get(i),r||(r={type:"script",instance:null,count:0,state:null},a.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function To(t){return'href="'+ze(t)+'"'}function Aa(t){return'link[rel="stylesheet"]['+t+"]"}function Cp(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function ME(t,i,a,r){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=t.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),ue(i,"link",a),ie(i),t.head.appendChild(i))}function So(t){return'[src="'+ze(t)+'"]'}function Ma(t){return"script[async]"+t}function bp(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var r=t.querySelector('style[data-href~="'+ze(a.href)+'"]');if(r)return i.instance=r,ie(r),r;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),ie(r),ue(r,"style",f),rl(r,a.precedence,t),i.instance=r;case"stylesheet":f=To(a.href);var g=t.querySelector(Aa(f));if(g)return i.state.loading|=4,i.instance=g,ie(g),g;r=Cp(a),(f=Ye.get(f))&&ic(r,f),g=(t.ownerDocument||t).createElement("link"),ie(g);var T=g;return T._p=new Promise(function(C,M){T.onload=C,T.onerror=M}),ue(g,"link",r),i.state.loading|=4,rl(g,a.precedence,t),i.instance=g;case"script":return g=So(a.src),(f=t.querySelector(Ma(g)))?(i.instance=f,ie(f),f):(r=a,(f=Ye.get(g))&&(r=v({},a),oc(r,f)),t=t.ownerDocument||t,f=t.createElement("script"),ie(f),ue(f,"link",r),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,rl(r,a.precedence,t));return i.instance}function rl(t,i,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=r.length?r[r.length-1]:null,g=f,T=0;T<r.length;T++){var C=r[T];if(C.dataset.precedence===i)g=C;else if(g!==f)break}g?g.parentNode.insertBefore(t,g.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function ic(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function oc(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ul=null;function Ap(t,i,a){if(ul===null){var r=new Map,f=ul=new Map;f.set(a,r)}else f=ul,r=f.get(a),r||(r=new Map,f.set(a,r));if(r.has(t))return r;for(r.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var g=a[f];if(!(g[zo]||g[fe]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(i)||"";T=t+T;var C=r.get(T);C?C.push(g):r.set(T,[g])}}return r}function Mp(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function xE(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function xp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var xa=null;function _E(){}function RE(t,i,a){if(xa===null)throw Error(s(475));var r=xa;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=To(a.href),g=t.querySelector(Aa(f));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=cl.bind(r),t.then(r,r)),i.state.loading|=4,i.instance=g,ie(g);return}g=t.ownerDocument||t,a=Cp(a),(f=Ye.get(f))&&ic(a,f),g=g.createElement("link"),ie(g);var T=g;T._p=new Promise(function(C,M){T.onload=C,T.onerror=M}),ue(g,"link",a),i.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(r.count++,i=cl.bind(r),t.addEventListener("load",i),t.addEventListener("error",i))}}function DE(){if(xa===null)throw Error(s(475));var t=xa;return t.stylesheets&&t.count===0&&ac(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&ac(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function cl(){if(this.count--,this.count===0){if(this.stylesheets)ac(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var fl=null;function ac(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,fl=new Map,i.forEach(wE,t),fl=null,cl.call(t))}function wE(t,i){if(!(i.state.loading&4)){var a=fl.get(t);if(a)var r=a.get(null);else{a=new Map,fl.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var T=f[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),r=T)}r&&a.set(null,r)}f=i.instance,T=f.getAttribute("data-precedence"),g=a.get(T)||r,g===r&&a.set(null,f),a.set(T,f),this.count++,r=cl.bind(this),f.addEventListener("load",r),f.addEventListener("error",r),g?g.parentNode.insertBefore(f,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var _a={$$typeof:N,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function NE(t,i,a,r,f,g,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=er(0),this.hiddenUpdates=er(null),this.identifierPrefix=r,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function _p(t,i,a,r,f,g,T,C,M,B,O,Y){return t=new NE(t,i,a,T,C,M,B,Y),i=1,g===!0&&(i|=24),g=Ne(3,null,null,i),t.current=g,g.stateNode=t,i=Or(),i.refCount++,t.pooledCache=i,i.refCount++,g.memoizedState={element:r,isDehydrated:a,cache:i},Fr(g),t}function Rp(t){return t?(t=Ji,t):Ji}function Dp(t,i,a,r,f,g){f=Rp(f),r.context===null?r.context=f:r.pendingContext=f,r=Un(i),r.payload={element:a},g=g===void 0?null:g,g!==null&&(r.callback=g),a=In(t,r,i),a!==null&&(Ue(a,t,i),ia(a,t,i))}function wp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function sc(t,i){wp(t,i),(t=t.alternate)&&wp(t,i)}function Np(t){if(t.tag===13){var i=Zi(t,67108864);i!==null&&Ue(i,t,67108864),sc(t,67108864)}}var dl=!0;function LE(t,i,a,r){var f=P.T;P.T=null;var g=q.p;try{q.p=2,lc(t,i,a,r)}finally{q.p=g,P.T=f}}function VE(t,i,a,r){var f=P.T;P.T=null;var g=q.p;try{q.p=8,lc(t,i,a,r)}finally{q.p=g,P.T=f}}function lc(t,i,a,r){if(dl){var f=rc(r);if(f===null)Xu(t,i,r,hl,a),Vp(t,r);else if(BE(f,t,i,a,r))r.stopPropagation();else if(Vp(t,r),i&4&&-1<PE.indexOf(t)){for(;f!==null;){var g=Ii(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=ri(g.pendingLanes);if(T!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var M=1<<31-De(T);C.entanglements[1]|=M,T&=~M}sn(g),(Dt&6)===0&&(Js=tn()+500,Sa(0))}}break;case 13:C=Zi(g,2),C!==null&&Ue(C,g,2),Ws(),sc(g,2)}if(g=rc(r),g===null&&Xu(t,i,r,hl,a),g===f)break;f=g}f!==null&&r.stopPropagation()}else Xu(t,i,r,null,a)}}function rc(t){return t=hr(t),uc(t)}var hl=null;function uc(t){if(hl=null,t=Ui(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=c(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return hl=t,null}function Lp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(T0()){case Kf:return 2;case Qf:return 8;case as:case S0:return 32;case Xf:return 268435456;default:return 32}default:return 32}}var cc=!1,Jn=null,$n=null,Wn=null,Ra=new Map,Da=new Map,jn=[],PE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vp(t,i){switch(t){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Ra.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Da.delete(i.pointerId)}}function wa(t,i,a,r,f,g){return t===null||t.nativeEvent!==g?(t={blockedOn:i,domEventName:a,eventSystemFlags:r,nativeEvent:g,targetContainers:[f]},i!==null&&(i=Ii(i),i!==null&&Np(i)),t):(t.eventSystemFlags|=r,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function BE(t,i,a,r,f){switch(i){case"focusin":return Jn=wa(Jn,t,i,a,r,f),!0;case"dragenter":return $n=wa($n,t,i,a,r,f),!0;case"mouseover":return Wn=wa(Wn,t,i,a,r,f),!0;case"pointerover":var g=f.pointerId;return Ra.set(g,wa(Ra.get(g)||null,t,i,a,r,f)),!0;case"gotpointercapture":return g=f.pointerId,Da.set(g,wa(Da.get(g)||null,t,i,a,r,f)),!0}return!1}function Pp(t){var i=Ui(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){t.blockedOn=i,R0(t.priority,function(){if(a.tag===13){var r=Be();r=nr(r);var f=Zi(a,r);f!==null&&Ue(f,a,r),sc(a,r)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ml(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=rc(t.nativeEvent);if(a===null){a=t.nativeEvent;var r=new a.constructor(a.type,a);dr=r,a.target.dispatchEvent(r),dr=null}else return i=Ii(a),i!==null&&Np(i),t.blockedOn=a,!1;i.shift()}return!0}function Bp(t,i,a){ml(t)&&a.delete(i)}function UE(){cc=!1,Jn!==null&&ml(Jn)&&(Jn=null),$n!==null&&ml($n)&&($n=null),Wn!==null&&ml(Wn)&&(Wn=null),Ra.forEach(Bp),Da.forEach(Bp)}function pl(t,i){t.blockedOn===i&&(t.blockedOn=null,cc||(cc=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,UE)))}var gl=null;function Up(t){gl!==t&&(gl=t,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){gl===t&&(gl=null);for(var i=0;i<t.length;i+=3){var a=t[i],r=t[i+1],f=t[i+2];if(typeof r!="function"){if(uc(r||a)===null)continue;break}var g=Ii(a);g!==null&&(t.splice(i,3),i-=3,uu(g,{pending:!0,data:f,method:a.method,action:r},r,f))}}))}function Na(t){function i(M){return pl(M,t)}Jn!==null&&pl(Jn,t),$n!==null&&pl($n,t),Wn!==null&&pl(Wn,t),Ra.forEach(i),Da.forEach(i);for(var a=0;a<jn.length;a++){var r=jn[a];r.blockedOn===t&&(r.blockedOn=null)}for(;0<jn.length&&(a=jn[0],a.blockedOn===null);)Pp(a),a.blockedOn===null&&jn.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var f=a[r],g=a[r+1],T=f[Se]||null;if(typeof g=="function")T||Up(a);else if(T){var C=null;if(g&&g.hasAttribute("formAction")){if(f=g,T=g[Se]||null)C=T.formAction;else if(uc(f)!==null)continue}else C=T.action;typeof C=="function"?a[r+1]=C:(a.splice(r,3),r-=3),Up(a)}}}function fc(t){this._internalRoot=t}yl.prototype.render=fc.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,r=Be();Dp(a,r,t,i,null,null)},yl.prototype.unmount=fc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Dp(t.current,2,null,t,null,null),Ws(),i[Bi]=null}};function yl(t){this._internalRoot=t}yl.prototype.unstable_scheduleHydration=function(t){if(t){var i=jf();t={blockedOn:null,target:t,priority:i};for(var a=0;a<jn.length&&i!==0&&i<jn[a].priority;a++);jn.splice(a,0,t),a===0&&Pp(t)}};var Ip=e.version;if(Ip!=="19.1.1")throw Error(s(527,Ip,"19.1.1"));q.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?h(t):null,t=t===null?null:t.stateNode,t};var IE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{Bo=vl.inject(IE),Re=vl}catch{}}return Pa.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,r="",f=jh,g=tm,T=em,C=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks)),i=_p(t,1,!1,null,null,a,r,f,g,T,C,null),t[Bi]=i.current,Qu(t),new fc(i)},Pa.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var r=!1,f="",g=jh,T=tm,C=em,M=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(M=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=_p(t,1,!0,i,a??null,r,f,g,T,C,M,B),i.context=Rp(null),a=i.current,r=Be(),r=nr(r),f=Un(r),f.callback=null,In(a,f,r),a=r,i.current.lanes=a,Io(i,a),sn(i),t[Bi]=i.current,Qu(t),new yl(i)},Pa.version="19.1.1",Pa}var rv;function _w(){if(rv)return Dc.exports;rv=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),Dc.exports=xw(),Dc.exports}var Rw=_w();let it,u0,ln=null,_i=null,Eo=!1,ye=[],Di=[],je=null,Nt=null,Li=null,ql=new Map,Te=new Map,_n=null,xl=null,Ia=[],zt="de",$t={};const Wa={de:{header:{planning:"Planung",manufacturer:"Hersteller"},nav:{paramInput:"Parameter",markingArea:"Sicherheitsbereich",threatAnalysis:"Gefahrenanalyse",riskReport:"Risikobericht",productSelection:"Produktauswahl",projectDescription:"Ausschreibung",publishProject:"Projektausschreibung verffentlichen"},aria:{search:"Suche",email:"E-Mail",settings:"Einstellungen"},user:{loggedIn:"Angemeldet: BarricadiX Admin"},sidebar:{trafficData:"Verkehrsdaten",vehicleSelect:"Fahrzeugauswahl",accessRoads:"Zufahrten",curbs:"Bordsteinkanten",obstacles:"Hindernisse",protectionSelection:"Schutzauswahl",protectionPeriod:"Schutzzeitraum",protectionProducts:"Schutzprodukte",productProperty:"Produkteigenschaft",riskAssessment:"Risikobewertung",assetToProtect:"Was geschtzt werden soll",securityRisk:"Sicherheitsrisiko",recommendedProductClass:"Empfohlene Produktklasse",low:"niedrig",high:"hoch",options:{vehicle:{all:"alle",motorcycle:"Motorrad",car_light:"KFZ <3.5t",truck_light:"LKW <7.5t",truck_medium:"LKW <12t",truck_heavy:"LKW <40t"},access:{all:"alle",meadow:"Wiese",forest_path:"Waldweg",pedestrian_path:"Fugngerweg",one_way:"Einbahnstrae",two_lane:"Zweispur",three_lane:"Dreispur",four_lane:"Vierspur"},curbs:{yes:"ja",no:"nein"},obstacles:{none:"keine",trees:"Bume",posts:"Pfosten",bins:"Mlltonnen"},period:{permanent:"dauerhaft",temporary:"temporr",eventual:"eventuell"},products:{bollard:"Poller",barrier:"Barriere",post:"Pfosten",ditch:"Graben"},property:{automatic_rigid:"aut./starr",retractable:"versenkbar",removable:"entfernbar"}}},products:{resistanceMedium:"Widerstandsmedium",resistanceHigh:"Hoher Widerstand",resistanceLow:"Niedriger Widerstand"},ai:{reportPrompt:"Erstellen Sie einen detaillierten Risikobericht basierend auf den gesammelten Daten.",chatbot:{title:"Zufahrtsschutz-Assistent",welcome:"Willkommen zum Zufahrtsschutz-Assistenten. Ich stelle nur Fragen, die noch fehlen oder unsicher sind. Bereit?",assetQuestion:"Welche Schutzgter mchten Sie absichern? Hinweis: Grundlage fr Schutzziel & Schutzklasse (DIN SPEC 91414-2 / ISO 22343-2)",inputPlaceholder:"Antwort eingeben...",sendButton:"Senden",stakeholderQuestion:"Wer sind die relevanten Stakeholder (Behrden, Veranstalter, Betreiber)?",restRiskQuestion:"Welches akzeptable Restrisiko gilt?",operationalQuestion:"Betriebsanforderungen (mehrfach whlbar)",threatQuestion:"Welche Art fahrzeuggesttzter Bedrohung ist zu erwarten?",vehicleTypesQuestion:"Welche Fahrzeugtypen sind relevant?",accessCorridorsQuestion:"Wo knnten Fahrzeuge eindringen? (Karte markieren oder beschreiben)",speedQuestion:"Maximale Zufahrtsgeschwindigkeit (km/h)",angleQuestion:"Wahrscheinlicher Anprallwinkel ()",groundQuestion:"Untergrund/Fundamente am Standort",riskMatrixQuestion:"Risikobewertung: Eintrittswahrscheinlichkeit & Schadensausma",completionMessage:"Danke! Alle erforderlichen Angaben sind vorhanden. Mchten Sie den normkonformen PDF-Plan erzeugen?"}},manufacturer:{title:"Hersteller-Ansicht",subtitle:"Verwalten Sie Ihren Produktkatalog und Kundenanfragen",products:"Produkte",quotations:"Angebote",customers:"Kunden",analytics:"Analysen",manageCatalog:"Verwalten Sie Ihren Produktkatalog",createQuotations:"Erstellen und verwalten Sie Angebote",manageContacts:"Verwalten Sie Ihre Kundenkontakte",businessAnalytics:"Betriebs- und Verkaufsanalysen",open:"ffnen",nav:{products:"Produkte",quotations:"Angebote",customers:"Kunden",analytics:"Analysen",settings:"Einstellungen"},sidebar:{productManagement:"Produktverwaltung",productCategory:"Produktkategorie",productStatus:"Produktstatus",customerManagement:"Kundenverwaltung",customerType:"Kundentyp",customerRegion:"Region",analytics:"Analysen",dateRange:"Zeitraum",options:{category:{all:"Alle Kategorien",bollards:"Poller",barriers:"Barrieren",posts:"Pfosten",ditches:"Grben"},status:{all:"Alle Status",active:"Aktiv",inactive:"Inaktiv",draft:"Entwurf"},customerType:{all:"Alle Typen",private:"Privat",business:"Geschft",government:"Behrde"},region:{all:"Alle Regionen",north:"Nord",south:"Sd",east:"Ost",west:"West"},dateRange:{"7days":"Letzte 7 Tage","30days":"Letzte 30 Tage","90days":"Letzte 90 Tage","1year":"Letztes Jahr"}}}},report:{mainTitle:"Risikobewertung fr Zufahrtsschutz",watermark:"VERTRAULICH",undefinedAsset:"Nicht definiertes Schutzgut",undefinedValue:"Nicht definierter Wert",noThreatAnalysis:"Keine Gefahrenanalyse verfgbar",generating:"Bericht wird generiert...",status:{draft:"Entwurf",final:"Final",approved:"Genehmigt"},metadata:{date:"Datum",author:"Autor",version:"Version",classification:"Klassifizierung"},sections:{purpose:{title:"Zweck und Zielsetzung",description:"Dieser Bericht dient der Bewertung der Sicherheitsrisiken fr die zu schtzenden Zufahrten und der Empfehlung geeigneter Schutzmanahmen."},threatAnalysis:{title:"Gefahrenanalyse",description:"Analyse der identifizierten Bedrohungen und deren potenzielle Auswirkungen."},riskAssessment:{title:"Risikobewertung",description:"Bewertung der identifizierten Risiken und deren Klassifizierung."},recommendations:{title:"Empfehlungen",description:"Konkrete Handlungsempfehlungen fr die Implementierung von Schutzmanahmen."},vulnerabilities:{title:"Schwachstellenanalyse",description:"Identifizierung und Bewertung von Sicherheitsschwachstellen."},hvmMeasures:{title:"HVM-Schutzmanahmen",description:"Spezifische Schutzmanahmen gegen High-Velocity Missile Angriffe."},siteConsiderations:{title:"Standortbetrachtungen",description:"Besondere Aspekte des Standorts und der Umgebung."},operationalImpact:{title:"Betriebliche Auswirkungen",description:"Auswirkungen der Schutzmanahmen auf den laufenden Betrieb."}},threatsTable:{title:"Identifizierte Bedrohungen",street:"Strae",distance:"Strecke",maxSpeed:"Max. erreichbare Geschw."},identifiedCorridors:"{count} identifizierte Korridore",noChatGeometry:"keine Geometrie aus Chatbot bergeben",actions:{save:"Speichern",print:"Drucken",export:"Exportieren",share:"Teilen"}},threats:{title:"Gefahrenanalyse",speed:"Geschwindigkeit",analysisFailed:"Gefahrenanalyse fehlgeschlagen",noCrossingWaysBoundary:"Keine kreuzenden Wege an der Grenze gefunden",popupHeader:"Gefahreninformationen",loading:"Lade Gefahrenanalyse..."},map:{createReport:"Bericht erstellen",downloadReport:"Bericht herunterladen",searchPlaceholder:"Paderborn, Domplatz",searchButton:"Suchen",setWaypoints:"Wegpunkte setzen",setWaypointsActive:"Zeichnen aktiv",reset:"Zurcksetzen",securityAreaLabel:"Sicherheitsbereich",analyzeAccess:"Zugang analysieren"},alerts:{noPolygon:"Bitte zeichnen Sie zuerst einen Sicherheitsbereich auf der Karte.",overpassError:"Fehler beim Laden der Straendaten (Status: {status}).",analysisError:"Fehler bei der Gefahrenanalyse. Bitte versuchen Sie es erneut.",invalidPolygon:"Ungltiges Polygon. Bitte zeichnen Sie den Sicherheitsbereich neu.",emptyPolygon:"Das gezeichnete Polygon hat keine gltigen Koordinaten.",polygonCoordinateError:"Fehler beim Verarbeiten der Polygon-Koordinaten.",locationNotFound:"Standort nicht gefunden. Bitte berprfen Sie die Eingabe.",noThreatsFound:"Keine Bedrohungen in diesem Bereich gefunden.",reportGenerationError:"Fehler beim Erstellen des Berichts. Bitte versuchen Sie es erneut."}},en:{header:{planning:"Planning",manufacturer:"Manufacturer"},nav:{paramInput:"Parameters",markingArea:"Security Area",threatAnalysis:"Threat Analysis",riskReport:"Risk Report",productSelection:"Product Selection",projectDescription:"Specification",publishProject:"Publish Project Specification"},aria:{search:"Search",email:"Email",settings:"Settings"},user:{loggedIn:"Logged in: BarricadiX Admin"},sidebar:{trafficData:"Traffic Data",vehicleSelect:"Vehicle Selection",accessRoads:"Access Roads",curbs:"Curbs",obstacles:"Obstacles",protectionSelection:"Protection Selection",protectionPeriod:"Protection Period",protectionProducts:"Protection Products",productProperty:"Product Property",riskAssessment:"Risk Assessment",assetToProtect:"What to Protect",securityRisk:"Security Risk",recommendedProductClass:"Recommended Product Class",low:"low",high:"high",options:{vehicle:{all:"all",motorcycle:"Motorcycle",car_light:"Car <3.5t",truck_light:"Truck <7.5t",truck_medium:"Truck <12t",truck_heavy:"Truck <40t"},access:{all:"all",meadow:"Meadow",forest_path:"Forest Path",pedestrian_path:"Pedestrian Path",one_way:"One Way",two_lane:"Two Lane",three_lane:"Three Lane",four_lane:"Four Lane"},curbs:{yes:"yes",no:"no"},obstacles:{none:"none",trees:"Trees",posts:"Posts",bins:"Bins"},period:{permanent:"permanent",temporary:"temporary",eventual:"eventual"},products:{bollard:"Bollard",barrier:"Barrier",post:"Post",ditch:"Ditch"},property:{automatic_rigid:"auto/rigid",retractable:"retractable",removable:"removable"}}},products:{resistanceMedium:"Resistance Medium",resistanceHigh:"High Resistance",resistanceLow:"Low Resistance"},ai:{reportPrompt:"Create a detailed risk report based on the collected data.",chatbot:{title:"Access Protection Assistant",welcome:"Welcome to the Access Protection Assistant. I only ask questions that are still missing or uncertain. Ready?",assetQuestion:"Which protective assets would you like to secure? Note: Basis for Protection Goal & Protection Class (DIN SPEC 91414-2 / ISO 22343-2)",inputPlaceholder:"Enter answer...",sendButton:"Send",stakeholderQuestion:"Who are the relevant stakeholders (authorities, organizers, operators)?",restRiskQuestion:"What acceptable residual risk applies?",operationalQuestion:"Operational requirements (multiple choice)",threatQuestion:"What type of vehicle-based threat is expected?",vehicleTypesQuestion:"Which vehicle types are relevant?",accessCorridorsQuestion:"Where could vehicles penetrate? (Mark on map or describe)",speedQuestion:"Maximum access speed (km/h)",angleQuestion:"Probable impact angle ()",groundQuestion:"Ground/foundations at the site",riskMatrixQuestion:"Risk assessment: probability of occurrence & extent of damage",completionMessage:"Thank you! All required information is available. Would you like to generate the standards-compliant PDF plan?"}},manufacturer:{title:"Manufacturer View",subtitle:"Manage your product catalog and customer inquiries",products:"Products",quotations:"Quotations",customers:"Customers",analytics:"Analytics",manageCatalog:"Manage your product catalog",createQuotations:"Create and manage quotations",manageContacts:"Manage your customer contacts",businessAnalytics:"Business and sales analytics",open:"Open",nav:{products:"Products",quotations:"Quotations",customers:"Customers",analytics:"Analytics",settings:"Settings"},sidebar:{productManagement:"Product Management",productCategory:"Product Category",productStatus:"Product Status",customerManagement:"Customer Management",customerType:"Customer Type",customerRegion:"Region",analytics:"Analytics",dateRange:"Date Range",options:{category:{all:"All Categories",bollards:"Bollards",barriers:"Barriers",posts:"Posts",ditches:"Ditches"},status:{all:"All Status",active:"Active",inactive:"Inactive",draft:"Draft"},customerType:{all:"All Types",private:"Private",business:"Business",government:"Government"},region:{all:"All Regions",north:"North",south:"South",east:"East",west:"West"},dateRange:{"7days":"Last 7 Days","30days":"Last 30 Days","90days":"Last 90 Days","1year":"Last Year"}}}},report:{mainTitle:"Risk Assessment for Access Protection",watermark:"CONFIDENTIAL",undefinedAsset:"Undefined asset",undefinedValue:"Undefined value",noThreatAnalysis:"No threat analysis available",generating:"Generating report...",identifiedCorridors:"{count} identified corridors",noChatGeometry:"no geometry from chatbot",status:{draft:"Draft",final:"Final",approved:"Approved"},metadata:{date:"Date",author:"Author",version:"Version",classification:"Classification"},sections:{purpose:{title:"Purpose and Objectives",description:"This report serves to assess security risks for the access routes to be protected and to recommend appropriate protective measures."},threatAnalysis:{title:"Threat Analysis",description:"Analysis of identified threats and their potential impacts."},riskAssessment:{title:"Risk Assessment",description:"Assessment of identified risks and their classification."},recommendations:{title:"Recommendations",description:"Concrete action recommendations for implementing protective measures."},vulnerabilities:{title:"Vulnerability Analysis",description:"Identification and assessment of security vulnerabilities."},hvmMeasures:{title:"HVM Protection Measures",description:"Specific protection measures against High-Velocity Missile attacks."},siteConsiderations:{title:"Site Considerations",description:"Special aspects of the site and environment."},operationalImpact:{title:"Operational Impact",description:"Impact of protection measures on ongoing operations."}},threatsTable:{title:"Identified Threats",street:"Street",distance:"Distance",maxSpeed:"Max. achievable speed"},actions:{save:"Save",print:"Print",export:"Export",share:"Share"}},threats:{title:"Threat Analysis",speed:"Speed",analysisFailed:"Threat analysis failed",noCrossingWaysBoundary:"No crossing ways found at boundary",popupHeader:"Threat Information",loading:"Loading threat analysis..."},map:{createReport:"Create Report",downloadReport:"Download Report",searchPlaceholder:"Paderborn, Domplatz",searchButton:"Search",setWaypoints:"Set Waypoints",setWaypointsActive:"Drawing Active",reset:"Reset",securityAreaLabel:"Security Area",analyzeAccess:"Analyze Access"},placeholders:{assetToProtect:"Please enter"}}};function uv(){console.log("Initializing view switcher..."),setTimeout(()=>{const o=document.getElementById("planning-view-btn"),e=document.getElementById("manufacturer-view-btn"),n=document.getElementById("close-manufacturer-view");console.log("Planning button:",o),console.log("Manufacturer button:",e),console.log("Close manufacturer button:",n),o&&e?(o.addEventListener("click",()=>{console.log("Planning button clicked"),cv()}),e.addEventListener("click",()=>{console.log("Manufacturer button clicked"),Dw()}),console.log("View switcher initialized successfully")):console.error("View switcher buttons not found!"),n?(n.addEventListener("click",()=>{console.log("Close manufacturer button clicked"),cv()}),console.log("Close manufacturer button initialized")):console.error("Close manufacturer button not found!");const s=document.querySelectorAll(".manufacturer-tab");s.forEach(l=>{l.addEventListener("click",u=>{u.preventDefault();const c=u.target;s.forEach(h=>h.classList.remove("active")),c.classList.add("active");const m=c.id;console.log("Manufacturer tab clicked:",m);const y=c.textContent||"Tab";Po(`${y} wird geladen...`,"info")})}),console.log("Manufacturer navigation tabs initialized"),setTimeout(()=>{Vw()},500)},100)}function cv(){const o=document.getElementById("planning-view-btn"),e=document.getElementById("manufacturer-view-btn");o&&e&&(o.classList.add("active"),e.classList.remove("active")),ww()}function Dw(){const o=document.getElementById("planning-view-btn"),e=document.getElementById("manufacturer-view-btn");o&&e&&(e.classList.add("active"),o.classList.remove("active")),Nw()}function ww(){console.log("Switching to planning view...");const o=document.getElementById("manufacturer-view");o&&(o.style.display="none",console.log("Manufacturer view hidden"));const e=document.getElementById("planning-view");if(e&&(e.style.display="block",console.log("Planning view shown")),jw(),["map","map-area","sidebar","map-tabs","map-toolbar","chatbot-react-root"].forEach(s=>{const l=document.getElementById(s);l&&(l.classList.remove("view-hidden"),l.style.display="block",l.style.visibility="visible",l.style.opacity="1",console.log(`${s} restored and view-hidden removed`))}),it&&(console.log("Destroying existing map..."),it.remove(),it=null),setTimeout(()=>{if(console.log("Re-initializing map..."),m0(),window.savedMapState){const s=window.savedMapState;it&&(it.setView(s.center,s.zoom),console.log("Map state restored:",s.center,"zoom:",s.zoom),it.invalidateSize(),setTimeout(()=>it==null?void 0:it.invalidateSize(),100),setTimeout(()=>it==null?void 0:it.invalidateSize(),300))}},100),window.savedChatbotState&&window.savedChatbotState.open){console.log("Restoring chatbot state...");const s=document.querySelector('#chatbot-react-root [aria-label="Zufahrtsschutz-Assistent ffnen"]');s&&(s.click(),console.log("Chatbot button clicked"))}Po("Planungs-Ansicht aktiviert - Map neu initialisiert","success"),console.log("Planning view switch completed with map re-initialization")}function Nw(){it&&(window.savedMapState={center:it.getCenter(),zoom:it.getZoom(),waypoints:ye,drawnPolygon:Nt?Nt.getLatLngs()[0]:null,waypointMarkers:Di.length>0,pathLine:je!==null});const o=document.querySelector('#chatbot-react-root aside[aria-label="Zufahrtsschutz-Assistent Panel"]');window.savedChatbotState={open:o&&!o.classList.contains("hidden")};const e=document.getElementById("planning-view");e&&(e.style.display="none");const n=document.getElementById("manufacturer-view");n&&(n.style.display="block",n.style.position="relative",n.style.width="100%",n.style.height="100%",n.style.zIndex="auto",n.style.backgroundColor="transparent");const s=document.querySelector(".sidebar");s&&(s.style.display="none");const l=document.getElementById("map-area");l&&(l.style.display="none",l.style.visibility="hidden",l.style.opacity="0",l.classList.add("view-hidden"));const u=document.getElementById("map");u&&(u.style.display="none",u.style.visibility="hidden",u.style.opacity="0",u.classList.add("view-hidden"));const c=document.getElementById("map-tabs"),m=document.getElementById("map-toolbar");c&&(c.style.display="none",c.classList.add("view-hidden")),m&&(m.style.display="none",m.classList.add("view-hidden")),setTimeout(()=>{p0()},50),Po("Hersteller-Ansicht aktiviert","success")}function Lw(){if(!window.savedMapState)return;const o=window.savedMapState;return console.log("Restoring map state:",o),o}window.restoreMapState=Lw;function Vw(){console.log("Initializing product database..."),f0(),Pw(),Uw(),Iw()}async function Pw(){try{const o=await fetch("/product-database.json");if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const e=await o.json();console.log("Product database loaded:",e.length,"products"),window.productDatabase=e,Bw(e),c0(e);const n=document.getElementById("products-loading");n&&(n.style.display="none");const s=document.getElementById("products-table");s&&(s.style.display="table"),f0()}catch(o){console.error("Error loading product database:",o),Po("Fehler beim Laden der Produktdatenbank","error");const e=document.getElementById("no-products");e&&(e.style.display="block",e.textContent="Fehler beim Laden der Produktdatenbank")}}function Bw(o){const e=document.getElementById("manufacturer-filter");e&&[...new Set(o.map(u=>u.manufacturer).filter(Boolean))].forEach(u=>{const c=document.createElement("option");c.value=u,c.textContent=u,e.appendChild(c)});const n=document.getElementById("standard-filter");n&&[...new Set(o.map(u=>u.standard).filter(Boolean))].forEach(u=>{const c=document.createElement("option");c.value=u,c.textContent=u,n.appendChild(c)});const s=document.getElementById("vehicle-type-filter");s&&[...new Set(o.map(u=>u.vehicleType).filter(Boolean))].forEach(u=>{const c=document.createElement("option");c.value=u,c.textContent=u,s.appendChild(c)})}function c0(o){const e=document.getElementById("products-tbody");if(!e)return;if(e.innerHTML="",o.length===0){const l=document.getElementById("no-products");l&&(l.style.display="block");return}const n=document.getElementById("no-products");n&&(n.style.display="none"),o.forEach((l,u)=>{const c=document.createElement("tr");c.innerHTML=`
            <td>${l.manufacturer||"N/A"}</td>
            <td>${l.type||"N/A"}</td>
            <td>${l.standard||"N/A"}</td>
            <td>${l.vehicleWeight||"N/A"}</td>
            <td>${l.vehicleType||"N/A"}</td>
            <td>${l.speed||"N/A"}</td>
            <td>${l.impactAngle||"N/A"}</td>
            <td>${l.penetration||"N/A"}</td>
            <td>${l.debrisDistance||"N/A"}</td>
            <td>
                <button class="view-details-btn" data-product-index="${u}">
                    Details anzeigen
                </button>
            </td>
        `,e.appendChild(c)}),e.querySelectorAll(".view-details-btn").forEach(l=>{l.addEventListener("click",u=>{const c=u.target,m=parseInt(c.getAttribute("data-product-index")||"0");zw(m)})})}function Uw(){const o=document.getElementById("product-search"),e=document.getElementById("search-btn"),n=document.getElementById("manufacturer-filter"),s=document.getElementById("standard-filter"),l=document.getElementById("vehicle-type-filter");o&&o.addEventListener("input",Ba),e&&e.addEventListener("click",Ba),n&&n.addEventListener("change",Ba),s&&s.addEventListener("change",Ba),l&&l.addEventListener("change",Ba)}function Ba(){var c,m,y,h;const o=window.productDatabase||[],e=((c=document.getElementById("product-search"))==null?void 0:c.value.toLowerCase())||"",n=((m=document.getElementById("manufacturer-filter"))==null?void 0:m.value)||"",s=((y=document.getElementById("standard-filter"))==null?void 0:y.value)||"",l=((h=document.getElementById("vehicle-type-filter"))==null?void 0:h.value)||"",u=o.filter(v=>{var D,z,k;const S=!e||((D=v.manufacturer)==null?void 0:D.toLowerCase().includes(e))||((z=v.type)==null?void 0:z.toLowerCase().includes(e))||((k=v.standard)==null?void 0:k.toLowerCase().includes(e)),E=!n||v.manufacturer===n,b=!s||v.standard===s,A=!l||v.vehicleType===l;return S&&E&&b&&A});c0(u)}function f0(){console.log("Translating product database elements...");const o=document.querySelector(".section-header h2");o&&(o.textContent="Produktdatenbank");const e=document.querySelector(".section-header p");e&&(e.textContent="Technische Daten und Spezifikationen aller verfgbaren Produkte");const n=document.getElementById("product-search");n&&(n.placeholder="Produktname, Hersteller oder Typ eingeben...");const s=document.querySelectorAll(".products-table th");s.length>=9&&(s[0].textContent="Hersteller",s[1].textContent="Typ",s[2].textContent="Standard",s[3].textContent="Fahrzeuggewicht (kg)",s[4].textContent="Fahrzeugtyp",s[5].textContent="Geschwindigkeit (km/h)",s[6].textContent="Anprallwinkel ()",s[7].textContent="Penetration (m)",s[8].textContent="Trmmerdistanz (m)",s[9].textContent="Aktionen");const l=document.getElementById("products-loading");l&&(l.textContent="Produkte werden geladen...");const u=document.getElementById("no-products");u&&(u.textContent="Keine Produkte gefunden");const c=document.getElementById("modal-product-name");c&&(c.textContent="Produktdetails");const m=document.querySelector("#modal-technical-specs");m&&m.previousElementSibling&&(m.previousElementSibling.textContent="Technische Spezifikationen");const y=document.querySelector("#modal-performance-data");y&&y.previousElementSibling&&(y.previousElementSibling.textContent="Leistungsdaten");const h=document.querySelector("#modal-certification");h&&h.previousElementSibling&&(h.previousElementSibling.textContent="Zertifizierung");const v=document.getElementById("export-product");if(v){const E=v.querySelector("span");E&&(E.textContent="Daten exportieren")}const S=document.getElementById("print-product");if(S){const E=S.querySelector("span");E&&(E.textContent="Spezifikationen drucken")}console.log("Product database elements translated")}function Iw(){const o=document.getElementById("close-modal"),e=document.getElementById("export-product"),n=document.getElementById("print-product");o&&o.addEventListener("click",()=>{const l=document.getElementById("product-modal");l&&(l.style.display="none")}),e&&e.addEventListener("click",kw),n&&n.addEventListener("click",Ow);const s=document.getElementById("product-modal");s&&s.addEventListener("click",l=>{l.target===s&&(s.style.display="none")})}function zw(o){const n=(window.productDatabase||[])[o];if(!n)return;const s=document.getElementById("modal-product-name");s&&(s.textContent=`${n.manufacturer} - ${n.type}`);const l=document.getElementById("modal-technical-specs");l&&(l.innerHTML=`
            <p><strong>Hersteller:</strong> ${n.manufacturer||"N/A"}</p>
            <p><strong>Typ:</strong> ${n.type||"N/A"}</p>
            <p><strong>Standard:</strong> ${n.standard||"N/A"}</p>
        `);const u=document.getElementById("modal-performance-data");u&&(u.innerHTML=`
            <p><strong>Fahrzeuggewicht:</strong> ${n.vehicleWeight||"N/A"} kg</p>
            <p><strong>Fahrzeugtyp:</strong> ${n.vehicleType||"N/A"}</p>
            <p><strong>Geschwindigkeit:</strong> ${n.speed||"N/A"} km/h</p>
            <p><strong>Anprallwinkel:</strong> ${n.impactAngle||"N/A"}</p>
            <p><strong>Penetration:</strong> ${n.penetration||"N/A"} m</p>
            <p><strong>Trmmerdistanz:</strong> ${n.debrisDistance||"N/A"} m</p>
        `);const c=document.getElementById("modal-certification");c&&(c.innerHTML=`
            <p><strong>Zertifizierungsstandard:</strong> ${n.standard||"N/A"}</p>
            <p><strong>Testbedingungen:</strong> ${n.vehicleWeight||"N/A"} kg bei ${n.speed||"N/A"} km/h</p>
        `);const m=document.getElementById("product-modal");m&&(m.style.display="flex")}function kw(){Po("Export-Funktionalitt wird implementiert...","info")}function Ow(){Po("Druck-Funktionalitt wird implementiert...","info")}function Po(o,e="info"){document.querySelectorAll(".custom-notification").forEach(u=>u.remove());const s=document.createElement("div");s.className=`custom-notification custom-notification-${e}`,s.innerHTML=`
        <div class="notification-content">
            <span class="notification-message">${o}</span>
            <button class="notification-close">&times;</button>
        </div>
    `,s.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${e==="info"?"#2563eb":e==="success"?"#22c55e":e==="warning"?"#f59e0b":"#ef4444"};
        color: white;
        padding: 16px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 10000;
        max-width: 400px;
        font-family: 'Open Sans', sans-serif;
        font-size: 14px;
        line-height: 1.4;
    `,document.body.appendChild(s);const l=s.querySelector(".notification-close");l&&l.addEventListener("click",()=>s.remove()),setTimeout(()=>{s.parentNode&&s.remove()},5e3)}function fv(o,e){return e.split(".").reduce((n,s)=>n?n[s]:void 0,o)}function nt(o,e){(!$t||!$t[zt])&&(console.warn(`No translations loaded for language: ${zt}, using embedded`),$t=Wa);let n=fv($t[zt],o);if(typeof n!="string"&&(console.warn(`Translation key not found in main translations for language '${zt}': ${o}`),n=fv(Wa[zt],o),typeof n!="string"))return console.warn(`Translation key not found in embedded translations for language '${zt}': ${o}`),qw(o)||o;if(e)for(const s in e)n=n.replace(`{${s}}`,String(e[s]));return n}function qw(o){return{"sidebar.trafficData":"Verkehrsdaten","sidebar.vehicleSelect":"Fahrzeugauswahl","sidebar.accessRoads":"Zufahrten","sidebar.curbs":"Bordsteinkanten","sidebar.obstacles":"Hindernisse","sidebar.protectionSelection":"Schutzauswahl","sidebar.protectionPeriod":"Schutzzeitraum","sidebar.protectionProducts":"Schutzprodukte","sidebar.productProperty":"Produkteigenschaft","sidebar.riskAssessment":"Risikobewertung","sidebar.assetToProtect":"Was geschtzt werden soll","sidebar.securityRisk":"Sicherheitsrisiko","sidebar.recommendedProductClass":"Empfohlene Produktklasse","sidebar.low":"niedrig","sidebar.high":"hoch","nav.paramInput":"Parameter","nav.markingArea":"Sicherheitsbereich","nav.threatAnalysis":"Gefahrenanalyse","nav.riskReport":"Risikobericht","nav.productSelection":"Produktauswahl","nav.projectDescription":"Ausschreibung","header.planning":"Planung","header.manufacturer":"Hersteller"}[o]||null}async function d0(){if(console.log("Starting UI translation..."),!$t[zt]&&(console.warn(`No translations for language '${zt}', attempting to load...`),await h0(),!$t[zt])){console.error(`Failed to load translations for language '${zt}'`);return}let o=0,e=0;document.querySelectorAll("[data-translate-key]").forEach(s=>{try{const l=s.getAttribute("data-translate-key"),u=nt(l);if(u&&u!==l){if(s.hasAttribute("placeholder"))s.placeholder=u;else if(s.tagName==="INPUT"&&s.type==="text")s.value=u;else{const c=Array.from(s.childNodes).find(m=>{var y;return m.nodeType===Node.TEXT_NODE&&((y=m.textContent)==null?void 0:y.trim())});c?c.textContent=u:s.textContent=u}o++}else console.warn(`Translation failed for key: ${l}`),e++}catch(l){console.error("Error translating element:",l),e++}}),document.querySelectorAll("[data-translate-key-placeholder]").forEach(s=>{try{const l=s.getAttribute("data-translate-key-placeholder"),u=nt(l);u&&u!==l&&(s.placeholder=u,o++)}catch(l){console.error("Error translating placeholder:",l),e++}}),document.querySelectorAll("[data-translate-key-aria]").forEach(s=>{try{const l=s.getAttribute("data-translate-key-aria"),u=nt(l);u&&u!==l&&(s.setAttribute("aria-label",u),o++)}catch(l){console.error("Error translating aria-label:",l),e++}}),document.querySelectorAll("[data-translate-key-tooltip]").forEach(s=>{try{const l=s.getAttribute("data-translate-key-tooltip"),u=nt(l);u&&u!==l&&(s.dataset.tooltip=u,o++)}catch(l){console.error("Error translating tooltip:",l),e++}});const n=document.getElementById("toggle-draw-mode");if(n){const s=n.querySelector("span");if(s){const l=nt(Eo?"map.setWaypointsActive":"map.setWaypoints");l&&l!=="map.setWaypointsActive"&&l!=="map.setWaypoints"&&(s.textContent=l,o++)}}console.log(`UI translation completed: ${o} elements translated, ${e} failed`),setTimeout(()=>{let s=0;document.querySelectorAll("[data-translate-key]").forEach(l=>{try{const u=l.getAttribute("data-translate-key"),c=nt(u);c&&c!==u&&l.textContent!==c&&(l.textContent=c,s++)}catch(u){console.error("Error in refresh translation:",u)}}),s>0&&console.log(`Refreshed ${s} elements`)},200)}async function h0(){try{const o=["/Barricadix_MWP/translations.json","/translations.json","./translations.json","../translations.json"];let e=!1;for(const n of o)try{console.log(`Trying to load translations from: ${n}`);const s=await fetch(n);if(s.ok){$t=await s.json(),console.log(`Translations loaded successfully from: ${n}`),e=!0;break}}catch(s){console.log(`Failed to load from ${n}:`,s)}if(!e)throw new Error("All translation file paths failed")}catch(o){console.error("Could not load translations from any file path:",o);try{const e=await fetch("/translations.json");e.ok&&($t=await e.json())}catch(e){console.error("Fallback translation loading also failed:",e)}}!$t.de&&!$t.en?(console.log("No translations loaded from file, using embedded translations"),$t=Wa):console.log("Translations loaded successfully from file"),(!$t.de||!$t.en)&&(console.warn("Incomplete translations, falling back to embedded"),$t=Wa)}async function dv(o){var s;console.log(`Setting language to: ${o}`);const e={center:it?it.getCenter():null,zoom:it?it.getZoom():null,drawnPolygon:Nt?Nt.getLatLngs():null,threatsMap:new Map(Te),waypoints:[...ye]};console.log("Current map state:",e),zt=o,localStorage.setItem("language",o),document.documentElement.lang=o,document.querySelectorAll(".lang-btn").forEach(l=>{l.classList.toggle("active",l.getAttribute("data-lang")===o)}),await d0();const n=document.getElementById("manufacturer-view");if(n&&n.style.display!=="none"&&p0(),g0(),window.dispatchEvent(new Event("languageChanged")),it&&e.center&&e.zoom){console.log("Restoring map state after language change"),await new Promise(l=>setTimeout(l,500));try{if(it.setView(e.center,e.zoom,{animate:!1}),e.drawnPolygon&&e.drawnPolygon.length>0){console.log("Restoring drawn polygon"),Nt&&it.removeLayer(Nt),Nt=L.polygon(e.drawnPolygon,{color:"#ff7800",weight:3,opacity:.8,fillColor:"#ff7800",fillOpacity:.2}).addTo(it),Li&&it.removeLayer(Li);const l=Nt.getBounds().getCenter();Li=L.marker(l,{icon:L.divIcon({className:"polygon-label",html:`<div style="background: white; padding: 5px; border: 2px solid #ff7800; border-radius: 5px; font-weight: bold; color: #ff7800;">${nt("map.securityArea")}</div>`,iconSize:[120,40],iconAnchor:[60,20]})}).addTo(it)}e.threatsMap.size>0&&(console.log("Restoring threats map"),Te=e.threatsMap,Te.size>0&&uf()),e.waypoints.length>0&&(console.log("Restoring waypoints"),ye=e.waypoints,ye.forEach((l,u)=>{const c=L.marker(l,{icon:L.divIcon({className:"waypoint-marker",html:`<div style="background: #ff7800; color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: bold;">${u+1}</div>`,iconSize:[20,20],iconAnchor:[10,10]})}).addTo(it);Di.push(c)}),ye.length>1&&(je=L.polyline(ye,{color:"#ff7800",weight:3,opacity:.8,dashArray:"10, 10"}).addTo(it))),it.invalidateSize(),console.log("Map state restored successfully")}catch(l){console.error("Error restoring map state:",l)}}Te.size>0&&uf(),((s=document.querySelector(".product-recommendations-container"))==null?void 0:s.classList.contains("hidden"))===!1&&await Hl(),console.log(`Language change to ${o} completed`)}function m0(){const o=document.getElementById("map");if(!o){console.error("Map container element not found.");return}o.style.display="block",o.style.visibility="visible",o.style.opacity="1",o.classList.remove("view-hidden"),console.log("Map container prepared for initialization");const e=[51.7189,8.7575];it=L.map(o,{zoomControl:!1,preferCanvas:!0}).setView(e,16),L.control.zoom({position:"bottomright"}).addTo(it),u0=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(it),console.log("Map initialized successfully")}const za=()=>{if(ln){try{ln.clearLayers(),it.removeLayer(ln)}catch{}ln=null}ql.forEach(s=>{s.forEach(l=>it.removeLayer(l))}),ql.clear(),Te.clear();const o=document.querySelector(".threat-list");o&&(o.innerHTML="");const e=document.getElementById("floating-threats");e&&e.classList.add("view-hidden");const n=document.querySelector(".product-recommendations-container");n&&n.classList.add("hidden")};function Gw(o,e,n,s){const l=o.lon,u=o.lat,c=e.lon,m=e.lat,y=n.lon,h=n.lat,v=s.lon,S=s.lat,E=(l-c)*(h-S)-(u-m)*(y-v);if(E===0)return null;const b=((l-y)*(h-S)-(u-h)*(y-v))/E,A=-((l-c)*(u-h)-(u-m)*(l-y))/E;return b>0&&b<1&&A>0&&A<1?{lat:u+b*(m-u),lon:l+b*(c-l)}:null}const hv=(o,e)=>{let n=!1;for(let s=0,l=e.length-1;s<e.length;l=s++){const u=e[s].lon,c=e[s].lat,m=e[l].lon,y=e[l].lat;c>o.lat!=y>o.lat&&o.lon<(m-u)*(o.lat-c)/(y-c)+u&&(n=!n)}return n};function mv(o,e){const s=o.lat*Math.PI/180,l=e.lat*Math.PI/180,u=(e.lat-o.lat)*Math.PI/180,c=(e.lon-o.lon)*Math.PI/180,m=Math.sin(u/2)*Math.sin(u/2)+Math.cos(s)*Math.cos(l)*Math.sin(c/2)*Math.sin(c/2);return 6371e3*(2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)))}function Hw(o,e,n){const s={x:o.lon-e.lon,y:o.lat-e.lat},l={x:n.lon-e.lon,y:n.lat-e.lat},u=s.x*l.x+s.y*l.y,c=Math.sqrt(s.x*s.x+s.y*s.y),m=Math.sqrt(l.x*l.x+l.y*l.y);if(c===0||m===0)return 180;const y=u/(c*m),h=Math.max(-1,Math.min(1,y));return Math.acos(h)*(180/Math.PI)}function Gl(o){switch(o){case"500":return[4,6];case"3500":return[3,4];case"7500":return[1.5,2.5];case"12000":return[1,1.5];case"40000":return[.5,1];default:return null}}function Fa(o,e){return e<=0?0:Math.sqrt(2*o*e)*3.6}function uf(){const o=document.querySelector(".threat-list");if(!o||(o.innerHTML="",Te.size===0))return;const n=document.getElementById("vehicle-select").value,s=Gl(n),l=Array.from(Te.entries()).map(([u,c])=>{if(c.entryPoints.length===0)return null;const m=Math.round(c.totalLength);let y=0;if(s&&m>0){const[,h]=s;y=Math.round(Fa(h,m))}return{name:u,data:c,maxSpeed:y,lengthInMeters:m}}).filter(u=>u!==null);if(l.sort((u,c)=>c.maxSpeed-u.maxSpeed),l.forEach(({name:u,maxSpeed:c,lengthInMeters:m})=>{const y=document.createElement("li");let h="";c>0&&(h=` | ${nt("threats.speed")}: ${c} km/h`),y.textContent=`${u} (${m} m)${h}`,y.setAttribute("role","button"),y.setAttribute("tabindex","0"),y.addEventListener("click",()=>{o.querySelectorAll("li").forEach(S=>S.classList.remove("active")),y.classList.add("active");const v=ql.get(u);if(v&&v.length>0){const S=L.featureGroup(v);it.fitBounds(S.getBounds().pad(.5))}}),y.addEventListener("keydown",v=>{(v.key==="Enter"||v.key===" ")&&y.click()}),o.appendChild(y)}),o.children.length===0){const u=document.createElement("li");u.textContent=nt("threats.noCrossingWaysBoundary"),o.appendChild(u)}}const pv=async()=>{if(!Nt){alert(nt("alerts.noPolygon"));return}if(!Nt.getLatLngs||typeof Nt.getLatLngs!="function"){console.error("Invalid polygon object - missing getLatLngs method"),alert(nt("alerts.invalidPolygon"));return}const o=Nt.getLatLngs();if(!o||o.length===0){console.error("Polygon has no coordinates"),alert(nt("alerts.emptyPolygon"));return}console.log(`Analyzing threats for polygon with ${o.length} coordinate sets`),console.log("Polygon coordinates:",o);const e=document.querySelector(".loading-indicator");if(e){za(),e.classList.remove("hidden");try{const n=Nt.getBounds();if(!n||!n.isValid())throw new Error("Invalid polygon bounds");const s=.002,l=n.getSouthWest(),u=n.getNorthEast(),c=`${l.lat-s},${l.lng-s},${u.lat+s},${u.lng+s}`;console.log("Analysis bounds:",c);const m=`
            [out:json][timeout:25];
            (
              way["highway"](bbox:${c});
              way["railway"="tram"](bbox:${c});
            );
            (._;>;);
            out;
        `,y=`https://overpass-api.de/api/interpreter?data=${encodeURIComponent(m)}`;let h;try{const A=await fetch(y);if(!A.ok)throw new Error(nt("alerts.overpassError",{status:A.status}));h=await A.json()}catch(A){console.error("Overpass API error:",A),alert(nt("alerts.analysisError")),e.classList.add("hidden");return}const v={},S={};h.elements.forEach(A=>{A.type==="node"?v[A.id]={lat:A.lat,lon:A.lon}:A.type==="way"&&A.tags&&(A.tags.highway||A.tags.railway)&&A.tags.name&&(S[A.id]={name:A.tags.name,nodes:A.nodes,id:A.id})});const E=new Map;let b=[];try{if(Array.isArray(o[0])?Array.isArray(o[0][0])?b=o[0][0].map(A=>({lat:A.lat||A.lat,lon:A.lng||A.lon})):b=o[0].map(A=>({lat:A.lat||A.lat,lon:A.lng||A.lon})):b=o.map(A=>({lat:A.lat||A.lat,lon:A.lng||A.lon})),b.length<3)throw new Error("Invalid polygon: insufficient vertices");if(b=b.filter(A=>typeof A.lat=="number"&&typeof A.lon=="number"&&!isNaN(A.lat)&&!isNaN(A.lon)),b.length<3)throw new Error("Invalid polygon: insufficient valid coordinates");console.log(`Extracted ${b.length} valid polygon vertices:`,b)}catch(A){console.error("Error extracting polygon coordinates:",A),alert(nt("alerts.polygonCoordinateError")),e.classList.add("hidden");return}for(const A in S){const D=S[A],z=D.nodes.map(N=>({id:N,...v[N]})).filter(N=>N.lat&&N.lon);if(z.length<2)continue;const k=[],F=[];for(let N=0;N<z.length-1;N++){const K=z[N],w=z[N+1],X=hv(K,b),Z=hv(w,b);if(X!==Z){let H=null;for(let ot=0;ot<b.length;ot++){const lt=b[ot],yt=b[(ot+1)%b.length],Tt=Gw(K,w,lt,yt);if(Tt){H=Tt;break}}if(H){F.push(H);const ot=[H];let lt,yt;Z?(ot.push({lat:K.lat,lon:K.lon}),lt=N-1,yt=-1):(ot.push({lat:w.lat,lon:w.lon}),lt=N+1,yt=1);for(let Tt=lt;Tt>=0&&Tt<z.length;Tt+=yt){const dt=z[Tt];if(ot.length>=2){const J=ot[ot.length-2],j=ot[ot.length-1],P={lat:dt.lat,lon:dt.lon};if(Hw(J,j,P)<150)break}ot.push({lat:dt.lat,lon:dt.lon})}k.push(ot)}}}if(F.length>0){E.has(D.name)||E.set(D.name,{entryPoints:[],pathSegments:[],totalLength:0});const N=E.get(D.name);N.entryPoints.push(...F),N.pathSegments.push(...k);let K=0;k.forEach(w=>{for(let X=0;X<w.length-1;X++)K+=mv(w[X],w[X+1])}),N.totalLength+=K}}if(Te=E,Te.size>0){if(ln)try{ln.clearLayers(),it.removeLayer(ln)}catch{}ln=L.layerGroup().addTo(it);const A=document.getElementById("vehicle-select"),D=(A==null?void 0:A.value)||"alle",z=Gl(D),k=z?z[1]:3;Te.forEach((K,w)=>{if(K.entryPoints.length===0)return;const X=[];K.entryPoints.forEach(Z=>{const H=L.circle([Z.lat,Z.lon],{radius:5,color:"red",fillColor:"#f03",fillOpacity:1,weight:2}).bindPopup(`<b>${nt("threats.popupHeader")}</b><br>${w}`);ln.addLayer(H),X.push(H)}),K.pathSegments.forEach(Z=>{if(Z.length>1){const H=Z.map(dt=>[dt.lat,dt.lon]);let ot=0;for(let dt=0;dt<Z.length-1;dt++)ot+=mv(Z[dt],Z[dt+1]);const lt=Fa(k,ot);let yt="#e74c3c";lt<=30?yt="#39b54a":lt<=50&&(yt="#f1c40f");const Tt=L.polyline(H,{color:yt,weight:5,opacity:.9});ln.addLayer(Tt),X.push(Tt)}}),X.length>0&&ql.set(w,X)}),uf();const F=document.getElementById("floating-threats");F&&F.classList.remove("view-hidden");const N=document.querySelector(".product-recommendations-container");N&&(N.classList.remove("hidden"),await Hl())}else{const A=document.querySelector(".threat-list"),D=document.createElement("li");D.textContent=nt("threats.noCrossingWaysArea"),A.appendChild(D);const z=document.getElementById("floating-threats");z&&z.classList.remove("view-hidden")}}catch(n){console.error("Fehler bei der Gefahrenanalyse:",n),alert(nt("alerts.analysisError"));const s=document.querySelector(".threat-list"),l=document.createElement("li");l.textContent=nt("threats.analysisFailed"),s.appendChild(l)}finally{e.classList.add("hidden")}}};async function Fw(o){try{const e=typeof window<"u"&&window.location.hostname.endsWith("github.io"),n="AIzaSyAu89J9B0b57XIao133a19Wd64T6oiCA9A";if(!n||e)return console.warn("AI disabled for public/demo build. Using placeholder report sections."),Qw(o);const s=new Vx({apiKey:n}),l=nt("ai.reportPrompt",{locationName:o.locationName,assetToProtect:o.assetToProtect,securityLevel:o.securityLevel,protectionGrade:o.protectionGrade,threatList:o.threatList,protectionPeriod:o.protectionPeriod,productType:o.productType,penetration:o.penetration,debrisDistance:o.debrisDistance,language:zt==="de"?"German":"English"})+`

IMPORTANT: Generate the report in ${zt==="de"?"German":"English"} language only. All text must be in ${zt==="de"?"German":"English"}.`,c=((await s.models.generateContent({model:"gemini-2.5-flash",contents:l,config:{responseMimeType:"application/json",responseSchema:{type:xn.OBJECT,properties:{purpose:{type:xn.STRING},threatAnalysis:{type:xn.STRING},vulnerabilities:{type:xn.STRING},hvmMeasures:{type:xn.STRING},siteConsiderations:{type:xn.STRING},operationalImpact:{type:xn.STRING}},required:["purpose","threatAnalysis","vulnerabilities","hvmMeasures","siteConsiderations","operationalImpact"]}}})).text||"").trim(),m=JSON.parse(c);return Yw(m)}catch(e){return console.error("Fehler bei der Gemini-API-Anfrage fr den Bericht:",e),alert(nt("alerts.geminiError")),null}}function Yw(o){const e=zt==="de",n=o.purpose||o.threatAnalysis||"",s=["der","die","das","und","fr","von","mit","bei","auf","in","an","zu","zur","zum"],l=["the","and","for","of","with","at","on","in","to","from","by","as","is","are"],u=s.filter(v=>n.toLowerCase().includes(v)).length,c=l.filter(v=>n.toLowerCase().includes(v)).length,m=u>c;if(!(e&&!m||!e&&m))return console.log("AI text is already in correct language, no translation needed"),o;console.log("AI text needs translation. Current language:",zt,"Text language:",m?"German":"English");const h={};for(const[v,S]of Object.entries(o))typeof S=="string"?h[v]=Kw(S,e):h[v]=S;return h}function Kw(o,e){return e?o.replace(/\bThis report\b/gi,"Dieser Bericht").replace(/\baims to\b/gi,"zielt darauf ab").replace(/\bidentify\b/gi,"zu identifizieren").replace(/\bassess\b/gi,"zu bewerten").replace(/\bmitigate\b/gi,"zu mindern").replace(/\bpotential\b/gi,"potenzielle").replace(/\brisks\b/gi,"Risiken").replace(/\bassets\b/gi,"Schutzgter").replace(/\bensuring\b/gi,"um sicherzustellen").replace(/\bbusiness continuity\b/gi,"Geschftskontinuitt").replace(/\bstrategic\b/gi,"strategische").replace(/\bsecurity\b/gi,"Sicherheits").replace(/\binvestments\b/gi,"Investitionen").replace(/\bThe primary threat\b/gi,"Die primre Bedrohung").replace(/\bis\b/gi,"ist").replace(/\buse of vehicles\b/gi,"die Nutzung von Fahrzeugen").replace(/\bas\b/gi,"als").replace(/\bweapon\b/gi,"Waffe").replace(/\bPotential\b/gi,"Potenzielle").replace(/\badversaries\b/gi,"Gegner").replace(/\binclude\b/gi,"umfassen").replace(/\bstate-sponsored\b/gi,"staatsgesttzte").replace(/\bterrorist\b/gi,"terroristische").replace(/\binsider threats\b/gi,"Innentter-Bedrohungen").replace(/\bmalicious software\b/gi,"schdliche Software").replace(/\bdistributed denial\b/gi,"verteilte Verweigerung").replace(/\battacks\b/gi,"Angriffe").replace(/\bGiven\b/gi,"Angesichts").replace(/\bglobal\b/gi,"globaler").replace(/\btrends\b/gi,"Trends").replace(/\band\b/gi,"und").replace(/\bthe\b/gi,"der").replace(/\bof\b/gi,"von").replace(/\bto\b/gi,"zu").replace(/\bin\b/gi,"in").replace(/\bon\b/gi,"auf").replace(/\bat\b/gi,"bei").replace(/\bwith\b/gi,"mit").replace(/\bfor\b/gi,"fr").replace(/\bfrom\b/gi,"von").replace(/\bby\b/gi,"durch").replace(/\bas\b/gi,"als").replace(/\bis\b/gi,"ist").replace(/\bare\b/gi,"sind").replace(/\bwas\b/gi,"war").replace(/\bwere\b/gi,"waren").replace(/\bwill\b/gi,"wird").replace(/\bwould\b/gi,"wrde").replace(/\bcould\b/gi,"knnte").replace(/\bshould\b/gi,"sollte").replace(/\bmay\b/gi,"kann").replace(/\bmight\b/gi,"knnte").replace(/\bcan\b/gi,"kann"):o.replace(/\bDieser Bericht\b/gi,"This report").replace(/\bzielt darauf ab\b/gi,"aims to").replace(/\bzu identifizieren\b/gi,"identify").replace(/\bzu bewerten\b/gi,"assess").replace(/\bzu mindern\b/gi,"mitigate").replace(/\bpotenzielle\b/gi,"potential").replace(/\bRisiken\b/gi,"risks").replace(/\bSchutzgter\b/gi,"assets").replace(/\bum sicherzustellen\b/gi,"ensuring").replace(/\bGeschftskontinuitt\b/gi,"business continuity").replace(/\bstrategische\b/gi,"strategic").replace(/\bSicherheits\b/gi,"security").replace(/\bInvestitionen\b/gi,"investments").replace(/\bDie primre Bedrohung\b/gi,"The primary threat").replace(/\bist\b/gi,"is").replace(/\bdie Nutzung von Fahrzeugen\b/gi,"use of vehicles").replace(/\bals\b/gi,"as").replace(/\bWaffe\b/gi,"weapon").replace(/\bPotenzielle\b/gi,"Potential").replace(/\bGegner\b/gi,"adversaries").replace(/\bumfassen\b/gi,"include").replace(/\bstaatsgesttzte\b/gi,"state-sponsored").replace(/\bterroristische\b/gi,"terrorist").replace(/\bInnentter-Bedrohungen\b/gi,"insider threats").replace(/\bschdliche Software\b/gi,"malicious software").replace(/\bverteilte Verweigerung\b/gi,"distributed denial").replace(/\bAngriffe\b/gi,"attacks").replace(/\bAngesichts\b/gi,"Given").replace(/\bglobaler\b/gi,"global").replace(/\bTrends\b/gi,"trends").replace(/\bund\b/gi,"and").replace(/\bder\b/gi,"the").replace(/\bvon\b/gi,"of").replace(/\bzu\b/gi,"to").replace(/\bin\b/gi,"in").replace(/\bauf\b/gi,"on").replace(/\bbei\b/gi,"at").replace(/\bmit\b/gi,"with").replace(/\bfr\b/gi,"for").replace(/\bdurch\b/gi,"by").replace(/\bist\b/gi,"is").replace(/\bsind\b/gi,"are").replace(/\bwar\b/gi,"was").replace(/\bwaren\b/gi,"were").replace(/\bwird\b/gi,"will").replace(/\bwrde\b/gi,"would").replace(/\bknnte\b/gi,"could").replace(/\bsollte\b/gi,"should").replace(/\bkann\b/gi,"may")}function Qw(o){var e,n,s,l,u,c,m,y,h,v;try{const S=window.planningState||{},E=((e=S.schutzgter)==null?void 0:e.join(", "))||o.assetToProtect||nt("report.undefinedAsset"),b=((s=(n=S.risiko)==null?void 0:n.bedrohung)==null?void 0:s.art)||nt("report.undefinedValue"),A=((u=(l=S.risiko)==null?void 0:l.dynamik)==null?void 0:u.v_kmh)||o.estimatedSpeedKmH||nt("report.undefinedValue"),D=((m=(c=S.risiko)==null?void 0:c.site)==null?void 0:m.untergrund)||nt("report.undefinedValue"),z=((y=S.restrisiko)==null?void 0:y.klasse)||o.securityLevel||nt("report.undefinedValue"),k=(v=(h=S.risiko)==null?void 0:h.site)!=null&&v.anfahrkorridore&&S.risiko.site.anfahrkorridore.length>0?nt("report.identifiedCorridors",{count:S.risiko.site.anfahrkorridore.length}):nt("report.noChatGeometry");return zt==="de"?{purpose:`Schutzziel: Sicherung von ${E} am Standort ${o.locationName}. Der Assistent lieferte ergnzende Eingaben (Normbezug DIN SPEC 914142 / ISO 223432).`,threatAnalysis:`Bedrohungsannahme: ${b}. Aus der Karten-/Chat-Analyse ergibt sich eine Zufahrtsgeschwindigkeit von ca. ${A} km/h. Anfahrkorridore laut Chat: ${k}.`,vulnerabilities:`Untergrund/Fundamente: ${D}. Restrisiko (Chat/Slider): ${z}. Kritische Zufahrtswinkel bzw. Engstellen sind bei der Manahmendefinition zu bercksichtigen.`,hvmMeasures:`Empfohlene Manahmen orientieren sich an der erwarteten Geschwindigkeit und den Schutzzielen. Fr ${E} mit Geschwindigkeit ~${A} km/h sind FSB mit entsprechendem Leistungsniveau, geprften Fundamenten und Bercksichtigung des Anprallwinkels anzusetzen.`,siteConsiderations:`Betriebliche Rahmenbedingungen (z. B. Feuerwehrzufahrt, Fluchtwege) aus Chat sollten in die Detailplanung einflieen. Untergrund: ${D}.`,operationalImpact:"Manahmen sind so auszulegen, dass Betrieb, Rettungswege und Gestaltung bercksichtigt sind; temporre Anpassungen (Events) werden untersttzt."}:{purpose:`Protection objective: Securing ${E} at location ${o.locationName}. The assistant provided additional inputs (standard reference DIN SPEC 914142 / ISO 223432).`,threatAnalysis:`Threat assumption: ${b}. From the map/chat analysis, an access speed of approximately ${A} km/h results. Access corridors according to chat: ${k}.`,vulnerabilities:`Ground/foundations: ${D}. Residual risk (Chat/Slider): ${z}. Critical impact angles or bottlenecks must be considered in measure definition.`,hvmMeasures:`Recommended measures are oriented to expected speed and protection objectives. For ${E} with speed ~${A} km/h, FSB with corresponding performance level, tested foundations and consideration of impact angle should be applied.`,siteConsiderations:`Operational framework conditions (e.g., fire brigade access, escape routes) from chat should flow into detailed planning. Ground: ${D}.`,operationalImpact:"Measures are designed so that operations, rescue routes and design are considered; temporary adaptations (events) are supported."}}catch{return zt==="de"?{purpose:`Schutzziel und Rahmenbedingungen fr ${o.locationName}.`,threatAnalysis:"Zusammenfassung der Gefahren basierend auf Karten-/Chat-Eingaben.",vulnerabilities:"Allgemeine Schwachstellen am Standort.",hvmMeasures:"Empfohlene HVMManahmen gem Annahmen.",siteConsiderations:"Standortspezifische Hinweise.",operationalImpact:"Betriebliche Auswirkungen und Gestaltung."}:{purpose:`Protection objective and framework conditions for ${o.locationName}.`,threatAnalysis:"Summary of hazards based on map/chat inputs.",vulnerabilities:"General vulnerabilities at the site.",hvmMeasures:"Recommended HVM measures according to assumptions.",siteConsiderations:"Site-specific notes.",operationalImpact:"Operational impacts and design."}}}async function Xw(o){const e=`https://nominatim.openstreetmap.org/reverse?format=json&lat=${o.lat}&lon=${o.lng}&zoom=18&addressdetails=1`;try{const n=await fetch(e,{headers:{"Accept-Language":zt}});return n.ok&&(await n.json()).display_name||"Unknown Location"}catch(n){return console.error("Fehler beim Reverse Geocoding:",n),"Could not determine location"}}async function Hl(){if(Ia.length===0)try{const y=await fetch("/Barricadix_MWP/product-database.json");if(!y.ok)throw new Error("Product database fetch failed");Ia=await y.json()}catch(y){console.error(nt("alerts.productDbError"),y);const h=document.querySelector("#poller-category-header small"),v=document.querySelector("#barrier-category-header small");h&&(h.textContent=nt("products.dbError")),v&&(v.textContent=nt("products.dbError"));return}const e=document.getElementById("vehicle-select").value,n=document.querySelector("#poller-category-header small"),s=document.querySelector("#barrier-category-header small");if(n&&(n.textContent=nt("products.resistanceHigh")),s&&(s.textContent=nt("products.resistanceMedium")),e==="alle")return;const l=["bollard","poller"],u=["barrier","barriere","gate"],c=Ia.find(y=>y.vehicleWeight===e&&y.type&&l.some(h=>y.type.toLowerCase().includes(h))),m=Ia.find(y=>y.vehicleWeight===e&&y.type&&u.some(h=>y.type.toLowerCase().includes(h)));n&&(n.textContent=c?`${nt("products.recommendation")} ${c.type}`:nt("products.noRecommendation")),s&&(s.textContent=m?`${nt("products.recommendation")} ${m.type}`:nt("products.noRecommendation"))}function gv(o){return o<33?nt("sidebar.low"):o<66?nt("products.resistanceMedium"):nt("sidebar.high")}function Zw(){const o=document.getElementById("vehicle-select"),e=parseInt(o.value,10);if(isNaN(e))return null;let n=null,s=1/0;for(const l of Ia){const u=parseInt(l.vehicleWeight,10),c=parseFloat(l.penetration);!isNaN(u)&&!isNaN(c)&&u>=e&&c<s&&(s=c,n=l)}return n}async function Jw(){var c;const o=document.getElementById("report-iframe"),e=document.querySelector(".report-loading-overlay"),n=document.getElementById("download-report-btn"),s=document.getElementById("map"),l=document.getElementById("report-preview-area");e.classList.remove("view-hidden"),n.disabled=!0;let u=null;try{if(Nt){if(console.log(`Generating report for language: ${zt}`),console.log("Drawn polygon data:",Nt),!Nt.getLatLngs||typeof Nt.getLatLngs!="function")throw console.error("Invalid polygon object - missing getLatLngs method"),new Error("Invalid polygon data for map capture");const dt=Nt.getLatLngs();if(!dt||dt.length===0)throw console.error("Polygon has no coordinates"),new Error("Polygon has no valid coordinates");console.log(`Polygon coordinates: ${dt.length} points`),l.classList.add("view-hidden"),s.classList.remove("view-hidden"),await new Promise((J,j)=>{const P=setTimeout(()=>{j(new Error("Map rendering timeout"))},1e4),q=()=>{clearTimeout(P);const rt=zt==="de"?1e3:500;requestAnimationFrame(()=>setTimeout(J,rt))};let $;it.invalidateSize(),u0.once("load",()=>{console.log("Tile layer loaded successfully"),clearTimeout($),q()}),it.once("moveend",()=>{console.log("Map movement ended"),$=window.setTimeout(q,1e3)});try{const rt=Nt.getBounds();rt&&rt.isValid()?(console.log("Fitting map to polygon bounds"),it.fitBounds(rt,{animate:!1,padding:[20,20]})):(console.warn("Invalid bounds, using default view"),it.setView(it.getCenter(),it.getZoom()))}catch(rt){console.error("Error fitting bounds:",rt)}}),await new Promise(J=>setTimeout(J,500)),console.log("Capturing map screenshot..."),u=await html2canvas(s,{useCORS:!0,logging:!0,allowTaint:!0,backgroundColor:"#ffffff",scale:2,width:s.offsetWidth,height:s.offsetHeight,onclone:J=>{console.log("Cloning document for screenshot"),J.querySelectorAll(".leaflet-popup-pane > *").forEach(q=>{q.style.display="none"});const j=J.getElementById("map");j&&(j.style.visibility="visible",j.style.opacity="1",j.style.display="block");const P=J.querySelector(".leaflet-container");P&&(P.style.visibility="visible",P.style.opacity="1")}}),console.log("Map screenshot captured successfully")}else console.log("No polygon drawn, skipping map capture");u&&u.width>0&&u.height>0?console.log(`Canvas dimensions: ${u.width}x${u.height}`):(console.warn("Invalid canvas generated, continuing without map image"),u=null);const m=Nt?await Xw(Nt.getBounds().getCenter()):nt("report.undefinedLocation"),h=document.getElementById("asset-to-protect").value.trim()||nt("report.undefinedAsset");let v=nt("report.noThreatAnalysis");if(Te.size>0){const J=document.getElementById("vehicle-select").value,j=Gl(J),P=Array.from(Te.entries()).map(([q,$])=>{const rt=Math.round($.totalLength);let x=0;if(j&&rt>0){const[,Q]=j;x=Math.round(Fa(Q,rt))}return{name:q,lengthInMeters:rt,maxSpeed:x}});P.sort((q,$)=>$.maxSpeed-q.maxSpeed),v=`
                <table style="width: 100%; border-collapse: collapse; margin: 10px 0; font-size: 12px;">
                    <thead>
                        <tr style="background-color: #f0f0f0; font-weight: bold;">
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">${nt("report.threatsTable.street")}</th>
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">${nt("report.threatsTable.distance")}</th>
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">${nt("report.threatsTable.maxSpeed")}</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${P.map(q=>`
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">${q.name}</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">${q.lengthInMeters} m</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">${q.maxSpeed} km/h</td>
                            </tr>
                        `).join("")}
                    </tbody>
                </table>
            `}const S=document.getElementById("security-risk-slider"),E=document.getElementById("product-class-slider"),b=document.getElementById("protection-period-select"),A=document.getElementById("protection-product-select"),D=Zw(),z={locationName:m,assetToProtect:h,securityLevel:gv(parseInt(S.value)),protectionGrade:gv(parseInt(E.value)),threatList:v,protectionPeriod:b.options[b.selectedIndex].text,productType:A.options[A.selectedIndex].text,penetration:D?D.penetration:nt("report.undefinedValue"),debrisDistance:D&&D.debrisDistance||nt("report.undefinedValue")},k=await Fw(z);if(!k)throw new Error("AI did not return report sections.");const{jsPDF:F}=window.jspdf,N=new F({orientation:"p",unit:"mm",format:"a4"}),K=()=>{const dt=N.internal.pageSize.getWidth(),J=N.internal.pageSize.getHeight();if(N.saveGraphicsState(),N.setFont("helvetica","bold"),N.setFontSize(120),N.setTextColor(200,200,200),F.GState){const j=new F.GState({opacity:.2});N.setGState(j)}N.text(nt("report.watermark"),dt/2+50,J/2+50,{align:"center",angle:45}),N.restoreGraphicsState()},w=20,X=N.internal.pageSize.getWidth(),Z=X-w*2;let H=25;const ot=(dt,J)=>{H>250&&(N.addPage(),K(),H=25),N.setFont("helvetica","bold").setFontSize(14).text(nt(dt),w,H),H+=7;const j=N.setFont("helvetica","normal").setFontSize(11).splitTextToSize(J,Z);H+j.length*5>280&&(N.addPage(),K(),H=25),N.text(j,w,H),H+=j.length*5+10};K();const lt=nt("report.mainTitle",{locationName:m});N.setFont("helvetica","bold").setFontSize(18);const yt=N.splitTextToSize(lt,Z),Tt=8;if(H+yt.length*Tt>280&&(N.addPage(),K(),H=25),N.text(yt,w,H),H+=yt.length*Tt+5,N.setDrawColor(30,144,255).setLineWidth(.5).line(w,H,X-w,H),H+=15,ot("report.sections.purpose.title",k.purpose),ot("report.sections.threatAnalysis.title",k.threatAnalysis),Te.size>0){H-=5,N.setFont("helvetica","normal").setFontSize(11);const J=document.getElementById("vehicle-select").value,j=Gl(J);Te.forEach((P,q)=>{let $=` ${q} (${Math.round(P.totalLength)} m)`;if(j&&P.totalLength>0){const[x,Q]=j,et=Math.round(Fa(x,P.totalLength)),W=Math.round(Fa(Q,P.totalLength));$+=` | ${nt("threats.speed")}: ${et}-${W} km/h`}const rt=N.splitTextToSize($,Z-5);H+rt.length*7>280&&(N.addPage(),K(),H=25),N.text(rt,w+5,H),H+=rt.length*6}),H+=10}if(ot("report.sections.vulnerabilities.title",k.vulnerabilities),ot("report.sections.hvmMeasures.title",k.hvmMeasures),ot("report.sections.siteConsiderations.title",k.siteConsiderations),u){const dt=u.height/u.width,J=Z*dt;H+J>280&&(N.addPage(),K(),H=25),N.addImage(u,"PNG",w,H,Z,J),H+=J+10}else{const dt=nt("report.noMapAvailable"),J=N.setFont("helvetica","italic").setFontSize(10).splitTextToSize(dt,Z);H+J.length*5>280&&(N.addPage(),K(),H=25),N.text(J,w,H),H+=J.length*5+10}ot("report.sections.operationalImpact.title",k.operationalImpact);try{const dt=N.getNumberOfPages||((c=N.internal)==null?void 0:c.getNumberOfPages),J=typeof dt=="function"?dt.call(N):1;for(let j=1;j<=J;j++)N.setPage(j),K()}catch{K()}l.classList.remove("view-hidden"),s.classList.add("view-hidden"),await new Promise(requestAnimationFrame);try{const dt=N.output("blob");xl&&URL.revokeObjectURL(xl),xl=URL.createObjectURL(dt),o.src=xl}catch{o.src=N.output("datauristring")}_n=N,n.disabled=!1}catch(m){console.error("Fehler bei der Erstellung des Berichts:",m),alert(nt("alerts.reportCreationError")),s.classList.add("view-hidden"),l.classList.remove("view-hidden")}finally{e.classList.add("view-hidden")}}function $w(){_n?_n.save(nt("report.reportFilename")):alert(nt("alerts.noReportToDownload"))}document.addEventListener("DOMContentLoaded",async()=>{var dt;console.log("DOM Content Loaded - Starting initialization..."),uv(),m0();let o=0;const e=3;for(;o<e&&(!$t.de||!$t.en);)console.log(`Translation load attempt ${o+1}/${e}`),await h0(),o++,o<e&&(!$t.de||!$t.en)&&(console.log("Waiting 500ms before retry..."),await new Promise(J=>setTimeout(J,500)));(!$t.de||!$t.en)&&(console.warn("Failed to load translations from file, using embedded translations"),$t=Wa),zt="de",console.log("Translating UI..."),await d0(),g0();const n=localStorage.getItem("language")||"de";n!==zt&&(console.log(`Setting saved language: ${n}`),await dv(n)),document.querySelectorAll(".lang-btn").forEach(J=>{J.addEventListener("click",j=>{const P=j.currentTarget.dataset.lang;P&&P!==zt&&dv(P)})}),console.log("Initialization completed successfully");const s=document.getElementById("tooltip");document.querySelectorAll(".info-icon").forEach(J=>{J.addEventListener("mouseover",j=>{const P=j.currentTarget,q=P.dataset.tooltip||"";s.textContent=q,s.style.opacity="1";const $=P.getBoundingClientRect();s.style.left=`${$.left+window.scrollX}px`,s.style.top=`${$.bottom+window.scrollY+5}px`}),J.addEventListener("mouseout",()=>{s.style.opacity="0"})});const u=document.getElementById("map-search-input"),c=document.getElementById("map-search-button"),m=document.getElementById("toggle-sidebar"),y=document.querySelector(".sidebar"),h=async()=>{const J=u.value.trim();if(!J)return;const j=`https://nominatim.openstreetmap.org/search?format=json&limit=1&q=${encodeURIComponent(J)}`;try{const P=await fetch(j,{headers:{"Accept-Language":zt}});if(!P.ok)throw new Error(`API request failed with status ${P.status}`);const q=await P.json();if(q&&q.length>0){const{lat:$,lon:rt,display_name:x}=q[0];it.setView([$,rt],15),_i&&it.removeLayer(_i),_i&&(it.removeLayer(_i),_i=null);const Q=L.divIcon({className:"search-marker",html:'<i class="fas fa-map-marker-alt" style="color: #dc2626; font-size: 20px;"></i>',iconSize:[25,41],iconAnchor:[12,41]});_i=L.marker([$,rt],{icon:Q,zIndexOffset:1e3}).addTo(it),_i.bindPopup(`<b>${x}</b>`).openPopup(),it.invalidateSize()}else alert(nt("alerts.locationNotFound"))}catch(P){console.error("Fehler bei der Kartensuche:",P),alert(nt("alerts.searchError"))}};c.addEventListener("click",h),u.addEventListener("keypress",J=>{J.key==="Enter"&&h()}),m&&y&&m.addEventListener("click",()=>{y.classList.toggle("open")});const v=document.getElementById("toggle-draw-mode"),S=document.getElementById("reset-drawing"),E=document.getElementById("map"),b=J=>{Eo=J;const j=v.querySelector("span");J?(v.classList.add("active"),j&&(j.textContent=nt("map.setWaypointsActive")),E==null||E.classList.add("drawing-mode")):(v.classList.remove("active"),j&&(j.textContent=nt("map.setWaypoints")),E==null||E.classList.remove("drawing-mode"))},A=()=>{Di.forEach(J=>it.removeLayer(J)),Di=[],je&&it.removeLayer(je),je=null,Nt&&it.removeLayer(Nt),Nt=null,Li&&it.removeLayer(Li),Li=null,ye=[],Eo&&b(!1)},D=()=>{je&&it.removeLayer(je),ye.length>1&&(je=L.polyline(ye,{color:"var(--accent-color)",weight:3}).addTo(it))},z=()=>{if(ye.length<3)return;Nt&&it.removeLayer(Nt),Nt=L.polygon(ye,{color:"yellow",fillColor:"#FFFF00",fillOpacity:.3,weight:2}).addTo(it);const J=Nt.getBounds().getCenter();Li=L.marker(J,{icon:L.divIcon({className:"polygon-label",html:nt("map.securityAreaLabel"),iconSize:[150,24]})}).addTo(it),je&&it.removeLayer(je),je=null,Di.forEach(j=>it.removeLayer(j)),Di=[],ye=[],b(!1)},k=J=>{if(!Eo)return;const j=J.latlng,P=L.marker(j).addTo(it);ye.length===0&&P.on("click",()=>{Eo&&ye.length>=3&&z()}),ye.push(j),Di.push(P),D()};it.on("click",k);const F=document.querySelectorAll(".main-nav a"),N=document.querySelectorAll(".map-tabs a"),K=document.getElementById("analyze-threats"),w=document.getElementById("create-report-btn"),X=document.getElementById("download-report-btn"),Z=document.getElementById("report-iframe"),H=document.getElementById("map"),ot=document.getElementById("report-preview-area"),lt=document.getElementById("vehicle-select"),yt=async(J,j)=>{j&&(F.forEach(q=>q.classList.remove("active")),j.classList.add("active")),N.forEach(q=>{const $=q;$.classList.toggle("active",$.getAttribute("data-target")===J)}),J==="nav-param-input"&&(A(),za(),_n=null),J==="nav-marking-area"&&(za(),_n=null),J==="nav-threat-analysis"&&(_n=null),J==="nav-product-selection"&&await Hl(),J==="nav-project-description"&&(za(),_n=null),v.classList.add("hidden"),S.classList.add("hidden"),K.classList.add("hidden"),w.classList.add("hidden"),X.classList.add("hidden");const P=J==="nav-risk-report";H.classList.toggle("view-hidden",P),ot.classList.toggle("view-hidden",!P),it&&(P||it.invalidateSize()),_n||(Z.src="about:blank",X.disabled=!0),J==="nav-marking-area"?(v.classList.remove("hidden"),S.classList.remove("hidden")):J==="nav-threat-analysis"?K.classList.remove("hidden"):J==="nav-risk-report"&&(w.classList.remove("hidden"),X.classList.remove("hidden"),X.disabled=!_n)};F.forEach(J=>{J.addEventListener("click",async j=>{j.preventDefault();const P=j.currentTarget,q=P.id;await yt(q,P)})}),N.forEach(J=>{J.addEventListener("click",async j=>{j.preventDefault();const q=j.currentTarget.getAttribute("data-target"),$=document.getElementById(q);await yt(q,$??void 0)})}),lt.addEventListener("change",async()=>{var J;Te.size>0&&await pv(),((J=document.querySelector(".product-recommendations-container"))==null?void 0:J.classList.contains("hidden"))===!1&&await Hl()}),v.addEventListener("click",()=>{Nt&&A(),b(!Eo)}),S.addEventListener("click",()=>{A(),za()}),K.addEventListener("click",pv),w.addEventListener("click",Jw),X.addEventListener("click",$w),(dt=document.getElementById("nav-param-input"))==null||dt.click();const Tt=document.getElementById("chatbot-react-root");if(Tt)try{Rw.createRoot(Tt).render(tt.createElement(Ew))}catch(J){console.error("Chatbot mount failed:",J)}uv()});function Ww(){console.log("=== DEBUG: Current View State ==="),[{id:"planning-view",name:"Planning View"},{id:"manufacturer-view",name:"Manufacturer View"},{id:"map",name:"Map Container"},{id:"chatbot-react-root",name:"Chatbot Root"},{selector:".sidebar",name:"Sidebar"},{selector:".map-area",name:"Map Area"},{selector:".map-tabs",name:"Map Tabs"},{selector:".map-toolbar",name:"Map Toolbar"}].forEach(({id:e,selector:n,name:s})=>{const l=n?document.querySelector(n):document.getElementById(e||"");if(l){const u=window.getComputedStyle(l),c=l;console.log(`${s}:`,{display:u.display,visibility:u.visibility,opacity:u.opacity,visible:c.offsetWidth>0&&c.offsetHeight>0})}else console.log(`${s}: NOT FOUND`)}),console.log("Map object exists:",!!it),it&&(console.log("Map center:",it.getCenter()),console.log("Map zoom:",it.getZoom())),console.log("=== END DEBUG ===")}function jw(){console.log("Restoring all planning view elements..."),[{selector:".map-area",display:"block"},{selector:"#map",display:"block",additionalStyles:{visibility:"visible",opacity:"1"}},{selector:".map-tabs",display:"flex"},{selector:".map-toolbar",display:"flex"},{selector:".sidebar",display:"block"},{selector:"#floating-threats",display:"none"},{selector:"#report-preview-area",display:"none"},{selector:".report-loading-overlay",display:"none"}].forEach(({selector:n,display:s,additionalStyles:l})=>{const u=document.querySelector(n);u?(u.style.display=s,l&&Object.entries(l).forEach(([c,m])=>{u.style[c]=m}),console.log(`Restored ${n} with display: ${s}`)):console.warn(`Element not found: ${n}`)});const e=document.getElementById("chatbot-react-root");e&&(e.style.display="block",e.style.visibility="visible",console.log("Chatbot root restored")),setTimeout(()=>{Ww()},100)}function p0(){const o=document.getElementById("manufacturer-view");if(!o)return;[{selector:"[data-translate-key]",attribute:"data-translate-key"},{selector:"[data-translate-key-placeholder]",attribute:"data-translate-key-placeholder"},{selector:"[data-translate-key-aria]",attribute:"data-translate-key-aria"},{selector:"[data-translate-key-tooltip]",attribute:"data-translate-key-tooltip"}].forEach(({selector:n,attribute:s})=>{o.querySelectorAll(n).forEach(l=>{const u=l.getAttribute(s);if(u){const c=nt(u);s==="data-translate-key-placeholder"?l.placeholder=c:s==="data-translate-key-aria"?l.setAttribute("aria-label",c):s==="data-translate-key-tooltip"?l.dataset.tooltip=c:l.textContent=c}})})}function g0(){console.log("Translating chatbot for language:",zt);const o=document.querySelector("#chatbot-react-root h2");o&&(o.textContent=nt("ai.chatbot.title"));const e=document.querySelector("#chatbot-react-root .message:first-child .message-content");e&&(e.textContent=nt("ai.chatbot.welcome"));const n=document.querySelector("#chatbot-react-root .message:nth-child(2) .message-content");n&&(n.textContent=nt("ai.chatbot.assetQuestion"));const s=document.querySelector('#chatbot-react-root input[type="text"]');s&&(s.placeholder=nt("ai.chatbot.inputPlaceholder"));const l=document.querySelector('#chatbot-react-root button[type="submit"]');l&&(l.textContent=nt("ai.chatbot.sendButton")),console.log("Chatbot translation completed")}

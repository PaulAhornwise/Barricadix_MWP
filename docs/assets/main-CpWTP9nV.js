(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let $E,JE;function WE(){return{geminiUrl:$E,vertexUrl:JE}}function jE(o,e,n){var s,l,u;if(!(!((s=o.httpOptions)===null||s===void 0)&&s.baseUrl)){const c=WE();return o.vertexai?(l=c.vertexUrl)!==null&&l!==void 0?l:e:(u=c.geminiUrl)!==null&&u!==void 0?u:n}return o.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ja{}function gt(o,e){const n=/\{([^}]+)\}/g;return o.replace(n,(s,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const u=e[l];return u!=null?String(u):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function m(o,e,n){for(let u=0;u<e.length-1;u++){const c=e[u];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in o))if(Array.isArray(n))o[h]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(o[h])){const y=o[h];if(Array.isArray(n))for(let p=0;p<y.length;p++){const v=y[p];m(v,e.slice(u+1),n[p])}else for(const p of y)m(p,e.slice(u+1),n)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in o||(o[h]=[{}]);const y=o[h];m(y[0],e.slice(u+1),n);return}(!o[c]||typeof o[c]!="object")&&(o[c]={}),o=o[c]}const s=e[e.length-1],l=o[s];if(l!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===l)return;if(typeof l=="object"&&typeof n=="object"&&l!==null&&n!==null)Object.assign(l,n);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else o[s]=n}function d(o,e){try{if(e.length===1&&e[0]==="_self")return o;for(let n=0;n<e.length;n++){if(typeof o!="object"||o===null)return;const s=e[n];if(s.endsWith("[]")){const l=s.slice(0,-2);if(l in o){const u=o[l];return Array.isArray(u)?u.map(c=>d(c,e.slice(n+1))):void 0}else return}else o=o[s]}return o}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qt(o,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(o.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Av(o,e){const n=Qt(o,e);return n?n.startsWith("publishers/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/${n}`:n.startsWith("models/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/publishers/google/${n}`:n:""}function Mv(o,e){return Array.isArray(e)?e.map(n=>Vl(o,n)):[Vl(o,e)]}function Vl(o,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function tb(o,e){const n=Vl(o,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function eb(o,e){const n=Vl(o,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Ym(o,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function xv(o,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>Ym(o,n)):[Ym(o,e)]}function Vc(o){return o!=null&&typeof o=="object"&&"parts"in o&&Array.isArray(o.parts)}function Km(o){return o!=null&&typeof o=="object"&&"functionCall"in o}function Qm(o){return o!=null&&typeof o=="object"&&"functionResponse"in o}function Me(o,e){if(e==null)throw new Error("ContentUnion is required");return Vc(e)?e:{role:"user",parts:xv(o,e)}}function _v(o,e){if(!e)return[];if(o.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const s=Me(o,n);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(o.isVertexAI()){const n=Me(o,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Me(o,n)):[Me(o,e)]}function oi(o,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Km(e)||Qm(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Me(o,e)]}const n=[],s=[],l=Vc(e[0]);for(const u of e){const c=Vc(u);if(c!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)n.push(u);else{if(Km(u)||Qm(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");s.push(u)}}return l||n.push({role:"user",parts:xv(o,s)}),n}function wv(o,e){return e}function Rv(o,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Fl(o,e){return e}function Yl(o,e){if(!Array.isArray(e))throw new Error("tool is required and must be an array of Tools");return e}function nb(o,e,n,s=1){const l=!e.startsWith(`${n}/`)&&e.split("/").length===s;return o.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${o.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${o.getProject()}/locations/${o.getLocation()}/${e}`:l?`projects/${o.getProject()}/locations/${o.getLocation()}/${n}/${e}`:e:l?`${n}/${e}`:e}function ai(o,e){if(typeof e!="string")throw new Error("name must be a string");return nb(o,e,"cachedContents")}function Dv(o,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function si(o,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function Nv(o,e){if(typeof e!="string")throw new Error("fromName must be a string");return e.startsWith("files/")?e.split("files/")[1]:e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ib(o,e){const n={};if(d(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const s=d(e,["thought"]);s!=null&&m(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&m(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&m(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&m(n,["fileData"],c);const h=d(e,["functionCall"]);h!=null&&m(n,["functionCall"],h);const y=d(e,["functionResponse"]);y!=null&&m(n,["functionResponse"],y);const p=d(e,["inlineData"]);p!=null&&m(n,["inlineData"],p);const v=d(e,["text"]);return v!=null&&m(n,["text"],v),n}function Xm(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>ib(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function ob(){return{}}function ab(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&m(n,["dynamicThreshold"],l),n}function sb(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&m(n,["dynamicRetrievalConfig"],ab(o,s)),n}function lb(o,e){const n={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(e,["googleSearch"])!=null&&m(n,["googleSearch"],ob());const l=d(e,["googleSearchRetrieval"]);l!=null&&m(n,["googleSearchRetrieval"],sb(o,l));const u=d(e,["codeExecution"]);u!=null&&m(n,["codeExecution"],u);const c=d(e,["functionDeclarations"]);return c!=null&&m(n,["functionDeclarations"],c),n}function rb(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&m(n,["allowedFunctionNames"],l),n}function ub(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&m(n,["functionCallingConfig"],rb(o,s)),n}function cb(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&m(n,["ttl"],l);const u=d(e,["expireTime"]);n!==void 0&&u!=null&&m(n,["expireTime"],u);const c=d(e,["displayName"]);n!==void 0&&c!=null&&m(n,["displayName"],c);const h=d(e,["contents"]);if(n!==void 0&&h!=null){let S=oi(o,h);Array.isArray(S)&&(S=S.map(E=>Xm(o,E))),m(n,["contents"],S)}const y=d(e,["systemInstruction"]);n!==void 0&&y!=null&&m(n,["systemInstruction"],Xm(o,Me(o,y)));const p=d(e,["tools"]);if(n!==void 0&&p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>lb(o,E))),m(n,["tools"],S)}const v=d(e,["toolConfig"]);return n!==void 0&&v!=null&&m(n,["toolConfig"],ub(o,v)),s}function fb(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["model"],Av(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],cb(o,l,n)),n}function db(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function hb(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function pb(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&m(n,["ttl"],l);const u=d(e,["expireTime"]);return n!==void 0&&u!=null&&m(n,["expireTime"],u),s}function mb(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],pb(o,l,n)),n}function gb(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&m(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);return n!==void 0&&u!=null&&m(n,["_query","pageToken"],u),s}function yb(o,e){const n={},s=d(e,["config"]);return s!=null&&m(n,["config"],gb(o,s,n)),n}function vb(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&m(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&m(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&m(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&m(n,["executableCode"],c);const h=d(e,["fileData"]);h!=null&&m(n,["fileData"],h);const y=d(e,["functionCall"]);y!=null&&m(n,["functionCall"],y);const p=d(e,["functionResponse"]);p!=null&&m(n,["functionResponse"],p);const v=d(e,["inlineData"]);v!=null&&m(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&m(n,["text"],S),n}function Zm(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>vb(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function Tb(){return{}}function Sb(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&m(n,["dynamicThreshold"],l),n}function Eb(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&m(n,["dynamicRetrievalConfig"],Sb(o,s)),n}function bb(o,e){const n={},s=d(e,["retrieval"]);s!=null&&m(n,["retrieval"],s),d(e,["googleSearch"])!=null&&m(n,["googleSearch"],Tb());const u=d(e,["googleSearchRetrieval"]);u!=null&&m(n,["googleSearchRetrieval"],Eb(o,u));const c=d(e,["codeExecution"]);c!=null&&m(n,["codeExecution"],c);const h=d(e,["functionDeclarations"]);return h!=null&&m(n,["functionDeclarations"],h),n}function Cb(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&m(n,["allowedFunctionNames"],l),n}function Ab(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&m(n,["functionCallingConfig"],Cb(o,s)),n}function Mb(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&m(n,["ttl"],l);const u=d(e,["expireTime"]);n!==void 0&&u!=null&&m(n,["expireTime"],u);const c=d(e,["displayName"]);n!==void 0&&c!=null&&m(n,["displayName"],c);const h=d(e,["contents"]);if(n!==void 0&&h!=null){let S=oi(o,h);Array.isArray(S)&&(S=S.map(E=>Zm(o,E))),m(n,["contents"],S)}const y=d(e,["systemInstruction"]);n!==void 0&&y!=null&&m(n,["systemInstruction"],Zm(o,Me(o,y)));const p=d(e,["tools"]);if(n!==void 0&&p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>bb(o,E))),m(n,["tools"],S)}const v=d(e,["toolConfig"]);return n!==void 0&&v!=null&&m(n,["toolConfig"],Ab(o,v)),s}function xb(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["model"],Av(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],Mb(o,l,n)),n}function _b(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function wb(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function Rb(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&m(n,["ttl"],l);const u=d(e,["expireTime"]);return n!==void 0&&u!=null&&m(n,["expireTime"],u),s}function Db(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],Rb(o,l,n)),n}function Nb(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&m(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);return n!==void 0&&u!=null&&m(n,["_query","pageToken"],u),s}function Lb(o,e){const n={},s=d(e,["config"]);return s!=null&&m(n,["config"],Nb(o,s,n)),n}function _l(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["displayName"]);l!=null&&m(n,["displayName"],l);const u=d(e,["model"]);u!=null&&m(n,["model"],u);const c=d(e,["createTime"]);c!=null&&m(n,["createTime"],c);const h=d(e,["updateTime"]);h!=null&&m(n,["updateTime"],h);const y=d(e,["expireTime"]);y!=null&&m(n,["expireTime"],y);const p=d(e,["usageMetadata"]);return p!=null&&m(n,["usageMetadata"],p),n}function Vb(){return{}}function Pb(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&m(n,["nextPageToken"],s);const l=d(e,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>_l(o,c))),m(n,["cachedContents"],u)}return n}function wl(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["displayName"]);l!=null&&m(n,["displayName"],l);const u=d(e,["model"]);u!=null&&m(n,["model"],u);const c=d(e,["createTime"]);c!=null&&m(n,["createTime"],c);const h=d(e,["updateTime"]);h!=null&&m(n,["updateTime"],h);const y=d(e,["expireTime"]);y!=null&&m(n,["expireTime"],y);const p=d(e,["usageMetadata"]);return p!=null&&m(n,["usageMetadata"],p),n}function Bb(){return{}}function Ib(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&m(n,["nextPageToken"],s);const l=d(e,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>wl(o,c))),m(n,["cachedContents"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ka;(function(o){o.PAGED_ITEM_BATCH_JOBS="batchJobs",o.PAGED_ITEM_MODELS="models",o.PAGED_ITEM_TUNING_JOBS="tuningJobs",o.PAGED_ITEM_FILES="files",o.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ka||(Ka={}));class df{constructor(e,n,s,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,s,l)}init(e,n,s){var l,u;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let c={config:{}};s?typeof s=="object"?c=Object.assign({},s):c=s:c={config:{}},c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(u=(l=c.config)===null||l===void 0?void 0:l.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $m;(function(o){o.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",o.OUTCOME_OK="OUTCOME_OK",o.OUTCOME_FAILED="OUTCOME_FAILED",o.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})($m||($m={}));var Jm;(function(o){o.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",o.PYTHON="PYTHON"})(Jm||(Jm={}));var Wm;(function(o){o.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",o.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",o.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",o.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",o.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Wm||(Wm={}));var jm;(function(o){o.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",o.SEVERITY="SEVERITY",o.PROBABILITY="PROBABILITY"})(jm||(jm={}));var tg;(function(o){o.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE",o.OFF="OFF"})(tg||(tg={}));var eg;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(eg||(eg={}));var xn;(function(o){o.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",o.STRING="STRING",o.NUMBER="NUMBER",o.INTEGER="INTEGER",o.BOOLEAN="BOOLEAN",o.ARRAY="ARRAY",o.OBJECT="OBJECT"})(xn||(xn={}));var ng;(function(o){o.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",o.STOP="STOP",o.MAX_TOKENS="MAX_TOKENS",o.SAFETY="SAFETY",o.RECITATION="RECITATION",o.LANGUAGE="LANGUAGE",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.SPII="SPII",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.IMAGE_SAFETY="IMAGE_SAFETY"})(ng||(ng={}));var ig;(function(o){o.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",o.NEGLIGIBLE="NEGLIGIBLE",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH"})(ig||(ig={}));var og;(function(o){o.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",o.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",o.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",o.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",o.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(og||(og={}));var ag;(function(o){o.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",o.SAFETY="SAFETY",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(ag||(ag={}));var sg;(function(o){o.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",o.ON_DEMAND="ON_DEMAND",o.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(sg||(sg={}));var Pl;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.AUDIO="AUDIO"})(Pl||(Pl={}));var lg;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(lg||(lg={}));var Pc;(function(o){o.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",o.JOB_STATE_QUEUED="JOB_STATE_QUEUED",o.JOB_STATE_PENDING="JOB_STATE_PENDING",o.JOB_STATE_RUNNING="JOB_STATE_RUNNING",o.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",o.JOB_STATE_FAILED="JOB_STATE_FAILED",o.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",o.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",o.JOB_STATE_PAUSED="JOB_STATE_PAUSED",o.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",o.JOB_STATE_UPDATING="JOB_STATE_UPDATING",o.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Pc||(Pc={}));var rg;(function(o){o.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",o.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",o.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",o.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",o.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",o.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",o.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(rg||(rg={}));var ug;(function(o){o.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",o.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",o.BALANCED="BALANCED",o.PRIORITIZE_COST="PRIORITIZE_COST"})(ug||(ug={}));var cg;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(cg||(cg={}));var fg;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.AUTO="AUTO",o.ANY="ANY",o.NONE="NONE"})(fg||(fg={}));var dg;(function(o){o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE"})(dg||(dg={}));var hg;(function(o){o.DONT_ALLOW="DONT_ALLOW",o.ALLOW_ADULT="ALLOW_ADULT",o.ALLOW_ALL="ALLOW_ALL"})(hg||(hg={}));var pg;(function(o){o.auto="auto",o.en="en",o.ja="ja",o.ko="ko",o.hi="hi"})(pg||(pg={}));var mg;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.PROCESSING="PROCESSING",o.ACTIVE="ACTIVE",o.FAILED="FAILED"})(mg||(mg={}));var gg;(function(o){o.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",o.UPLOADED="UPLOADED",o.GENERATED="GENERATED"})(gg||(gg={}));var yg;(function(o){o.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",o.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",o.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",o.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",o.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(yg||(yg={}));var vg;(function(o){o.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",o.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",o.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",o.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(vg||(vg={}));var Tg;(function(o){o.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",o.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",o.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",o.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Tg||(Tg={}));var Sg;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.VIDEO="VIDEO",o.AUDIO="AUDIO",o.DOCUMENT="DOCUMENT"})(Sg||(Sg={}));var Eg;(function(o){o.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",o.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",o.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Eg||(Eg={}));var bg;(function(o){o.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",o.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",o.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(bg||(bg={}));var Cg;(function(o){o.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",o.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",o.NO_INTERRUPTION="NO_INTERRUPTION"})(Cg||(Cg={}));var Ag;(function(o){o.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",o.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",o.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ag||(Ag={}));class Tl{get text(){var e,n,s,l,u,c,h,y;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const S=[];for(const E of(y=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[C,A]of Object.entries(E))C!=="text"&&C!=="thought"&&(A!==null||A!==void 0)&&S.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,p+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,n,s,l,u,c,h,y;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const S of(y=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[E,C]of Object.entries(S))E!=="inlineData"&&(C!==null||C!==void 0)&&v.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(p+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,n,s,l,u,c,h,y;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,n,s,l,u,c,h,y,p;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,n,s,l,u,c,h,y,p;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class Mg{}class xg{}class _g{}class wg{}class Ub{}class Rg{}class Dg{}class Ng{}class zb{}class Bc{constructor(e){const n={};for(const s of e.headers.entries())n[s[0]]=s[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class kb{}class Ob{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qb extends ja{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new df(Ka.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(n),n)}async create(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=xb(this.apiClient,e);return h=gt("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>wl(this.apiClient,v))}else{const p=fb(this.apiClient,e);return h=gt("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>_l(this.apiClient,v))}}async get(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=_b(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>wl(this.apiClient,v))}else{const p=db(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>_l(this.apiClient,v))}}async delete(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=wb(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(()=>{const v=Bb(),S=new Dg;return Object.assign(S,v),S})}else{const p=hb(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(()=>{const v=Vb(),S=new Dg;return Object.assign(S,v),S})}}async update(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=Db(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>wl(this.apiClient,v))}else{const p=mb(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>_l(this.apiClient,v))}}async listInternal(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=Lb(this.apiClient,e);return h=gt("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=Ib(this.apiClient,v),E=new Ng;return Object.assign(E,S),E})}else{const p=yb(this.apiClient,e);return h=gt("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=Pb(this.apiClient,v),E=new Ng;return Object.assign(E,S),E})}}}function Lg(o){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&o[e],s=0;if(n)return n.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&s>=o.length&&(o=void 0),{value:o&&o[s++],done:!o}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pe(o){return this instanceof pe?(this.v=o,this):new pe(o)}function Bl(o,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(o,e||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),l[Symbol.asyncIterator]=function(){return this},l;function c(C){return function(A){return Promise.resolve(A).then(C,S)}}function h(C,A){s[C]&&(l[C]=function(R){return new Promise(function(z,k){u.push([C,R,z,k])>1||y(C,R)})},A&&(l[C]=A(l[C])))}function y(C,A){try{p(s[C](A))}catch(R){E(u[0][3],R)}}function p(C){C.value instanceof pe?Promise.resolve(C.value.v).then(v,S):E(u[0][2],C)}function v(C){y("next",C)}function S(C){y("throw",C)}function E(C,A){C(A),u.shift(),u.length&&y(u[0][0],u[0][1])}}function Ic(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=o[Symbol.asyncIterator],n;return e?e.call(o):(o=typeof Lg=="function"?Lg(o):o[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(u){n[u]=o[u]&&function(c){return new Promise(function(h,y){c=o[u](c),l(h,y,c.done,c.value)})}}function l(u,c,h,y){Promise.resolve(y).then(function(p){u({value:p,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gb(o){var e;if(o.candidates==null||o.candidates.length===0)return!1;const n=(e=o.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Lv(n)}function Lv(o){if(o.parts===void 0||o.parts.length===0)return!1;for(const e of o.parts)if(e===void 0||Object.keys(e).length===0||e.text!==void 0&&e.text==="")return!1;return!0}function Hb(o){if(o.length!==0){if(o[0].role!=="user")throw new Error("History must start with a user turn.");for(const e of o)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Fb(o){if(o===void 0||o.length===0)return[];const e=[],n=o.length;let s=0,l=o[0];for(;s<n;)if(o[s].role==="user")l=o[s],s++;else{const u=[];let c=!0;for(;s<n&&o[s].role==="model";)u.push(o[s]),c&&!Lv(o[s])&&(c=!1),s++;c&&(e.push(l),e.push(...u))}return e}class Yb{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Kb(this.apiClient,this.modelsModule,e.model,e.config,e.history)}}class Kb{constructor(e,n,s,l={},u=[]){this.apiClient=e,this.modelsModule=n,this.model=s,this.config=l,this.history=u,this.sendPromise=Promise.resolve(),Hb(u)}async sendMessage(e){var n;await this.sendPromise;const s=Me(this.apiClient,e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var u,c;const y=(c=(u=(await l).candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content,p=y?[y]:[];this.recordHistory(s,p)})(),await this.sendPromise,l}async sendMessageStream(e){var n;await this.sendPromise;const s=Me(this.apiClient,e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const u=await l;return this.processStreamResponse(u,s)}getHistory(e=!1){return e?Fb(this.history):this.history}processStreamResponse(e,n){var s,l;return Bl(this,arguments,function*(){var c,h,y,p;const v=[];try{for(var S=!0,E=Ic(e),C;C=yield pe(E.next()),c=C.done,!c;S=!0){p=C.value,S=!1;const A=p;if(Gb(A)){const R=(l=(s=A.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content;R!==void 0&&v.push(R)}yield yield pe(A)}}catch(A){h={error:A}}finally{try{!S&&!c&&(y=E.return)&&(yield pe(y.call(E)))}finally{if(h)throw h.error}}this.recordHistory(n,v)})}recordHistory(e,n){let s=[];n.length>0&&n.every(l=>l.role==="model")?s=n:s.push({role:"model",parts:[]}),this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qb(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&m(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);return n!==void 0&&u!=null&&m(n,["_query","pageToken"],u),s}function Xb(o,e){const n={},s=d(e,["config"]);return s!=null&&m(n,["config"],Qb(o,s,n)),n}function Zb(o,e){const n={},s=d(e,["details"]);s!=null&&m(n,["details"],s);const l=d(e,["message"]);l!=null&&m(n,["message"],l);const u=d(e,["code"]);return u!=null&&m(n,["code"],u),n}function $b(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["displayName"]);l!=null&&m(n,["displayName"],l);const u=d(e,["mimeType"]);u!=null&&m(n,["mimeType"],u);const c=d(e,["sizeBytes"]);c!=null&&m(n,["sizeBytes"],c);const h=d(e,["createTime"]);h!=null&&m(n,["createTime"],h);const y=d(e,["expirationTime"]);y!=null&&m(n,["expirationTime"],y);const p=d(e,["updateTime"]);p!=null&&m(n,["updateTime"],p);const v=d(e,["sha256Hash"]);v!=null&&m(n,["sha256Hash"],v);const S=d(e,["uri"]);S!=null&&m(n,["uri"],S);const E=d(e,["downloadUri"]);E!=null&&m(n,["downloadUri"],E);const C=d(e,["state"]);C!=null&&m(n,["state"],C);const A=d(e,["source"]);A!=null&&m(n,["source"],A);const R=d(e,["videoMetadata"]);R!=null&&m(n,["videoMetadata"],R);const z=d(e,["error"]);return z!=null&&m(n,["error"],Zb(o,z)),n}function Jb(o,e){const n={},s=d(e,["file"]);s!=null&&m(n,["file"],$b(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function Wb(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","file"],Nv(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function jb(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","file"],Nv(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function tC(o,e){const n={},s=d(e,["details"]);s!=null&&m(n,["details"],s);const l=d(e,["message"]);l!=null&&m(n,["message"],l);const u=d(e,["code"]);return u!=null&&m(n,["code"],u),n}function Uc(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["displayName"]);l!=null&&m(n,["displayName"],l);const u=d(e,["mimeType"]);u!=null&&m(n,["mimeType"],u);const c=d(e,["sizeBytes"]);c!=null&&m(n,["sizeBytes"],c);const h=d(e,["createTime"]);h!=null&&m(n,["createTime"],h);const y=d(e,["expirationTime"]);y!=null&&m(n,["expirationTime"],y);const p=d(e,["updateTime"]);p!=null&&m(n,["updateTime"],p);const v=d(e,["sha256Hash"]);v!=null&&m(n,["sha256Hash"],v);const S=d(e,["uri"]);S!=null&&m(n,["uri"],S);const E=d(e,["downloadUri"]);E!=null&&m(n,["downloadUri"],E);const C=d(e,["state"]);C!=null&&m(n,["state"],C);const A=d(e,["source"]);A!=null&&m(n,["source"],A);const R=d(e,["videoMetadata"]);R!=null&&m(n,["videoMetadata"],R);const z=d(e,["error"]);return z!=null&&m(n,["error"],tC(o,z)),n}function eC(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&m(n,["nextPageToken"],s);const l=d(e,["files"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Uc(o,c))),m(n,["files"],u)}return n}function nC(){return{}}function iC(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oC extends ja{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new df(Ka.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Uc(this.apiClient,n))}async listInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Xb(this.apiClient,e);return u=gt("files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const p=eC(this.apiClient,y),v=new zb;return Object.assign(v,p),v})}}async createInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Jb(this.apiClient,e);return u=gt("upload/v1beta/files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(()=>{const y=nC(),p=new kb;return Object.assign(p,y),p})}}async get(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Wb(this.apiClient,e);return u=gt("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>Uc(this.apiClient,y))}}async delete(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=jb(this.apiClient,e);return u=gt("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(()=>{const y=iC(),p=new Ob;return Object.assign(p,y),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aC(o,e){const n={};if(d(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const s=d(e,["thought"]);s!=null&&m(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&m(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&m(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&m(n,["fileData"],c);const h=d(e,["functionCall"]);h!=null&&m(n,["functionCall"],h);const y=d(e,["functionResponse"]);y!=null&&m(n,["functionResponse"],y);const p=d(e,["inlineData"]);p!=null&&m(n,["inlineData"],p);const v=d(e,["text"]);return v!=null&&m(n,["text"],v),n}function sC(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&m(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&m(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&m(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&m(n,["executableCode"],c);const h=d(e,["fileData"]);h!=null&&m(n,["fileData"],h);const y=d(e,["functionCall"]);y!=null&&m(n,["functionCall"],y);const p=d(e,["functionResponse"]);p!=null&&m(n,["functionResponse"],p);const v=d(e,["inlineData"]);v!=null&&m(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&m(n,["text"],S),n}function lC(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>aC(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function rC(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>sC(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function uC(){return{}}function cC(){return{}}function fC(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&m(n,["dynamicThreshold"],l),n}function dC(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&m(n,["dynamicThreshold"],l),n}function hC(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&m(n,["dynamicRetrievalConfig"],fC(o,s)),n}function pC(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&m(n,["dynamicRetrievalConfig"],dC(o,s)),n}function mC(o,e){const n={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(e,["googleSearch"])!=null&&m(n,["googleSearch"],uC());const l=d(e,["googleSearchRetrieval"]);l!=null&&m(n,["googleSearchRetrieval"],hC(o,l));const u=d(e,["codeExecution"]);u!=null&&m(n,["codeExecution"],u);const c=d(e,["functionDeclarations"]);return c!=null&&m(n,["functionDeclarations"],c),n}function gC(o,e){const n={},s=d(e,["retrieval"]);s!=null&&m(n,["retrieval"],s),d(e,["googleSearch"])!=null&&m(n,["googleSearch"],cC());const u=d(e,["googleSearchRetrieval"]);u!=null&&m(n,["googleSearchRetrieval"],pC(o,u));const c=d(e,["codeExecution"]);c!=null&&m(n,["codeExecution"],c);const h=d(e,["functionDeclarations"]);return h!=null&&m(n,["functionDeclarations"],h),n}function yC(o,e){const n={},s=d(e,["handle"]);if(s!=null&&m(n,["handle"],s),d(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function vC(o,e){const n={},s=d(e,["handle"]);s!=null&&m(n,["handle"],s);const l=d(e,["transparent"]);return l!=null&&m(n,["transparent"],l),n}function TC(){return{}}function Vg(){return{}}function SC(o,e){const n={},s=d(e,["disabled"]);s!=null&&m(n,["disabled"],s);const l=d(e,["startOfSpeechSensitivity"]);l!=null&&m(n,["startOfSpeechSensitivity"],l);const u=d(e,["endOfSpeechSensitivity"]);u!=null&&m(n,["endOfSpeechSensitivity"],u);const c=d(e,["prefixPaddingMs"]);c!=null&&m(n,["prefixPaddingMs"],c);const h=d(e,["silenceDurationMs"]);return h!=null&&m(n,["silenceDurationMs"],h),n}function EC(o,e){const n={},s=d(e,["disabled"]);s!=null&&m(n,["disabled"],s);const l=d(e,["startOfSpeechSensitivity"]);l!=null&&m(n,["startOfSpeechSensitivity"],l);const u=d(e,["endOfSpeechSensitivity"]);u!=null&&m(n,["endOfSpeechSensitivity"],u);const c=d(e,["prefixPaddingMs"]);c!=null&&m(n,["prefixPaddingMs"],c);const h=d(e,["silenceDurationMs"]);return h!=null&&m(n,["silenceDurationMs"],h),n}function bC(o,e){const n={},s=d(e,["automaticActivityDetection"]);s!=null&&m(n,["automaticActivityDetection"],SC(o,s));const l=d(e,["activityHandling"]);l!=null&&m(n,["activityHandling"],l);const u=d(e,["turnCoverage"]);return u!=null&&m(n,["turnCoverage"],u),n}function CC(o,e){const n={},s=d(e,["automaticActivityDetection"]);s!=null&&m(n,["automaticActivityDetection"],EC(o,s));const l=d(e,["activityHandling"]);l!=null&&m(n,["activityHandling"],l);const u=d(e,["turnCoverage"]);return u!=null&&m(n,["turnCoverage"],u),n}function AC(o,e){const n={},s=d(e,["targetTokens"]);return s!=null&&m(n,["targetTokens"],s),n}function MC(o,e){const n={},s=d(e,["targetTokens"]);return s!=null&&m(n,["targetTokens"],s),n}function xC(o,e){const n={},s=d(e,["triggerTokens"]);s!=null&&m(n,["triggerTokens"],s);const l=d(e,["slidingWindow"]);return l!=null&&m(n,["slidingWindow"],AC(o,l)),n}function _C(o,e){const n={},s=d(e,["triggerTokens"]);s!=null&&m(n,["triggerTokens"],s);const l=d(e,["slidingWindow"]);return l!=null&&m(n,["slidingWindow"],MC(o,l)),n}function wC(o,e,n){const s={},l=d(e,["generationConfig"]);n!==void 0&&l!=null&&m(n,["setup","generationConfig"],l);const u=d(e,["responseModalities"]);n!==void 0&&u!=null&&m(n,["setup","generationConfig","responseModalities"],u);const c=d(e,["temperature"]);n!==void 0&&c!=null&&m(n,["setup","generationConfig","temperature"],c);const h=d(e,["topP"]);n!==void 0&&h!=null&&m(n,["setup","generationConfig","topP"],h);const y=d(e,["topK"]);n!==void 0&&y!=null&&m(n,["setup","generationConfig","topK"],y);const p=d(e,["maxOutputTokens"]);n!==void 0&&p!=null&&m(n,["setup","generationConfig","maxOutputTokens"],p);const v=d(e,["mediaResolution"]);n!==void 0&&v!=null&&m(n,["setup","generationConfig","mediaResolution"],v);const S=d(e,["seed"]);n!==void 0&&S!=null&&m(n,["setup","generationConfig","seed"],S);const E=d(e,["speechConfig"]);n!==void 0&&E!=null&&m(n,["setup","generationConfig","speechConfig"],E);const C=d(e,["systemInstruction"]);n!==void 0&&C!=null&&m(n,["setup","systemInstruction"],lC(o,Me(o,C)));const A=d(e,["tools"]);if(n!==void 0&&A!=null){let N=Yl(o,A);Array.isArray(N)&&(N=N.map(K=>mC(o,Fl(o,K)))),m(n,["setup","tools"],N)}const R=d(e,["sessionResumption"]);if(n!==void 0&&R!=null&&m(n,["setup","sessionResumption"],yC(o,R)),d(e,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const z=d(e,["outputAudioTranscription"]);n!==void 0&&z!=null&&m(n,["setup","outputAudioTranscription"],TC());const k=d(e,["realtimeInputConfig"]);n!==void 0&&k!=null&&m(n,["setup","realtimeInputConfig"],bC(o,k));const F=d(e,["contextWindowCompression"]);return n!==void 0&&F!=null&&m(n,["setup","contextWindowCompression"],xC(o,F)),s}function RC(o,e,n){const s={},l=d(e,["generationConfig"]);n!==void 0&&l!=null&&m(n,["setup","generationConfig"],l);const u=d(e,["responseModalities"]);n!==void 0&&u!=null&&m(n,["setup","generationConfig","responseModalities"],u);const c=d(e,["temperature"]);n!==void 0&&c!=null&&m(n,["setup","generationConfig","temperature"],c);const h=d(e,["topP"]);n!==void 0&&h!=null&&m(n,["setup","generationConfig","topP"],h);const y=d(e,["topK"]);n!==void 0&&y!=null&&m(n,["setup","generationConfig","topK"],y);const p=d(e,["maxOutputTokens"]);n!==void 0&&p!=null&&m(n,["setup","generationConfig","maxOutputTokens"],p);const v=d(e,["mediaResolution"]);n!==void 0&&v!=null&&m(n,["setup","generationConfig","mediaResolution"],v);const S=d(e,["seed"]);n!==void 0&&S!=null&&m(n,["setup","generationConfig","seed"],S);const E=d(e,["speechConfig"]);n!==void 0&&E!=null&&m(n,["setup","generationConfig","speechConfig"],E);const C=d(e,["systemInstruction"]);n!==void 0&&C!=null&&m(n,["setup","systemInstruction"],rC(o,Me(o,C)));const A=d(e,["tools"]);if(n!==void 0&&A!=null){let K=Yl(o,A);Array.isArray(K)&&(K=K.map(D=>gC(o,Fl(o,D)))),m(n,["setup","tools"],K)}const R=d(e,["sessionResumption"]);n!==void 0&&R!=null&&m(n,["setup","sessionResumption"],vC(o,R));const z=d(e,["inputAudioTranscription"]);n!==void 0&&z!=null&&m(n,["setup","inputAudioTranscription"],Vg());const k=d(e,["outputAudioTranscription"]);n!==void 0&&k!=null&&m(n,["setup","outputAudioTranscription"],Vg());const F=d(e,["realtimeInputConfig"]);n!==void 0&&F!=null&&m(n,["setup","realtimeInputConfig"],CC(o,F));const N=d(e,["contextWindowCompression"]);return n!==void 0&&N!=null&&m(n,["setup","contextWindowCompression"],_C(o,N)),s}function DC(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["setup","model"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],wC(o,l,n)),n}function NC(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["setup","model"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],RC(o,l,n)),n}function LC(){return{}}function VC(){return{}}function PC(){return{}}function BC(){return{}}function IC(o,e){const n={},s=d(e,["media"]);s!=null&&m(n,["mediaChunks"],Mv(o,s));const l=d(e,["audio"]);l!=null&&m(n,["audio"],eb(o,l));const u=d(e,["audioStreamEnd"]);u!=null&&m(n,["audioStreamEnd"],u);const c=d(e,["video"]);c!=null&&m(n,["video"],tb(o,c));const h=d(e,["text"]);return h!=null&&m(n,["text"],h),d(e,["activityStart"])!=null&&m(n,["activityStart"],LC()),d(e,["activityEnd"])!=null&&m(n,["activityEnd"],PC()),n}function UC(o,e){const n={},s=d(e,["media"]);if(s!=null&&m(n,["mediaChunks"],Mv(o,s)),d(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const l=d(e,["audioStreamEnd"]);if(l!=null&&m(n,["audioStreamEnd"],l),d(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(d(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return d(e,["activityStart"])!=null&&m(n,["activityStart"],VC()),d(e,["activityEnd"])!=null&&m(n,["activityEnd"],BC()),n}function zC(){return{}}function kC(){return{}}function OC(o,e){const n={},s=d(e,["thought"]);s!=null&&m(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&m(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&m(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&m(n,["fileData"],c);const h=d(e,["functionCall"]);h!=null&&m(n,["functionCall"],h);const y=d(e,["functionResponse"]);y!=null&&m(n,["functionResponse"],y);const p=d(e,["inlineData"]);p!=null&&m(n,["inlineData"],p);const v=d(e,["text"]);return v!=null&&m(n,["text"],v),n}function qC(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&m(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&m(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&m(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&m(n,["executableCode"],c);const h=d(e,["fileData"]);h!=null&&m(n,["fileData"],h);const y=d(e,["functionCall"]);y!=null&&m(n,["functionCall"],y);const p=d(e,["functionResponse"]);p!=null&&m(n,["functionResponse"],p);const v=d(e,["inlineData"]);v!=null&&m(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&m(n,["text"],S),n}function GC(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>OC(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function HC(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>qC(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function Pg(o,e){const n={},s=d(e,["text"]);s!=null&&m(n,["text"],s);const l=d(e,["finished"]);return l!=null&&m(n,["finished"],l),n}function Bg(o,e){const n={},s=d(e,["text"]);s!=null&&m(n,["text"],s);const l=d(e,["finished"]);return l!=null&&m(n,["finished"],l),n}function FC(o,e){const n={},s=d(e,["modelTurn"]);s!=null&&m(n,["modelTurn"],GC(o,s));const l=d(e,["turnComplete"]);l!=null&&m(n,["turnComplete"],l);const u=d(e,["interrupted"]);u!=null&&m(n,["interrupted"],u);const c=d(e,["groundingMetadata"]);c!=null&&m(n,["groundingMetadata"],c);const h=d(e,["generationComplete"]);h!=null&&m(n,["generationComplete"],h);const y=d(e,["inputTranscription"]);y!=null&&m(n,["inputTranscription"],Pg(o,y));const p=d(e,["outputTranscription"]);return p!=null&&m(n,["outputTranscription"],Pg(o,p)),n}function YC(o,e){const n={},s=d(e,["modelTurn"]);s!=null&&m(n,["modelTurn"],HC(o,s));const l=d(e,["turnComplete"]);l!=null&&m(n,["turnComplete"],l);const u=d(e,["interrupted"]);u!=null&&m(n,["interrupted"],u);const c=d(e,["groundingMetadata"]);c!=null&&m(n,["groundingMetadata"],c);const h=d(e,["generationComplete"]);h!=null&&m(n,["generationComplete"],h);const y=d(e,["inputTranscription"]);y!=null&&m(n,["inputTranscription"],Bg(o,y));const p=d(e,["outputTranscription"]);return p!=null&&m(n,["outputTranscription"],Bg(o,p)),n}function KC(o,e){const n={},s=d(e,["id"]);s!=null&&m(n,["id"],s);const l=d(e,["args"]);l!=null&&m(n,["args"],l);const u=d(e,["name"]);return u!=null&&m(n,["name"],u),n}function QC(o,e){const n={},s=d(e,["args"]);s!=null&&m(n,["args"],s);const l=d(e,["name"]);return l!=null&&m(n,["name"],l),n}function XC(o,e){const n={},s=d(e,["functionCalls"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>KC(o,u))),m(n,["functionCalls"],l)}return n}function ZC(o,e){const n={},s=d(e,["functionCalls"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>QC(o,u))),m(n,["functionCalls"],l)}return n}function $C(o,e){const n={},s=d(e,["ids"]);return s!=null&&m(n,["ids"],s),n}function JC(o,e){const n={},s=d(e,["ids"]);return s!=null&&m(n,["ids"],s),n}function Sl(o,e){const n={},s=d(e,["modality"]);s!=null&&m(n,["modality"],s);const l=d(e,["tokenCount"]);return l!=null&&m(n,["tokenCount"],l),n}function El(o,e){const n={},s=d(e,["modality"]);s!=null&&m(n,["modality"],s);const l=d(e,["tokenCount"]);return l!=null&&m(n,["tokenCount"],l),n}function WC(o,e){const n={},s=d(e,["promptTokenCount"]);s!=null&&m(n,["promptTokenCount"],s);const l=d(e,["cachedContentTokenCount"]);l!=null&&m(n,["cachedContentTokenCount"],l);const u=d(e,["responseTokenCount"]);u!=null&&m(n,["responseTokenCount"],u);const c=d(e,["toolUsePromptTokenCount"]);c!=null&&m(n,["toolUsePromptTokenCount"],c);const h=d(e,["thoughtsTokenCount"]);h!=null&&m(n,["thoughtsTokenCount"],h);const y=d(e,["totalTokenCount"]);y!=null&&m(n,["totalTokenCount"],y);const p=d(e,["promptTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(A=>Sl(o,A))),m(n,["promptTokensDetails"],C)}const v=d(e,["cacheTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(A=>Sl(o,A))),m(n,["cacheTokensDetails"],C)}const S=d(e,["responseTokensDetails"]);if(S!=null){let C=S;Array.isArray(C)&&(C=C.map(A=>Sl(o,A))),m(n,["responseTokensDetails"],C)}const E=d(e,["toolUsePromptTokensDetails"]);if(E!=null){let C=E;Array.isArray(C)&&(C=C.map(A=>Sl(o,A))),m(n,["toolUsePromptTokensDetails"],C)}return n}function jC(o,e){const n={},s=d(e,["promptTokenCount"]);s!=null&&m(n,["promptTokenCount"],s);const l=d(e,["cachedContentTokenCount"]);l!=null&&m(n,["cachedContentTokenCount"],l);const u=d(e,["candidatesTokenCount"]);u!=null&&m(n,["responseTokenCount"],u);const c=d(e,["toolUsePromptTokenCount"]);c!=null&&m(n,["toolUsePromptTokenCount"],c);const h=d(e,["thoughtsTokenCount"]);h!=null&&m(n,["thoughtsTokenCount"],h);const y=d(e,["totalTokenCount"]);y!=null&&m(n,["totalTokenCount"],y);const p=d(e,["promptTokensDetails"]);if(p!=null){let A=p;Array.isArray(A)&&(A=A.map(R=>El(o,R))),m(n,["promptTokensDetails"],A)}const v=d(e,["cacheTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(R=>El(o,R))),m(n,["cacheTokensDetails"],A)}const S=d(e,["candidatesTokensDetails"]);if(S!=null){let A=S;Array.isArray(A)&&(A=A.map(R=>El(o,R))),m(n,["responseTokensDetails"],A)}const E=d(e,["toolUsePromptTokensDetails"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(R=>El(o,R))),m(n,["toolUsePromptTokensDetails"],A)}const C=d(e,["trafficType"]);return C!=null&&m(n,["trafficType"],C),n}function tA(o,e){const n={},s=d(e,["timeLeft"]);return s!=null&&m(n,["timeLeft"],s),n}function eA(o,e){const n={},s=d(e,["timeLeft"]);return s!=null&&m(n,["timeLeft"],s),n}function nA(o,e){const n={},s=d(e,["newHandle"]);s!=null&&m(n,["newHandle"],s);const l=d(e,["resumable"]);l!=null&&m(n,["resumable"],l);const u=d(e,["lastConsumedClientMessageIndex"]);return u!=null&&m(n,["lastConsumedClientMessageIndex"],u),n}function iA(o,e){const n={},s=d(e,["newHandle"]);s!=null&&m(n,["newHandle"],s);const l=d(e,["resumable"]);l!=null&&m(n,["resumable"],l);const u=d(e,["lastConsumedClientMessageIndex"]);return u!=null&&m(n,["lastConsumedClientMessageIndex"],u),n}function oA(o,e){const n={};d(e,["setupComplete"])!=null&&m(n,["setupComplete"],zC());const l=d(e,["serverContent"]);l!=null&&m(n,["serverContent"],FC(o,l));const u=d(e,["toolCall"]);u!=null&&m(n,["toolCall"],XC(o,u));const c=d(e,["toolCallCancellation"]);c!=null&&m(n,["toolCallCancellation"],$C(o,c));const h=d(e,["usageMetadata"]);h!=null&&m(n,["usageMetadata"],WC(o,h));const y=d(e,["goAway"]);y!=null&&m(n,["goAway"],tA(o,y));const p=d(e,["sessionResumptionUpdate"]);return p!=null&&m(n,["sessionResumptionUpdate"],nA(o,p)),n}function aA(o,e){const n={};d(e,["setupComplete"])!=null&&m(n,["setupComplete"],kC());const l=d(e,["serverContent"]);l!=null&&m(n,["serverContent"],YC(o,l));const u=d(e,["toolCall"]);u!=null&&m(n,["toolCall"],ZC(o,u));const c=d(e,["toolCallCancellation"]);c!=null&&m(n,["toolCallCancellation"],JC(o,c));const h=d(e,["usageMetadata"]);h!=null&&m(n,["usageMetadata"],jC(o,h));const y=d(e,["goAway"]);y!=null&&m(n,["goAway"],eA(o,y));const p=d(e,["sessionResumptionUpdate"]);return p!=null&&m(n,["sessionResumptionUpdate"],iA(o,p)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sA(o,e){const n={};if(d(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const s=d(e,["thought"]);s!=null&&m(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&m(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&m(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&m(n,["fileData"],c);const h=d(e,["functionCall"]);h!=null&&m(n,["functionCall"],h);const y=d(e,["functionResponse"]);y!=null&&m(n,["functionResponse"],y);const p=d(e,["inlineData"]);p!=null&&m(n,["inlineData"],p);const v=d(e,["text"]);return v!=null&&m(n,["text"],v),n}function Kl(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>sA(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function lA(o,e){const n={};if(d(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=d(e,["category"]);s!=null&&m(n,["category"],s);const l=d(e,["threshold"]);return l!=null&&m(n,["threshold"],l),n}function rA(){return{}}function uA(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&m(n,["dynamicThreshold"],l),n}function cA(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&m(n,["dynamicRetrievalConfig"],uA(o,s)),n}function fA(o,e){const n={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(e,["googleSearch"])!=null&&m(n,["googleSearch"],rA());const l=d(e,["googleSearchRetrieval"]);l!=null&&m(n,["googleSearchRetrieval"],cA(o,l));const u=d(e,["codeExecution"]);u!=null&&m(n,["codeExecution"],u);const c=d(e,["functionDeclarations"]);return c!=null&&m(n,["functionDeclarations"],c),n}function dA(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&m(n,["allowedFunctionNames"],l),n}function hA(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&m(n,["functionCallingConfig"],dA(o,s)),n}function pA(o,e){const n={},s=d(e,["voiceName"]);return s!=null&&m(n,["voiceName"],s),n}function mA(o,e){const n={},s=d(e,["prebuiltVoiceConfig"]);return s!=null&&m(n,["prebuiltVoiceConfig"],pA(o,s)),n}function gA(o,e){const n={},s=d(e,["voiceConfig"]);s!=null&&m(n,["voiceConfig"],mA(o,s));const l=d(e,["languageCode"]);return l!=null&&m(n,["languageCode"],l),n}function yA(o,e){const n={},s=d(e,["includeThoughts"]);s!=null&&m(n,["includeThoughts"],s);const l=d(e,["thinkingBudget"]);return l!=null&&m(n,["thinkingBudget"],l),n}function vA(o,e,n){const s={},l=d(e,["systemInstruction"]);n!==void 0&&l!=null&&m(n,["systemInstruction"],Kl(o,Me(o,l)));const u=d(e,["temperature"]);u!=null&&m(s,["temperature"],u);const c=d(e,["topP"]);c!=null&&m(s,["topP"],c);const h=d(e,["topK"]);h!=null&&m(s,["topK"],h);const y=d(e,["candidateCount"]);y!=null&&m(s,["candidateCount"],y);const p=d(e,["maxOutputTokens"]);p!=null&&m(s,["maxOutputTokens"],p);const v=d(e,["stopSequences"]);v!=null&&m(s,["stopSequences"],v);const S=d(e,["responseLogprobs"]);S!=null&&m(s,["responseLogprobs"],S);const E=d(e,["logprobs"]);E!=null&&m(s,["logprobs"],E);const C=d(e,["presencePenalty"]);C!=null&&m(s,["presencePenalty"],C);const A=d(e,["frequencyPenalty"]);A!=null&&m(s,["frequencyPenalty"],A);const R=d(e,["seed"]);R!=null&&m(s,["seed"],R);const z=d(e,["responseMimeType"]);z!=null&&m(s,["responseMimeType"],z);const k=d(e,["responseSchema"]);if(k!=null&&m(s,["responseSchema"],wv(o,k)),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=d(e,["safetySettings"]);if(n!==void 0&&F!=null){let lt=F;Array.isArray(lt)&&(lt=lt.map(yt=>lA(o,yt))),m(n,["safetySettings"],lt)}const N=d(e,["tools"]);if(n!==void 0&&N!=null){let lt=Yl(o,N);Array.isArray(lt)&&(lt=lt.map(yt=>fA(o,Fl(o,yt)))),m(n,["tools"],lt)}const K=d(e,["toolConfig"]);if(n!==void 0&&K!=null&&m(n,["toolConfig"],hA(o,K)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=d(e,["cachedContent"]);n!==void 0&&D!=null&&m(n,["cachedContent"],ai(o,D));const X=d(e,["responseModalities"]);X!=null&&m(s,["responseModalities"],X);const Z=d(e,["mediaResolution"]);Z!=null&&m(s,["mediaResolution"],Z);const H=d(e,["speechConfig"]);if(H!=null&&m(s,["speechConfig"],gA(o,Rv(o,H))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ot=d(e,["thinkingConfig"]);return ot!=null&&m(s,["thinkingConfig"],yA(o,ot)),s}function Ig(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(h=>Kl(o,h))),m(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&m(n,["generationConfig"],vA(o,u,n)),n}function TA(o,e,n){const s={},l=d(e,["taskType"]);n!==void 0&&l!=null&&m(n,["requests[]","taskType"],l);const u=d(e,["title"]);n!==void 0&&u!=null&&m(n,["requests[]","title"],u);const c=d(e,["outputDimensionality"]);if(n!==void 0&&c!=null&&m(n,["requests[]","outputDimensionality"],c),d(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function SA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);l!=null&&m(n,["requests[]","content"],_v(o,l));const u=d(e,["config"]);u!=null&&m(n,["config"],TA(o,u,n));const c=d(e,["model"]);return c!==void 0&&m(n,["requests[]","model"],Qt(o,c)),n}function EA(o,e,n){const s={};if(d(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=d(e,["numberOfImages"]);n!==void 0&&l!=null&&m(n,["parameters","sampleCount"],l);const u=d(e,["aspectRatio"]);n!==void 0&&u!=null&&m(n,["parameters","aspectRatio"],u);const c=d(e,["guidanceScale"]);if(n!==void 0&&c!=null&&m(n,["parameters","guidanceScale"],c),d(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=d(e,["safetyFilterLevel"]);n!==void 0&&h!=null&&m(n,["parameters","safetySetting"],h);const y=d(e,["personGeneration"]);n!==void 0&&y!=null&&m(n,["parameters","personGeneration"],y);const p=d(e,["includeSafetyAttributes"]);n!==void 0&&p!=null&&m(n,["parameters","includeSafetyAttributes"],p);const v=d(e,["includeRaiReason"]);n!==void 0&&v!=null&&m(n,["parameters","includeRaiReason"],v);const S=d(e,["language"]);n!==void 0&&S!=null&&m(n,["parameters","language"],S);const E=d(e,["outputMimeType"]);n!==void 0&&E!=null&&m(n,["parameters","outputOptions","mimeType"],E);const C=d(e,["outputCompressionQuality"]);if(n!==void 0&&C!=null&&m(n,["parameters","outputOptions","compressionQuality"],C),d(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function bA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["prompt"]);l!=null&&m(n,["instances[0]","prompt"],l);const u=d(e,["config"]);return u!=null&&m(n,["config"],EA(o,u,n)),n}function CA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function AA(o,e,n){const s={},l=d(e,["displayName"]);n!==void 0&&l!=null&&m(n,["displayName"],l);const u=d(e,["description"]);return n!==void 0&&u!=null&&m(n,["description"],u),s}function MA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],AA(o,l,n)),n}function xA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function _A(o,e){const n={};if(d(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function wA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(h=>Kl(o,h))),m(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&m(n,["config"],_A(o,u)),n}function RA(o,e){const n={};if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=d(e,["imageBytes"]);s!=null&&m(n,["bytesBase64Encoded"],si(o,s));const l=d(e,["mimeType"]);return l!=null&&m(n,["mimeType"],l),n}function DA(o,e,n){const s={},l=d(e,["numberOfVideos"]);if(n!==void 0&&l!=null&&m(n,["parameters","sampleCount"],l),d(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=d(e,["durationSeconds"]);if(n!==void 0&&u!=null&&m(n,["parameters","durationSeconds"],u),d(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(e,["aspectRatio"]);if(n!==void 0&&c!=null&&m(n,["parameters","aspectRatio"],c),d(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const h=d(e,["personGeneration"]);if(n!==void 0&&h!=null&&m(n,["parameters","personGeneration"],h),d(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=d(e,["negativePrompt"]);if(n!==void 0&&y!=null&&m(n,["parameters","negativePrompt"],y),d(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function NA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["prompt"]);l!=null&&m(n,["instances[0]","prompt"],l);const u=d(e,["image"]);u!=null&&m(n,["instances[0]","image"],RA(o,u));const c=d(e,["config"]);return c!=null&&m(n,["config"],DA(o,c,n)),n}function LA(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&m(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&m(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&m(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&m(n,["executableCode"],c);const h=d(e,["fileData"]);h!=null&&m(n,["fileData"],h);const y=d(e,["functionCall"]);y!=null&&m(n,["functionCall"],y);const p=d(e,["functionResponse"]);p!=null&&m(n,["functionResponse"],p);const v=d(e,["inlineData"]);v!=null&&m(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&m(n,["text"],S),n}function No(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>LA(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function VA(o,e){const n={},s=d(e,["featureSelectionPreference"]);return s!=null&&m(n,["featureSelectionPreference"],s),n}function PA(o,e){const n={},s=d(e,["method"]);s!=null&&m(n,["method"],s);const l=d(e,["category"]);l!=null&&m(n,["category"],l);const u=d(e,["threshold"]);return u!=null&&m(n,["threshold"],u),n}function BA(){return{}}function IA(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&m(n,["dynamicThreshold"],l),n}function UA(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&m(n,["dynamicRetrievalConfig"],IA(o,s)),n}function Vv(o,e){const n={},s=d(e,["retrieval"]);s!=null&&m(n,["retrieval"],s),d(e,["googleSearch"])!=null&&m(n,["googleSearch"],BA());const u=d(e,["googleSearchRetrieval"]);u!=null&&m(n,["googleSearchRetrieval"],UA(o,u));const c=d(e,["codeExecution"]);c!=null&&m(n,["codeExecution"],c);const h=d(e,["functionDeclarations"]);return h!=null&&m(n,["functionDeclarations"],h),n}function zA(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&m(n,["allowedFunctionNames"],l),n}function kA(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&m(n,["functionCallingConfig"],zA(o,s)),n}function OA(o,e){const n={},s=d(e,["voiceName"]);return s!=null&&m(n,["voiceName"],s),n}function qA(o,e){const n={},s=d(e,["prebuiltVoiceConfig"]);return s!=null&&m(n,["prebuiltVoiceConfig"],OA(o,s)),n}function GA(o,e){const n={},s=d(e,["voiceConfig"]);s!=null&&m(n,["voiceConfig"],qA(o,s));const l=d(e,["languageCode"]);return l!=null&&m(n,["languageCode"],l),n}function HA(o,e){const n={},s=d(e,["includeThoughts"]);s!=null&&m(n,["includeThoughts"],s);const l=d(e,["thinkingBudget"]);return l!=null&&m(n,["thinkingBudget"],l),n}function FA(o,e,n){const s={},l=d(e,["systemInstruction"]);n!==void 0&&l!=null&&m(n,["systemInstruction"],No(o,Me(o,l)));const u=d(e,["temperature"]);u!=null&&m(s,["temperature"],u);const c=d(e,["topP"]);c!=null&&m(s,["topP"],c);const h=d(e,["topK"]);h!=null&&m(s,["topK"],h);const y=d(e,["candidateCount"]);y!=null&&m(s,["candidateCount"],y);const p=d(e,["maxOutputTokens"]);p!=null&&m(s,["maxOutputTokens"],p);const v=d(e,["stopSequences"]);v!=null&&m(s,["stopSequences"],v);const S=d(e,["responseLogprobs"]);S!=null&&m(s,["responseLogprobs"],S);const E=d(e,["logprobs"]);E!=null&&m(s,["logprobs"],E);const C=d(e,["presencePenalty"]);C!=null&&m(s,["presencePenalty"],C);const A=d(e,["frequencyPenalty"]);A!=null&&m(s,["frequencyPenalty"],A);const R=d(e,["seed"]);R!=null&&m(s,["seed"],R);const z=d(e,["responseMimeType"]);z!=null&&m(s,["responseMimeType"],z);const k=d(e,["responseSchema"]);k!=null&&m(s,["responseSchema"],wv(o,k));const F=d(e,["routingConfig"]);F!=null&&m(s,["routingConfig"],F);const N=d(e,["modelSelectionConfig"]);N!=null&&m(s,["modelConfig"],VA(o,N));const K=d(e,["safetySettings"]);if(n!==void 0&&K!=null){let $=K;Array.isArray($)&&($=$.map(tt=>PA(o,tt))),m(n,["safetySettings"],$)}const D=d(e,["tools"]);if(n!==void 0&&D!=null){let $=Yl(o,D);Array.isArray($)&&($=$.map(tt=>Vv(o,Fl(o,tt)))),m(n,["tools"],$)}const X=d(e,["toolConfig"]);n!==void 0&&X!=null&&m(n,["toolConfig"],kA(o,X));const Z=d(e,["labels"]);n!==void 0&&Z!=null&&m(n,["labels"],Z);const H=d(e,["cachedContent"]);n!==void 0&&H!=null&&m(n,["cachedContent"],ai(o,H));const ot=d(e,["responseModalities"]);ot!=null&&m(s,["responseModalities"],ot);const lt=d(e,["mediaResolution"]);lt!=null&&m(s,["mediaResolution"],lt);const yt=d(e,["speechConfig"]);yt!=null&&m(s,["speechConfig"],GA(o,Rv(o,yt)));const Tt=d(e,["audioTimestamp"]);Tt!=null&&m(s,["audioTimestamp"],Tt);const dt=d(e,["thinkingConfig"]);return dt!=null&&m(s,["thinkingConfig"],HA(o,dt)),s}function Ug(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(h=>No(o,h))),m(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&m(n,["generationConfig"],FA(o,u,n)),n}function YA(o,e,n){const s={},l=d(e,["taskType"]);n!==void 0&&l!=null&&m(n,["instances[]","task_type"],l);const u=d(e,["title"]);n!==void 0&&u!=null&&m(n,["instances[]","title"],u);const c=d(e,["outputDimensionality"]);n!==void 0&&c!=null&&m(n,["parameters","outputDimensionality"],c);const h=d(e,["mimeType"]);n!==void 0&&h!=null&&m(n,["instances[]","mimeType"],h);const y=d(e,["autoTruncate"]);return n!==void 0&&y!=null&&m(n,["parameters","autoTruncate"],y),s}function KA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);l!=null&&m(n,["instances[]","content"],_v(o,l));const u=d(e,["config"]);return u!=null&&m(n,["config"],YA(o,u,n)),n}function QA(o,e,n){const s={},l=d(e,["outputGcsUri"]);n!==void 0&&l!=null&&m(n,["parameters","storageUri"],l);const u=d(e,["negativePrompt"]);n!==void 0&&u!=null&&m(n,["parameters","negativePrompt"],u);const c=d(e,["numberOfImages"]);n!==void 0&&c!=null&&m(n,["parameters","sampleCount"],c);const h=d(e,["aspectRatio"]);n!==void 0&&h!=null&&m(n,["parameters","aspectRatio"],h);const y=d(e,["guidanceScale"]);n!==void 0&&y!=null&&m(n,["parameters","guidanceScale"],y);const p=d(e,["seed"]);n!==void 0&&p!=null&&m(n,["parameters","seed"],p);const v=d(e,["safetyFilterLevel"]);n!==void 0&&v!=null&&m(n,["parameters","safetySetting"],v);const S=d(e,["personGeneration"]);n!==void 0&&S!=null&&m(n,["parameters","personGeneration"],S);const E=d(e,["includeSafetyAttributes"]);n!==void 0&&E!=null&&m(n,["parameters","includeSafetyAttributes"],E);const C=d(e,["includeRaiReason"]);n!==void 0&&C!=null&&m(n,["parameters","includeRaiReason"],C);const A=d(e,["language"]);n!==void 0&&A!=null&&m(n,["parameters","language"],A);const R=d(e,["outputMimeType"]);n!==void 0&&R!=null&&m(n,["parameters","outputOptions","mimeType"],R);const z=d(e,["outputCompressionQuality"]);n!==void 0&&z!=null&&m(n,["parameters","outputOptions","compressionQuality"],z);const k=d(e,["addWatermark"]);n!==void 0&&k!=null&&m(n,["parameters","addWatermark"],k);const F=d(e,["enhancePrompt"]);return n!==void 0&&F!=null&&m(n,["parameters","enhancePrompt"],F),s}function XA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["prompt"]);l!=null&&m(n,["instances[0]","prompt"],l);const u=d(e,["config"]);return u!=null&&m(n,["config"],QA(o,u,n)),n}function ZA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function $A(o,e,n){const s={},l=d(e,["displayName"]);n!==void 0&&l!=null&&m(n,["displayName"],l);const u=d(e,["description"]);return n!==void 0&&u!=null&&m(n,["description"],u),s}function JA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],$A(o,l,n)),n}function WA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function jA(o,e,n){const s={},l=d(e,["systemInstruction"]);n!==void 0&&l!=null&&m(n,["systemInstruction"],No(o,Me(o,l)));const u=d(e,["tools"]);if(n!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>Vv(o,y))),m(n,["tools"],h)}const c=d(e,["generationConfig"]);return n!==void 0&&c!=null&&m(n,["generationConfig"],c),s}function tM(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(h=>No(o,h))),m(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&m(n,["config"],jA(o,u,n)),n}function eM(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(h=>No(o,h))),m(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&m(n,["config"],u),n}function nM(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&m(n,["gcsUri"],s);const l=d(e,["imageBytes"]);l!=null&&m(n,["bytesBase64Encoded"],si(o,l));const u=d(e,["mimeType"]);return u!=null&&m(n,["mimeType"],u),n}function iM(o,e,n){const s={},l=d(e,["numberOfVideos"]);n!==void 0&&l!=null&&m(n,["parameters","sampleCount"],l);const u=d(e,["outputGcsUri"]);n!==void 0&&u!=null&&m(n,["parameters","storageUri"],u);const c=d(e,["fps"]);n!==void 0&&c!=null&&m(n,["parameters","fps"],c);const h=d(e,["durationSeconds"]);n!==void 0&&h!=null&&m(n,["parameters","durationSeconds"],h);const y=d(e,["seed"]);n!==void 0&&y!=null&&m(n,["parameters","seed"],y);const p=d(e,["aspectRatio"]);n!==void 0&&p!=null&&m(n,["parameters","aspectRatio"],p);const v=d(e,["resolution"]);n!==void 0&&v!=null&&m(n,["parameters","resolution"],v);const S=d(e,["personGeneration"]);n!==void 0&&S!=null&&m(n,["parameters","personGeneration"],S);const E=d(e,["pubsubTopic"]);n!==void 0&&E!=null&&m(n,["parameters","pubsubTopic"],E);const C=d(e,["negativePrompt"]);n!==void 0&&C!=null&&m(n,["parameters","negativePrompt"],C);const A=d(e,["enhancePrompt"]);return n!==void 0&&A!=null&&m(n,["parameters","enhancePrompt"],A),s}function oM(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["prompt"]);l!=null&&m(n,["instances[0]","prompt"],l);const u=d(e,["image"]);u!=null&&m(n,["instances[0]","image"],nM(o,u));const c=d(e,["config"]);return c!=null&&m(n,["config"],iM(o,c,n)),n}function aM(o,e){const n={},s=d(e,["thought"]);s!=null&&m(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&m(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&m(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&m(n,["fileData"],c);const h=d(e,["functionCall"]);h!=null&&m(n,["functionCall"],h);const y=d(e,["functionResponse"]);y!=null&&m(n,["functionResponse"],y);const p=d(e,["inlineData"]);p!=null&&m(n,["inlineData"],p);const v=d(e,["text"]);return v!=null&&m(n,["text"],v),n}function sM(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>aM(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function lM(o,e){const n={},s=d(e,["citationSources"]);return s!=null&&m(n,["citations"],s),n}function rM(o,e){const n={},s=d(e,["content"]);s!=null&&m(n,["content"],sM(o,s));const l=d(e,["citationMetadata"]);l!=null&&m(n,["citationMetadata"],lM(o,l));const u=d(e,["tokenCount"]);u!=null&&m(n,["tokenCount"],u);const c=d(e,["finishReason"]);c!=null&&m(n,["finishReason"],c);const h=d(e,["avgLogprobs"]);h!=null&&m(n,["avgLogprobs"],h);const y=d(e,["groundingMetadata"]);y!=null&&m(n,["groundingMetadata"],y);const p=d(e,["index"]);p!=null&&m(n,["index"],p);const v=d(e,["logprobsResult"]);v!=null&&m(n,["logprobsResult"],v);const S=d(e,["safetyRatings"]);return S!=null&&m(n,["safetyRatings"],S),n}function zg(o,e){const n={},s=d(e,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(y=>rM(o,y))),m(n,["candidates"],h)}const l=d(e,["modelVersion"]);l!=null&&m(n,["modelVersion"],l);const u=d(e,["promptFeedback"]);u!=null&&m(n,["promptFeedback"],u);const c=d(e,["usageMetadata"]);return c!=null&&m(n,["usageMetadata"],c),n}function uM(o,e){const n={},s=d(e,["values"]);return s!=null&&m(n,["values"],s),n}function cM(){return{}}function fM(o,e){const n={},s=d(e,["embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>uM(o,c))),m(n,["embeddings"],u)}return d(e,["metadata"])!=null&&m(n,["metadata"],cM()),n}function dM(o,e){const n={},s=d(e,["bytesBase64Encoded"]);s!=null&&m(n,["imageBytes"],si(o,s));const l=d(e,["mimeType"]);return l!=null&&m(n,["mimeType"],l),n}function Pv(o,e){const n={},s=d(e,["safetyAttributes","categories"]);s!=null&&m(n,["categories"],s);const l=d(e,["safetyAttributes","scores"]);l!=null&&m(n,["scores"],l);const u=d(e,["contentType"]);return u!=null&&m(n,["contentType"],u),n}function hM(o,e){const n={},s=d(e,["_self"]);s!=null&&m(n,["image"],dM(o,s));const l=d(e,["raiFilteredReason"]);l!=null&&m(n,["raiFilteredReason"],l);const u=d(e,["_self"]);return u!=null&&m(n,["safetyAttributes"],Pv(o,u)),n}function pM(o,e){const n={},s=d(e,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>hM(o,c))),m(n,["generatedImages"],u)}const l=d(e,["positivePromptSafetyAttributes"]);return l!=null&&m(n,["positivePromptSafetyAttributes"],Pv(o,l)),n}function mM(o,e){const n={},s=d(e,["baseModel"]);s!=null&&m(n,["baseModel"],s);const l=d(e,["createTime"]);l!=null&&m(n,["createTime"],l);const u=d(e,["updateTime"]);return u!=null&&m(n,["updateTime"],u),n}function kg(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["displayName"]);l!=null&&m(n,["displayName"],l);const u=d(e,["description"]);u!=null&&m(n,["description"],u);const c=d(e,["version"]);c!=null&&m(n,["version"],c);const h=d(e,["_self"]);h!=null&&m(n,["tunedModelInfo"],mM(o,h));const y=d(e,["inputTokenLimit"]);y!=null&&m(n,["inputTokenLimit"],y);const p=d(e,["outputTokenLimit"]);p!=null&&m(n,["outputTokenLimit"],p);const v=d(e,["supportedGenerationMethods"]);return v!=null&&m(n,["supportedActions"],v),n}function gM(){return{}}function yM(o,e){const n={},s=d(e,["totalTokens"]);s!=null&&m(n,["totalTokens"],s);const l=d(e,["cachedContentTokenCount"]);return l!=null&&m(n,["cachedContentTokenCount"],l),n}function vM(o,e){const n={},s=d(e,["video","uri"]);s!=null&&m(n,["uri"],s);const l=d(e,["video","encodedVideo"]);l!=null&&m(n,["videoBytes"],si(o,l));const u=d(e,["encoding"]);return u!=null&&m(n,["mimeType"],u),n}function TM(o,e){const n={},s=d(e,["_self"]);return s!=null&&m(n,["video"],vM(o,s)),n}function SM(o,e){const n={},s=d(e,["generatedSamples"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>TM(o,h))),m(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&m(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&m(n,["raiMediaFilteredReasons"],u),n}function EM(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["metadata"]);l!=null&&m(n,["metadata"],l);const u=d(e,["done"]);u!=null&&m(n,["done"],u);const c=d(e,["error"]);c!=null&&m(n,["error"],c);const h=d(e,["response","generateVideoResponse"]);return h!=null&&m(n,["response"],SM(o,h)),n}function bM(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&m(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&m(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&m(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&m(n,["executableCode"],c);const h=d(e,["fileData"]);h!=null&&m(n,["fileData"],h);const y=d(e,["functionCall"]);y!=null&&m(n,["functionCall"],y);const p=d(e,["functionResponse"]);p!=null&&m(n,["functionResponse"],p);const v=d(e,["inlineData"]);v!=null&&m(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&m(n,["text"],S),n}function CM(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>bM(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function AM(o,e){const n={},s=d(e,["citations"]);return s!=null&&m(n,["citations"],s),n}function MM(o,e){const n={},s=d(e,["content"]);s!=null&&m(n,["content"],CM(o,s));const l=d(e,["citationMetadata"]);l!=null&&m(n,["citationMetadata"],AM(o,l));const u=d(e,["finishMessage"]);u!=null&&m(n,["finishMessage"],u);const c=d(e,["finishReason"]);c!=null&&m(n,["finishReason"],c);const h=d(e,["avgLogprobs"]);h!=null&&m(n,["avgLogprobs"],h);const y=d(e,["groundingMetadata"]);y!=null&&m(n,["groundingMetadata"],y);const p=d(e,["index"]);p!=null&&m(n,["index"],p);const v=d(e,["logprobsResult"]);v!=null&&m(n,["logprobsResult"],v);const S=d(e,["safetyRatings"]);return S!=null&&m(n,["safetyRatings"],S),n}function Og(o,e){const n={},s=d(e,["candidates"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(v=>MM(o,v))),m(n,["candidates"],p)}const l=d(e,["createTime"]);l!=null&&m(n,["createTime"],l);const u=d(e,["responseId"]);u!=null&&m(n,["responseId"],u);const c=d(e,["modelVersion"]);c!=null&&m(n,["modelVersion"],c);const h=d(e,["promptFeedback"]);h!=null&&m(n,["promptFeedback"],h);const y=d(e,["usageMetadata"]);return y!=null&&m(n,["usageMetadata"],y),n}function xM(o,e){const n={},s=d(e,["truncated"]);s!=null&&m(n,["truncated"],s);const l=d(e,["token_count"]);return l!=null&&m(n,["tokenCount"],l),n}function _M(o,e){const n={},s=d(e,["values"]);s!=null&&m(n,["values"],s);const l=d(e,["statistics"]);return l!=null&&m(n,["statistics"],xM(o,l)),n}function wM(o,e){const n={},s=d(e,["billableCharacterCount"]);return s!=null&&m(n,["billableCharacterCount"],s),n}function RM(o,e){const n={},s=d(e,["predictions[]","embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>_M(o,c))),m(n,["embeddings"],u)}const l=d(e,["metadata"]);return l!=null&&m(n,["metadata"],wM(o,l)),n}function DM(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&m(n,["gcsUri"],s);const l=d(e,["bytesBase64Encoded"]);l!=null&&m(n,["imageBytes"],si(o,l));const u=d(e,["mimeType"]);return u!=null&&m(n,["mimeType"],u),n}function Bv(o,e){const n={},s=d(e,["safetyAttributes","categories"]);s!=null&&m(n,["categories"],s);const l=d(e,["safetyAttributes","scores"]);l!=null&&m(n,["scores"],l);const u=d(e,["contentType"]);return u!=null&&m(n,["contentType"],u),n}function NM(o,e){const n={},s=d(e,["_self"]);s!=null&&m(n,["image"],DM(o,s));const l=d(e,["raiFilteredReason"]);l!=null&&m(n,["raiFilteredReason"],l);const u=d(e,["_self"]);u!=null&&m(n,["safetyAttributes"],Bv(o,u));const c=d(e,["prompt"]);return c!=null&&m(n,["enhancedPrompt"],c),n}function LM(o,e){const n={},s=d(e,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>NM(o,c))),m(n,["generatedImages"],u)}const l=d(e,["positivePromptSafetyAttributes"]);return l!=null&&m(n,["positivePromptSafetyAttributes"],Bv(o,l)),n}function VM(o,e){const n={},s=d(e,["endpoint"]);s!=null&&m(n,["name"],s);const l=d(e,["deployedModelId"]);return l!=null&&m(n,["deployedModelId"],l),n}function PM(o,e){const n={},s=d(e,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&m(n,["baseModel"],s);const l=d(e,["createTime"]);l!=null&&m(n,["createTime"],l);const u=d(e,["updateTime"]);return u!=null&&m(n,["updateTime"],u),n}function qg(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["displayName"]);l!=null&&m(n,["displayName"],l);const u=d(e,["description"]);u!=null&&m(n,["description"],u);const c=d(e,["versionId"]);c!=null&&m(n,["version"],c);const h=d(e,["deployedModels"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(S=>VM(o,S))),m(n,["endpoints"],v)}const y=d(e,["labels"]);y!=null&&m(n,["labels"],y);const p=d(e,["_self"]);return p!=null&&m(n,["tunedModelInfo"],PM(o,p)),n}function BM(){return{}}function IM(o,e){const n={},s=d(e,["totalTokens"]);return s!=null&&m(n,["totalTokens"],s),n}function UM(o,e){const n={},s=d(e,["tokensInfo"]);return s!=null&&m(n,["tokensInfo"],s),n}function zM(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&m(n,["uri"],s);const l=d(e,["bytesBase64Encoded"]);l!=null&&m(n,["videoBytes"],si(o,l));const u=d(e,["mimeType"]);return u!=null&&m(n,["mimeType"],u),n}function kM(o,e){const n={},s=d(e,["_self"]);return s!=null&&m(n,["video"],zM(o,s)),n}function OM(o,e){const n={},s=d(e,["videos"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>kM(o,h))),m(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&m(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&m(n,["raiMediaFilteredReasons"],u),n}function qM(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["metadata"]);l!=null&&m(n,["metadata"],l);const u=d(e,["done"]);u!=null&&m(n,["done"],u);const c=d(e,["error"]);c!=null&&m(n,["error"],c);const h=d(e,["response"]);return h!=null&&m(n,["response"],OM(o,h)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function HM(o,e,n){let s,l;n.data instanceof Blob?l=JSON.parse(await n.data.text()):l=JSON.parse(n.data),o.isVertexAI()?s=aA(o,l):s=oA(o,l),e(s)}class FM{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s}async connect(e){var n,s,l,u;const c=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let y;const p=XM(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())y=`${c}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p);else{const K=this.apiClient.getApiKey();y=`${c}/ws/google.ai.generativelanguage.${h}.GenerativeService.BidiGenerateContent?key=${K}`}let v=()=>{};const S=new Promise(K=>{v=K}),E=e.callbacks,C=function(){var K;(K=E==null?void 0:E.onopen)===null||K===void 0||K.call(E),v({})},A=this.apiClient,R={onopen:C,onmessage:K=>{HM(A,E.onmessage,K)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(K){},onclose:(s=E==null?void 0:E.onclose)!==null&&s!==void 0?s:function(K){}},z=this.webSocketFactory.create(y,QM(p),R);z.connect(),await S;let k=Qt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const K=this.apiClient.getProject(),D=this.apiClient.getLocation();k=`projects/${K}/locations/${D}/`+k}let F={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Pl.AUDIO]}:e.config.responseModalities=[Pl.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N={model:k,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=NC(this.apiClient,N):F=DC(this.apiClient,N),delete F.config,z.send(JSON.stringify(F)),new KM(z,this.apiClient)}}const YM={turnComplete:!0};class KM{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let s=[];try{s=oi(e,n.turns),e.isVertexAI()?s=s.map(l=>No(e,l)):s=s.map(l=>Kl(e,l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:s,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let s=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?s=n.functionResponses:s=[n.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(GM)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},YM),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:UC(this.apiClient,e)}:n={realtimeInput:IC(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function QM(o){const e={};return o.forEach((n,s)=>{e[s]=n}),e}function XM(o){const e=new Headers;for(const[n,s]of Object.entries(o))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZM extends ja{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(s=>{var l;let u;const c=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((l=y==null?void 0:y.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:c.push(y);let h;return u?h={generatedImages:c,positivePromptSafetyAttributes:u}:h={generatedImages:c},h})}async generateContentInternal(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=Ug(this.apiClient,e);return h=gt("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=Og(this.apiClient,v),E=new Tl;return Object.assign(E,S),E})}else{const p=Ig(this.apiClient,e);return h=gt("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=zg(this.apiClient,v),E=new Tl;return Object.assign(E,S),E})}}async generateContentStreamInternal(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=Ug(this.apiClient,e);h=gt("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query;const v=this.apiClient;return c=v.requestStream({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(S){return Bl(this,arguments,function*(){var E,C,A,R;try{for(var z=!0,k=Ic(S),F;F=yield pe(k.next()),E=F.done,!E;z=!0){R=F.value,z=!1;const K=Og(v,yield pe(R.json())),D=new Tl;Object.assign(D,K),yield yield pe(D)}}catch(N){C={error:N}}finally{try{!z&&!E&&(A=k.return)&&(yield pe(A.call(k)))}finally{if(C)throw C.error}}})})}else{const p=Ig(this.apiClient,e);h=gt("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query;const v=this.apiClient;return c=v.requestStream({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),c.then(function(S){return Bl(this,arguments,function*(){var E,C,A,R;try{for(var z=!0,k=Ic(S),F;F=yield pe(k.next()),E=F.done,!E;z=!0){R=F.value,z=!1;const K=zg(v,yield pe(R.json())),D=new Tl;Object.assign(D,K),yield yield pe(D)}}catch(N){C={error:N}}finally{try{!z&&!E&&(A=k.return)&&(yield pe(A.call(k)))}finally{if(C)throw C.error}}})})}}async embedContent(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=KA(this.apiClient,e);return h=gt("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=RM(this.apiClient,v),E=new Mg;return Object.assign(E,S),E})}else{const p=SA(this.apiClient,e);return h=gt("{model}:batchEmbedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=fM(this.apiClient,v),E=new Mg;return Object.assign(E,S),E})}}async generateImagesInternal(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=XA(this.apiClient,e);return h=gt("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=LM(this.apiClient,v),E=new xg;return Object.assign(E,S),E})}else{const p=bA(this.apiClient,e);return h=gt("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=pM(this.apiClient,v),E=new xg;return Object.assign(E,S),E})}}async get(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=ZA(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>qg(this.apiClient,v))}else{const p=CA(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>kg(this.apiClient,v))}}async update(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=JA(this.apiClient,e);return h=gt("{model}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>qg(this.apiClient,v))}else{const p=MA(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>kg(this.apiClient,v))}}async delete(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=WA(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(()=>{const v=BM(),S=new _g;return Object.assign(S,v),S})}else{const p=xA(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(()=>{const v=gM(),S=new _g;return Object.assign(S,v),S})}}async countTokens(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=tM(this.apiClient,e);return h=gt("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=IM(this.apiClient,v),E=new wg;return Object.assign(E,S),E})}else{const p=wA(this.apiClient,e);return h=gt("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=yM(this.apiClient,v),E=new wg;return Object.assign(E,S),E})}}async computeTokens(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=eM(this.apiClient,e);return u=gt("{model}:computeTokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const p=UM(this.apiClient,y),v=new Ub;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=oM(this.apiClient,e);return h=gt("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>qM(this.apiClient,v))}else{const p=NA(this.apiClient,e);return h=gt("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>EM(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $M(o,e){const n={},s=d(e,["operationName"]);s!=null&&m(n,["_url","operationName"],s);const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function JM(o,e){const n={},s=d(e,["operationName"]);s!=null&&m(n,["_url","operationName"],s);const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function WM(o,e){const n={},s=d(e,["operationName"]);s!=null&&m(n,["operationName"],s);const l=d(e,["resourceName"]);l!=null&&m(n,["_url","resourceName"],l);const u=d(e,["config"]);return u!=null&&m(n,["config"],u),n}function jM(o,e){const n={},s=d(e,["video","uri"]);s!=null&&m(n,["uri"],s);const l=d(e,["video","encodedVideo"]);l!=null&&m(n,["videoBytes"],si(o,l));const u=d(e,["encoding"]);return u!=null&&m(n,["mimeType"],u),n}function tx(o,e){const n={},s=d(e,["_self"]);return s!=null&&m(n,["video"],jM(o,s)),n}function ex(o,e){const n={},s=d(e,["generatedSamples"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>tx(o,h))),m(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&m(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&m(n,["raiMediaFilteredReasons"],u),n}function nx(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["metadata"]);l!=null&&m(n,["metadata"],l);const u=d(e,["done"]);u!=null&&m(n,["done"],u);const c=d(e,["error"]);c!=null&&m(n,["error"],c);const h=d(e,["response","generateVideoResponse"]);return h!=null&&m(n,["response"],ex(o,h)),n}function ix(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&m(n,["uri"],s);const l=d(e,["bytesBase64Encoded"]);l!=null&&m(n,["videoBytes"],si(o,l));const u=d(e,["mimeType"]);return u!=null&&m(n,["mimeType"],u),n}function ox(o,e){const n={},s=d(e,["_self"]);return s!=null&&m(n,["video"],ix(o,s)),n}function ax(o,e){const n={},s=d(e,["videos"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>ox(o,h))),m(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&m(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&m(n,["raiMediaFilteredReasons"],u),n}function Gg(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["metadata"]);l!=null&&m(n,["metadata"],l);const u=d(e,["done"]);u!=null&&m(n,["done"],u);const c=d(e,["error"]);c!=null&&m(n,["error"],c);const h=d(e,["response"]);return h!=null&&m(n,["response"],ax(o,h)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sx extends ja{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let u;return s&&"httpOptions"in s&&(u=s.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:u}})}else return this.getVideosOperationInternal({operationName:n.name,config:s})}async getVideosOperationInternal(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=JM(this.apiClient,e);return h=gt("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Gg(this.apiClient,v))}else{const p=$M(this.apiClient,e);return h=gt("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>nx(this.apiClient,v))}}async fetchPredictVideosOperationInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=WM(this.apiClient,e);return u=gt("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>Gg(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lx="Content-Type",rx="X-Server-Timeout",ux="User-Agent",cx="x-goog-api-client",fx="0.12.0",dx=`google-genai-sdk/${fx}`,hx="v1beta1",px="v1beta",Hg=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Iv extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class zc extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class mx{constructor(e){var n,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:hx,this.getProject()||this.getLocation()?(l.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(l.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(l.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:px,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,s){const l=[this.getRequestUrlInternal(n)];return s&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,s);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))l.searchParams.append(c,String(h));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,n,e.abortSignal),this.unaryApiCall(l,u,e.httpMethod)}patchHttpOptions(e,n){const s=JSON.parse(JSON.stringify(e));for(const[l,u]of Object.entries(n))typeof u=="object"?s[l]=Object.assign(Object.assign({},s[l]),u):u!==void 0&&(s[l]=u);return s}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,s);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,n,e.abortSignal),this.streamApiCall(l,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,s){if(n&&n.timeout||s){const l=new AbortController,u=l.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>l.abort(),n.timeout),s&&s.addEventListener("abort",()=>{l.abort()}),e.signal=u}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async l=>(await Fg(l),new Bc(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async l=>(await Fg(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var n;return Bl(this,arguments,function*(){const l=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),u=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let c="";for(;;){const{done:h,value:y}=yield pe(l.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=u.decode(y);try{const S=JSON.parse(p);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),C=E.status,A=E.code,R=`got status: ${C}. ${JSON.stringify(S)}`;if(A>=400&&A<500)throw new Iv(R);if(A>=500&&A<600)throw new zc(R)}}catch(S){const E=S;if(E.name==="ClientError"||E.name==="ServerError")throw S}c+=p;let v=c.match(Hg);for(;v;){const S=v[1];try{const E=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield pe(new Bc(E)),c=c.slice(v[0].length),v=c.match(Hg)}catch(E){throw new Error(`exception parsing stream chunk ${S}. ${E}`)}}}}finally{l.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},n=dx+" "+this.clientOptions.userAgentExtra;return e[ux]=n,e[cx]=n,e[lx]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[s,l]of Object.entries(e.headers))n.append(s,l);e.timeout&&e.timeout>0&&n.append(rx,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var s;const l={};n!=null&&(l.mimeType=n.mimeType,l.name=n.name,l.displayName=n.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const u=this.clientOptions.uploader,c=await u.stat(e);l.sizeBytes=String(c.size);const h=(s=n==null?void 0:n.mimeType)!==null&&s!==void 0?s:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=h;const y=await this.fetchUploadUrl(l,n);return u.upload(e,y,this)}async fetchUploadUrl(e,n){var s;let l={};n!=null&&n.httpOptions?l=n.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const u={file:e},c=await this.request({path:gt("upload/v1beta/files",u._url),body:JSON.stringify(u),httpMethod:"POST",httpOptions:l});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(s=c==null?void 0:c.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function Fg(o){var e;if(o===void 0)throw new zc("response is undefined");if(!o.ok){const n=o.status,s=o.statusText;let l;!((e=o.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await o.json():l={error:{message:await o.text(),code:o.status,status:o.statusText}};const u=`got status: ${n} ${s}. ${JSON.stringify(l)}`;throw n>=400&&n<500?new Iv(u):n>=500&&n<600?new zc(u):new Error(u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gx(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],s);const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function yx(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&m(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);n!==void 0&&u!=null&&m(n,["_query","pageToken"],u);const c=d(e,["filter"]);return n!==void 0&&c!=null&&m(n,["_query","filter"],c),s}function vx(o,e){const n={},s=d(e,["config"]);return s!=null&&m(n,["config"],yx(o,s,n)),n}function Tx(o,e){const n={},s=d(e,["textInput"]);s!=null&&m(n,["textInput"],s);const l=d(e,["output"]);return l!=null&&m(n,["output"],l),n}function Sx(o,e){const n={};if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=d(e,["examples"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>Tx(o,u))),m(n,["examples","examples"],l)}return n}function Ex(o,e,n){const s={};if(d(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=d(e,["tunedModelDisplayName"]);if(n!==void 0&&l!=null&&m(n,["displayName"],l),d(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=d(e,["epochCount"]);n!==void 0&&u!=null&&m(n,["tuningTask","hyperparameters","epochCount"],u);const c=d(e,["learningRateMultiplier"]);if(c!=null&&m(s,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=d(e,["batchSize"]);n!==void 0&&h!=null&&m(n,["tuningTask","hyperparameters","batchSize"],h);const y=d(e,["learningRate"]);return n!==void 0&&y!=null&&m(n,["tuningTask","hyperparameters","learningRate"],y),s}function bx(o,e){const n={},s=d(e,["baseModel"]);s!=null&&m(n,["baseModel"],s);const l=d(e,["trainingDataset"]);l!=null&&m(n,["tuningTask","trainingData"],Sx(o,l));const u=d(e,["config"]);return u!=null&&m(n,["config"],Ex(o,u,n)),n}function Cx(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],s);const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function Ax(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&m(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);n!==void 0&&u!=null&&m(n,["_query","pageToken"],u);const c=d(e,["filter"]);return n!==void 0&&c!=null&&m(n,["_query","filter"],c),s}function Mx(o,e){const n={},s=d(e,["config"]);return s!=null&&m(n,["config"],Ax(o,s,n)),n}function xx(o,e,n){const s={},l=d(e,["gcsUri"]);if(n!==void 0&&l!=null&&m(n,["supervisedTuningSpec","trainingDatasetUri"],l),d(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function _x(o,e){const n={},s=d(e,["gcsUri"]);return s!=null&&m(n,["validationDatasetUri"],s),n}function wx(o,e,n){const s={},l=d(e,["validationDataset"]);n!==void 0&&l!=null&&m(n,["supervisedTuningSpec"],_x(o,l));const u=d(e,["tunedModelDisplayName"]);n!==void 0&&u!=null&&m(n,["tunedModelDisplayName"],u);const c=d(e,["description"]);n!==void 0&&c!=null&&m(n,["description"],c);const h=d(e,["epochCount"]);n!==void 0&&h!=null&&m(n,["supervisedTuningSpec","hyperParameters","epochCount"],h);const y=d(e,["learningRateMultiplier"]);n!==void 0&&y!=null&&m(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const p=d(e,["adapterSize"]);if(n!==void 0&&p!=null&&m(n,["supervisedTuningSpec","hyperParameters","adapterSize"],p),d(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return s}function Rx(o,e){const n={},s=d(e,["baseModel"]);s!=null&&m(n,["baseModel"],s);const l=d(e,["trainingDataset"]);l!=null&&m(n,["supervisedTuningSpec","trainingDatasetUri"],xx(o,l,n));const u=d(e,["config"]);return u!=null&&m(n,["config"],wx(o,u,n)),n}function Dx(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["model"],s);const l=d(e,["name"]);return l!=null&&m(n,["endpoint"],l),n}function Uv(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["state"]);l!=null&&m(n,["state"],Dv(o,l));const u=d(e,["createTime"]);u!=null&&m(n,["createTime"],u);const c=d(e,["tuningTask","startTime"]);c!=null&&m(n,["startTime"],c);const h=d(e,["tuningTask","completeTime"]);h!=null&&m(n,["endTime"],h);const y=d(e,["updateTime"]);y!=null&&m(n,["updateTime"],y);const p=d(e,["description"]);p!=null&&m(n,["description"],p);const v=d(e,["baseModel"]);v!=null&&m(n,["baseModel"],v);const S=d(e,["_self"]);S!=null&&m(n,["tunedModel"],Dx(o,S));const E=d(e,["distillationSpec"]);E!=null&&m(n,["distillationSpec"],E);const C=d(e,["experiment"]);C!=null&&m(n,["experiment"],C);const A=d(e,["labels"]);A!=null&&m(n,["labels"],A);const R=d(e,["pipelineJob"]);R!=null&&m(n,["pipelineJob"],R);const z=d(e,["tunedModelDisplayName"]);return z!=null&&m(n,["tunedModelDisplayName"],z),n}function Nx(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&m(n,["nextPageToken"],s);const l=d(e,["tunedModels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Uv(o,c))),m(n,["tuningJobs"],u)}return n}function Lx(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["metadata"]);l!=null&&m(n,["metadata"],l);const u=d(e,["done"]);u!=null&&m(n,["done"],u);const c=d(e,["error"]);return c!=null&&m(n,["error"],c),n}function Vx(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["model"],s);const l=d(e,["endpoint"]);return l!=null&&m(n,["endpoint"],l),n}function kc(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["state"]);l!=null&&m(n,["state"],Dv(o,l));const u=d(e,["createTime"]);u!=null&&m(n,["createTime"],u);const c=d(e,["startTime"]);c!=null&&m(n,["startTime"],c);const h=d(e,["endTime"]);h!=null&&m(n,["endTime"],h);const y=d(e,["updateTime"]);y!=null&&m(n,["updateTime"],y);const p=d(e,["error"]);p!=null&&m(n,["error"],p);const v=d(e,["description"]);v!=null&&m(n,["description"],v);const S=d(e,["baseModel"]);S!=null&&m(n,["baseModel"],S);const E=d(e,["tunedModel"]);E!=null&&m(n,["tunedModel"],Vx(o,E));const C=d(e,["supervisedTuningSpec"]);C!=null&&m(n,["supervisedTuningSpec"],C);const A=d(e,["tuningDataStats"]);A!=null&&m(n,["tuningDataStats"],A);const R=d(e,["encryptionSpec"]);R!=null&&m(n,["encryptionSpec"],R);const z=d(e,["partnerModelTuningSpec"]);z!=null&&m(n,["partnerModelTuningSpec"],z);const k=d(e,["distillationSpec"]);k!=null&&m(n,["distillationSpec"],k);const F=d(e,["experiment"]);F!=null&&m(n,["experiment"],F);const N=d(e,["labels"]);N!=null&&m(n,["labels"],N);const K=d(e,["pipelineJob"]);K!=null&&m(n,["pipelineJob"],K);const D=d(e,["tunedModelDisplayName"]);return D!=null&&m(n,["tunedModelDisplayName"],D),n}function Px(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&m(n,["nextPageToken"],s);const l=d(e,["tuningJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>kc(o,c))),m(n,["tuningJobs"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bx extends ja{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new df(Ka.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const s=await this.tuneMldevInternal(n);let l="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?l=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(l=s.name.split("/operations/")[0]),{name:l,state:Pc.JOB_STATE_QUEUED}}}}async getInternal(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=Cx(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>kc(this.apiClient,v))}else{const p=gx(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Uv(this.apiClient,v))}}async listInternal(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=Mx(this.apiClient,e);return h=gt("tuningJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=Px(this.apiClient,v),E=new Rg;return Object.assign(E,S),E})}else{const p=vx(this.apiClient,e);return h=gt("tunedModels",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=Nx(this.apiClient,v),E=new Rg;return Object.assign(E,S),E})}}async tuneInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=Rx(this.apiClient,e);return u=gt("tuningJobs",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>kc(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=bx(this.apiClient,e);return u=gt("tunedModels",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>Lx(this.apiClient,y))}}}const Ix=1024*1024*8;async function Ux(o,e,n){var s,l;let u=0,c=0,h=new Bc(new Response),y="upload";for(u=o.size;c<u;){const v=Math.min(Ix,u-c),S=o.slice(c,c+v);if(c+v>=u&&(y+=", finalize"),h=await n.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(c),"Content-Length":String(v)}}}),c+=v,((s=h==null?void 0:h.headers)===null||s===void 0?void 0:s["x-goog-upload-status"])!=="active")break;if(u<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const p=await(h==null?void 0:h.json());if(((l=h==null?void 0:h.headers)===null||l===void 0?void 0:l["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return p.file}async function zx(o){return{size:o.size,type:o.type}}class kx{async upload(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ux(e,n,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await zx(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ox{create(e,n,s){return new qx(e,n,s)}}class qx{constructor(e,n,s){this.url=e,this.headers=n,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yg="x-goog-api-key";class Gx{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(Yg)===null&&e.append(Yg,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hx="gl-node/";class Fx{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const s=jE(e,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion;const l=new Gx(this.apiKey);this.apiClient=new mx({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Hx+"web",uploader:new kx}),this.models=new ZM(this.apiClient),this.live=new FM(this.apiClient,l,new Ox),this.chats=new Yb(this.models,this.apiClient),this.caches=new qb(this.apiClient),this.files=new oC(this.apiClient),this.operations=new sx(this.apiClient),this.tunings=new Bx(this.apiClient)}}var dc={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg;function Yx(){if(Kg)return vt;Kg=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function E(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,R={};function z(x,Q,nt){this.props=x,this.context=Q,this.refs=R,this.updater=nt||C}z.prototype.isReactComponent={},z.prototype.setState=function(x,Q){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Q,"setState")},z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function k(){}k.prototype=z.prototype;function F(x,Q,nt){this.props=x,this.context=Q,this.refs=R,this.updater=nt||C}var N=F.prototype=new k;N.constructor=F,A(N,z.prototype),N.isPureReactComponent=!0;var K=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function Z(x,Q,nt,j,ut,xt){return nt=xt.ref,{$$typeof:o,type:x,key:Q,ref:nt!==void 0?nt:null,props:xt}}function H(x,Q){return Z(x.type,Q,void 0,void 0,void 0,x.props)}function ot(x){return typeof x=="object"&&x!==null&&x.$$typeof===o}function lt(x){var Q={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(nt){return Q[nt]})}var yt=/\/+/g;function Tt(x,Q){return typeof x=="object"&&x!==null&&x.key!=null?lt(""+x.key):Q.toString(36)}function dt(){}function $(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(dt,dt):(x.status="pending",x.then(function(Q){x.status==="pending"&&(x.status="fulfilled",x.value=Q)},function(Q){x.status==="pending"&&(x.status="rejected",x.reason=Q)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function tt(x,Q,nt,j,ut){var xt=typeof x;(xt==="undefined"||xt==="boolean")&&(x=null);var mt=!1;if(x===null)mt=!0;else switch(xt){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(x.$$typeof){case o:case e:mt=!0;break;case v:return mt=x._init,tt(mt(x._payload),Q,nt,j,ut)}}if(mt)return ut=ut(x),mt=j===""?"."+Tt(x,0):j,K(ut)?(nt="",mt!=null&&(nt=mt.replace(yt,"$&/")+"/"),tt(ut,Q,nt,"",function(Dn){return Dn})):ut!=null&&(ot(ut)&&(ut=H(ut,nt+(ut.key==null||x&&x.key===ut.key?"":(""+ut.key).replace(yt,"$&/")+"/")+mt)),Q.push(ut)),1;mt=0;var _e=j===""?".":j+":";if(K(x))for(var kt=0;kt<x.length;kt++)j=x[kt],xt=_e+Tt(j,kt),mt+=tt(j,Q,nt,xt,ut);else if(kt=E(x),typeof kt=="function")for(x=kt.call(x),kt=0;!(j=x.next()).done;)j=j.value,xt=_e+Tt(j,kt++),mt+=tt(j,Q,nt,xt,ut);else if(xt==="object"){if(typeof x.then=="function")return tt($(x),Q,nt,j,ut);throw Q=String(x),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return mt}function P(x,Q,nt){if(x==null)return x;var j=[],ut=0;return tt(x,j,"","",function(xt){return Q.call(nt,xt,ut++)}),j}function q(x){if(x._status===-1){var Q=x._result;Q=Q(),Q.then(function(nt){(x._status===0||x._status===-1)&&(x._status=1,x._result=nt)},function(nt){(x._status===0||x._status===-1)&&(x._status=2,x._result=nt)}),x._status===-1&&(x._status=0,x._result=Q)}if(x._status===1)return x._result.default;throw x._result}var J=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function rt(){}return vt.Children={map:P,forEach:function(x,Q,nt){P(x,function(){Q.apply(this,arguments)},nt)},count:function(x){var Q=0;return P(x,function(){Q++}),Q},toArray:function(x){return P(x,function(Q){return Q})||[]},only:function(x){if(!ot(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},vt.Component=z,vt.Fragment=n,vt.Profiler=l,vt.PureComponent=F,vt.StrictMode=s,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,vt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return D.H.useMemoCache(x)}},vt.cache=function(x){return function(){return x.apply(null,arguments)}},vt.cloneElement=function(x,Q,nt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var j=A({},x.props),ut=x.key,xt=void 0;if(Q!=null)for(mt in Q.ref!==void 0&&(xt=void 0),Q.key!==void 0&&(ut=""+Q.key),Q)!X.call(Q,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&Q.ref===void 0||(j[mt]=Q[mt]);var mt=arguments.length-2;if(mt===1)j.children=nt;else if(1<mt){for(var _e=Array(mt),kt=0;kt<mt;kt++)_e[kt]=arguments[kt+2];j.children=_e}return Z(x.type,ut,void 0,void 0,xt,j)},vt.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},vt.createElement=function(x,Q,nt){var j,ut={},xt=null;if(Q!=null)for(j in Q.key!==void 0&&(xt=""+Q.key),Q)X.call(Q,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(ut[j]=Q[j]);var mt=arguments.length-2;if(mt===1)ut.children=nt;else if(1<mt){for(var _e=Array(mt),kt=0;kt<mt;kt++)_e[kt]=arguments[kt+2];ut.children=_e}if(x&&x.defaultProps)for(j in mt=x.defaultProps,mt)ut[j]===void 0&&(ut[j]=mt[j]);return Z(x,xt,void 0,void 0,null,ut)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(x){return{$$typeof:h,render:x}},vt.isValidElement=ot,vt.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:q}},vt.memo=function(x,Q){return{$$typeof:p,type:x,compare:Q===void 0?null:Q}},vt.startTransition=function(x){var Q=D.T,nt={};D.T=nt;try{var j=x(),ut=D.S;ut!==null&&ut(nt,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(rt,J)}catch(xt){J(xt)}finally{D.T=Q}},vt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},vt.use=function(x){return D.H.use(x)},vt.useActionState=function(x,Q,nt){return D.H.useActionState(x,Q,nt)},vt.useCallback=function(x,Q){return D.H.useCallback(x,Q)},vt.useContext=function(x){return D.H.useContext(x)},vt.useDebugValue=function(){},vt.useDeferredValue=function(x,Q){return D.H.useDeferredValue(x,Q)},vt.useEffect=function(x,Q,nt){var j=D.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return j.useEffect(x,Q)},vt.useId=function(){return D.H.useId()},vt.useImperativeHandle=function(x,Q,nt){return D.H.useImperativeHandle(x,Q,nt)},vt.useInsertionEffect=function(x,Q){return D.H.useInsertionEffect(x,Q)},vt.useLayoutEffect=function(x,Q){return D.H.useLayoutEffect(x,Q)},vt.useMemo=function(x,Q){return D.H.useMemo(x,Q)},vt.useOptimistic=function(x,Q){return D.H.useOptimistic(x,Q)},vt.useReducer=function(x,Q,nt){return D.H.useReducer(x,Q,nt)},vt.useRef=function(x){return D.H.useRef(x)},vt.useState=function(x){return D.H.useState(x)},vt.useSyncExternalStore=function(x,Q,nt){return D.H.useSyncExternalStore(x,Q,nt)},vt.useTransition=function(){return D.H.useTransition()},vt.version="19.1.1",vt}var Qg;function hf(){return Qg||(Qg=1,dc.exports=Yx()),dc.exports}var et=hf(),hc={exports:{}},Va={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg;function Kx(){if(Xg)return Va;Xg=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:o,type:s,key:c,ref:l!==void 0?l:null,props:u}}return Va.Fragment=e,Va.jsx=n,Va.jsxs=n,Va}var Zg;function Qx(){return Zg||(Zg=1,hc.exports=Kx()),hc.exports}var zt=Qx();const pf=et.createContext({});function mf(o){const e=et.useRef(null);return e.current===null&&(e.current=o()),e.current}const gf=typeof window<"u",zv=gf?et.useLayoutEffect:et.useEffect,Ql=et.createContext(null);function yf(o,e){o.indexOf(e)===-1&&o.push(e)}function vf(o,e){const n=o.indexOf(e);n>-1&&o.splice(n,1)}const wn=(o,e,n)=>n>e?e:n<o?o:n;let Tf=()=>{};const Rn={},kv=o=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(o);function Ov(o){return typeof o=="object"&&o!==null}const qv=o=>/^0[^.\s]+$/u.test(o);function Sf(o){let e;return()=>(e===void 0&&(e=o()),e)}const Xe=o=>o,Xx=(o,e)=>n=>e(o(n)),ts=(...o)=>o.reduce(Xx),Qa=(o,e,n)=>{const s=e-o;return s===0?1:(n-o)/s};class Ef{constructor(){this.subscriptions=[]}add(e){return yf(this.subscriptions,e),()=>vf(this.subscriptions,e)}notify(e,n,s){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](e,n,s);else for(let u=0;u<l;u++){const c=this.subscriptions[u];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rn=o=>o*1e3,un=o=>o/1e3;function Gv(o,e){return e?o*(1e3/e):0}const Hv=(o,e,n)=>(((1-3*n+3*e)*o+(3*n-6*e))*o+3*e)*o,Zx=1e-7,$x=12;function Jx(o,e,n,s,l){let u,c,h=0;do c=e+(n-e)/2,u=Hv(c,s,l)-o,u>0?n=c:e=c;while(Math.abs(u)>Zx&&++h<$x);return c}function es(o,e,n,s){if(o===e&&n===s)return Xe;const l=u=>Jx(u,0,1,o,n);return u=>u===0||u===1?u:Hv(l(u),e,s)}const Fv=o=>e=>e<=.5?o(2*e)/2:(2-o(2*(1-e)))/2,Yv=o=>e=>1-o(1-e),Kv=es(.33,1.53,.69,.99),bf=Yv(Kv),Qv=Fv(bf),Xv=o=>(o*=2)<1?.5*bf(o):.5*(2-Math.pow(2,-10*(o-1))),Cf=o=>1-Math.sin(Math.acos(o)),Zv=Yv(Cf),$v=Fv(Cf),Wx=es(.42,0,1,1),jx=es(0,0,.58,1),Jv=es(.42,0,.58,1),t1=o=>Array.isArray(o)&&typeof o[0]!="number",Wv=o=>Array.isArray(o)&&typeof o[0]=="number",e1={linear:Xe,easeIn:Wx,easeInOut:Jv,easeOut:jx,circIn:Cf,circInOut:$v,circOut:Zv,backIn:bf,backInOut:Qv,backOut:Kv,anticipate:Xv},n1=o=>typeof o=="string",$g=o=>{if(Wv(o)){Tf(o.length===4);const[e,n,s,l]=o;return es(e,n,s,l)}else if(n1(o))return e1[o];return o},bl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function i1(o,e){let n=new Set,s=new Set,l=!1,u=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function y(v){c.has(v)&&(p.schedule(v),o()),v(h)}const p={schedule:(v,S=!1,E=!1)=>{const A=E&&l?n:s;return S&&c.add(v),A.has(v)||A.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(h=v,l){u=!0;return}l=!0,[n,s]=[s,n],n.forEach(y),n.clear(),l=!1,u&&(u=!1,p.process(v))}};return p}const o1=40;function jv(o,e){let n=!1,s=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=bl.reduce((N,K)=>(N[K]=i1(u),N),{}),{setup:h,read:y,resolveKeyframes:p,preUpdate:v,update:S,preRender:E,render:C,postRender:A}=c,R=()=>{const N=Rn.useManualTiming?l.timestamp:performance.now();n=!1,Rn.useManualTiming||(l.delta=s?1e3/60:Math.max(Math.min(N-l.timestamp,o1),1)),l.timestamp=N,l.isProcessing=!0,h.process(l),y.process(l),p.process(l),v.process(l),S.process(l),E.process(l),C.process(l),A.process(l),l.isProcessing=!1,n&&e&&(s=!1,o(R))},z=()=>{n=!0,s=!0,l.isProcessing||o(R)};return{schedule:bl.reduce((N,K)=>{const D=c[K];return N[K]=(X,Z=!1,H=!1)=>(n||z(),D.schedule(X,Z,H)),N},{}),cancel:N=>{for(let K=0;K<bl.length;K++)c[bl[K]].cancel(N)},state:l,steps:c}}const{schedule:qt,cancel:ni,state:ue,steps:pc}=jv(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xe,!0);let Rl;function a1(){Rl=void 0}const xe={now:()=>(Rl===void 0&&xe.set(ue.isProcessing||Rn.useManualTiming?ue.timestamp:performance.now()),Rl),set:o=>{Rl=o,queueMicrotask(a1)}},tT=o=>e=>typeof e=="string"&&e.startsWith(o),Af=tT("--"),s1=tT("var(--"),Mf=o=>s1(o)?l1.test(o.split("/*")[0].trim()):!1,l1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Lo={test:o=>typeof o=="number",parse:parseFloat,transform:o=>o},Xa={...Lo,transform:o=>wn(0,1,o)},Cl={...Lo,default:1},Oa=o=>Math.round(o*1e5)/1e5,xf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function r1(o){return o==null}const u1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_f=(o,e)=>n=>!!(typeof n=="string"&&u1.test(n)&&n.startsWith(o)||e&&!r1(n)&&Object.prototype.hasOwnProperty.call(n,e)),eT=(o,e,n)=>s=>{if(typeof s!="string")return s;const[l,u,c,h]=s.match(xf);return{[o]:parseFloat(l),[e]:parseFloat(u),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},c1=o=>wn(0,255,o),mc={...Lo,transform:o=>Math.round(c1(o))},Di={test:_f("rgb","red"),parse:eT("red","green","blue"),transform:({red:o,green:e,blue:n,alpha:s=1})=>"rgba("+mc.transform(o)+", "+mc.transform(e)+", "+mc.transform(n)+", "+Oa(Xa.transform(s))+")"};function f1(o){let e="",n="",s="",l="";return o.length>5?(e=o.substring(1,3),n=o.substring(3,5),s=o.substring(5,7),l=o.substring(7,9)):(e=o.substring(1,2),n=o.substring(2,3),s=o.substring(3,4),l=o.substring(4,5),e+=e,n+=n,s+=s,l+=l),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:l?parseInt(l,16)/255:1}}const Oc={test:_f("#"),parse:f1,transform:Di.transform},ns=o=>({test:e=>typeof e=="string"&&e.endsWith(o)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${o}`}),ei=ns("deg"),cn=ns("%"),pt=ns("px"),d1=ns("vh"),h1=ns("vw"),Jg={...cn,parse:o=>cn.parse(o)/100,transform:o=>cn.transform(o*100)},Co={test:_f("hsl","hue"),parse:eT("hue","saturation","lightness"),transform:({hue:o,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(o)+", "+cn.transform(Oa(e))+", "+cn.transform(Oa(n))+", "+Oa(Xa.transform(s))+")"},jt={test:o=>Di.test(o)||Oc.test(o)||Co.test(o),parse:o=>Di.test(o)?Di.parse(o):Co.test(o)?Co.parse(o):Oc.parse(o),transform:o=>typeof o=="string"?o:o.hasOwnProperty("red")?Di.transform(o):Co.transform(o),getAnimatableNone:o=>{const e=jt.parse(o);return e.alpha=0,jt.transform(e)}},p1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function m1(o){var e,n;return isNaN(o)&&typeof o=="string"&&(((e=o.match(xf))==null?void 0:e.length)||0)+(((n=o.match(p1))==null?void 0:n.length)||0)>0}const nT="number",iT="color",g1="var",y1="var(",Wg="${}",v1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Za(o){const e=o.toString(),n=[],s={color:[],number:[],var:[]},l=[];let u=0;const h=e.replace(v1,y=>(jt.test(y)?(s.color.push(u),l.push(iT),n.push(jt.parse(y))):y.startsWith(y1)?(s.var.push(u),l.push(g1),n.push(y)):(s.number.push(u),l.push(nT),n.push(parseFloat(y))),++u,Wg)).split(Wg);return{values:n,split:h,indexes:s,types:l}}function oT(o){return Za(o).values}function aT(o){const{split:e,types:n}=Za(o),s=e.length;return l=>{let u="";for(let c=0;c<s;c++)if(u+=e[c],l[c]!==void 0){const h=n[c];h===nT?u+=Oa(l[c]):h===iT?u+=jt.transform(l[c]):u+=l[c]}return u}}const T1=o=>typeof o=="number"?0:jt.test(o)?jt.getAnimatableNone(o):o;function S1(o){const e=oT(o);return aT(o)(e.map(T1))}const ii={test:m1,parse:oT,createTransformer:aT,getAnimatableNone:S1};function gc(o,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?o+(e-o)*6*n:n<1/2?e:n<2/3?o+(e-o)*(2/3-n)*6:o}function E1({hue:o,saturation:e,lightness:n,alpha:s}){o/=360,e/=100,n/=100;let l=0,u=0,c=0;if(!e)l=u=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,y=2*n-h;l=gc(y,h,o+1/3),u=gc(y,h,o),c=gc(y,h,o-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function Il(o,e){return n=>n>0?e:o}const Ht=(o,e,n)=>o+(e-o)*n,yc=(o,e,n)=>{const s=o*o,l=n*(e*e-s)+s;return l<0?0:Math.sqrt(l)},b1=[Oc,Di,Co],C1=o=>b1.find(e=>e.test(o));function jg(o){const e=C1(o);if(!e)return!1;let n=e.parse(o);return e===Co&&(n=E1(n)),n}const ty=(o,e)=>{const n=jg(o),s=jg(e);if(!n||!s)return Il(o,e);const l={...n};return u=>(l.red=yc(n.red,s.red,u),l.green=yc(n.green,s.green,u),l.blue=yc(n.blue,s.blue,u),l.alpha=Ht(n.alpha,s.alpha,u),Di.transform(l))},qc=new Set(["none","hidden"]);function A1(o,e){return qc.has(o)?n=>n<=0?o:e:n=>n>=1?e:o}function M1(o,e){return n=>Ht(o,e,n)}function wf(o){return typeof o=="number"?M1:typeof o=="string"?Mf(o)?Il:jt.test(o)?ty:w1:Array.isArray(o)?sT:typeof o=="object"?jt.test(o)?ty:x1:Il}function sT(o,e){const n=[...o],s=n.length,l=o.map((u,c)=>wf(u)(u,e[c]));return u=>{for(let c=0;c<s;c++)n[c]=l[c](u);return n}}function x1(o,e){const n={...o,...e},s={};for(const l in n)o[l]!==void 0&&e[l]!==void 0&&(s[l]=wf(o[l])(o[l],e[l]));return l=>{for(const u in s)n[u]=s[u](l);return n}}function _1(o,e){const n=[],s={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],c=o.indexes[u][s[u]],h=o.values[c]??0;n[l]=h,s[u]++}return n}const w1=(o,e)=>{const n=ii.createTransformer(e),s=Za(o),l=Za(e);return s.indexes.var.length===l.indexes.var.length&&s.indexes.color.length===l.indexes.color.length&&s.indexes.number.length>=l.indexes.number.length?qc.has(o)&&!l.values.length||qc.has(e)&&!s.values.length?A1(o,e):ts(sT(_1(s,l),l.values),n):Il(o,e)};function lT(o,e,n){return typeof o=="number"&&typeof e=="number"&&typeof n=="number"?Ht(o,e,n):wf(o)(o,e)}const R1=o=>{const e=({timestamp:n})=>o(n);return{start:(n=!0)=>qt.update(e,n),stop:()=>ni(e),now:()=>ue.isProcessing?ue.timestamp:xe.now()}},rT=(o,e,n=10)=>{let s="";const l=Math.max(Math.round(e/n),2);for(let u=0;u<l;u++)s+=Math.round(o(u/(l-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Ul=2e4;function Rf(o){let e=0;const n=50;let s=o.next(e);for(;!s.done&&e<Ul;)e+=n,s=o.next(e);return e>=Ul?1/0:e}function D1(o,e=100,n){const s=n({...o,keyframes:[0,e]}),l=Math.min(Rf(s),Ul);return{type:"keyframes",ease:u=>s.next(l*u).value/e,duration:un(l)}}const N1=5;function uT(o,e,n){const s=Math.max(e-N1,0);return Gv(n-o(s),e-s)}const Kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vc=.001;function L1({duration:o=Kt.duration,bounce:e=Kt.bounce,velocity:n=Kt.velocity,mass:s=Kt.mass}){let l,u,c=1-e;c=wn(Kt.minDamping,Kt.maxDamping,c),o=wn(Kt.minDuration,Kt.maxDuration,un(o)),c<1?(l=p=>{const v=p*c,S=v*o,E=v-n,C=Gc(p,c),A=Math.exp(-S);return vc-E/C*A},u=p=>{const S=p*c*o,E=S*n+n,C=Math.pow(c,2)*Math.pow(p,2)*o,A=Math.exp(-S),R=Gc(Math.pow(p,2),c);return(-l(p)+vc>0?-1:1)*((E-C)*A)/R}):(l=p=>{const v=Math.exp(-p*o),S=(p-n)*o+1;return-vc+v*S},u=p=>{const v=Math.exp(-p*o),S=(n-p)*(o*o);return v*S});const h=5/o,y=P1(l,u,h);if(o=rn(o),isNaN(y))return{stiffness:Kt.stiffness,damping:Kt.damping,duration:o};{const p=Math.pow(y,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:o}}}const V1=12;function P1(o,e,n){let s=n;for(let l=1;l<V1;l++)s=s-o(s)/e(s);return s}function Gc(o,e){return o*Math.sqrt(1-e*e)}const B1=["duration","bounce"],I1=["stiffness","damping","mass"];function ey(o,e){return e.some(n=>o[n]!==void 0)}function U1(o){let e={velocity:Kt.velocity,stiffness:Kt.stiffness,damping:Kt.damping,mass:Kt.mass,isResolvedFromDuration:!1,...o};if(!ey(o,I1)&&ey(o,B1))if(o.visualDuration){const n=o.visualDuration,s=2*Math.PI/(n*1.2),l=s*s,u=2*wn(.05,1,1-(o.bounce||0))*Math.sqrt(l);e={...e,mass:Kt.mass,stiffness:l,damping:u}}else{const n=L1(o);e={...e,...n,mass:Kt.mass},e.isResolvedFromDuration=!0}return e}function zl(o=Kt.visualDuration,e=Kt.bounce){const n=typeof o!="object"?{visualDuration:o,keyframes:[0,1],bounce:e}:o;let{restSpeed:s,restDelta:l}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:u},{stiffness:y,damping:p,mass:v,duration:S,velocity:E,isResolvedFromDuration:C}=U1({...n,velocity:-un(n.velocity||0)}),A=E||0,R=p/(2*Math.sqrt(y*v)),z=c-u,k=un(Math.sqrt(y/v)),F=Math.abs(z)<5;s||(s=F?Kt.restSpeed.granular:Kt.restSpeed.default),l||(l=F?Kt.restDelta.granular:Kt.restDelta.default);let N;if(R<1){const D=Gc(k,R);N=X=>{const Z=Math.exp(-R*k*X);return c-Z*((A+R*k*z)/D*Math.sin(D*X)+z*Math.cos(D*X))}}else if(R===1)N=D=>c-Math.exp(-k*D)*(z+(A+k*z)*D);else{const D=k*Math.sqrt(R*R-1);N=X=>{const Z=Math.exp(-R*k*X),H=Math.min(D*X,300);return c-Z*((A+R*k*z)*Math.sinh(H)+D*z*Math.cosh(H))/D}}const K={calculatedDuration:C&&S||null,next:D=>{const X=N(D);if(C)h.done=D>=S;else{let Z=D===0?A:0;R<1&&(Z=D===0?rn(A):uT(N,D,X));const H=Math.abs(Z)<=s,ot=Math.abs(c-X)<=l;h.done=H&&ot}return h.value=h.done?c:X,h},toString:()=>{const D=Math.min(Rf(K),Ul),X=rT(Z=>K.next(D*Z).value,D,30);return D+"ms "+X},toTransition:()=>{}};return K}zl.applyToOptions=o=>{const e=D1(o,100,zl);return o.ease=e.ease,o.duration=rn(e.duration),o.type="keyframes",o};function Hc({keyframes:o,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:c,min:h,max:y,restDelta:p=.5,restSpeed:v}){const S=o[0],E={done:!1,value:S},C=H=>h!==void 0&&H<h||y!==void 0&&H>y,A=H=>h===void 0?y:y===void 0||Math.abs(h-H)<Math.abs(y-H)?h:y;let R=n*e;const z=S+R,k=c===void 0?z:c(z);k!==z&&(R=k-S);const F=H=>-R*Math.exp(-H/s),N=H=>k+F(H),K=H=>{const ot=F(H),lt=N(H);E.done=Math.abs(ot)<=p,E.value=E.done?k:lt};let D,X;const Z=H=>{C(E.value)&&(D=H,X=zl({keyframes:[E.value,A(E.value)],velocity:uT(N,H,E.value),damping:l,stiffness:u,restDelta:p,restSpeed:v}))};return Z(0),{calculatedDuration:null,next:H=>{let ot=!1;return!X&&D===void 0&&(ot=!0,K(H),Z(H)),D!==void 0&&H>=D?X.next(H-D):(!ot&&K(H),E)}}}function z1(o,e,n){const s=[],l=n||Rn.mix||lT,u=o.length-1;for(let c=0;c<u;c++){let h=l(o[c],o[c+1]);if(e){const y=Array.isArray(e)?e[c]||Xe:e;h=ts(y,h)}s.push(h)}return s}function k1(o,e,{clamp:n=!0,ease:s,mixer:l}={}){const u=o.length;if(Tf(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=o[0]===o[1];o[0]>o[u-1]&&(o=[...o].reverse(),e=[...e].reverse());const h=z1(e,s,l),y=h.length,p=v=>{if(c&&v<o[0])return e[0];let S=0;if(y>1)for(;S<o.length-2&&!(v<o[S+1]);S++);const E=Qa(o[S],o[S+1],v);return h[S](E)};return n?v=>p(wn(o[0],o[u-1],v)):p}function O1(o,e){const n=o[o.length-1];for(let s=1;s<=e;s++){const l=Qa(0,e,s);o.push(Ht(n,1,l))}}function q1(o){const e=[0];return O1(e,o.length-1),e}function G1(o,e){return o.map(n=>n*e)}function H1(o,e){return o.map(()=>e||Jv).splice(0,o.length-1)}function qa({duration:o=300,keyframes:e,times:n,ease:s="easeInOut"}){const l=t1(s)?s.map($g):$g(s),u={done:!1,value:e[0]},c=G1(n&&n.length===e.length?n:q1(e),o),h=k1(c,e,{ease:Array.isArray(l)?l:H1(e,l)});return{calculatedDuration:o,next:y=>(u.value=h(y),u.done=y>=o,u)}}const F1=o=>o!==null;function Df(o,{repeat:e,repeatType:n="loop"},s,l=1){const u=o.filter(F1),h=l<0||e&&n!=="loop"&&e%2===1?0:u.length-1;return!h||s===void 0?u[h]:s}const Y1={decay:Hc,inertia:Hc,tween:qa,keyframes:qa,spring:zl};function cT(o){typeof o.type=="string"&&(o.type=Y1[o.type])}class Nf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const K1=o=>o/100;class Lf extends Nf{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,l;const{motionValue:n}=this.options;n&&n.updatedAt!==xe.now()&&this.tick(xe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(l=(s=this.options).onStop)==null||l.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;cT(e);const{type:n=qa,repeat:s=0,repeatDelay:l=0,repeatType:u,velocity:c=0}=e;let{keyframes:h}=e;const y=n||qa;y!==qa&&typeof h[0]!="number"&&(this.mixKeyframes=ts(K1,lT(h[0],h[1])),h=[0,100]);const p=y({...e,keyframes:h});u==="mirror"&&(this.mirroredGenerator=y({...e,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Rf(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+l,this.totalDuration=this.resolvedDuration*(s+1)-l,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:l,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:y}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:v,repeat:S,repeatType:E,repeatDelay:C,type:A,onUpdate:R,finalKeyframe:z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-l/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const k=this.currentTime-p*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?k<0:k>l;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let N=this.currentTime,K=s;if(S){const H=Math.min(this.currentTime,l)/h;let ot=Math.floor(H),lt=H%1;!lt&&H>=1&&(lt=1),lt===1&&ot--,ot=Math.min(ot,S+1),!!(ot%2)&&(E==="reverse"?(lt=1-lt,C&&(lt-=C/h)):E==="mirror"&&(K=c)),N=wn(0,1,lt)*h}const D=F?{done:!1,value:v[0]}:K.next(N);u&&(D.value=u(D.value));let{done:X}=D;!F&&y!==null&&(X=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return Z&&A!==Hc&&(D.value=Df(v,this.options,z,this.speed)),R&&R(D.value),Z&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return un(this.calculatedDuration)}get time(){return un(this.currentTime)}set time(e){var n;e=rn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xe.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=un(this.currentTime))}play(){var l,u;if(this.isStopped)return;const{driver:e=R1,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(u=(l=this.options).onPlay)==null||u.call(l);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Q1(o){for(let e=1;e<o.length;e++)o[e]??(o[e]=o[e-1])}const Ni=o=>o*180/Math.PI,Fc=o=>{const e=Ni(Math.atan2(o[1],o[0]));return Yc(e)},X1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:o=>(Math.abs(o[0])+Math.abs(o[3]))/2,rotate:Fc,rotateZ:Fc,skewX:o=>Ni(Math.atan(o[1])),skewY:o=>Ni(Math.atan(o[2])),skew:o=>(Math.abs(o[1])+Math.abs(o[2]))/2},Yc=o=>(o=o%360,o<0&&(o+=360),o),ny=Fc,iy=o=>Math.sqrt(o[0]*o[0]+o[1]*o[1]),oy=o=>Math.sqrt(o[4]*o[4]+o[5]*o[5]),Z1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:iy,scaleY:oy,scale:o=>(iy(o)+oy(o))/2,rotateX:o=>Yc(Ni(Math.atan2(o[6],o[5]))),rotateY:o=>Yc(Ni(Math.atan2(-o[2],o[0]))),rotateZ:ny,rotate:ny,skewX:o=>Ni(Math.atan(o[4])),skewY:o=>Ni(Math.atan(o[1])),skew:o=>(Math.abs(o[1])+Math.abs(o[4]))/2};function Kc(o){return o.includes("scale")?1:0}function Qc(o,e){if(!o||o==="none")return Kc(e);const n=o.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,l;if(n)s=Z1,l=n;else{const h=o.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=X1,l=h}if(!l)return Kc(e);const u=s[e],c=l[1].split(",").map(J1);return typeof u=="function"?u(c):c[u]}const $1=(o,e)=>{const{transform:n="none"}=getComputedStyle(o);return Qc(n,e)};function J1(o){return parseFloat(o.trim())}const Vo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Po=new Set(Vo),ay=o=>o===Lo||o===pt,W1=new Set(["x","y","z"]),j1=Vo.filter(o=>!W1.has(o));function t_(o){const e=[];return j1.forEach(n=>{const s=o.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Pi={width:({x:o},{paddingLeft:e="0",paddingRight:n="0"})=>o.max-o.min-parseFloat(e)-parseFloat(n),height:({y:o},{paddingTop:e="0",paddingBottom:n="0"})=>o.max-o.min-parseFloat(e)-parseFloat(n),top:(o,{top:e})=>parseFloat(e),left:(o,{left:e})=>parseFloat(e),bottom:({y:o},{top:e})=>parseFloat(e)+(o.max-o.min),right:({x:o},{left:e})=>parseFloat(e)+(o.max-o.min),x:(o,{transform:e})=>Qc(e,"x"),y:(o,{transform:e})=>Qc(e,"y")};Pi.translateX=Pi.x;Pi.translateY=Pi.y;const Bi=new Set;let Xc=!1,Zc=!1,$c=!1;function fT(){if(Zc){const o=Array.from(Bi).filter(s=>s.needsMeasurement),e=new Set(o.map(s=>s.element)),n=new Map;e.forEach(s=>{const l=t_(s);l.length&&(n.set(s,l),s.render())}),o.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const l=n.get(s);l&&l.forEach(([u,c])=>{var h;(h=s.getValue(u))==null||h.set(c)})}),o.forEach(s=>s.measureEndState()),o.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Zc=!1,Xc=!1,Bi.forEach(o=>o.complete($c)),Bi.clear()}function dT(){Bi.forEach(o=>{o.readKeyframes(),o.needsMeasurement&&(Zc=!0)})}function e_(){$c=!0,dT(),fT(),$c=!1}class Vf{constructor(e,n,s,l,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=l,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Bi.add(this),Xc||(Xc=!0,qt.read(dT),qt.resolveKeyframes(fT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:l}=this;if(e[0]===null){const u=l==null?void 0:l.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(s&&n){const h=s.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),l&&u===void 0&&l.set(e[0])}Q1(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Bi.delete(this)}cancel(){this.state==="scheduled"&&(Bi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const n_=o=>o.startsWith("--");function i_(o,e,n){n_(e)?o.style.setProperty(e,n):o.style[e]=n}const o_=Sf(()=>window.ScrollTimeline!==void 0),a_={};function s_(o,e){const n=Sf(o);return()=>a_[e]??n()}const hT=s_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ua=([o,e,n,s])=>`cubic-bezier(${o}, ${e}, ${n}, ${s})`,sy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ua([0,.65,.55,1]),circOut:Ua([.55,0,1,.45]),backIn:Ua([.31,.01,.66,-.59]),backOut:Ua([.33,1.53,.69,.99])};function pT(o,e){if(o)return typeof o=="function"?hT()?rT(o,e):"ease-out":Wv(o)?Ua(o):Array.isArray(o)?o.map(n=>pT(n,e)||sy.easeOut):sy[o]}function l_(o,e,n,{delay:s=0,duration:l=300,repeat:u=0,repeatType:c="loop",ease:h="easeOut",times:y}={},p=void 0){const v={[e]:n};y&&(v.offset=y);const S=pT(h,l);Array.isArray(S)&&(v.easing=S);const E={delay:s,duration:l,easing:Array.isArray(S)?"linear":S,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),o.animate(v,E)}function mT(o){return typeof o=="function"&&"applyToOptions"in o}function r_({type:o,...e}){return mT(o)&&hT()?o.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class u_ extends Nf{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:l,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:h,onComplete:y}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,Tf(typeof e.type!="string");const p=r_(e);this.animation=l_(n,s,l,p,u),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Df(l,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(v):i_(n,s,v),this.animation.cancel()}y==null||y(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return un(Number(e))}get time(){return un(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=rn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&o_()?(this.animation.timeline=e,Xe):n(this)}}const gT={anticipate:Xv,backInOut:Qv,circInOut:$v};function c_(o){return o in gT}function f_(o){typeof o.ease=="string"&&c_(o.ease)&&(o.ease=gT[o.ease])}const ly=10;class d_ extends u_{constructor(e){f_(e),cT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:l,element:u,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Lf({...c,autoplay:!1}),y=rn(this.finishedTime??this.time);n.setWithVelocity(h.sample(y-ly).value,h.sample(y).value,ly),h.stop()}}const ry=(o,e)=>e==="zIndex"?!1:!!(typeof o=="number"||Array.isArray(o)||typeof o=="string"&&(ii.test(o)||o==="0")&&!o.startsWith("url("));function h_(o){const e=o[0];if(o.length===1)return!0;for(let n=0;n<o.length;n++)if(o[n]!==e)return!0}function p_(o,e,n,s){const l=o[0];if(l===null)return!1;if(e==="display"||e==="visibility")return!0;const u=o[o.length-1],c=ry(l,e),h=ry(u,e);return!c||!h?!1:h_(o)||(n==="spring"||mT(n))&&s}function Jc(o){o.duration=0,o.type}const m_=new Set(["opacity","clipPath","filter","transform"]),g_=Sf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function y_(o){var v;const{motionValue:e,name:n,repeatDelay:s,repeatType:l,damping:u,type:c}=o;if(!(((v=e==null?void 0:e.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:p}=e.owner.getProps();return g_()&&n&&m_.has(n)&&(n!=="transform"||!p)&&!y&&!s&&l!=="mirror"&&u!==0&&c!=="inertia"}const v_=40;class T_ extends Nf{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:c="loop",keyframes:h,name:y,motionValue:p,element:v,...S}){var A;super(),this.stop=()=>{var R,z;this._animation&&(this._animation.stop(),(R=this.stopTimeline)==null||R.call(this)),(z=this.keyframeResolver)==null||z.cancel()},this.createdAt=xe.now();const E={autoplay:e,delay:n,type:s,repeat:l,repeatDelay:u,repeatType:c,name:y,motionValue:p,element:v,...S},C=(v==null?void 0:v.KeyframeResolver)||Vf;this.keyframeResolver=new C(h,(R,z,k)=>this.onKeyframesResolved(R,z,E,!k),y,p,v),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(e,n,s,l){this.keyframeResolver=void 0;const{name:u,type:c,velocity:h,delay:y,isHandoff:p,onUpdate:v}=s;this.resolvedAt=xe.now(),p_(e,u,c,h)||((Rn.instantAnimations||!y)&&(v==null||v(Df(e,s,n))),e[0]=e[e.length-1],Jc(s),s.repeat=0);const E={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>v_?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},C=!p&&y_(E)?new d_({...E,element:E.motionValue.owner.current}):new Lf(E);C.finished.then(()=>this.notifyFinished()).catch(Xe),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),e_()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const S_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function E_(o){const e=S_.exec(o);if(!e)return[,];const[,n,s,l]=e;return[`--${n??s}`,l]}function yT(o,e,n=1){const[s,l]=E_(o);if(!s)return;const u=window.getComputedStyle(e).getPropertyValue(s);if(u){const c=u.trim();return kv(c)?parseFloat(c):c}return Mf(l)?yT(l,e,n+1):l}function Pf(o,e){return(o==null?void 0:o[e])??(o==null?void 0:o.default)??o}const vT=new Set(["width","height","top","left","right","bottom",...Vo]),b_={test:o=>o==="auto",parse:o=>o},TT=o=>e=>e.test(o),ST=[Lo,pt,cn,ei,h1,d1,b_],uy=o=>ST.find(TT(o));function C_(o){return typeof o=="number"?o===0:o!==null?o==="none"||o==="0"||qv(o):!0}const A_=new Set(["brightness","contrast","saturate","opacity"]);function M_(o){const[e,n]=o.slice(0,-1).split("(");if(e==="drop-shadow")return o;const[s]=n.match(xf)||[];if(!s)return o;const l=n.replace(s,"");let u=A_.has(e)?1:0;return s!==n&&(u*=100),e+"("+u+l+")"}const x_=/\b([a-z-]*)\(.*?\)/gu,Wc={...ii,getAnimatableNone:o=>{const e=o.match(x_);return e?e.map(M_).join(" "):o}},cy={...Lo,transform:Math.round},__={rotate:ei,rotateX:ei,rotateY:ei,rotateZ:ei,scale:Cl,scaleX:Cl,scaleY:Cl,scaleZ:Cl,skew:ei,skewX:ei,skewY:ei,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:Xa,originX:Jg,originY:Jg,originZ:pt},Bf={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,radius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,backgroundPositionX:pt,backgroundPositionY:pt,...__,zIndex:cy,fillOpacity:Xa,strokeOpacity:Xa,numOctaves:cy},w_={...Bf,color:jt,backgroundColor:jt,outlineColor:jt,fill:jt,stroke:jt,borderColor:jt,borderTopColor:jt,borderRightColor:jt,borderBottomColor:jt,borderLeftColor:jt,filter:Wc,WebkitFilter:Wc},ET=o=>w_[o];function bT(o,e){let n=ET(o);return n!==Wc&&(n=ii),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const R_=new Set(["auto","none","0"]);function D_(o,e,n){let s=0,l;for(;s<o.length&&!l;){const u=o[s];typeof u=="string"&&!R_.has(u)&&Za(u).values.length&&(l=o[s]),s++}if(l&&n)for(const u of e)o[u]=bT(n,l)}class N_ extends Vf{constructor(e,n,s,l,u){super(e,n,s,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let p=e[y];if(typeof p=="string"&&(p=p.trim(),Mf(p))){const v=yT(p,n.current);v!==void 0&&(e[y]=v),y===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!vT.has(s)||e.length!==2)return;const[l,u]=e,c=uy(l),h=uy(u);if(c!==h)if(ay(c)&&ay(h))for(let y=0;y<e.length;y++){const p=e[y];typeof p=="string"&&(e[y]=parseFloat(p))}else Pi[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let l=0;l<e.length;l++)(e[l]===null||C_(e[l]))&&s.push(l);s.length&&D_(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pi[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const l=n[n.length-1];l!==void 0&&e.getValue(s,l).jump(l,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const l=e.getValue(n);l&&l.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=Pi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([y,p])=>{e.getValue(y).set(p)}),this.resolveNoneKeyframes()}}function L_(o,e,n){if(o instanceof EventTarget)return[o];if(typeof o=="string"){let s=document;const l=(n==null?void 0:n[o])??s.querySelectorAll(o);return l?Array.from(l):[]}return Array.from(o)}const CT=(o,e)=>e&&typeof o=="number"?e.transform(o):o;function AT(o){return Ov(o)&&"offsetHeight"in o}const fy=30,V_=o=>!isNaN(parseFloat(o));class P_{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var u;const l=xe.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=xe.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=V_(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ef);const s=this.events[e].add(n);return e==="change"?()=>{s(),qt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>fy)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,fy);return Gv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ro(o,e){return new P_(o,e)}const{schedule:If}=jv(queueMicrotask,!1),We={x:!1,y:!1};function MT(){return We.x||We.y}function B_(o){return o==="x"||o==="y"?We[o]?null:(We[o]=!0,()=>{We[o]=!1}):We.x||We.y?null:(We.x=We.y=!0,()=>{We.x=We.y=!1})}function xT(o,e){const n=L_(o),s=new AbortController,l={passive:!0,...e,signal:s.signal};return[n,l,()=>s.abort()]}function dy(o){return!(o.pointerType==="touch"||MT())}function I_(o,e,n={}){const[s,l,u]=xT(o,n),c=h=>{if(!dy(h))return;const{target:y}=h,p=e(y,h);if(typeof p!="function"||!y)return;const v=S=>{dy(S)&&(p(S),y.removeEventListener("pointerleave",v))};y.addEventListener("pointerleave",v,l)};return s.forEach(h=>{h.addEventListener("pointerenter",c,l)}),u}const _T=(o,e)=>e?o===e?!0:_T(o,e.parentElement):!1,Uf=o=>o.pointerType==="mouse"?typeof o.button!="number"||o.button<=0:o.isPrimary!==!1,U_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function z_(o){return U_.has(o.tagName)||o.tabIndex!==-1}const Dl=new WeakSet;function hy(o){return e=>{e.key==="Enter"&&o(e)}}function Tc(o,e){o.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const k_=(o,e)=>{const n=o.currentTarget;if(!n)return;const s=hy(()=>{if(Dl.has(n))return;Tc(n,"down");const l=hy(()=>{Tc(n,"up")}),u=()=>Tc(n,"cancel");n.addEventListener("keyup",l,e),n.addEventListener("blur",u,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function py(o){return Uf(o)&&!MT()}function O_(o,e,n={}){const[s,l,u]=xT(o,n),c=h=>{const y=h.currentTarget;if(!py(h))return;Dl.add(y);const p=e(y,h),v=(C,A)=>{window.removeEventListener("pointerup",S),window.removeEventListener("pointercancel",E),Dl.has(y)&&Dl.delete(y),py(C)&&typeof p=="function"&&p(C,{success:A})},S=C=>{v(C,y===window||y===document||n.useGlobalTarget||_T(y,C.target))},E=C=>{v(C,!1)};window.addEventListener("pointerup",S,l),window.addEventListener("pointercancel",E,l)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,l),AT(h)&&(h.addEventListener("focus",p=>k_(p,l)),!z_(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),u}function wT(o){return Ov(o)&&"ownerSVGElement"in o}function q_(o){return wT(o)&&o.tagName==="svg"}const me=o=>!!(o&&o.getVelocity),G_=[...ST,jt,ii],H_=o=>G_.find(TT(o)),zf=et.createContext({transformPagePoint:o=>o,isStatic:!1,reducedMotion:"never"});class F_ extends et.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,l=AT(s)&&s.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Y_({children:o,isPresent:e,anchorX:n,root:s}){const l=et.useId(),u=et.useRef(null),c=et.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=et.useContext(zf);return et.useInsertionEffect(()=>{const{width:y,height:p,top:v,left:S,right:E}=c.current;if(e||!u.current||!y||!p)return;const C=n==="left"?`left: ${S}`:`right: ${E}`;u.current.dataset.motionPopId=l;const A=document.createElement("style");h&&(A.nonce=h);const R=s??document.head;return R.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${p}px !important;
            ${C}px !important;
            top: ${v}px !important;
          }
        `),()=>{R.contains(A)&&R.removeChild(A)}},[e]),zt.jsx(F_,{isPresent:e,childRef:u,sizeRef:c,children:et.cloneElement(o,{ref:u})})}const K_=({children:o,initial:e,isPresent:n,onExitComplete:s,custom:l,presenceAffectsLayout:u,mode:c,anchorX:h,root:y})=>{const p=mf(Q_),v=et.useId();let S=!0,E=et.useMemo(()=>(S=!1,{id:v,initial:e,isPresent:n,custom:l,onExitComplete:C=>{p.set(C,!0);for(const A of p.values())if(!A)return;s&&s()},register:C=>(p.set(C,!1),()=>p.delete(C))}),[n,p,s]);return u&&S&&(E={...E}),et.useMemo(()=>{p.forEach((C,A)=>p.set(A,!1))},[n]),et.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),c==="popLayout"&&(o=zt.jsx(Y_,{isPresent:n,anchorX:h,root:y,children:o})),zt.jsx(Ql.Provider,{value:E,children:o})};function Q_(){return new Map}function RT(o=!0){const e=et.useContext(Ql);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:l}=e,u=et.useId();et.useEffect(()=>{if(o)return l(u)},[o]);const c=et.useCallback(()=>o&&s&&s(u),[u,s,o]);return!n&&s?[!1,c]:[!0]}const Al=o=>o.key||"";function my(o){const e=[];return et.Children.forEach(o,n=>{et.isValidElement(n)&&e.push(n)}),e}const X_=({children:o,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:l=!0,mode:u="sync",propagate:c=!1,anchorX:h="left",root:y})=>{const[p,v]=RT(c),S=et.useMemo(()=>my(o),[o]),E=c&&!p?[]:S.map(Al),C=et.useRef(!0),A=et.useRef(S),R=mf(()=>new Map),[z,k]=et.useState(S),[F,N]=et.useState(S);zv(()=>{C.current=!1,A.current=S;for(let X=0;X<F.length;X++){const Z=Al(F[X]);E.includes(Z)?R.delete(Z):R.get(Z)!==!0&&R.set(Z,!1)}},[F,E.length,E.join("-")]);const K=[];if(S!==z){let X=[...S];for(let Z=0;Z<F.length;Z++){const H=F[Z],ot=Al(H);E.includes(ot)||(X.splice(Z,0,H),K.push(H))}return u==="wait"&&K.length&&(X=K),N(my(X)),k(S),null}const{forceRender:D}=et.useContext(pf);return zt.jsx(zt.Fragment,{children:F.map(X=>{const Z=Al(X),H=c&&!p?!1:S===F||E.includes(Z),ot=()=>{if(R.has(Z))R.set(Z,!0);else return;let lt=!0;R.forEach(yt=>{yt||(lt=!1)}),lt&&(D==null||D(),N(A.current),c&&(v==null||v()),s&&s())};return zt.jsx(K_,{isPresent:H,initial:!C.current||n?void 0:!1,custom:e,presenceAffectsLayout:l,mode:u,root:y,onExitComplete:H?void 0:ot,anchorX:h,children:X},Z)})})},DT=et.createContext({strict:!1}),gy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Do={};for(const o in gy)Do[o]={isEnabled:e=>gy[o].some(n=>!!e[n])};function Z_(o){for(const e in o)Do[e]={...Do[e],...o[e]}}const $_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kl(o){return o.startsWith("while")||o.startsWith("drag")&&o!=="draggable"||o.startsWith("layout")||o.startsWith("onTap")||o.startsWith("onPan")||o.startsWith("onLayout")||$_.has(o)}let NT=o=>!kl(o);function J_(o){typeof o=="function"&&(NT=e=>e.startsWith("on")?!kl(e):o(e))}try{J_(require("@emotion/is-prop-valid").default)}catch{}function W_(o,e,n){const s={};for(const l in o)l==="values"&&typeof o.values=="object"||(NT(l)||n===!0&&kl(l)||!e&&!kl(l)||o.draggable&&l.startsWith("onDrag"))&&(s[l]=o[l]);return s}const Xl=et.createContext({});function Zl(o){return o!==null&&typeof o=="object"&&typeof o.start=="function"}function $a(o){return typeof o=="string"||Array.isArray(o)}const kf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Of=["initial",...kf];function $l(o){return Zl(o.animate)||Of.some(e=>$a(o[e]))}function LT(o){return!!($l(o)||o.variants)}function j_(o,e){if($l(o)){const{initial:n,animate:s}=o;return{initial:n===!1||$a(n)?n:void 0,animate:$a(s)?s:void 0}}return o.inherit!==!1?e:{}}function tw(o){const{initial:e,animate:n}=j_(o,et.useContext(Xl));return et.useMemo(()=>({initial:e,animate:n}),[yy(e),yy(n)])}function yy(o){return Array.isArray(o)?o.join(" "):o}const Ja={};function ew(o){for(const e in o)Ja[e]=o[e],Af(e)&&(Ja[e].isCSSVariable=!0)}function VT(o,{layout:e,layoutId:n}){return Po.has(o)||o.startsWith("origin")||(e||n!==void 0)&&(!!Ja[o]||o==="opacity")}const nw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iw=Vo.length;function ow(o,e,n){let s="",l=!0;for(let u=0;u<iw;u++){const c=Vo[u],h=o[c];if(h===void 0)continue;let y=!0;if(typeof h=="number"?y=h===(c.startsWith("scale")?1:0):y=parseFloat(h)===0,!y||n){const p=CT(h,Bf[c]);if(!y){l=!1;const v=nw[c]||c;s+=`${v}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,l?"":s):l&&(s="none"),s}function qf(o,e,n){const{style:s,vars:l,transformOrigin:u}=o;let c=!1,h=!1;for(const y in e){const p=e[y];if(Po.has(y)){c=!0;continue}else if(Af(y)){l[y]=p;continue}else{const v=CT(p,Bf[y]);y.startsWith("origin")?(h=!0,u[y]=v):s[y]=v}}if(e.transform||(c||n?s.transform=ow(e,o.transform,n):s.transform&&(s.transform="none")),h){const{originX:y="50%",originY:p="50%",originZ:v=0}=u;s.transformOrigin=`${y} ${p} ${v}`}}const Gf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function PT(o,e,n){for(const s in e)!me(e[s])&&!VT(s,n)&&(o[s]=e[s])}function aw({transformTemplate:o},e){return et.useMemo(()=>{const n=Gf();return qf(n,e,o),Object.assign({},n.vars,n.style)},[e])}function sw(o,e){const n=o.style||{},s={};return PT(s,n,o),Object.assign(s,aw(o,e)),s}function lw(o,e){const n={},s=sw(o,e);return o.drag&&o.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=o.drag===!0?"none":`pan-${o.drag==="x"?"y":"x"}`),o.tabIndex===void 0&&(o.onTap||o.onTapStart||o.whileTap)&&(n.tabIndex=0),n.style=s,n}const rw={offset:"stroke-dashoffset",array:"stroke-dasharray"},uw={offset:"strokeDashoffset",array:"strokeDasharray"};function cw(o,e,n=1,s=0,l=!0){o.pathLength=1;const u=l?rw:uw;o[u.offset]=pt.transform(-s);const c=pt.transform(e),h=pt.transform(n);o[u.array]=`${c} ${h}`}function BT(o,{attrX:e,attrY:n,attrScale:s,pathLength:l,pathSpacing:u=1,pathOffset:c=0,...h},y,p,v){if(qf(o,h,p),y){o.style.viewBox&&(o.attrs.viewBox=o.style.viewBox);return}o.attrs=o.style,o.style={};const{attrs:S,style:E}=o;S.transform&&(E.transform=S.transform,delete S.transform),(E.transform||S.transformOrigin)&&(E.transformOrigin=S.transformOrigin??"50% 50%",delete S.transformOrigin),E.transform&&(E.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete S.transformBox),e!==void 0&&(S.x=e),n!==void 0&&(S.y=n),s!==void 0&&(S.scale=s),l!==void 0&&cw(S,l,u,c,!1)}const IT=()=>({...Gf(),attrs:{}}),UT=o=>typeof o=="string"&&o.toLowerCase()==="svg";function fw(o,e,n,s){const l=et.useMemo(()=>{const u=IT();return BT(u,e,UT(s),o.transformTemplate,o.style),{...u.attrs,style:{...u.style}}},[e]);if(o.style){const u={};PT(u,o.style,o),l.style={...u,...l.style}}return l}const dw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hf(o){return typeof o!="string"||o.includes("-")?!1:!!(dw.indexOf(o)>-1||/[A-Z]/u.test(o))}function hw(o,e,n,{latestValues:s},l,u=!1){const h=(Hf(o)?fw:lw)(e,s,l,o),y=W_(e,typeof o=="string",u),p=o!==et.Fragment?{...y,...h,ref:n}:{},{children:v}=e,S=et.useMemo(()=>me(v)?v.get():v,[v]);return et.createElement(o,{...p,children:S})}function vy(o){const e=[{},{}];return o==null||o.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Ff(o,e,n,s){if(typeof e=="function"){const[l,u]=vy(s);e=e(n!==void 0?n:o.custom,l,u)}if(typeof e=="string"&&(e=o.variants&&o.variants[e]),typeof e=="function"){const[l,u]=vy(s);e=e(n!==void 0?n:o.custom,l,u)}return e}function Nl(o){return me(o)?o.get():o}function pw({scrapeMotionValuesFromProps:o,createRenderState:e},n,s,l){return{latestValues:mw(n,s,l,o),renderState:e()}}function mw(o,e,n,s){const l={},u=s(o,{});for(const E in u)l[E]=Nl(u[E]);let{initial:c,animate:h}=o;const y=$l(o),p=LT(o);e&&p&&!y&&o.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const S=v?h:c;if(S&&typeof S!="boolean"&&!Zl(S)){const E=Array.isArray(S)?S:[S];for(let C=0;C<E.length;C++){const A=Ff(o,E[C]);if(A){const{transitionEnd:R,transition:z,...k}=A;for(const F in k){let N=k[F];if(Array.isArray(N)){const K=v?N.length-1:0;N=N[K]}N!==null&&(l[F]=N)}for(const F in R)l[F]=R[F]}}}return l}const zT=o=>(e,n)=>{const s=et.useContext(Xl),l=et.useContext(Ql),u=()=>pw(o,e,s,l);return n?u():mf(u)};function Yf(o,e,n){var u;const{style:s}=o,l={};for(const c in s)(me(s[c])||e.style&&me(e.style[c])||VT(c,o)||((u=n==null?void 0:n.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(l[c]=s[c]);return l}const gw=zT({scrapeMotionValuesFromProps:Yf,createRenderState:Gf});function kT(o,e,n){const s=Yf(o,e,n);for(const l in o)if(me(o[l])||me(e[l])){const u=Vo.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;s[u]=o[l]}return s}const yw=zT({scrapeMotionValuesFromProps:kT,createRenderState:IT}),vw=Symbol.for("motionComponentSymbol");function Ao(o){return o&&typeof o=="object"&&Object.prototype.hasOwnProperty.call(o,"current")}function Tw(o,e,n){return et.useCallback(s=>{s&&o.onMount&&o.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Ao(n)&&(n.current=s))},[e])}const Kf=o=>o.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Sw="framerAppearId",OT="data-"+Kf(Sw),qT=et.createContext({});function Ew(o,e,n,s,l){var R,z;const{visualElement:u}=et.useContext(Xl),c=et.useContext(DT),h=et.useContext(Ql),y=et.useContext(zf).reducedMotion,p=et.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(o,{visualState:e,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:y}));const v=p.current,S=et.useContext(qT);v&&!v.projection&&l&&(v.type==="html"||v.type==="svg")&&bw(p.current,n,l,S);const E=et.useRef(!1);et.useInsertionEffect(()=>{v&&E.current&&v.update(n,h)});const C=n[OT],A=et.useRef(!!C&&!((R=window.MotionHandoffIsComplete)!=null&&R.call(window,C))&&((z=window.MotionHasOptimisedAnimation)==null?void 0:z.call(window,C)));return zv(()=>{v&&(E.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),A.current&&v.animationState&&v.animationState.animateChanges())}),et.useEffect(()=>{v&&(!A.current&&v.animationState&&v.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,C)}),A.current=!1),v.enteringChildren=void 0)}),v}function bw(o,e,n,s){const{layoutId:l,layout:u,drag:c,dragConstraints:h,layoutScroll:y,layoutRoot:p,layoutCrossfade:v}=e;o.projection=new n(o.latestValues,e["data-framer-portal-id"]?void 0:GT(o.parent)),o.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||h&&Ao(h),visualElement:o,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:y,layoutRoot:p})}function GT(o){if(o)return o.options.allowProjection!==!1?o.projection:GT(o.parent)}function Sc(o,{forwardMotionProps:e=!1}={},n,s){n&&Z_(n);const l=Hf(o)?yw:gw;function u(h,y){let p;const v={...et.useContext(zf),...h,layoutId:Cw(h)},{isStatic:S}=v,E=tw(h),C=l(h,S);if(!S&&gf){Aw();const A=Mw(v);p=A.MeasureLayout,E.visualElement=Ew(o,C,v,s,A.ProjectionNode)}return zt.jsxs(Xl.Provider,{value:E,children:[p&&E.visualElement?zt.jsx(p,{visualElement:E.visualElement,...v}):null,hw(o,h,Tw(C,E.visualElement,y),C,S,e)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=et.forwardRef(u);return c[vw]=o,c}function Cw({layoutId:o}){const e=et.useContext(pf).id;return e&&o!==void 0?e+"-"+o:o}function Aw(o,e){et.useContext(DT).strict}function Mw(o){const{drag:e,layout:n}=Do;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(o)||n!=null&&n.isEnabled(o)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function xw(o,e){if(typeof Proxy>"u")return Sc;const n=new Map,s=(u,c)=>Sc(u,c,o,e),l=(u,c)=>s(u,c);return new Proxy(l,{get:(u,c)=>c==="create"?s:(n.has(c)||n.set(c,Sc(c,void 0,o,e)),n.get(c))})}function HT({top:o,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:o,max:s}}}function _w({x:o,y:e}){return{top:e.min,right:o.max,bottom:e.max,left:o.min}}function ww(o,e){if(!e)return o;const n=e({x:o.left,y:o.top}),s=e({x:o.right,y:o.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Ec(o){return o===void 0||o===1}function jc({scale:o,scaleX:e,scaleY:n}){return!Ec(o)||!Ec(e)||!Ec(n)}function wi(o){return jc(o)||FT(o)||o.z||o.rotate||o.rotateX||o.rotateY||o.skewX||o.skewY}function FT(o){return Ty(o.x)||Ty(o.y)}function Ty(o){return o&&o!=="0%"}function Ol(o,e,n){const s=o-n,l=e*s;return n+l}function Sy(o,e,n,s,l){return l!==void 0&&(o=Ol(o,l,s)),Ol(o,n,s)+e}function tf(o,e=0,n=1,s,l){o.min=Sy(o.min,e,n,s,l),o.max=Sy(o.max,e,n,s,l)}function YT(o,{x:e,y:n}){tf(o.x,e.translate,e.scale,e.originPoint),tf(o.y,n.translate,n.scale,n.originPoint)}const Ey=.999999999999,by=1.0000000000001;function Rw(o,e,n,s=!1){const l=n.length;if(!l)return;e.x=e.y=1;let u,c;for(let h=0;h<l;h++){u=n[h],c=u.projectionDelta;const{visualElement:y}=u.options;y&&y.props.style&&y.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&xo(o,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,YT(o,c)),s&&wi(u.latestValues)&&xo(o,u.latestValues))}e.x<by&&e.x>Ey&&(e.x=1),e.y<by&&e.y>Ey&&(e.y=1)}function Mo(o,e){o.min=o.min+e,o.max=o.max+e}function Cy(o,e,n,s,l=.5){const u=Ht(o.min,o.max,l);tf(o,e,n,u,s)}function xo(o,e){Cy(o.x,e.x,e.scaleX,e.scale,e.originX),Cy(o.y,e.y,e.scaleY,e.scale,e.originY)}function KT(o,e){return HT(ww(o.getBoundingClientRect(),e))}function Dw(o,e,n){const s=KT(o,n),{scroll:l}=e;return l&&(Mo(s.x,l.offset.x),Mo(s.y,l.offset.y)),s}const Ay=()=>({translate:0,scale:1,origin:0,originPoint:0}),_o=()=>({x:Ay(),y:Ay()}),My=()=>({min:0,max:0}),$t=()=>({x:My(),y:My()}),ef={current:null},QT={current:!1};function Nw(){if(QT.current=!0,!!gf)if(window.matchMedia){const o=window.matchMedia("(prefers-reduced-motion)"),e=()=>ef.current=o.matches;o.addEventListener("change",e),e()}else ef.current=!1}const Lw=new WeakMap;function Vw(o,e,n){for(const s in e){const l=e[s],u=n[s];if(me(l))o.addValue(s,l);else if(me(u))o.addValue(s,Ro(l,{owner:o}));else if(u!==l)if(o.hasValue(s)){const c=o.getValue(s);c.liveStyle===!0?c.jump(l):c.hasAnimated||c.set(l)}else{const c=o.getStaticValue(s);o.addValue(s,Ro(c!==void 0?c:l,{owner:o}))}}for(const s in n)e[s]===void 0&&o.removeValue(s);return e}const xy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Pw{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:l,blockInitialAnimation:u,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Vf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=xe.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,qt.render(this.render,!1,!0))};const{latestValues:y,renderState:p}=c;this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=l,this.options=h,this.blockInitialAnimation=!!u,this.isControllingVariants=$l(n),this.isVariantNode=LT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...S}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in S){const C=S[E];y[E]!==void 0&&me(C)&&C.set(y[E])}}mount(e){var n;this.current=e,Lw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,l)=>this.bindToMotionValue(l,s)),QT.current||Nw(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ef.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ni(this.notifyUpdate),ni(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Po.has(e);s&&this.onBindTransform&&this.onBindTransform();const l=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&qt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Do){const n=Do[e];if(!n)continue;const{isEnabled:s,Feature:l}=n;if(!this.features[e]&&l&&s(this.props)&&(this.features[e]=new l(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<xy.length;s++){const l=xy[s];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,c=e[u];c&&(this.propEventSubscriptions[l]=this.on(l,c))}this.prevMotionValues=Vw(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Ro(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(kv(s)||qv(s))?s=parseFloat(s):!H_(s)&&ii.test(n)&&(s=bT(e,n)),this.setBaseTarget(e,me(s)?s.get():s)),me(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var u;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=Ff(this.props,n,(u=this.presenceContext)==null?void 0:u.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!me(l)?l:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ef),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){If.render(this.render)}}class XT extends Pw{constructor(){super(...arguments),this.KeyframeResolver=N_}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;me(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ZT(o,{style:e,vars:n},s,l){const u=o.style;let c;for(c in e)u[c]=e[c];l==null||l.applyProjectionStyles(u,s);for(c in n)u.setProperty(c,n[c])}function Bw(o){return window.getComputedStyle(o)}class Iw extends XT{constructor(){super(...arguments),this.type="html",this.renderInstance=ZT}readValueFromInstance(e,n){var s;if(Po.has(n))return(s=this.projection)!=null&&s.isProjecting?Kc(n):$1(e,n);{const l=Bw(e),u=(Af(n)?l.getPropertyValue(n):l[n])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(e,{transformPagePoint:n}){return KT(e,n)}build(e,n,s){qf(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Yf(e,n,s)}}const $T=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Uw(o,e,n,s){ZT(o,e,void 0,s);for(const l in e.attrs)o.setAttribute($T.has(l)?l:Kf(l),e.attrs[l])}class zw extends XT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$t}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Po.has(n)){const s=ET(n);return s&&s.default||0}return n=$T.has(n)?n:Kf(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return kT(e,n,s)}build(e,n,s){BT(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,l){Uw(e,n,s,l)}mount(e){this.isSVGTag=UT(e.tagName),super.mount(e)}}const kw=(o,e)=>Hf(o)?new zw(e):new Iw(e,{allowProjection:o!==et.Fragment});function wo(o,e,n){const s=o.getProps();return Ff(s,e,n!==void 0?n:s.custom,o)}const nf=o=>Array.isArray(o);function Ow(o,e,n){o.hasValue(e)?o.getValue(e).set(n):o.addValue(e,Ro(n))}function qw(o){return nf(o)?o[o.length-1]||0:o}function Gw(o,e){const n=wo(o,e);let{transitionEnd:s={},transition:l={},...u}=n||{};u={...u,...s};for(const c in u){const h=qw(u[c]);Ow(o,c,h)}}function Hw(o){return!!(me(o)&&o.add)}function of(o,e){const n=o.getValue("willChange");if(Hw(n))return n.add(e);if(!n&&Rn.WillChange){const s=new Rn.WillChange("auto");o.addValue("willChange",s),s.add(e)}}function JT(o){return o.props[OT]}const Fw=o=>o!==null;function Yw(o,{repeat:e,repeatType:n="loop"},s){const l=o.filter(Fw),u=e&&n!=="loop"&&e%2===1?0:l.length-1;return l[u]}const Kw={type:"spring",stiffness:500,damping:25,restSpeed:10},Qw=o=>({type:"spring",stiffness:550,damping:o===0?2*Math.sqrt(550):30,restSpeed:10}),Xw={type:"keyframes",duration:.8},Zw={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$w=(o,{keyframes:e})=>e.length>2?Xw:Po.has(o)?o.startsWith("scale")?Qw(e[1]):Kw:Zw;function Jw({when:o,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:l,repeat:u,repeatType:c,repeatDelay:h,from:y,elapsed:p,...v}){return!!Object.keys(v).length}const Qf=(o,e,n,s={},l,u)=>c=>{const h=Pf(s,o)||{},y=h.delay||s.delay||0;let{elapsed:p=0}=s;p=p-rn(y);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:o,motionValue:e,element:u?void 0:l};Jw(h)||Object.assign(v,$w(o,v)),v.duration&&(v.duration=rn(v.duration)),v.repeatDelay&&(v.repeatDelay=rn(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let S=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Jc(v),v.delay===0&&(S=!0)),(Rn.instantAnimations||Rn.skipAnimations)&&(S=!0,Jc(v),v.delay=0),v.allowFlatten=!h.type&&!h.ease,S&&!u&&e.get()!==void 0){const E=Yw(v.keyframes,h);if(E!==void 0){qt.update(()=>{v.onUpdate(E),v.onComplete()});return}}return h.isSync?new Lf(v):new T_(v)};function Ww({protectedKeys:o,needsAnimating:e},n){const s=o.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function WT(o,e,{delay:n=0,transitionOverride:s,type:l}={}){let{transition:u=o.getDefaultTransition(),transitionEnd:c,...h}=e;s&&(u=s);const y=[],p=l&&o.animationState&&o.animationState.getState()[l];for(const v in h){const S=o.getValue(v,o.latestValues[v]??null),E=h[v];if(E===void 0||p&&Ww(p,v))continue;const C={delay:n,...Pf(u||{},v)},A=S.get();if(A!==void 0&&!S.isAnimating&&!Array.isArray(E)&&E===A&&!C.velocity)continue;let R=!1;if(window.MotionHandoffAnimation){const k=JT(o);if(k){const F=window.MotionHandoffAnimation(k,v,qt);F!==null&&(C.startTime=F,R=!0)}}of(o,v),S.start(Qf(v,S,E,o.shouldReduceMotion&&vT.has(v)?{type:!1}:C,o,R));const z=S.animation;z&&y.push(z)}return c&&Promise.all(y).then(()=>{qt.update(()=>{c&&Gw(o,c)})}),y}function jT(o,e,n,s=0,l=1){const u=Array.from(o).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=o.size,h=(c-1)*s;return typeof n=="function"?n(u,c):l===1?u*s:h-u*s}function af(o,e,n={}){var y;const s=wo(o,e,n.type==="exit"?(y=o.presenceContext)==null?void 0:y.custom:void 0);let{transition:l=o.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(l=n.transitionOverride);const u=s?()=>Promise.all(WT(o,s,n)):()=>Promise.resolve(),c=o.variantChildren&&o.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:S,staggerDirection:E}=l;return jw(o,e,p,v,S,E,n)}:()=>Promise.resolve(),{when:h}=l;if(h){const[p,v]=h==="beforeChildren"?[u,c]:[c,u];return p().then(()=>v())}else return Promise.all([u(),c(n.delay)])}function jw(o,e,n=0,s=0,l=0,u=1,c){const h=[];for(const y of o.variantChildren)y.notify("AnimationStart",e),h.push(af(y,e,{...c,delay:n+(typeof s=="function"?0:s)+jT(o.variantChildren,y,s,l,u)}).then(()=>y.notify("AnimationComplete",e)));return Promise.all(h)}function tR(o,e,n={}){o.notify("AnimationStart",e);let s;if(Array.isArray(e)){const l=e.map(u=>af(o,u,n));s=Promise.all(l)}else if(typeof e=="string")s=af(o,e,n);else{const l=typeof e=="function"?wo(o,e,n.custom):e;s=Promise.all(WT(o,l,n))}return s.then(()=>{o.notify("AnimationComplete",e)})}function t0(o,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==o.length)return!1;for(let s=0;s<n;s++)if(e[s]!==o[s])return!1;return!0}const eR=Of.length;function e0(o){if(!o)return;if(!o.isControllingVariants){const n=o.parent?e0(o.parent)||{}:{};return o.props.initial!==void 0&&(n.initial=o.props.initial),n}const e={};for(let n=0;n<eR;n++){const s=Of[n],l=o.props[s];($a(l)||l===!1)&&(e[s]=l)}return e}const nR=[...kf].reverse(),iR=kf.length;function oR(o){return e=>Promise.all(e.map(({animation:n,options:s})=>tR(o,n,s)))}function aR(o){let e=oR(o),n=_y(),s=!0;const l=y=>(p,v)=>{var E;const S=wo(o,v,y==="exit"?(E=o.presenceContext)==null?void 0:E.custom:void 0);if(S){const{transition:C,transitionEnd:A,...R}=S;p={...p,...R,...A}}return p};function u(y){e=y(o)}function c(y){const{props:p}=o,v=e0(o.parent)||{},S=[],E=new Set;let C={},A=1/0;for(let z=0;z<iR;z++){const k=nR[z],F=n[k],N=p[k]!==void 0?p[k]:v[k],K=$a(N),D=k===y?F.isActive:null;D===!1&&(A=z);let X=N===v[k]&&N!==p[k]&&K;if(X&&s&&o.manuallyAnimateOnMount&&(X=!1),F.protectedKeys={...C},!F.isActive&&D===null||!N&&!F.prevProp||Zl(N)||typeof N=="boolean")continue;const Z=sR(F.prevProp,N);let H=Z||k===y&&F.isActive&&!X&&K||z>A&&K,ot=!1;const lt=Array.isArray(N)?N:[N];let yt=lt.reduce(l(k),{});D===!1&&(yt={});const{prevResolvedValues:Tt={}}=F,dt={...Tt,...yt},$=q=>{H=!0,E.has(q)&&(ot=!0,E.delete(q)),F.needsAnimating[q]=!0;const J=o.getValue(q);J&&(J.liveStyle=!1)};for(const q in dt){const J=yt[q],rt=Tt[q];if(C.hasOwnProperty(q))continue;let x=!1;nf(J)&&nf(rt)?x=!t0(J,rt):x=J!==rt,x?J!=null?$(q):E.add(q):J!==void 0&&E.has(q)?$(q):F.protectedKeys[q]=!0}F.prevProp=N,F.prevResolvedValues=yt,F.isActive&&(C={...C,...yt}),s&&o.blockInitialAnimation&&(H=!1);const tt=X&&Z;H&&(!tt||ot)&&S.push(...lt.map(q=>{const J={type:k};if(typeof q=="string"&&s&&!tt&&o.manuallyAnimateOnMount&&o.parent){const{parent:rt}=o,x=wo(rt,q);if(rt.enteringChildren&&x){const{delayChildren:Q}=x.transition||{};J.delay=jT(rt.enteringChildren,o,Q)}}return{animation:q,options:J}}))}if(E.size){const z={};if(typeof p.initial!="boolean"){const k=wo(o,Array.isArray(p.initial)?p.initial[0]:p.initial);k&&k.transition&&(z.transition=k.transition)}E.forEach(k=>{const F=o.getBaseTarget(k),N=o.getValue(k);N&&(N.liveStyle=!0),z[k]=F??null}),S.push({animation:z})}let R=!!S.length;return s&&(p.initial===!1||p.initial===p.animate)&&!o.manuallyAnimateOnMount&&(R=!1),s=!1,R?e(S):Promise.resolve()}function h(y,p){var S;if(n[y].isActive===p)return Promise.resolve();(S=o.variantChildren)==null||S.forEach(E=>{var C;return(C=E.animationState)==null?void 0:C.setActive(y,p)}),n[y].isActive=p;const v=c(y);for(const E in n)n[E].protectedKeys={};return v}return{animateChanges:c,setActive:h,setAnimateFunction:u,getState:()=>n,reset:()=>{n=_y(),s=!0}}}function sR(o,e){return typeof e=="string"?e!==o:Array.isArray(e)?!t0(e,o):!1}function xi(o=!1){return{isActive:o,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _y(){return{animate:xi(!0),whileInView:xi(),whileHover:xi(),whileTap:xi(),whileDrag:xi(),whileFocus:xi(),exit:xi()}}class li{constructor(e){this.isMounted=!1,this.node=e}update(){}}class lR extends li{constructor(e){super(e),e.animationState||(e.animationState=aR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Zl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let rR=0;class uR extends li{constructor(){super(...arguments),this.id=rR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const l=this.node.animationState.setActive("exit",!e);n&&!e&&l.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const cR={animation:{Feature:lR},exit:{Feature:uR}};function Wa(o,e,n,s={passive:!0}){return o.addEventListener(e,n,s),()=>o.removeEventListener(e,n)}function is(o){return{point:{x:o.pageX,y:o.pageY}}}const fR=o=>e=>Uf(e)&&o(e,is(e));function Ga(o,e,n,s){return Wa(o,e,fR(n),s)}const n0=1e-4,dR=1-n0,hR=1+n0,i0=.01,pR=0-i0,mR=0+i0;function ve(o){return o.max-o.min}function gR(o,e,n){return Math.abs(o-e)<=n}function wy(o,e,n,s=.5){o.origin=s,o.originPoint=Ht(e.min,e.max,o.origin),o.scale=ve(n)/ve(e),o.translate=Ht(n.min,n.max,o.origin)-o.originPoint,(o.scale>=dR&&o.scale<=hR||isNaN(o.scale))&&(o.scale=1),(o.translate>=pR&&o.translate<=mR||isNaN(o.translate))&&(o.translate=0)}function Ha(o,e,n,s){wy(o.x,e.x,n.x,s?s.originX:void 0),wy(o.y,e.y,n.y,s?s.originY:void 0)}function Ry(o,e,n){o.min=n.min+e.min,o.max=o.min+ve(e)}function yR(o,e,n){Ry(o.x,e.x,n.x),Ry(o.y,e.y,n.y)}function Dy(o,e,n){o.min=e.min-n.min,o.max=o.min+ve(e)}function Fa(o,e,n){Dy(o.x,e.x,n.x),Dy(o.y,e.y,n.y)}function Qe(o){return[o("x"),o("y")]}const o0=({current:o})=>o?o.ownerDocument.defaultView:null,Ny=(o,e)=>Math.abs(o-e);function vR(o,e){const n=Ny(o.x,e.x),s=Ny(o.y,e.y);return Math.sqrt(n**2+s**2)}class a0{constructor(e,n,{transformPagePoint:s,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Cc(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,A=vR(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!A)return;const{point:R}=E,{timestamp:z}=ue;this.history.push({...R,timestamp:z});const{onStart:k,onMove:F}=this.handlers;C||(k&&k(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,E)},this.handlePointerMove=(E,C)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=bc(C,this.transformPagePoint),qt.update(this.updatePoint,!0)},this.handlePointerUp=(E,C)=>{this.end();const{onEnd:A,onSessionEnd:R,resumeAnimation:z}=this.handlers;if(this.dragSnapToOrigin&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Cc(E.type==="pointercancel"?this.lastMoveEventInfo:bc(C,this.transformPagePoint),this.history);this.startEvent&&A&&A(E,k),R&&R(E,k)},!Uf(e))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=l||window;const h=is(e),y=bc(h,this.transformPagePoint),{point:p}=y,{timestamp:v}=ue;this.history=[{...p,timestamp:v}];const{onSessionStart:S}=n;S&&S(e,Cc(y,this.history)),this.removeListeners=ts(Ga(this.contextWindow,"pointermove",this.handlePointerMove),Ga(this.contextWindow,"pointerup",this.handlePointerUp),Ga(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ni(this.updatePoint)}}function bc(o,e){return e?{point:e(o.point)}:o}function Ly(o,e){return{x:o.x-e.x,y:o.y-e.y}}function Cc({point:o},e){return{point:o,delta:Ly(o,s0(e)),offset:Ly(o,TR(e)),velocity:SR(e,.1)}}function TR(o){return o[0]}function s0(o){return o[o.length-1]}function SR(o,e){if(o.length<2)return{x:0,y:0};let n=o.length-1,s=null;const l=s0(o);for(;n>=0&&(s=o[n],!(l.timestamp-s.timestamp>rn(e)));)n--;if(!s)return{x:0,y:0};const u=un(l.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(l.x-s.x)/u,y:(l.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function ER(o,{min:e,max:n},s){return e!==void 0&&o<e?o=s?Ht(e,o,s.min):Math.max(o,e):n!==void 0&&o>n&&(o=s?Ht(n,o,s.max):Math.min(o,n)),o}function Vy(o,e,n){return{min:e!==void 0?o.min+e:void 0,max:n!==void 0?o.max+n-(o.max-o.min):void 0}}function bR(o,{top:e,left:n,bottom:s,right:l}){return{x:Vy(o.x,n,l),y:Vy(o.y,e,s)}}function Py(o,e){let n=e.min-o.min,s=e.max-o.max;return e.max-e.min<o.max-o.min&&([n,s]=[s,n]),{min:n,max:s}}function CR(o,e){return{x:Py(o.x,e.x),y:Py(o.y,e.y)}}function AR(o,e){let n=.5;const s=ve(o),l=ve(e);return l>s?n=Qa(e.min,e.max-s,o.min):s>l&&(n=Qa(o.min,o.max-l,e.min)),wn(0,1,n)}function MR(o,e){const n={};return e.min!==void 0&&(n.min=e.min-o.min),e.max!==void 0&&(n.max=e.max-o.min),n}const sf=.35;function xR(o=sf){return o===!1?o=0:o===!0&&(o=sf),{x:By(o,"left","right"),y:By(o,"top","bottom")}}function By(o,e,n){return{min:Iy(o,e),max:Iy(o,n)}}function Iy(o,e){return typeof o=="number"?o:o[e]||0}const _R=new WeakMap;class wR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$t(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=S=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(is(S).point)},c=(S,E)=>{const{drag:C,dragPropagation:A,onDragStart:R}=this.getProps();if(C&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=B_(C),!this.openDragLock))return;this.latestPointerEvent=S,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qe(k=>{let F=this.getAxisMotionValue(k).get()||0;if(cn.test(F)){const{projection:N}=this.visualElement;if(N&&N.layout){const K=N.layout.layoutBox[k];K&&(F=ve(K)*(parseFloat(F)/100))}}this.originPoint[k]=F}),R&&qt.postRender(()=>R(S,E)),of(this.visualElement,"transform");const{animationState:z}=this.visualElement;z&&z.setActive("whileDrag",!0)},h=(S,E)=>{this.latestPointerEvent=S,this.latestPanInfo=E;const{dragPropagation:C,dragDirectionLock:A,onDirectionLock:R,onDrag:z}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:k}=E;if(A&&this.currentDirection===null){this.currentDirection=RR(k),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",E.point,k),this.updateAxis("y",E.point,k),this.visualElement.render(),z&&z(S,E)},y=(S,E)=>{this.latestPointerEvent=S,this.latestPanInfo=E,this.stop(S,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Qe(S=>{var E;return this.getAnimationState(S)==="paused"&&((E=this.getAxisMotionValue(S).animation)==null?void 0:E.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new a0(e,{onSessionStart:u,onStart:c,onMove:h,onSessionEnd:y,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:o0(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,l=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!s)return;const{velocity:c}=l;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&qt.postRender(()=>h(s,l))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:l}=this.getProps();if(!s||!Ml(e,l,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=ER(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,l=this.constraints;e&&Ao(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=bR(s.layoutBox,e):this.constraints=!1,this.elastic=xR(n),l!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Qe(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=MR(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ao(e))return!1;const s=e.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=Dw(s,l.root,this.visualElement.getTransformPagePoint());let c=CR(l.layout.layoutBox,u);if(n){const h=n(_w(c));this.hasMutatedConstraints=!!h,h&&(c=HT(h))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:l,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),y=this.constraints||{},p=Qe(v=>{if(!Ml(v,n,this.currentDirection))return;let S=y&&y[v]||{};c&&(S={min:0,max:0});const E=l?200:1e6,C=l?40:1e7,A={type:"inertia",velocity:s?e[v]:0,bounceStiffness:E,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...S};return this.startAxisValueAnimation(v,A)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return of(this.visualElement,e),s.start(Qf(e,s,0,n,this.visualElement,!1))}stopAnimation(){Qe(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qe(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),l=s[n];return l||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Qe(n=>{const{drag:s}=this.getProps();if(!Ml(n,s,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(n);if(l&&l.layout){const{min:c,max:h}=l.layout.layoutBox[n];u.set(e[n]-Ht(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ao(n)||!s||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Qe(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const y=h.get();l[c]=AR({min:y,max:y},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Qe(c=>{if(!Ml(c,e,null))return;const h=this.getAxisMotionValue(c),{min:y,max:p}=this.constraints[c];h.set(Ht(y,p,l[c]))})}addListeners(){if(!this.visualElement.current)return;_R.set(this.visualElement,this);const e=this.visualElement.current,n=Ga(e,"pointerdown",y=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(y)}),s=()=>{const{dragConstraints:y}=this.getProps();Ao(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",s);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),qt.read(s);const c=Wa(window,"resize",()=>this.scalePositionWithinConstraints()),h=l.addEventListener("didUpdate",({delta:y,hasLayoutChanged:p})=>{this.isDragging&&p&&(Qe(v=>{const S=this.getAxisMotionValue(v);S&&(this.originPoint[v]+=y[v].translate,S.set(S.get()+y[v].translate))}),this.visualElement.render())});return()=>{c(),n(),u(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:c=sf,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:l,dragConstraints:u,dragElastic:c,dragMomentum:h}}}function Ml(o,e,n){return(e===!0||e===o)&&(n===null||n===o)}function RR(o,e=10){let n=null;return Math.abs(o.y)>e?n="y":Math.abs(o.x)>e&&(n="x"),n}class DR extends li{constructor(e){super(e),this.removeGroupControls=Xe,this.removeListeners=Xe,this.controls=new wR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xe}unmount(){this.removeGroupControls(),this.removeListeners()}}const Uy=o=>(e,n)=>{o&&qt.postRender(()=>o(e,n))};class NR extends li{constructor(){super(...arguments),this.removePointerDownListener=Xe}onPointerDown(e){this.session=new a0(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:o0(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:l}=this.node.getProps();return{onSessionStart:Uy(e),onStart:Uy(n),onMove:s,onEnd:(u,c)=>{delete this.session,l&&qt.postRender(()=>l(u,c))}}}mount(){this.removePointerDownListener=Ga(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ll={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zy(o,e){return e.max===e.min?0:o/(e.max-e.min)*100}const Pa={correct:(o,e)=>{if(!e.target)return o;if(typeof o=="string")if(pt.test(o))o=parseFloat(o);else return o;const n=zy(o,e.target.x),s=zy(o,e.target.y);return`${n}% ${s}%`}},LR={correct:(o,{treeScale:e,projectionDelta:n})=>{const s=o,l=ii.parse(o);if(l.length>5)return s;const u=ii.createTransformer(o),c=typeof l[0]!="number"?1:0,h=n.x.scale*e.x,y=n.y.scale*e.y;l[0+c]/=h,l[1+c]/=y;const p=Ht(h,y,.5);return typeof l[2+c]=="number"&&(l[2+c]/=p),typeof l[3+c]=="number"&&(l[3+c]/=p),u(l)}};let Ac=!1;class VR extends et.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:l}=this.props,{projection:u}=e;ew(PR),u&&(n.group&&n.group.add(u),s&&s.register&&l&&s.register(u),Ac&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Ll.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:l,isPresent:u}=this.props,{projection:c}=s;return c&&(c.isPresent=u,Ac=!0,l||e.layoutDependency!==n||n===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||qt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),If.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:l}=e;Ac=!0,l&&(l.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(l),s&&s.deregister&&s.deregister(l))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function l0(o){const[e,n]=RT(),s=et.useContext(pf);return zt.jsx(VR,{...o,layoutGroup:s,switchLayoutGroup:et.useContext(qT),isPresent:e,safeToRemove:n})}const PR={borderRadius:{...Pa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pa,borderTopRightRadius:Pa,borderBottomLeftRadius:Pa,borderBottomRightRadius:Pa,boxShadow:LR};function BR(o,e,n){const s=me(o)?o:Ro(o);return s.start(Qf("",s,e,n)),s.animation}const IR=(o,e)=>o.depth-e.depth;class UR{constructor(){this.children=[],this.isDirty=!1}add(e){yf(this.children,e),this.isDirty=!0}remove(e){vf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(IR),this.isDirty=!1,this.children.forEach(e)}}function zR(o,e){const n=xe.now(),s=({timestamp:l})=>{const u=l-n;u>=e&&(ni(s),o(u-e))};return qt.setup(s,!0),()=>ni(s)}const r0=["TopLeft","TopRight","BottomLeft","BottomRight"],kR=r0.length,ky=o=>typeof o=="string"?parseFloat(o):o,Oy=o=>typeof o=="number"||pt.test(o);function OR(o,e,n,s,l,u){l?(o.opacity=Ht(0,n.opacity??1,qR(s)),o.opacityExit=Ht(e.opacity??1,0,GR(s))):u&&(o.opacity=Ht(e.opacity??1,n.opacity??1,s));for(let c=0;c<kR;c++){const h=`border${r0[c]}Radius`;let y=qy(e,h),p=qy(n,h);if(y===void 0&&p===void 0)continue;y||(y=0),p||(p=0),y===0||p===0||Oy(y)===Oy(p)?(o[h]=Math.max(Ht(ky(y),ky(p),s),0),(cn.test(p)||cn.test(y))&&(o[h]+="%")):o[h]=p}(e.rotate||n.rotate)&&(o.rotate=Ht(e.rotate||0,n.rotate||0,s))}function qy(o,e){return o[e]!==void 0?o[e]:o.borderRadius}const qR=u0(0,.5,Zv),GR=u0(.5,.95,Xe);function u0(o,e,n){return s=>s<o?0:s>e?1:n(Qa(o,e,s))}function Gy(o,e){o.min=e.min,o.max=e.max}function Ke(o,e){Gy(o.x,e.x),Gy(o.y,e.y)}function Hy(o,e){o.translate=e.translate,o.scale=e.scale,o.originPoint=e.originPoint,o.origin=e.origin}function Fy(o,e,n,s,l){return o-=e,o=Ol(o,1/n,s),l!==void 0&&(o=Ol(o,1/l,s)),o}function HR(o,e=0,n=1,s=.5,l,u=o,c=o){if(cn.test(e)&&(e=parseFloat(e),e=Ht(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Ht(u.min,u.max,s);o===u&&(h-=e),o.min=Fy(o.min,e,n,h,l),o.max=Fy(o.max,e,n,h,l)}function Yy(o,e,[n,s,l],u,c){HR(o,e[n],e[s],e[l],e.scale,u,c)}const FR=["x","scaleX","originX"],YR=["y","scaleY","originY"];function Ky(o,e,n,s){Yy(o.x,e,FR,n?n.x:void 0,s?s.x:void 0),Yy(o.y,e,YR,n?n.y:void 0,s?s.y:void 0)}function Qy(o){return o.translate===0&&o.scale===1}function c0(o){return Qy(o.x)&&Qy(o.y)}function Xy(o,e){return o.min===e.min&&o.max===e.max}function KR(o,e){return Xy(o.x,e.x)&&Xy(o.y,e.y)}function Zy(o,e){return Math.round(o.min)===Math.round(e.min)&&Math.round(o.max)===Math.round(e.max)}function f0(o,e){return Zy(o.x,e.x)&&Zy(o.y,e.y)}function $y(o){return ve(o.x)/ve(o.y)}function Jy(o,e){return o.translate===e.translate&&o.scale===e.scale&&o.originPoint===e.originPoint}class QR{constructor(){this.members=[]}add(e){yf(this.members,e),e.scheduleRender()}remove(e){if(vf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(l=>e===l);if(n===0)return!1;let s;for(let l=n;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:l}=e.options;l===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function XR(o,e,n){let s="";const l=o.x.translate/e.x,u=o.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((l||u||c)&&(s=`translate3d(${l}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:S,rotateY:E,skewX:C,skewY:A}=n;p&&(s=`perspective(${p}px) ${s}`),v&&(s+=`rotate(${v}deg) `),S&&(s+=`rotateX(${S}deg) `),E&&(s+=`rotateY(${E}deg) `),C&&(s+=`skewX(${C}deg) `),A&&(s+=`skewY(${A}deg) `)}const h=o.x.scale*e.x,y=o.y.scale*e.y;return(h!==1||y!==1)&&(s+=`scale(${h}, ${y})`),s||"none"}const Mc=["","X","Y","Z"],ZR=1e3;let $R=0;function xc(o,e,n,s){const{latestValues:l}=e;l[o]&&(n[o]=l[o],e.setStaticValue(o,0),s&&(s[o]=0))}function d0(o){if(o.hasCheckedOptimisedAppear=!0,o.root===o)return;const{visualElement:e}=o.options;if(!e)return;const n=JT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:l,layoutId:u}=o.options;window.MotionCancelOptimisedAnimation(n,"transform",qt,!(l||u))}const{parent:s}=o;s&&!s.hasCheckedOptimisedAppear&&d0(s)}function h0({attachResizeListener:o,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:l}){return class{constructor(c={},h=e==null?void 0:e()){this.id=$R++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(jR),this.nodes.forEach(iD),this.nodes.forEach(oD),this.nodes.forEach(tD)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new UR)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ef),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const y=this.eventHandlers.get(c);y&&y.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=wT(c)&&!q_(c),this.instance=c;const{layoutId:h,layout:y,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||h)&&(this.isLayoutDirty=!0),o){let v,S=0;const E=()=>this.root.updateBlockedByResize=!1;qt.read(()=>{S=window.innerWidth}),o(c,()=>{const C=window.innerWidth;C!==S&&(S=C,this.root.updateBlockedByResize=!0,v&&v(),v=zR(E,250),Ll.hasAnimatedSinceResize&&(Ll.hasAnimatedSinceResize=!1,this.nodes.forEach(tv)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||y)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:S,hasRelativeLayoutChanged:E,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||p.getDefaultTransition()||uD,{onLayoutAnimationStart:R,onLayoutAnimationComplete:z}=p.getProps(),k=!this.targetLayout||!f0(this.targetLayout,C),F=!S&&E;if(this.options.layoutRoot||this.resumeFrom||F||S&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...Pf(A,"layout"),onPlay:R,onComplete:z};(p.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(v,F)}else S||tv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ni(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aD),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&d0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const S=this.path[v];S.shouldResetTransform=!0,S.updateScroll("snapshot"),S.options.layoutRoot&&S.willUpdate(!1)}const{layoutId:h,layout:y}=this.options;if(h===void 0&&!y)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Wy);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(jy);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nD),this.nodes.forEach(JR),this.nodes.forEach(WR)):this.nodes.forEach(jy),this.clearAllSnapshots();const h=xe.now();ue.delta=wn(0,1e3/60,h-ue.timestamp),ue.timestamp=h,ue.isProcessing=!0,pc.update.process(ue),pc.preRender.process(ue),pc.render.process(ue),ue.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,If.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eD),this.sharedNodes.forEach(sD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ve(this.snapshot.measuredBox.x)&&!ve(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const y=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:y,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!l)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!c0(this.projectionDelta),y=this.getTransformTemplate(),p=y?y(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(h||wi(this.latestValues)||v)&&(l(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let y=this.removeElementScroll(h);return c&&(y=this.removeTransform(y)),cD(y),{animationId:this.root.animationId,measuredBox:h,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return $t();const h=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(fD))){const{scroll:v}=this.root;v&&(Mo(h.x,v.offset.x),Mo(h.y,v.offset.y))}return h}removeElementScroll(c){var y;const h=$t();if(Ke(h,c),(y=this.scroll)!=null&&y.wasRoot)return h;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:S,options:E}=v;v!==this.root&&S&&E.layoutScroll&&(S.wasRoot&&Ke(h,c),Mo(h.x,S.offset.x),Mo(h.y,S.offset.y))}return h}applyTransform(c,h=!1){const y=$t();Ke(y,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&xo(y,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),wi(v.latestValues)&&xo(y,v.latestValues)}return wi(this.latestValues)&&xo(y,this.latestValues),y}removeTransform(c){const h=$t();Ke(h,c);for(let y=0;y<this.path.length;y++){const p=this.path[y];if(!p.instance||!wi(p.latestValues))continue;jc(p.latestValues)&&p.updateSnapshot();const v=$t(),S=p.measurePageBox();Ke(v,S),Ky(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return wi(this.latestValues)&&Ky(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ue.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var E;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==h;if(!(c||y&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:S}=this.options;if(!(!this.layout||!(v||S))){if(this.resolvedRelativeTargetAt=ue.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),Fa(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),Ke(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$t(),this.targetWithTransforms=$t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ke(this.target,this.layout.layoutBox),YT(this.target,this.targetDelta)):Ke(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),Fa(this.relativeTargetOrigin,this.target,C.target),Ke(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||jc(this.parent.latestValues)||FT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let y=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(y=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===ue.timestamp&&(y=!1),y)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;Ke(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,E=this.treeScale.y;Rw(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=$t());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Hy(this.prevProjectionDelta.x,this.projectionDelta.x),Hy(this.prevProjectionDelta.y,this.projectionDelta.y)),Ha(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==E||!Jy(this.projectionDelta.x,this.prevProjectionDelta.x)||!Jy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const y=this.getStack();y&&y.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_o(),this.projectionDelta=_o(),this.projectionDeltaWithTransform=_o()}setAnimationOrigin(c,h=!1){const y=this.snapshot,p=y?y.latestValues:{},v={...this.latestValues},S=_o();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=$t(),C=y?y.source:void 0,A=this.layout?this.layout.source:void 0,R=C!==A,z=this.getStack(),k=!z||z.members.length<=1,F=!!(R&&!k&&this.options.crossfade===!0&&!this.path.some(rD));this.animationProgress=0;let N;this.mixTargetDelta=K=>{const D=K/1e3;ev(S.x,c.x,D),ev(S.y,c.y,D),this.setTargetDelta(S),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fa(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lD(this.relativeTarget,this.relativeTargetOrigin,E,D),N&&KR(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=$t()),Ke(N,this.relativeTarget)),R&&(this.animationValues=v,OR(v,p,this.latestValues,D,F,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,y,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(p=(y=this.resumingFrom)==null?void 0:y.currentAnimation)==null||p.stop(),this.pendingAnimation&&(ni(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qt.update(()=>{Ll.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ro(0)),this.currentAnimation=BR(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:y,layout:p,latestValues:v}=c;if(!(!h||!y||!p)){if(this!==c&&this.layout&&p&&p0(this.options.animationType,this.layout.layoutBox,p.layoutBox)){y=this.target||$t();const S=ve(this.layout.layoutBox.x);y.x.min=c.target.x.min,y.x.max=y.x.min+S;const E=ve(this.layout.layoutBox.y);y.y.min=c.target.y.min,y.y.max=y.y.min+E}Ke(h,y),xo(h,v),Ha(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new QR),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:y}={}){const p=this.getStack();p&&p.promote(this,y),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:y}=c;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(h=!0),!h)return;const p={};y.z&&xc("z",c,p,this.animationValues);for(let v=0;v<Mc.length;v++)xc(`rotate${Mc[v]}`,c,p,this.animationValues),xc(`skew${Mc[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Nl(h==null?void 0:h.pointerEvents)||"",c.transform=y?y(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Nl(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!wi(this.latestValues)&&(c.transform=y?y({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let S=XR(this.projectionDeltaWithTransform,this.treeScale,v);y&&(S=y(v,S)),c.transform=S;const{x:E,y:C}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${C.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const A in Ja){if(v[A]===void 0)continue;const{correct:R,applyTo:z,isCSSVariable:k}=Ja[A],F=S==="none"?v[A]:R(v[A],p);if(z){const N=z.length;for(let K=0;K<N;K++)c[z[K]]=F}else k?this.options.visualElement.renderState.vars[A]=F:c[A]=F}this.options.layoutId&&(c.pointerEvents=p===this?Nl(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(Wy),this.root.sharedNodes.clear()}}}function JR(o){o.updateLayout()}function WR(o){var n;const e=((n=o.resumeFrom)==null?void 0:n.snapshot)||o.snapshot;if(o.isLead()&&o.layout&&e&&o.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:l}=o.layout,{animationType:u}=o.options,c=e.source!==o.layout.source;u==="size"?Qe(S=>{const E=c?e.measuredBox[S]:e.layoutBox[S],C=ve(E);E.min=s[S].min,E.max=E.min+C}):p0(u,e.layoutBox,s)&&Qe(S=>{const E=c?e.measuredBox[S]:e.layoutBox[S],C=ve(s[S]);E.max=E.min+C,o.relativeTarget&&!o.currentAnimation&&(o.isProjectionDirty=!0,o.relativeTarget[S].max=o.relativeTarget[S].min+C)});const h=_o();Ha(h,s,e.layoutBox);const y=_o();c?Ha(y,o.applyTransform(l,!0),e.measuredBox):Ha(y,s,e.layoutBox);const p=!c0(h);let v=!1;if(!o.resumeFrom){const S=o.getClosestProjectingParent();if(S&&!S.resumeFrom){const{snapshot:E,layout:C}=S;if(E&&C){const A=$t();Fa(A,e.layoutBox,E.layoutBox);const R=$t();Fa(R,s,C.layoutBox),f0(A,R)||(v=!0),S.options.layoutRoot&&(o.relativeTarget=R,o.relativeTargetOrigin=A,o.relativeParent=S)}}}o.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:y,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(o.isLead()){const{onExitComplete:s}=o.options;s&&s()}o.options.transition=void 0}function jR(o){o.parent&&(o.isProjecting()||(o.isProjectionDirty=o.parent.isProjectionDirty),o.isSharedProjectionDirty||(o.isSharedProjectionDirty=!!(o.isProjectionDirty||o.parent.isProjectionDirty||o.parent.isSharedProjectionDirty)),o.isTransformDirty||(o.isTransformDirty=o.parent.isTransformDirty))}function tD(o){o.isProjectionDirty=o.isSharedProjectionDirty=o.isTransformDirty=!1}function eD(o){o.clearSnapshot()}function Wy(o){o.clearMeasurements()}function jy(o){o.isLayoutDirty=!1}function nD(o){const{visualElement:e}=o.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),o.resetTransform()}function tv(o){o.finishAnimation(),o.targetDelta=o.relativeTarget=o.target=void 0,o.isProjectionDirty=!0}function iD(o){o.resolveTargetDelta()}function oD(o){o.calcProjection()}function aD(o){o.resetSkewAndRotation()}function sD(o){o.removeLeadSnapshot()}function ev(o,e,n){o.translate=Ht(e.translate,0,n),o.scale=Ht(e.scale,1,n),o.origin=e.origin,o.originPoint=e.originPoint}function nv(o,e,n,s){o.min=Ht(e.min,n.min,s),o.max=Ht(e.max,n.max,s)}function lD(o,e,n,s){nv(o.x,e.x,n.x,s),nv(o.y,e.y,n.y,s)}function rD(o){return o.animationValues&&o.animationValues.opacityExit!==void 0}const uD={duration:.45,ease:[.4,0,.1,1]},iv=o=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(o),ov=iv("applewebkit/")&&!iv("chrome/")?Math.round:Xe;function av(o){o.min=ov(o.min),o.max=ov(o.max)}function cD(o){av(o.x),av(o.y)}function p0(o,e,n){return o==="position"||o==="preserve-aspect"&&!gR($y(e),$y(n),.2)}function fD(o){var e;return o!==o.root&&((e=o.scroll)==null?void 0:e.wasRoot)}const dD=h0({attachResizeListener:(o,e)=>Wa(o,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_c={current:void 0},m0=h0({measureScroll:o=>({x:o.scrollLeft,y:o.scrollTop}),defaultParent:()=>{if(!_c.current){const o=new dD({});o.mount(window),o.setOptions({layoutScroll:!0}),_c.current=o}return _c.current},resetTransform:(o,e)=>{o.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:o=>window.getComputedStyle(o).position==="fixed"}),hD={pan:{Feature:NR},drag:{Feature:DR,ProjectionNode:m0,MeasureLayout:l0}};function sv(o,e,n){const{props:s}=o;o.animationState&&s.whileHover&&o.animationState.setActive("whileHover",n==="Start");const l="onHover"+n,u=s[l];u&&qt.postRender(()=>u(e,is(e)))}class pD extends li{mount(){const{current:e}=this.node;e&&(this.unmount=I_(e,(n,s)=>(sv(this.node,s,"Start"),l=>sv(this.node,l,"End"))))}unmount(){}}class mD extends li{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ts(Wa(this.node.current,"focus",()=>this.onFocus()),Wa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lv(o,e,n){const{props:s}=o;if(o.current instanceof HTMLButtonElement&&o.current.disabled)return;o.animationState&&s.whileTap&&o.animationState.setActive("whileTap",n==="Start");const l="onTap"+(n==="End"?"":n),u=s[l];u&&qt.postRender(()=>u(e,is(e)))}class gD extends li{mount(){const{current:e}=this.node;e&&(this.unmount=O_(e,(n,s)=>(lv(this.node,s,"Start"),(l,{success:u})=>lv(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lf=new WeakMap,wc=new WeakMap,yD=o=>{const e=lf.get(o.target);e&&e(o)},vD=o=>{o.forEach(yD)};function TD({root:o,...e}){const n=o||document;wc.has(n)||wc.set(n,{});const s=wc.get(n),l=JSON.stringify(e);return s[l]||(s[l]=new IntersectionObserver(vD,{root:o,...e})),s[l]}function SD(o,e,n){const s=TD(e);return lf.set(o,n),s.observe(o),()=>{lf.delete(o),s.unobserve(o)}}const ED={some:0,all:1};class bD extends li{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:l="some",once:u}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof l=="number"?l:ED[l]},h=y=>{const{isIntersecting:p}=y;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:S}=this.node.getProps(),E=p?v:S;E&&E(y)};return SD(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(CD(e,n))&&this.startObserver()}unmount(){}}function CD({viewport:o={}},{viewport:e={}}={}){return n=>o[n]!==e[n]}const AD={inView:{Feature:bD},tap:{Feature:gD},focus:{Feature:mD},hover:{Feature:pD}},MD={layout:{ProjectionNode:m0,MeasureLayout:l0}},xD={...cR,...AD,...hD,...MD},_D=xw(xD,kw);function rv(o,e){return e.split(".").reduce((n,s)=>n?n[s]:void 0,o)}function uv(o,e,n){const s=e.split("."),l=s.pop();let u=o;for(const c of s)(typeof u[c]!="object"||u[c]===null)&&(u[c]={}),u=u[c];u[l]=n}function rf(o,e=[],n=.7){if(!e||e.length===0)return{ask:!0,reason:"missing"};const s=[...e].sort((l,u)=>u.confidence-l.confidence)[0];return s.confidence>=n?{value:s.value,ask:!1}:{value:s.value,ask:!0,reason:"low_confidence"}}function Mt(o){var s;if(typeof window<"u"&&window.t)try{const l=window.t(o);if(l&&l!==o)return console.log(`Chatbot: Using global translation for "${o}":`,l),l}catch{console.log("Chatbot: Global translation failed, using fallback")}const e={de:{"ai.chatbot.title":"Zufahrtsschutz-Assistent","ai.chatbot.welcome":"Willkommen zum Zufahrtsschutz-Assistenten. Ich stelle nur Fragen, die noch fehlen oder unsicher sind. Bereit?","ai.chatbot.assetQuestion":"Welche Schutzgüter möchten Sie absichern?","ai.chatbot.inputPlaceholder":"Antwort eingeben...","ai.chatbot.sendButton":"Senden","ai.chatbot.stakeholderQuestion":"Wer sind die relevanten Stakeholder (Behörden, Veranstalter, Betreiber)?","ai.chatbot.restRiskQuestion":"Welches akzeptable Restrisiko gilt?","ai.chatbot.operationalQuestion":"Betriebsanforderungen (mehrfach wählbar)","ai.chatbot.threatQuestion":"Welche Art fahrzeuggestützter Bedrohung ist zu erwarten?","ai.chatbot.vehicleTypesQuestion":"Welche Fahrzeugtypen sind relevant?","ai.chatbot.accessCorridorsQuestion":"Wo könnten Fahrzeuge eindringen? (Karte markieren oder beschreiben)","ai.chatbot.speedQuestion":"Maximale Zufahrtsgeschwindigkeit (km/h)","ai.chatbot.angleQuestion":"Wahrscheinlicher Anprallwinkel (°)","ai.chatbot.groundQuestion":"Untergrund/Fundamente am Standort","ai.chatbot.riskMatrixQuestion":"Risikobewertung: Eintrittswahrscheinlichkeit & Schadensausmaß","ai.chatbot.completionMessage":"Danke! Alle erforderlichen Angaben sind vorhanden. Möchten Sie den normkonformen PDF-Plan erzeugen?","ai.chatbot.infoPrefix":"Hinweis: ","ai.chatbot.assetQuestionInfo":"Grundlage für Schutzziel & Schutzklasse (DIN SPEC 91414-2 / ISO 22343-2)","ai.chatbot.restRiskQuestionInfo":"Steuert Schutzklasse/Sicherungsgrad (DIN SPEC 91414-2)","ai.chatbot.speedQuestionInfo":"Pflichtparameter für FSB-Performance (ISO 22343-2/-1)","ai.chatbot.angleQuestionInfo":"Pflichtparameter für FSB-Performance (ISO 22343-2/-1)","ai.chatbot.riskMatrixQuestionInfo":"Erzeugt Sicherungsgrad & Schutzklasse (DIN SPEC 91414-2)","ai.chatbot.assetOptions":"Menschenmenge,Gebäude,KRITIS-Prozess,Veranstaltungsfläche","ai.chatbot.assetPlaceholder":"z. B. Menschenmenge, Bühne","ai.chatbot.stakeholderOptions":"Behörden,Veranstalter,Betreiber","ai.chatbot.restRiskOptions":"niedrig,mittel,hoch","ai.chatbot.operationalOptions":"Feuerwehrzufahrt,Fluchtwege,Verkehrssicherheit,Betriebssicherheit","ai.chatbot.threatOptions":"intentional,unbeabsichtigt,beides","ai.chatbot.vehicleOptions":"PKW,Transporter,LKW,Bus","ai.chatbot.groundOptions":"Asphalt,Beton,Pflaster,Erde,Unbekannt","ai.chatbot.riskMatrixOptions":"EW:niedrig|SA:gering,EW:niedrig|SA:mittel,EW:mittel|SA:mittel,EW:hoch|SA:schwer","ai.chatbot.accessCorridorsPlaceholder":"Polyline/Polygon auswählen oder kurz beschreiben"},en:{"ai.chatbot.title":"Access Protection Assistant","ai.chatbot.welcome":"Welcome to the Access Protection Assistant. I only ask questions that are still missing or uncertain. Ready?","ai.chatbot.assetQuestion":"Which protective assets would you like to secure?","ai.chatbot.inputPlaceholder":"Enter answer...","ai.chatbot.sendButton":"Send","ai.chatbot.stakeholderQuestion":"Who are the relevant stakeholders (authorities, organizers, operators)?","ai.chatbot.restRiskQuestion":"What acceptable residual risk applies?","ai.chatbot.operationalQuestion":"Operational requirements (multiple choice)","ai.chatbot.threatQuestion":"What type of vehicle-based threat is expected?","ai.chatbot.vehicleTypesQuestion":"Which vehicle types are relevant?","ai.chatbot.accessCorridorsQuestion":"Where could vehicles penetrate? (Mark on map or describe)","ai.chatbot.speedQuestion":"Maximum access speed (km/h)","ai.chatbot.angleQuestion":"Probable impact angle (°)","ai.chatbot.groundQuestion":"Ground/foundations at the site","ai.chatbot.riskMatrixQuestion":"Risk assessment: probability of occurrence & extent of damage","ai.chatbot.completionMessage":"Thank you! All required information is available. Would you like to generate the standards-compliant PDF plan?","ai.chatbot.infoPrefix":"Note: ","ai.chatbot.assetQuestionInfo":"Basis for Protection Goal & Protection Class (DIN SPEC 91414-2 / ISO 22343-2)","ai.chatbot.restRiskQuestionInfo":"Controls Protection Class/Security Level (DIN SPEC 91414-2)","ai.chatbot.speedQuestionInfo":"Required parameter for FSB performance (ISO 22343-2/-1)","ai.chatbot.angleQuestionInfo":"Required parameter for FSB performance (ISO 22343-2/-1)","ai.chatbot.riskMatrixQuestionInfo":"Generates Security Level & Protection Class (DIN SPEC 91414-2)","ai.chatbot.assetOptions":"Crowd,Building,CRITIS Process,Event Area","ai.chatbot.assetPlaceholder":"e.g. crowd, stage","ai.chatbot.stakeholderOptions":"Authorities,Organizers,Operators","ai.chatbot.restRiskOptions":"low,medium,high","ai.chatbot.operationalOptions":"Fire Brigade Access,Escape Routes,Traffic Safety,Operational Safety","ai.chatbot.threatOptions":"intentional,unintentional,both","ai.chatbot.vehicleOptions":"Car,Van,Truck,Bus","ai.chatbot.groundOptions":"Asphalt,Concrete,Pavement,Earth,Unknown","ai.chatbot.riskMatrixOptions":"PO:low|SD:medium,PO:medium|SD:medium,PO:high|SD:severe","ai.chatbot.accessCorridorsPlaceholder":"Select polyline/polygon or describe briefly"}};let n="de";if(typeof window<"u")if(window.currentLanguage)n=window.currentLanguage,console.log("Chatbot: Language from window.currentLanguage:",n);else if(window.translations&&window.translations.currentLanguage)n=window.translations.currentLanguage,console.log("Chatbot: Language from window.translations.currentLanguage:",n);else{const l=document.querySelector('.lang-btn[data-lang="de"].active'),u=document.querySelector('.lang-btn[data-lang="en"].active');if(console.log("Chatbot: DOM flag detection - German flag:",l,"English flag:",u),u)n="en",console.log("Chatbot: Language from DOM flag detection (EN):",n);else if(l)n="de",console.log("Chatbot: Language from DOM flag detection (DE):",n);else{console.log("Chatbot: Language detection failed, using default (DE)");const c=document.querySelectorAll(".lang-btn");console.log("Chatbot: All lang-btn elements found:",c),c.forEach((h,y)=>{console.log(`Chatbot: lang-btn ${y}:`,{classList:h.classList.toString(),dataLang:h.dataset.lang,isActive:h.classList.contains("active")})})}}return console.log(`Chatbot translation for key "${o}": language="${n}", result="${((s=e[n])==null?void 0:s[o])||o}"`),e[n]&&e[n][o]?e[n][o]:o}function wD(){return[{id:"schutzgueter",label:Mt("ai.chatbot.assetQuestion"),field:"schutzgüter",type:"chips",options:Mt("ai.chatbot.assetOptions").split(","),placeholder:Mt("ai.chatbot.assetPlaceholder"),info:Mt("ai.chatbot.assetQuestionInfo")},{id:"stakeholder",label:Mt("ai.chatbot.stakeholderQuestion"),field:"stakeholder",type:"chips",options:Mt("ai.chatbot.stakeholderOptions").split(",")},{id:"restrisiko",label:Mt("ai.chatbot.restRiskQuestion"),field:"restrisiko.klasse",type:"select",options:Mt("ai.chatbot.restRiskOptions").split(","),info:Mt("ai.chatbot.restRiskQuestionInfo")},{id:"betrieb",label:Mt("ai.chatbot.operationalQuestion"),field:"betrieb",type:"multiselect",options:Mt("ai.chatbot.operationalOptions").split(",")},{id:"bedrohung",label:Mt("ai.chatbot.threatQuestion"),field:"risiko.bedrohung.art",type:"select",options:Mt("ai.chatbot.threatOptions").split(",")},{id:"fahrzeugtypen",label:Mt("ai.chatbot.vehicleTypesQuestion"),field:"risiko.bedrohung.fahrzeugtypen",type:"chips",options:Mt("ai.chatbot.vehicleOptions").split(",")},{id:"anfahrkorridore",label:Mt("ai.chatbot.accessCorridorsQuestion"),field:"risiko.site.anfahrkorridore",type:"geo",placeholder:Mt("ai.chatbot.accessCorridorsPlaceholder")},{id:"geschwindigkeit",label:Mt("ai.chatbot.speedQuestion"),field:"risiko.dynamik.v_kmh",type:"number",info:Mt("ai.chatbot.speedQuestionInfo"),resolver:o=>rf("risiko.dynamik.v_kmh",o,.7)},{id:"winkel",label:Mt("ai.chatbot.angleQuestion"),field:"risiko.dynamik.winkel_grad",type:"number",info:Mt("ai.chatbot.angleQuestionInfo"),resolver:o=>rf("risiko.dynamik.winkel_grad",o,.7)},{id:"untergrund",label:Mt("ai.chatbot.groundQuestion"),field:"risiko.site.untergrund",type:"select",options:Mt("ai.chatbot.groundOptions").split(",")},{id:"risikomatrix",label:Mt("ai.chatbot.riskMatrixQuestion"),field:"risiko.matrix",type:"select",options:Mt("ai.chatbot.riskMatrixOptions").split(","),info:Mt("ai.chatbot.riskMatrixQuestionInfo")}]}function RD({open:o,onToggle:e}){return zt.jsx("button",{"aria-label":Mt("ai.chatbot.title"),onClick:e,className:"zb-btn",children:zt.jsx("span",{className:"text-xl",children:o?"×":"💬"})})}function DD({role:o,text:e}){const n=o==="bot";return zt.jsx("div",{className:`zb-msg ${n?"zb-msg-left":"zb-msg-right"}`,children:zt.jsx("div",{className:`zb-bubble ${n?"zb-bot":"zb-user"}`,children:e})})}function ND({onSend:o}){const[e,n]=et.useState("");return zt.jsxs("div",{className:"zb-input",children:[zt.jsx("input",{className:"zb-input-field",placeholder:Mt("ai.chatbot.inputPlaceholder"),value:e,onChange:s=>n(s.target.value),onKeyDown:s=>{s.key==="Enter"&&e.trim()&&(o(e.trim()),n(""))}}),zt.jsx("button",{className:"zb-input-send",onClick:()=>{e.trim()&&(o(e.trim()),n(""))},children:Mt("ai.chatbot.sendButton")})]})}function LD({planningState:o,setPlanningState:e,getCandidatesFor:n}){const[s,l]=et.useState({}),u=o??s,c=e??(D=>l(X=>D(X)));window.planningState=u;const[h,y]=et.useState(!0),[p,v]=et.useState([]),[S,E]=et.useState(null),[C,A]=et.useState(!1),R=et.useRef(null);et.useEffect(()=>{p.length===0&&z(Mt("ai.chatbot.welcome"))},[]),et.useEffect(()=>{p.length>0&&(R.current&&(R.current.scrollTop=R.current.scrollHeight),setTimeout(()=>{R.current&&(R.current.scrollTop=R.current.scrollHeight)},50))},[p.length]);function z(D){v(X=>[...X,{role:"bot",text:D}])}function k(D,X){v(Z=>[...Z,{role:"user",text:D,field:X}])}const F=D=>{const X=rv(u,D.field);if(X!=null&&X!=="")return{ask:!1,value:X};const Z=n?n(D.field):[];return D.resolver?D.resolver(Z):rf(D.field,Z,.7)};function N(){for(const D of wD()){if(D.dependsOn&&D.dependsOn.find(H=>!rv(u,H)))continue;const X=F(D);if(X.ask)return D;X.value!==void 0&&c(Z=>{const H={...Z??{}};return uv(H,D.field,X.value),H})}return null}et.useEffect(()=>{if(C||S)return;const D=N();if(D){E(D);const X=D.label,Z=D.info?Mt("ai.chatbot.infoPrefix")+D.info:"";z(X+(Z?`

${Z}`:""))}else!C&&p.length>0&&(z(Mt("ai.chatbot.completionMessage")),A(!0))},[u,h,S,C]),et.useEffect(()=>{const D=()=>{console.log("Language changed, re-rendering chatbot"),v([]),E(null),A(!1),setTimeout(()=>{z(Mt("ai.chatbot.welcome"))},100)};window.addEventListener("languageChanged",D);const X=setInterval(()=>{const Z=window.currentLanguage;Z&&Z!==window.lastChatbotLanguage&&(window.lastChatbotLanguage=Z,console.log("Chatbot: Language change detected via polling:",Z),D());const H=document.querySelector('.lang-btn[data-lang="de"].active'),ot=document.querySelector('.lang-btn[data-lang="en"].active');let lt=null;ot?lt="en":H&&(lt="de"),lt&&lt!==window.lastChatbotDetectedLanguage&&(window.lastChatbotDetectedLanguage=lt,console.log("Chatbot: Language change detected via DOM flags:",lt),D())},100);return()=>{window.removeEventListener("languageChanged",D),clearInterval(X)}},[]);function K(D){if(!S){/^(ja|start|bereit|ok|okay|los)/i.test(D)&&(A(!1),E(null)),k(D);return}k(D,S.field);let X=D;if(S.type==="number"){const Z=parseFloat(D.replace(",","."));X=isNaN(Z)?void 0:Z}else S.type==="chips"?X=D.split(",").map(Z=>Z.trim()).filter(Boolean):S.type==="multiselect"?X=D.split(",").map(Z=>Z.trim()).filter(Boolean):S.type==="select"?X=D.trim():S.type==="bool"&&(X=/^(ja|true|y|yes)$/i.test(D));c(Z=>{const H={...Z??{}};return X!==void 0&&uv(H,S.field,X),H}),E(null)}return zt.jsxs(zt.Fragment,{children:[zt.jsx(RD,{open:h,onToggle:()=>y(D=>!D)}),zt.jsx(X_,{children:h&&zt.jsxs(_D.aside,{initial:{x:380,opacity:0},animate:{x:0,opacity:1},exit:{x:380,opacity:0},transition:{type:"spring",stiffness:240,damping:28},className:"zb-panel","aria-label":"Zufahrtsschutz-Assistent Panel",children:[zt.jsx("header",{className:"zb-header",children:zt.jsx("div",{className:"zb-title",children:Mt("ai.chatbot.title")})}),zt.jsx("div",{className:"zb-messages",ref:R,children:p.map((D,X)=>zt.jsx(DD,{role:D.role,text:D.text},X))}),zt.jsx(ND,{onSend:K})]})})]})}var Rc={exports:{}},Ba={},Dc={exports:{}},Nc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function VD(){return cv||(cv=1,function(o){function e(P,q){var J=P.length;P.push(q);t:for(;0<J;){var rt=J-1>>>1,x=P[rt];if(0<l(x,q))P[rt]=q,P[J]=x,J=rt;else break t}}function n(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var q=P[0],J=P.pop();if(J!==q){P[0]=J;t:for(var rt=0,x=P.length,Q=x>>>1;rt<Q;){var nt=2*(rt+1)-1,j=P[nt],ut=nt+1,xt=P[ut];if(0>l(j,J))ut<x&&0>l(xt,j)?(P[rt]=xt,P[ut]=J,rt=ut):(P[rt]=j,P[nt]=J,rt=nt);else if(ut<x&&0>l(xt,J))P[rt]=xt,P[ut]=J,rt=ut;else break t}}return q}function l(P,q){var J=P.sortIndex-q.sortIndex;return J!==0?J:P.id-q.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;o.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();o.unstable_now=function(){return c.now()-h}}var y=[],p=[],v=1,S=null,E=3,C=!1,A=!1,R=!1,z=!1,k=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function K(P){for(var q=n(p);q!==null;){if(q.callback===null)s(p);else if(q.startTime<=P)s(p),q.sortIndex=q.expirationTime,e(y,q);else break;q=n(p)}}function D(P){if(R=!1,K(P),!A)if(n(y)!==null)A=!0,X||(X=!0,Tt());else{var q=n(p);q!==null&&tt(D,q.startTime-P)}}var X=!1,Z=-1,H=5,ot=-1;function lt(){return z?!0:!(o.unstable_now()-ot<H)}function yt(){if(z=!1,X){var P=o.unstable_now();ot=P;var q=!0;try{t:{A=!1,R&&(R=!1,F(Z),Z=-1),C=!0;var J=E;try{e:{for(K(P),S=n(y);S!==null&&!(S.expirationTime>P&&lt());){var rt=S.callback;if(typeof rt=="function"){S.callback=null,E=S.priorityLevel;var x=rt(S.expirationTime<=P);if(P=o.unstable_now(),typeof x=="function"){S.callback=x,K(P),q=!0;break e}S===n(y)&&s(y),K(P)}else s(y);S=n(y)}if(S!==null)q=!0;else{var Q=n(p);Q!==null&&tt(D,Q.startTime-P),q=!1}}break t}finally{S=null,E=J,C=!1}q=void 0}}finally{q?Tt():X=!1}}}var Tt;if(typeof N=="function")Tt=function(){N(yt)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,$=dt.port2;dt.port1.onmessage=yt,Tt=function(){$.postMessage(null)}}else Tt=function(){k(yt,0)};function tt(P,q){Z=k(function(){P(o.unstable_now())},q)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(P){P.callback=null},o.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<P?Math.floor(1e3/P):5},o.unstable_getCurrentPriorityLevel=function(){return E},o.unstable_next=function(P){switch(E){case 1:case 2:case 3:var q=3;break;default:q=E}var J=E;E=q;try{return P()}finally{E=J}},o.unstable_requestPaint=function(){z=!0},o.unstable_runWithPriority=function(P,q){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var J=E;E=P;try{return q()}finally{E=J}},o.unstable_scheduleCallback=function(P,q,J){var rt=o.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?rt+J:rt):J=rt,P){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=J+x,P={id:v++,callback:q,priorityLevel:P,startTime:J,expirationTime:x,sortIndex:-1},J>rt?(P.sortIndex=J,e(p,P),n(y)===null&&P===n(p)&&(R?(F(Z),Z=-1):R=!0,tt(D,J-rt))):(P.sortIndex=x,e(y,P),A||C||(A=!0,X||(X=!0,Tt()))),P},o.unstable_shouldYield=lt,o.unstable_wrapCallback=function(P){var q=E;return function(){var J=E;E=q;try{return P.apply(this,arguments)}finally{E=J}}}}(Nc)),Nc}var fv;function PD(){return fv||(fv=1,Dc.exports=VD()),Dc.exports}var Lc={exports:{}},he={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function BD(){if(dv)return he;dv=1;var o=hf();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,p,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:p,implementation:v}}var c=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return he.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,he.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,v)},he.flushSync=function(y){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,y)return y()}finally{c.T=p,s.p=v,s.d.f()}},he.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},he.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},he.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,S=h(v,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:C}):v==="script"&&s.d.X(y,{crossOrigin:S,integrity:E,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},he.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},he.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,S=h(v,p.crossOrigin);s.d.L(y,v,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},he.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=h(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},he.requestFormReset=function(y){s.d.r(y)},he.unstable_batchedUpdates=function(y,p){return y(p)},he.useFormState=function(y,p,v){return c.H.useFormState(y,p,v)},he.useFormStatus=function(){return c.H.useHostTransitionStatus()},he.version="19.1.1",he}var hv;function ID(){if(hv)return Lc.exports;hv=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),Lc.exports=BD(),Lc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function UD(){if(pv)return Ba;pv=1;var o=PD(),e=hf(),n=ID();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,r=i;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(r=f.return,r!==null){a=r;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return h(f),t;if(g===r)return h(f),i;g=g.sibling}throw Error(s(188))}if(a.return!==r.return)a=f,r=g;else{for(var T=!1,b=f.child;b;){if(b===a){T=!0,a=f,r=g;break}if(b===r){T=!0,r=f,a=g;break}b=b.sibling}if(!T){for(b=g.child;b;){if(b===a){T=!0,a=g,r=f;break}if(b===r){T=!0,r=g,a=f;break}b=b.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==r)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),N=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),ot=Symbol.for("react.activity"),lt=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function Tt(t){return t===null||typeof t!="object"?null:(t=yt&&t[yt]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Symbol.for("react.client.reference");function $(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===dt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case z:return"Profiler";case R:return"StrictMode";case D:return"Suspense";case X:return"SuspenseList";case ot:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case N:return(t.displayName||"Context")+".Provider";case F:return(t._context.displayName||"Context")+".Consumer";case K:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z:return i=t.displayName||null,i!==null?i:$(t.type)||"Memo";case H:i=t._payload,t=t._init;try{return $(t(i))}catch{}}return null}var tt=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},rt=[],x=-1;function Q(t){return{current:t}}function nt(t){0>x||(t.current=rt[x],rt[x]=null,x--)}function j(t,i){x++,rt[x]=t.current,t.current=i}var ut=Q(null),xt=Q(null),mt=Q(null),_e=Q(null);function kt(t,i){switch(j(mt,i),j(xt,t),j(ut,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Tm(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Tm(i),t=Sm(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ut),j(ut,t)}function Dn(){nt(ut),nt(xt),nt(mt)}function Jl(t){t.memoizedState!==null&&j(_e,t);var i=ut.current,a=Sm(i,t.type);i!==a&&(j(xt,t),j(ut,a))}function os(t){xt.current===t&&(nt(ut),nt(xt)),_e.current===t&&(nt(_e),wa._currentValue=J)}var Wl=Object.prototype.hasOwnProperty,jl=o.unstable_scheduleCallback,tr=o.unstable_cancelCallback,w0=o.unstable_shouldYield,R0=o.unstable_requestPaint,tn=o.unstable_now,D0=o.unstable_getCurrentPriorityLevel,jf=o.unstable_ImmediatePriority,td=o.unstable_UserBlockingPriority,as=o.unstable_NormalPriority,N0=o.unstable_LowPriority,ed=o.unstable_IdlePriority,L0=o.log,V0=o.unstable_setDisableYieldValue,Io=null,we=null;function Nn(t){if(typeof L0=="function"&&V0(t),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(Io,t)}catch{}}var Re=Math.clz32?Math.clz32:I0,P0=Math.log,B0=Math.LN2;function I0(t){return t>>>=0,t===0?32:31-(P0(t)/B0|0)|0}var ss=256,ls=4194304;function ri(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function rs(t,i,a){var r=t.pendingLanes;if(r===0)return 0;var f=0,g=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var b=r&134217727;return b!==0?(r=b&~g,r!==0?f=ri(r):(T&=b,T!==0?f=ri(T):a||(a=b&~t,a!==0&&(f=ri(a))))):(b=r&~g,b!==0?f=ri(b):T!==0?f=ri(T):a||(a=r&~t,a!==0&&(f=ri(a)))),f===0?0:i!==0&&i!==f&&(i&g)===0&&(g=f&-f,a=i&-i,g>=a||g===32&&(a&4194048)!==0)?i:f}function Uo(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function U0(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nd(){var t=ss;return ss<<=1,(ss&4194048)===0&&(ss=256),t}function id(){var t=ls;return ls<<=1,(ls&62914560)===0&&(ls=4194304),t}function er(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function zo(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function z0(t,i,a,r,f,g){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,M=t.expirationTimes,B=t.hiddenUpdates;for(a=T&~a;0<a;){var O=31-Re(a),Y=1<<O;b[O]=0,M[O]=-1;var I=B[O];if(I!==null)for(B[O]=null,O=0;O<I.length;O++){var U=I[O];U!==null&&(U.lane&=-536870913)}a&=~Y}r!==0&&od(t,r,0),g!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=g&~(T&~i))}function od(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var r=31-Re(i);t.entangledLanes|=i,t.entanglements[r]=t.entanglements[r]|1073741824|a&4194090}function ad(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var r=31-Re(a),f=1<<r;f&i|t[r]&i&&(t[r]|=i),a&=~f}}function nr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ir(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function sd(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:km(t.type))}function k0(t,i){var a=q.p;try{return q.p=t,i()}finally{q.p=a}}var Ln=Math.random().toString(36).slice(2),fe="__reactFiber$"+Ln,Se="__reactProps$"+Ln,Ii="__reactContainer$"+Ln,or="__reactEvents$"+Ln,O0="__reactListeners$"+Ln,q0="__reactHandles$"+Ln,ld="__reactResources$"+Ln,ko="__reactMarker$"+Ln;function ar(t){delete t[fe],delete t[Se],delete t[or],delete t[O0],delete t[q0]}function Ui(t){var i=t[fe];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ii]||a[fe]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Am(t);t!==null;){if(a=t[fe])return a;t=Am(t)}return i}t=a,a=t.parentNode}return null}function zi(t){if(t=t[fe]||t[Ii]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Oo(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function ki(t){var i=t[ld];return i||(i=t[ld]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ne(t){t[ko]=!0}var rd=new Set,ud={};function ui(t,i){Oi(t,i),Oi(t+"Capture",i)}function Oi(t,i){for(ud[t]=i,t=0;t<i.length;t++)rd.add(i[t])}var G0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cd={},fd={};function H0(t){return Wl.call(fd,t)?!0:Wl.call(cd,t)?!1:G0.test(t)?fd[t]=!0:(cd[t]=!0,!1)}function us(t,i,a){if(H0(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function cs(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function fn(t,i,a,r){if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+r)}}var sr,dd;function qi(t){if(sr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);sr=i&&i[1]||"",dd=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sr+t+dd}var lr=!1;function rr(t,i){if(!t||lr)return"";lr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(U){var I=U}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(U){I=U}t.call(Y.prototype)}}else{try{throw Error()}catch(U){I=U}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(U){if(U&&I&&typeof U.stack=="string")return[U.stack,I.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=r.DetermineComponentFrameRoot(),T=g[0],b=g[1];if(T&&b){var M=T.split(`
`),B=b.split(`
`);for(f=r=0;r<M.length&&!M[r].includes("DetermineComponentFrameRoot");)r++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(r===M.length||f===B.length)for(r=M.length-1,f=B.length-1;1<=r&&0<=f&&M[r]!==B[f];)f--;for(;1<=r&&0<=f;r--,f--)if(M[r]!==B[f]){if(r!==1||f!==1)do if(r--,f--,0>f||M[r]!==B[f]){var O=`
`+M[r].replace(" at new "," at ");return t.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",t.displayName)),O}while(1<=r&&0<=f);break}}}finally{lr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?qi(a):""}function F0(t){switch(t.tag){case 26:case 27:case 5:return qi(t.type);case 16:return qi("Lazy");case 13:return qi("Suspense");case 19:return qi("SuspenseList");case 0:case 15:return rr(t.type,!1);case 11:return rr(t.type.render,!1);case 1:return rr(t.type,!0);case 31:return qi("Activity");default:return""}}function hd(t){try{var i="";do i+=F0(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ue(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pd(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Y0(t){var i=pd(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),r=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){r=""+T,g.call(this,T)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(T){r=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function fs(t){t._valueTracker||(t._valueTracker=Y0(t))}function md(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),r="";return t&&(r=pd(t)?t.checked?"true":"false":t.value),t=r,t!==a?(i.setValue(t),!0):!1}function ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var K0=/[\n"\\]/g;function ze(t){return t.replace(K0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ur(t,i,a,r,f,g,T,b){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ue(i)):t.value!==""+Ue(i)&&(t.value=""+Ue(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?cr(t,T,Ue(i)):a!=null?cr(t,T,Ue(a)):r!=null&&t.removeAttribute("value"),f==null&&g!=null&&(t.defaultChecked=!!g),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Ue(b):t.removeAttribute("name")}function gd(t,i,a,r,f,g,T,b){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),i!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;a=a!=null?""+Ue(a):"",i=i!=null?""+Ue(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}r=r??f,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=b?t.checked:!!r,t.defaultChecked=!!r,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function cr(t,i,a){i==="number"&&ds(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Gi(t,i,a,r){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&r&&(t[a].defaultSelected=!0)}else{for(a=""+Ue(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,r&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function yd(t,i,a){if(i!=null&&(i=""+Ue(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ue(a):""}function vd(t,i,a,r){if(i==null){if(r!=null){if(a!=null)throw Error(s(92));if(tt(r)){if(1<r.length)throw Error(s(93));r=r[0]}a=r}a==null&&(a=""),i=a}a=Ue(i),t.defaultValue=a,r=t.textContent,r===a&&r!==""&&r!==null&&(t.value=r)}function Hi(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Q0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Td(t,i,a){var r=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":r?t.setProperty(i,a):typeof a!="number"||a===0||Q0.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Sd(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var f in i)r=i[f],i.hasOwnProperty(f)&&a[f]!==r&&Td(t,f,r)}else for(var g in i)i.hasOwnProperty(g)&&Td(t,g,i[g])}function fr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var X0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Z0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hs(t){return Z0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var dr=null;function hr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fi=null,Yi=null;function Ed(t){var i=zi(t);if(i&&(t=i.stateNode)){var a=t[Se]||null;t:switch(t=i.stateNode,i.type){case"input":if(ur(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ze(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var r=a[i];if(r!==t&&r.form===t.form){var f=r[Se]||null;if(!f)throw Error(s(90));ur(r,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)r=a[i],r.form===t.form&&md(r)}break t;case"textarea":yd(t,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Gi(t,!!a.multiple,i,!1)}}}var pr=!1;function bd(t,i,a){if(pr)return t(i,a);pr=!0;try{var r=t(i);return r}finally{if(pr=!1,(Fi!==null||Yi!==null)&&(Ws(),Fi&&(i=Fi,t=Yi,Yi=Fi=null,Ed(i),t)))for(i=0;i<t.length;i++)Ed(t[i])}}function qo(t,i){var a=t.stateNode;if(a===null)return null;var r=a[Se]||null;if(r===null)return null;a=r[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mr=!1;if(dn)try{var Go={};Object.defineProperty(Go,"passive",{get:function(){mr=!0}}),window.addEventListener("test",Go,Go),window.removeEventListener("test",Go,Go)}catch{mr=!1}var Vn=null,gr=null,ps=null;function Cd(){if(ps)return ps;var t,i=gr,a=i.length,r,f="value"in Vn?Vn.value:Vn.textContent,g=f.length;for(t=0;t<a&&i[t]===f[t];t++);var T=a-t;for(r=1;r<=T&&i[a-r]===f[g-r];r++);return ps=f.slice(t,1<r?1-r:void 0)}function ms(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function gs(){return!0}function Ad(){return!1}function Ee(t){function i(a,r,f,g,T){this._reactName=a,this._targetInst=f,this.type=r,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?gs:Ad,this.isPropagationStopped=Ad,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),i}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ys=Ee(ci),Ho=v({},ci,{view:0,detail:0}),$0=Ee(Ho),yr,vr,Fo,vs=v({},Ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fo&&(Fo&&t.type==="mousemove"?(yr=t.screenX-Fo.screenX,vr=t.screenY-Fo.screenY):vr=yr=0,Fo=t),yr)},movementY:function(t){return"movementY"in t?t.movementY:vr}}),Md=Ee(vs),J0=v({},vs,{dataTransfer:0}),W0=Ee(J0),j0=v({},Ho,{relatedTarget:0}),Tr=Ee(j0),tS=v({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),eS=Ee(tS),nS=v({},ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iS=Ee(nS),oS=v({},ci,{data:0}),xd=Ee(oS),aS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rS(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=lS[t])?!!i[t]:!1}function Sr(){return rS}var uS=v({},Ho,{key:function(t){if(t.key){var i=aS[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(t){return t.type==="keypress"?ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cS=Ee(uS),fS=v({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_d=Ee(fS),dS=v({},Ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),hS=Ee(dS),pS=v({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),mS=Ee(pS),gS=v({},vs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yS=Ee(gS),vS=v({},ci,{newState:0,oldState:0}),TS=Ee(vS),SS=[9,13,27,32],Er=dn&&"CompositionEvent"in window,Yo=null;dn&&"documentMode"in document&&(Yo=document.documentMode);var ES=dn&&"TextEvent"in window&&!Yo,wd=dn&&(!Er||Yo&&8<Yo&&11>=Yo),Rd=" ",Dd=!1;function Nd(t,i){switch(t){case"keyup":return SS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ld(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ki=!1;function bS(t,i){switch(t){case"compositionend":return Ld(i);case"keypress":return i.which!==32?null:(Dd=!0,Rd);case"textInput":return t=i.data,t===Rd&&Dd?null:t;default:return null}}function CS(t,i){if(Ki)return t==="compositionend"||!Er&&Nd(t,i)?(t=Cd(),ps=gr=Vn=null,Ki=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wd&&i.locale!=="ko"?null:i.data;default:return null}}var AS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!AS[t.type]:i==="textarea"}function Pd(t,i,a,r){Fi?Yi?Yi.push(r):Yi=[r]:Fi=r,i=ol(i,"onChange"),0<i.length&&(a=new ys("onChange","change",null,a,r),t.push({event:a,listeners:i}))}var Ko=null,Qo=null;function MS(t){pm(t,0)}function Ts(t){var i=Oo(t);if(md(i))return t}function Bd(t,i){if(t==="change")return i}var Id=!1;if(dn){var br;if(dn){var Cr="oninput"in document;if(!Cr){var Ud=document.createElement("div");Ud.setAttribute("oninput","return;"),Cr=typeof Ud.oninput=="function"}br=Cr}else br=!1;Id=br&&(!document.documentMode||9<document.documentMode)}function zd(){Ko&&(Ko.detachEvent("onpropertychange",kd),Qo=Ko=null)}function kd(t){if(t.propertyName==="value"&&Ts(Qo)){var i=[];Pd(i,Qo,t,hr(t)),bd(MS,i)}}function xS(t,i,a){t==="focusin"?(zd(),Ko=i,Qo=a,Ko.attachEvent("onpropertychange",kd)):t==="focusout"&&zd()}function _S(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ts(Qo)}function wS(t,i){if(t==="click")return Ts(i)}function RS(t,i){if(t==="input"||t==="change")return Ts(i)}function DS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var De=typeof Object.is=="function"?Object.is:DS;function Xo(t,i){if(De(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),r=Object.keys(i);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var f=a[r];if(!Wl.call(i,f)||!De(t[f],i[f]))return!1}return!0}function Od(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qd(t,i){var a=Od(t);t=0;for(var r;a;){if(a.nodeType===3){if(r=t+a.textContent.length,t<=i&&r>=i)return{node:a,offset:i-t};t=r}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Od(a)}}function Gd(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Gd(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Hd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ds(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ds(t.document)}return i}function Ar(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var NS=dn&&"documentMode"in document&&11>=document.documentMode,Qi=null,Mr=null,Zo=null,xr=!1;function Fd(t,i,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xr||Qi==null||Qi!==ds(r)||(r=Qi,"selectionStart"in r&&Ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zo&&Xo(Zo,r)||(Zo=r,r=ol(Mr,"onSelect"),0<r.length&&(i=new ys("onSelect","select",null,i,a),t.push({event:i,listeners:r}),i.target=Qi)))}function fi(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Xi={animationend:fi("Animation","AnimationEnd"),animationiteration:fi("Animation","AnimationIteration"),animationstart:fi("Animation","AnimationStart"),transitionrun:fi("Transition","TransitionRun"),transitionstart:fi("Transition","TransitionStart"),transitioncancel:fi("Transition","TransitionCancel"),transitionend:fi("Transition","TransitionEnd")},_r={},Yd={};dn&&(Yd=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function di(t){if(_r[t])return _r[t];if(!Xi[t])return t;var i=Xi[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Yd)return _r[t]=i[a];return t}var Kd=di("animationend"),Qd=di("animationiteration"),Xd=di("animationstart"),LS=di("transitionrun"),VS=di("transitionstart"),PS=di("transitioncancel"),Zd=di("transitionend"),$d=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wr.push("scrollEnd");function Ze(t,i){$d.set(t,i),ui(i,[t])}var Jd=new WeakMap;function ke(t,i){if(typeof t=="object"&&t!==null){var a=Jd.get(t);return a!==void 0?a:(i={value:t,source:i,stack:hd(i)},Jd.set(t,i),i)}return{value:t,source:i,stack:hd(i)}}var Oe=[],Zi=0,Rr=0;function Ss(){for(var t=Zi,i=Rr=Zi=0;i<t;){var a=Oe[i];Oe[i++]=null;var r=Oe[i];Oe[i++]=null;var f=Oe[i];Oe[i++]=null;var g=Oe[i];if(Oe[i++]=null,r!==null&&f!==null){var T=r.pending;T===null?f.next=f:(f.next=T.next,T.next=f),r.pending=f}g!==0&&Wd(a,f,g)}}function Es(t,i,a,r){Oe[Zi++]=t,Oe[Zi++]=i,Oe[Zi++]=a,Oe[Zi++]=r,Rr|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Dr(t,i,a,r){return Es(t,i,a,r),bs(t)}function $i(t,i){return Es(t,null,null,i),bs(t)}function Wd(t,i,a){t.lanes|=a;var r=t.alternate;r!==null&&(r.lanes|=a);for(var f=!1,g=t.return;g!==null;)g.childLanes|=a,r=g.alternate,r!==null&&(r.childLanes|=a),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(f=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,f&&i!==null&&(f=31-Re(a),t=g.hiddenUpdates,r=t[f],r===null?t[f]=[i]:r.push(i),i.lane=a|536870912),g):null}function bs(t){if(50<Sa)throw Sa=0,Iu=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ji={};function BS(t,i,a,r){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ne(t,i,a,r){return new BS(t,i,a,r)}function Nr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hn(t,i){var a=t.alternate;return a===null?(a=Ne(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function jd(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Cs(t,i,a,r,f,g){var T=0;if(r=t,typeof t=="function")Nr(t)&&(T=1);else if(typeof t=="string")T=UE(t,a,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case ot:return t=Ne(31,a,i,f),t.elementType=ot,t.lanes=g,t;case A:return hi(a.children,f,g,i);case R:T=8,f|=24;break;case z:return t=Ne(12,a,i,f|2),t.elementType=z,t.lanes=g,t;case D:return t=Ne(13,a,i,f),t.elementType=D,t.lanes=g,t;case X:return t=Ne(19,a,i,f),t.elementType=X,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:case N:T=10;break t;case F:T=9;break t;case K:T=11;break t;case Z:T=14;break t;case H:T=16,r=null;break t}T=29,a=Error(s(130,t===null?"null":typeof t,"")),r=null}return i=Ne(T,a,i,f),i.elementType=t,i.type=r,i.lanes=g,i}function hi(t,i,a,r){return t=Ne(7,t,r,i),t.lanes=a,t}function Lr(t,i,a){return t=Ne(6,t,null,i),t.lanes=a,t}function Vr(t,i,a){return i=Ne(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Wi=[],ji=0,As=null,Ms=0,qe=[],Ge=0,pi=null,pn=1,mn="";function mi(t,i){Wi[ji++]=Ms,Wi[ji++]=As,As=t,Ms=i}function th(t,i,a){qe[Ge++]=pn,qe[Ge++]=mn,qe[Ge++]=pi,pi=t;var r=pn;t=mn;var f=32-Re(r)-1;r&=~(1<<f),a+=1;var g=32-Re(i)+f;if(30<g){var T=f-f%5;g=(r&(1<<T)-1).toString(32),r>>=T,f-=T,pn=1<<32-Re(i)+f|a<<f|r,mn=g+t}else pn=1<<g|a<<f|r,mn=t}function Pr(t){t.return!==null&&(mi(t,1),th(t,1,0))}function Br(t){for(;t===As;)As=Wi[--ji],Wi[ji]=null,Ms=Wi[--ji],Wi[ji]=null;for(;t===pi;)pi=qe[--Ge],qe[Ge]=null,mn=qe[--Ge],qe[Ge]=null,pn=qe[--Ge],qe[Ge]=null}var ge=null,Ft=null,wt=!1,gi=null,en=!1,Ir=Error(s(519));function yi(t){var i=Error(s(418,""));throw Wo(ke(i,t)),Ir}function eh(t){var i=t.stateNode,a=t.type,r=t.memoizedProps;switch(i[fe]=t,i[Se]=r,a){case"dialog":Ct("cancel",i),Ct("close",i);break;case"iframe":case"object":case"embed":Ct("load",i);break;case"video":case"audio":for(a=0;a<ba.length;a++)Ct(ba[a],i);break;case"source":Ct("error",i);break;case"img":case"image":case"link":Ct("error",i),Ct("load",i);break;case"details":Ct("toggle",i);break;case"input":Ct("invalid",i),gd(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),fs(i);break;case"select":Ct("invalid",i);break;case"textarea":Ct("invalid",i),vd(i,r.value,r.defaultValue,r.children),fs(i)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||r.suppressHydrationWarning===!0||vm(i.textContent,a)?(r.popover!=null&&(Ct("beforetoggle",i),Ct("toggle",i)),r.onScroll!=null&&Ct("scroll",i),r.onScrollEnd!=null&&Ct("scrollend",i),r.onClick!=null&&(i.onclick=al),i=!0):i=!1,i||yi(t)}function nh(t){for(ge=t.return;ge;)switch(ge.tag){case 5:case 13:en=!1;return;case 27:case 3:en=!0;return;default:ge=ge.return}}function $o(t){if(t!==ge)return!1;if(!wt)return nh(t),wt=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wu(t.type,t.memoizedProps)),a=!a),a&&Ft&&yi(t),nh(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Ft=Je(t.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Ft=null}}else i===27?(i=Ft,Zn(t.type)?(t=nc,nc=null,Ft=t):Ft=i):Ft=ge?Je(t.stateNode.nextSibling):null;return!0}function Jo(){Ft=ge=null,wt=!1}function ih(){var t=gi;return t!==null&&(Ae===null?Ae=t:Ae.push.apply(Ae,t),gi=null),t}function Wo(t){gi===null?gi=[t]:gi.push(t)}var Ur=Q(null),vi=null,gn=null;function Pn(t,i,a){j(Ur,i._currentValue),i._currentValue=a}function yn(t){t._currentValue=Ur.current,nt(Ur)}function zr(t,i,a){for(;t!==null;){var r=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),t===a)break;t=t.return}}function kr(t,i,a,r){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var g=f.dependencies;if(g!==null){var T=f.child;g=g.firstContext;t:for(;g!==null;){var b=g;g=f;for(var M=0;M<i.length;M++)if(b.context===i[M]){g.lanes|=a,b=g.alternate,b!==null&&(b.lanes|=a),zr(g.return,a,t),r||(T=null);break t}g=b.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,g=T.alternate,g!==null&&(g.lanes|=a),zr(T,a,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function jo(t,i,a,r){t=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var b=f.type;De(f.pendingProps.value,T.value)||(t!==null?t.push(b):t=[b])}}else if(f===_e.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(wa):t=[wa])}f=f.return}t!==null&&kr(i,t,a,r),i.flags|=262144}function xs(t){for(t=t.firstContext;t!==null;){if(!De(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ti(t){vi=t,gn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function de(t){return oh(vi,t)}function _s(t,i){return vi===null&&Ti(t),oh(t,i)}function oh(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},gn===null){if(t===null)throw Error(s(308));gn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else gn=gn.next=i;return a}var IS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,r){t.push(r)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},US=o.unstable_scheduleCallback,zS=o.unstable_NormalPriority,te={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Or(){return{controller:new IS,data:new Map,refCount:0}}function ta(t){t.refCount--,t.refCount===0&&US(zS,function(){t.controller.abort()})}var ea=null,qr=0,to=0,eo=null;function kS(t,i){if(ea===null){var a=ea=[];qr=0,to=Hu(),eo={status:"pending",value:void 0,then:function(r){a.push(r)}}}return qr++,i.then(ah,ah),i}function ah(){if(--qr===0&&ea!==null){eo!==null&&(eo.status="fulfilled");var t=ea;ea=null,to=0,eo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function OS(t,i){var a=[],r={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){r.status="fulfilled",r.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(r.status="rejected",r.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),r}var sh=P.S;P.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&kS(t,i),sh!==null&&sh(t,i)};var Si=Q(null);function Gr(){var t=Si.current;return t!==null?t:Ut.pooledCache}function ws(t,i){i===null?j(Si,Si.current):j(Si,i.pool)}function lh(){var t=Gr();return t===null?null:{parent:te._currentValue,pool:t}}var na=Error(s(460)),rh=Error(s(474)),Rs=Error(s(542)),Hr={then:function(){}};function uh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ds(){}function ch(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Ds,Ds),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,dh(t),t;default:if(typeof i.status=="string")i.then(Ds,Ds);else{if(t=Ut,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(r){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=r}},function(r){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,dh(t),t}throw ia=i,na}}var ia=null;function fh(){if(ia===null)throw Error(s(459));var t=ia;return ia=null,t}function dh(t){if(t===na||t===Rs)throw Error(s(483))}var Bn=!1;function Fr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yr(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function In(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Un(t,i,a){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Rt&2)!==0){var f=r.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),r.pending=i,i=bs(t),Wd(t,null,a),i}return Es(t,r,i,a),bs(t)}function oa(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var r=i.lanes;r&=t.pendingLanes,a|=r,i.lanes=a,ad(t,a)}}function Kr(t,i){var a=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?f=g=T:g=g.next=T,a=a.next}while(a!==null);g===null?f=g=i:g=g.next=i}else f=g=i;a={baseState:r.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:r.shared,callbacks:r.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Qr=!1;function aa(){if(Qr){var t=eo;if(t!==null)throw t}}function sa(t,i,a,r){Qr=!1;var f=t.updateQueue;Bn=!1;var g=f.firstBaseUpdate,T=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var M=b,B=M.next;M.next=null,T===null?g=B:T.next=B,T=M;var O=t.alternate;O!==null&&(O=O.updateQueue,b=O.lastBaseUpdate,b!==T&&(b===null?O.firstBaseUpdate=B:b.next=B,O.lastBaseUpdate=M))}if(g!==null){var Y=f.baseState;T=0,O=B=M=null,b=g;do{var I=b.lane&-536870913,U=I!==b.lane;if(U?(At&I)===I:(r&I)===I){I!==0&&I===to&&(Qr=!0),O!==null&&(O=O.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var ht=t,ct=b;I=i;var Pt=a;switch(ct.tag){case 1:if(ht=ct.payload,typeof ht=="function"){Y=ht.call(Pt,Y,I);break t}Y=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=ct.payload,I=typeof ht=="function"?ht.call(Pt,Y,I):ht,I==null)break t;Y=v({},Y,I);break t;case 2:Bn=!0}}I=b.callback,I!==null&&(t.flags|=64,U&&(t.flags|=8192),U=f.callbacks,U===null?f.callbacks=[I]:U.push(I))}else U={lane:I,tag:b.tag,payload:b.payload,callback:b.callback,next:null},O===null?(B=O=U,M=Y):O=O.next=U,T|=I;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;U=b,b=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);O===null&&(M=Y),f.baseState=M,f.firstBaseUpdate=B,f.lastBaseUpdate=O,g===null&&(f.shared.lanes=0),Yn|=T,t.lanes=T,t.memoizedState=Y}}function hh(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ph(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)hh(a[t],i)}var no=Q(null),Ns=Q(0);function mh(t,i){t=An,j(Ns,t),j(no,i),An=t|i.baseLanes}function Xr(){j(Ns,An),j(no,no.current)}function Zr(){An=Ns.current,nt(no),nt(Ns)}var zn=0,St=null,Lt=null,Jt=null,Ls=!1,io=!1,Ei=!1,Vs=0,la=0,oo=null,qS=0;function Xt(){throw Error(s(321))}function $r(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!De(t[a],i[a]))return!1;return!0}function Jr(t,i,a,r,f,g){return zn=g,St=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,P.H=t===null||t.memoizedState===null?Wh:jh,Ei=!1,g=a(r,f),Ei=!1,io&&(g=yh(i,a,r,f)),gh(t),g}function gh(t){P.H=ks;var i=Lt!==null&&Lt.next!==null;if(zn=0,Jt=Lt=St=null,Ls=!1,la=0,oo=null,i)throw Error(s(300));t===null||ie||(t=t.dependencies,t!==null&&xs(t)&&(ie=!0))}function yh(t,i,a,r){St=t;var f=0;do{if(io&&(oo=null),la=0,io=!1,25<=f)throw Error(s(301));if(f+=1,Jt=Lt=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}P.H=XS,g=i(a,r)}while(io);return g}function GS(){var t=P.H,i=t.useState()[0];return i=typeof i.then=="function"?ra(i):i,t=t.useState()[0],(Lt!==null?Lt.memoizedState:null)!==t&&(St.flags|=1024),i}function Wr(){var t=Vs!==0;return Vs=0,t}function jr(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function tu(t){if(Ls){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ls=!1}zn=0,Jt=Lt=St=null,io=!1,la=Vs=0,oo=null}function be(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?St.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function Wt(){if(Lt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var i=Jt===null?St.memoizedState:Jt.next;if(i!==null)Jt=i,Lt=t;else{if(t===null)throw St.alternate===null?Error(s(467)):Error(s(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Jt===null?St.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ra(t){var i=la;return la+=1,oo===null&&(oo=[]),t=ch(oo,t,i),i=St,(Jt===null?i.memoizedState:Jt.next)===null&&(i=i.alternate,P.H=i===null||i.memoizedState===null?Wh:jh),t}function Ps(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ra(t);if(t.$$typeof===N)return de(t)}throw Error(s(438,String(t)))}function nu(t){var i=null,a=St.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var r=St.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=eu(),St.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),r=0;r<t;r++)a[r]=lt;return i.index++,a}function vn(t,i){return typeof i=="function"?i(t):i}function Bs(t){var i=Wt();return iu(i,Lt,t)}function iu(t,i,a){var r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=a;var f=t.baseQueue,g=r.pending;if(g!==null){if(f!==null){var T=f.next;f.next=g.next,g.next=T}i.baseQueue=f=g,r.pending=null}if(g=t.baseState,f===null)t.memoizedState=g;else{i=f.next;var b=T=null,M=null,B=i,O=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(At&Y)===Y:(zn&Y)===Y){var I=B.revertLane;if(I===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===to&&(O=!0);else if((zn&I)===I){B=B.next,I===to&&(O=!0);continue}else Y={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(b=M=Y,T=g):M=M.next=Y,St.lanes|=I,Yn|=I;Y=B.action,Ei&&a(g,Y),g=B.hasEagerState?B.eagerState:a(g,Y)}else I={lane:Y,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(b=M=I,T=g):M=M.next=I,St.lanes|=Y,Yn|=Y;B=B.next}while(B!==null&&B!==i);if(M===null?T=g:M.next=b,!De(g,t.memoizedState)&&(ie=!0,O&&(a=eo,a!==null)))throw a;t.memoizedState=g,t.baseState=T,t.baseQueue=M,r.lastRenderedState=g}return f===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function ou(t){var i=Wt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var r=a.dispatch,f=a.pending,g=i.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do g=t(g,T.action),T=T.next;while(T!==f);De(g,i.memoizedState)||(ie=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,r]}function vh(t,i,a){var r=St,f=Wt(),g=wt;if(g){if(a===void 0)throw Error(s(407));a=a()}else a=i();var T=!De((Lt||f).memoizedState,a);T&&(f.memoizedState=a,ie=!0),f=f.queue;var b=Eh.bind(null,r,f,t);if(ua(2048,8,b,[t]),f.getSnapshot!==i||T||Jt!==null&&Jt.memoizedState.tag&1){if(r.flags|=2048,ao(9,Is(),Sh.bind(null,r,f,a,i),null),Ut===null)throw Error(s(349));g||(zn&124)!==0||Th(r,i,a)}return a}function Th(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=St.updateQueue,i===null?(i=eu(),St.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Sh(t,i,a,r){i.value=a,i.getSnapshot=r,bh(i)&&Ch(t)}function Eh(t,i,a){return a(function(){bh(i)&&Ch(t)})}function bh(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!De(t,a)}catch{return!0}}function Ch(t){var i=$i(t,2);i!==null&&Ie(i,t,2)}function au(t){var i=be();if(typeof t=="function"){var a=t;if(t=a(),Ei){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:t},i}function Ah(t,i,a,r){return t.baseState=a,iu(t,Lt,typeof r=="function"?r:vn)}function HS(t,i,a,r,f){if(zs(t))throw Error(s(485));if(t=i.action,t!==null){var g={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};P.T!==null?a(!0):g.isTransition=!1,r(g),a=i.pending,a===null?(g.next=i.pending=g,Mh(i,g)):(g.next=a.next,i.pending=a.next=g)}}function Mh(t,i){var a=i.action,r=i.payload,f=t.state;if(i.isTransition){var g=P.T,T={};P.T=T;try{var b=a(f,r),M=P.S;M!==null&&M(T,b),xh(t,i,b)}catch(B){su(t,i,B)}finally{P.T=g}}else try{g=a(f,r),xh(t,i,g)}catch(B){su(t,i,B)}}function xh(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){_h(t,i,r)},function(r){return su(t,i,r)}):_h(t,i,a)}function _h(t,i,a){i.status="fulfilled",i.value=a,wh(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Mh(t,a)))}function su(t,i,a){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=a,wh(i),i=i.next;while(i!==r)}t.action=null}function wh(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Rh(t,i){return i}function Dh(t,i){if(wt){var a=Ut.formState;if(a!==null){t:{var r=St;if(wt){if(Ft){e:{for(var f=Ft,g=en;f.nodeType!==8;){if(!g){f=null;break e}if(f=Je(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Ft=Je(f.nextSibling),r=f.data==="F!";break t}}yi(r)}r=!1}r&&(i=a[0])}}return a=be(),a.memoizedState=a.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rh,lastRenderedState:i},a.queue=r,a=Zh.bind(null,St,r),r.dispatch=a,r=au(!1),g=fu.bind(null,St,!1,r.queue),r=be(),f={state:i,dispatch:null,action:t,pending:null},r.queue=f,a=HS.bind(null,St,f,g,a),f.dispatch=a,r.memoizedState=t,[i,a,!1]}function Nh(t){var i=Wt();return Lh(i,Lt,t)}function Lh(t,i,a){if(i=iu(t,i,Rh)[0],t=Bs(vn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=ra(i)}catch(T){throw T===na?Rs:T}else r=i;i=Wt();var f=i.queue,g=f.dispatch;return a!==i.memoizedState&&(St.flags|=2048,ao(9,Is(),FS.bind(null,f,a),null)),[r,g,t]}function FS(t,i){t.action=i}function Vh(t){var i=Wt(),a=Lt;if(a!==null)return Lh(i,a,t);Wt(),i=i.memoizedState,a=Wt();var r=a.queue.dispatch;return a.memoizedState=t,[i,r,!1]}function ao(t,i,a,r){return t={tag:t,create:a,deps:r,inst:i,next:null},i=St.updateQueue,i===null&&(i=eu(),St.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(r=a.next,a.next=t,t.next=r,i.lastEffect=t),t}function Is(){return{destroy:void 0,resource:void 0}}function Ph(){return Wt().memoizedState}function Us(t,i,a,r){var f=be();r=r===void 0?null:r,St.flags|=t,f.memoizedState=ao(1|i,Is(),a,r)}function ua(t,i,a,r){var f=Wt();r=r===void 0?null:r;var g=f.memoizedState.inst;Lt!==null&&r!==null&&$r(r,Lt.memoizedState.deps)?f.memoizedState=ao(i,g,a,r):(St.flags|=t,f.memoizedState=ao(1|i,g,a,r))}function Bh(t,i){Us(8390656,8,t,i)}function Ih(t,i){ua(2048,8,t,i)}function Uh(t,i){return ua(4,2,t,i)}function zh(t,i){return ua(4,4,t,i)}function kh(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Oh(t,i,a){a=a!=null?a.concat([t]):null,ua(4,4,kh.bind(null,i,t),a)}function lu(){}function qh(t,i){var a=Wt();i=i===void 0?null:i;var r=a.memoizedState;return i!==null&&$r(i,r[1])?r[0]:(a.memoizedState=[t,i],t)}function Gh(t,i){var a=Wt();i=i===void 0?null:i;var r=a.memoizedState;if(i!==null&&$r(i,r[1]))return r[0];if(r=t(),Ei){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[r,i],r}function ru(t,i,a){return a===void 0||(zn&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Yp(),St.lanes|=t,Yn|=t,a)}function Hh(t,i,a,r){return De(a,i)?a:no.current!==null?(t=ru(t,a,r),De(t,i)||(ie=!0),t):(zn&42)===0?(ie=!0,t.memoizedState=a):(t=Yp(),St.lanes|=t,Yn|=t,i)}function Fh(t,i,a,r,f){var g=q.p;q.p=g!==0&&8>g?g:8;var T=P.T,b={};P.T=b,fu(t,!1,i,a);try{var M=f(),B=P.S;if(B!==null&&B(b,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var O=OS(M,r);ca(t,i,O,Be(t))}else ca(t,i,r,Be(t))}catch(Y){ca(t,i,{then:function(){},status:"rejected",reason:Y},Be())}finally{q.p=g,P.T=T}}function YS(){}function uu(t,i,a,r){if(t.tag!==5)throw Error(s(476));var f=Yh(t).queue;Fh(t,f,i,J,a===null?YS:function(){return Kh(t),a(r)})}function Yh(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:J},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Kh(t){var i=Yh(t).next.queue;ca(t,i,{},Be())}function cu(){return de(wa)}function Qh(){return Wt().memoizedState}function Xh(){return Wt().memoizedState}function KS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Be();t=In(a);var r=Un(i,t,a);r!==null&&(Ie(r,i,a),oa(r,i,a)),i={cache:Or()},t.payload=i;return}i=i.return}}function QS(t,i,a){var r=Be();a={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},zs(t)?$h(i,a):(a=Dr(t,i,a,r),a!==null&&(Ie(a,t,r),Jh(a,i,r)))}function Zh(t,i,a){var r=Be();ca(t,i,a,r)}function ca(t,i,a,r){var f={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(zs(t))$h(i,f);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var T=i.lastRenderedState,b=g(T,a);if(f.hasEagerState=!0,f.eagerState=b,De(b,T))return Es(t,i,f,0),Ut===null&&Ss(),!1}catch{}finally{}if(a=Dr(t,i,f,r),a!==null)return Ie(a,t,r),Jh(a,i,r),!0}return!1}function fu(t,i,a,r){if(r={lane:2,revertLane:Hu(),action:r,hasEagerState:!1,eagerState:null,next:null},zs(t)){if(i)throw Error(s(479))}else i=Dr(t,a,r,2),i!==null&&Ie(i,t,2)}function zs(t){var i=t.alternate;return t===St||i!==null&&i===St}function $h(t,i){io=Ls=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Jh(t,i,a){if((a&4194048)!==0){var r=i.lanes;r&=t.pendingLanes,a|=r,i.lanes=a,ad(t,a)}}var ks={readContext:de,use:Ps,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt},Wh={readContext:de,use:Ps,useCallback:function(t,i){return be().memoizedState=[t,i===void 0?null:i],t},useContext:de,useEffect:Bh,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Us(4194308,4,kh.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Us(4194308,4,t,i)},useInsertionEffect:function(t,i){Us(4,2,t,i)},useMemo:function(t,i){var a=be();i=i===void 0?null:i;var r=t();if(Ei){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[r,i],r},useReducer:function(t,i,a){var r=be();if(a!==void 0){var f=a(i);if(Ei){Nn(!0);try{a(i)}finally{Nn(!1)}}}else f=i;return r.memoizedState=r.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},r.queue=t,t=t.dispatch=QS.bind(null,St,t),[r.memoizedState,t]},useRef:function(t){var i=be();return t={current:t},i.memoizedState=t},useState:function(t){t=au(t);var i=t.queue,a=Zh.bind(null,St,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:lu,useDeferredValue:function(t,i){var a=be();return ru(a,t,i)},useTransition:function(){var t=au(!1);return t=Fh.bind(null,St,t.queue,!0,!1),be().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var r=St,f=be();if(wt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ut===null)throw Error(s(349));(At&124)!==0||Th(r,i,a)}f.memoizedState=a;var g={value:a,getSnapshot:i};return f.queue=g,Bh(Eh.bind(null,r,g,t),[t]),r.flags|=2048,ao(9,Is(),Sh.bind(null,r,g,a,i),null),a},useId:function(){var t=be(),i=Ut.identifierPrefix;if(wt){var a=mn,r=pn;a=(r&~(1<<32-Re(r)-1)).toString(32)+a,i="«"+i+"R"+a,a=Vs++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=qS++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:cu,useFormState:Dh,useActionState:Dh,useOptimistic:function(t){var i=be();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=fu.bind(null,St,!0,a),a.dispatch=i,[t,i]},useMemoCache:nu,useCacheRefresh:function(){return be().memoizedState=KS.bind(null,St)}},jh={readContext:de,use:Ps,useCallback:qh,useContext:de,useEffect:Ih,useImperativeHandle:Oh,useInsertionEffect:Uh,useLayoutEffect:zh,useMemo:Gh,useReducer:Bs,useRef:Ph,useState:function(){return Bs(vn)},useDebugValue:lu,useDeferredValue:function(t,i){var a=Wt();return Hh(a,Lt.memoizedState,t,i)},useTransition:function(){var t=Bs(vn)[0],i=Wt().memoizedState;return[typeof t=="boolean"?t:ra(t),i]},useSyncExternalStore:vh,useId:Qh,useHostTransitionStatus:cu,useFormState:Nh,useActionState:Nh,useOptimistic:function(t,i){var a=Wt();return Ah(a,Lt,t,i)},useMemoCache:nu,useCacheRefresh:Xh},XS={readContext:de,use:Ps,useCallback:qh,useContext:de,useEffect:Ih,useImperativeHandle:Oh,useInsertionEffect:Uh,useLayoutEffect:zh,useMemo:Gh,useReducer:ou,useRef:Ph,useState:function(){return ou(vn)},useDebugValue:lu,useDeferredValue:function(t,i){var a=Wt();return Lt===null?ru(a,t,i):Hh(a,Lt.memoizedState,t,i)},useTransition:function(){var t=ou(vn)[0],i=Wt().memoizedState;return[typeof t=="boolean"?t:ra(t),i]},useSyncExternalStore:vh,useId:Qh,useHostTransitionStatus:cu,useFormState:Vh,useActionState:Vh,useOptimistic:function(t,i){var a=Wt();return Lt!==null?Ah(a,Lt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:nu,useCacheRefresh:Xh},so=null,fa=0;function Os(t){var i=fa;return fa+=1,so===null&&(so=[]),ch(so,t,i)}function da(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function qs(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function tp(t){var i=t._init;return i(t._payload)}function ep(t){function i(w,_){if(t){var V=w.deletions;V===null?(w.deletions=[_],w.flags|=16):V.push(_)}}function a(w,_){if(!t)return null;for(;_!==null;)i(w,_),_=_.sibling;return null}function r(w){for(var _=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function f(w,_){return w=hn(w,_),w.index=0,w.sibling=null,w}function g(w,_,V){return w.index=V,t?(V=w.alternate,V!==null?(V=V.index,V<_?(w.flags|=67108866,_):V):(w.flags|=67108866,_)):(w.flags|=1048576,_)}function T(w){return t&&w.alternate===null&&(w.flags|=67108866),w}function b(w,_,V,G){return _===null||_.tag!==6?(_=Lr(V,w.mode,G),_.return=w,_):(_=f(_,V),_.return=w,_)}function M(w,_,V,G){var at=V.type;return at===A?O(w,_,V.props.children,G,V.key):_!==null&&(_.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===H&&tp(at)===_.type)?(_=f(_,V.props),da(_,V),_.return=w,_):(_=Cs(V.type,V.key,V.props,null,w.mode,G),da(_,V),_.return=w,_)}function B(w,_,V,G){return _===null||_.tag!==4||_.stateNode.containerInfo!==V.containerInfo||_.stateNode.implementation!==V.implementation?(_=Vr(V,w.mode,G),_.return=w,_):(_=f(_,V.children||[]),_.return=w,_)}function O(w,_,V,G,at){return _===null||_.tag!==7?(_=hi(V,w.mode,G,at),_.return=w,_):(_=f(_,V),_.return=w,_)}function Y(w,_,V){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Lr(""+_,w.mode,V),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case E:return V=Cs(_.type,_.key,_.props,null,w.mode,V),da(V,_),V.return=w,V;case C:return _=Vr(_,w.mode,V),_.return=w,_;case H:var G=_._init;return _=G(_._payload),Y(w,_,V)}if(tt(_)||Tt(_))return _=hi(_,w.mode,V,null),_.return=w,_;if(typeof _.then=="function")return Y(w,Os(_),V);if(_.$$typeof===N)return Y(w,_s(w,_),V);qs(w,_)}return null}function I(w,_,V,G){var at=_!==null?_.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return at!==null?null:b(w,_,""+V,G);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case E:return V.key===at?M(w,_,V,G):null;case C:return V.key===at?B(w,_,V,G):null;case H:return at=V._init,V=at(V._payload),I(w,_,V,G)}if(tt(V)||Tt(V))return at!==null?null:O(w,_,V,G,null);if(typeof V.then=="function")return I(w,_,Os(V),G);if(V.$$typeof===N)return I(w,_,_s(w,V),G);qs(w,V)}return null}function U(w,_,V,G,at){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return w=w.get(V)||null,b(_,w,""+G,at);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return w=w.get(G.key===null?V:G.key)||null,M(_,w,G,at);case C:return w=w.get(G.key===null?V:G.key)||null,B(_,w,G,at);case H:var Et=G._init;return G=Et(G._payload),U(w,_,V,G,at)}if(tt(G)||Tt(G))return w=w.get(V)||null,O(_,w,G,at,null);if(typeof G.then=="function")return U(w,_,V,Os(G),at);if(G.$$typeof===N)return U(w,_,V,_s(_,G),at);qs(_,G)}return null}function ht(w,_,V,G){for(var at=null,Et=null,st=_,ft=_=0,ae=null;st!==null&&ft<V.length;ft++){st.index>ft?(ae=st,st=null):ae=st.sibling;var _t=I(w,st,V[ft],G);if(_t===null){st===null&&(st=ae);break}t&&st&&_t.alternate===null&&i(w,st),_=g(_t,_,ft),Et===null?at=_t:Et.sibling=_t,Et=_t,st=ae}if(ft===V.length)return a(w,st),wt&&mi(w,ft),at;if(st===null){for(;ft<V.length;ft++)st=Y(w,V[ft],G),st!==null&&(_=g(st,_,ft),Et===null?at=st:Et.sibling=st,Et=st);return wt&&mi(w,ft),at}for(st=r(st);ft<V.length;ft++)ae=U(st,w,ft,V[ft],G),ae!==null&&(t&&ae.alternate!==null&&st.delete(ae.key===null?ft:ae.key),_=g(ae,_,ft),Et===null?at=ae:Et.sibling=ae,Et=ae);return t&&st.forEach(function(ti){return i(w,ti)}),wt&&mi(w,ft),at}function ct(w,_,V,G){if(V==null)throw Error(s(151));for(var at=null,Et=null,st=_,ft=_=0,ae=null,_t=V.next();st!==null&&!_t.done;ft++,_t=V.next()){st.index>ft?(ae=st,st=null):ae=st.sibling;var ti=I(w,st,_t.value,G);if(ti===null){st===null&&(st=ae);break}t&&st&&ti.alternate===null&&i(w,st),_=g(ti,_,ft),Et===null?at=ti:Et.sibling=ti,Et=ti,st=ae}if(_t.done)return a(w,st),wt&&mi(w,ft),at;if(st===null){for(;!_t.done;ft++,_t=V.next())_t=Y(w,_t.value,G),_t!==null&&(_=g(_t,_,ft),Et===null?at=_t:Et.sibling=_t,Et=_t);return wt&&mi(w,ft),at}for(st=r(st);!_t.done;ft++,_t=V.next())_t=U(st,w,ft,_t.value,G),_t!==null&&(t&&_t.alternate!==null&&st.delete(_t.key===null?ft:_t.key),_=g(_t,_,ft),Et===null?at=_t:Et.sibling=_t,Et=_t);return t&&st.forEach(function(ZE){return i(w,ZE)}),wt&&mi(w,ft),at}function Pt(w,_,V,G){if(typeof V=="object"&&V!==null&&V.type===A&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case E:t:{for(var at=V.key;_!==null;){if(_.key===at){if(at=V.type,at===A){if(_.tag===7){a(w,_.sibling),G=f(_,V.props.children),G.return=w,w=G;break t}}else if(_.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===H&&tp(at)===_.type){a(w,_.sibling),G=f(_,V.props),da(G,V),G.return=w,w=G;break t}a(w,_);break}else i(w,_);_=_.sibling}V.type===A?(G=hi(V.props.children,w.mode,G,V.key),G.return=w,w=G):(G=Cs(V.type,V.key,V.props,null,w.mode,G),da(G,V),G.return=w,w=G)}return T(w);case C:t:{for(at=V.key;_!==null;){if(_.key===at)if(_.tag===4&&_.stateNode.containerInfo===V.containerInfo&&_.stateNode.implementation===V.implementation){a(w,_.sibling),G=f(_,V.children||[]),G.return=w,w=G;break t}else{a(w,_);break}else i(w,_);_=_.sibling}G=Vr(V,w.mode,G),G.return=w,w=G}return T(w);case H:return at=V._init,V=at(V._payload),Pt(w,_,V,G)}if(tt(V))return ht(w,_,V,G);if(Tt(V)){if(at=Tt(V),typeof at!="function")throw Error(s(150));return V=at.call(V),ct(w,_,V,G)}if(typeof V.then=="function")return Pt(w,_,Os(V),G);if(V.$$typeof===N)return Pt(w,_,_s(w,V),G);qs(w,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,_!==null&&_.tag===6?(a(w,_.sibling),G=f(_,V),G.return=w,w=G):(a(w,_),G=Lr(V,w.mode,G),G.return=w,w=G),T(w)):a(w,_)}return function(w,_,V,G){try{fa=0;var at=Pt(w,_,V,G);return so=null,at}catch(st){if(st===na||st===Rs)throw st;var Et=Ne(29,st,null,w.mode);return Et.lanes=G,Et.return=w,Et}finally{}}}var lo=ep(!0),np=ep(!1),He=Q(null),nn=null;function kn(t){var i=t.alternate;j(ee,ee.current&1),j(He,t),nn===null&&(i===null||no.current!==null||i.memoizedState!==null)&&(nn=t)}function ip(t){if(t.tag===22){if(j(ee,ee.current),j(He,t),nn===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(nn=t)}}else On()}function On(){j(ee,ee.current),j(He,He.current)}function Tn(t){nt(He),nn===t&&(nn=null),nt(ee)}var ee=Q(0);function Gs(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ec(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function du(t,i,a,r){i=t.memoizedState,a=a(r,i),a=a==null?i:v({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var hu={enqueueSetState:function(t,i,a){t=t._reactInternals;var r=Be(),f=In(r);f.payload=i,a!=null&&(f.callback=a),i=Un(t,f,r),i!==null&&(Ie(i,t,r),oa(i,t,r))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var r=Be(),f=In(r);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Un(t,f,r),i!==null&&(Ie(i,t,r),oa(i,t,r))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Be(),r=In(a);r.tag=2,i!=null&&(r.callback=i),i=Un(t,r,a),i!==null&&(Ie(i,t,a),oa(i,t,a))}};function op(t,i,a,r,f,g,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,g,T):i.prototype&&i.prototype.isPureReactComponent?!Xo(a,r)||!Xo(f,g):!0}function ap(t,i,a,r){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,r),i.state!==t&&hu.enqueueReplaceState(i,i.state,null)}function bi(t,i){var a=i;if("ref"in i){a={};for(var r in i)r!=="ref"&&(a[r]=i[r])}if(t=t.defaultProps){a===i&&(a=v({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var Hs=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function sp(t){Hs(t)}function lp(t){console.error(t)}function rp(t){Hs(t)}function Fs(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function up(t,i,a){try{var r=t.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function pu(t,i,a){return a=In(a),a.tag=3,a.payload={element:null},a.callback=function(){Fs(t,i)},a}function cp(t){return t=In(t),t.tag=3,t}function fp(t,i,a,r){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var g=r.value;t.payload=function(){return f(g)},t.callback=function(){up(i,a,r)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){up(i,a,r),typeof f!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var b=r.stack;this.componentDidCatch(r.value,{componentStack:b!==null?b:""})})}function ZS(t,i,a,r,f){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=a.alternate,i!==null&&jo(i,a,f,!0),a=He.current,a!==null){switch(a.tag){case 13:return nn===null?zu():a.alternate===null&&Yt===0&&(Yt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,r===Hr?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([r]):i.add(r),Ou(t,r,f)),!1;case 22:return a.flags|=65536,r===Hr?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([r]):a.add(r)),Ou(t,r,f)),!1}throw Error(s(435,a.tag))}return Ou(t,r,f),zu(),!1}if(wt)return i=He.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,r!==Ir&&(t=Error(s(422),{cause:r}),Wo(ke(t,a)))):(r!==Ir&&(i=Error(s(423),{cause:r}),Wo(ke(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,r=ke(r,a),f=pu(t.stateNode,r,f),Kr(t,f),Yt!==4&&(Yt=2)),!1;var g=Error(s(520),{cause:r});if(g=ke(g,a),Ta===null?Ta=[g]:Ta.push(g),Yt!==4&&(Yt=2),i===null)return!0;r=ke(r,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=pu(a.stateNode,r,t),Kr(a,t),!1;case 1:if(i=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Kn===null||!Kn.has(g))))return a.flags|=65536,f&=-f,a.lanes|=f,f=cp(f),fp(f,t,a,r),Kr(a,f),!1}a=a.return}while(a!==null);return!1}var dp=Error(s(461)),ie=!1;function se(t,i,a,r){i.child=t===null?np(i,null,a,r):lo(i,t.child,a,r)}function hp(t,i,a,r,f){a=a.render;var g=i.ref;if("ref"in r){var T={};for(var b in r)b!=="ref"&&(T[b]=r[b])}else T=r;return Ti(i),r=Jr(t,i,a,T,g,f),b=Wr(),t!==null&&!ie?(jr(t,i,f),Sn(t,i,f)):(wt&&b&&Pr(i),i.flags|=1,se(t,i,r,f),i.child)}function pp(t,i,a,r,f){if(t===null){var g=a.type;return typeof g=="function"&&!Nr(g)&&g.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=g,mp(t,i,g,r,f)):(t=Cs(a.type,null,r,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(g=t.child,!bu(t,f)){var T=g.memoizedProps;if(a=a.compare,a=a!==null?a:Xo,a(T,r)&&t.ref===i.ref)return Sn(t,i,f)}return i.flags|=1,t=hn(g,r),t.ref=i.ref,t.return=i,i.child=t}function mp(t,i,a,r,f){if(t!==null){var g=t.memoizedProps;if(Xo(g,r)&&t.ref===i.ref)if(ie=!1,i.pendingProps=r=g,bu(t,f))(t.flags&131072)!==0&&(ie=!0);else return i.lanes=t.lanes,Sn(t,i,f)}return mu(t,i,a,r,f)}function gp(t,i,a){var r=i.pendingProps,f=r.children,g=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if((i.flags&128)!==0){if(r=g!==null?g.baseLanes|a:a,t!==null){for(f=i.child=t.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;i.childLanes=g&~r}else i.childLanes=0,i.child=null;return yp(t,i,r,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ws(i,g!==null?g.cachePool:null),g!==null?mh(i,g):Xr(),ip(i);else return i.lanes=i.childLanes=536870912,yp(t,i,g!==null?g.baseLanes|a:a,a)}else g!==null?(ws(i,g.cachePool),mh(i,g),On(),i.memoizedState=null):(t!==null&&ws(i,null),Xr(),On());return se(t,i,f,a),i.child}function yp(t,i,a,r){var f=Gr();return f=f===null?null:{parent:te._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&ws(i,null),Xr(),ip(i),t!==null&&jo(t,i,r,!0),null}function Ys(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function mu(t,i,a,r,f){return Ti(i),a=Jr(t,i,a,r,void 0,f),r=Wr(),t!==null&&!ie?(jr(t,i,f),Sn(t,i,f)):(wt&&r&&Pr(i),i.flags|=1,se(t,i,a,f),i.child)}function vp(t,i,a,r,f,g){return Ti(i),i.updateQueue=null,a=yh(i,r,a,f),gh(t),r=Wr(),t!==null&&!ie?(jr(t,i,g),Sn(t,i,g)):(wt&&r&&Pr(i),i.flags|=1,se(t,i,a,g),i.child)}function Tp(t,i,a,r,f){if(Ti(i),i.stateNode===null){var g=Ji,T=a.contextType;typeof T=="object"&&T!==null&&(g=de(T)),g=new a(r,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=hu,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=r,g.state=i.memoizedState,g.refs={},Fr(i),T=a.contextType,g.context=typeof T=="object"&&T!==null?de(T):Ji,g.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(du(i,a,T,r),g.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&hu.enqueueReplaceState(g,g.state,null),sa(i,r,g,f),aa(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(t===null){g=i.stateNode;var b=i.memoizedProps,M=bi(a,b);g.props=M;var B=g.context,O=a.contextType;T=Ji,typeof O=="object"&&O!==null&&(T=de(O));var Y=a.getDerivedStateFromProps;O=typeof Y=="function"||typeof g.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,O||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b||B!==T)&&ap(i,g,r,T),Bn=!1;var I=i.memoizedState;g.state=I,sa(i,r,g,f),aa(),B=i.memoizedState,b||I!==B||Bn?(typeof Y=="function"&&(du(i,a,Y,r),B=i.memoizedState),(M=Bn||op(i,a,M,r,I,B,T))?(O||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=B),g.props=r,g.state=B,g.context=T,r=M):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{g=i.stateNode,Yr(t,i),T=i.memoizedProps,O=bi(a,T),g.props=O,Y=i.pendingProps,I=g.context,B=a.contextType,M=Ji,typeof B=="object"&&B!==null&&(M=de(B)),b=a.getDerivedStateFromProps,(B=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==Y||I!==M)&&ap(i,g,r,M),Bn=!1,I=i.memoizedState,g.state=I,sa(i,r,g,f),aa();var U=i.memoizedState;T!==Y||I!==U||Bn||t!==null&&t.dependencies!==null&&xs(t.dependencies)?(typeof b=="function"&&(du(i,a,b,r),U=i.memoizedState),(O=Bn||op(i,a,O,r,I,U,M)||t!==null&&t.dependencies!==null&&xs(t.dependencies))?(B||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(r,U,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(r,U,M)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=U),g.props=r,g.state=U,g.context=M,r=O):(typeof g.componentDidUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=1024),r=!1)}return g=r,Ys(t,i),r=(i.flags&128)!==0,g||r?(g=i.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,t!==null&&r?(i.child=lo(i,t.child,null,f),i.child=lo(i,null,a,f)):se(t,i,a,f),i.memoizedState=g.state,t=i.child):t=Sn(t,i,f),t}function Sp(t,i,a,r){return Jo(),i.flags|=256,se(t,i,a,r),i.child}var gu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yu(t){return{baseLanes:t,cachePool:lh()}}function vu(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Fe),t}function Ep(t,i,a){var r=i.pendingProps,f=!1,g=(i.flags&128)!==0,T;if((T=g)||(T=t!==null&&t.memoizedState===null?!1:(ee.current&2)!==0),T&&(f=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(wt){if(f?kn(i):On(),wt){var b=Ft,M;if(M=b){t:{for(M=b,b=en;M.nodeType!==8;){if(!b){b=null;break t}if(M=Je(M.nextSibling),M===null){b=null;break t}}b=M}b!==null?(i.memoizedState={dehydrated:b,treeContext:pi!==null?{id:pn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},M=Ne(18,null,null,0),M.stateNode=b,M.return=i,i.child=M,ge=i,Ft=null,M=!0):M=!1}M||yi(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return ec(b)?i.lanes=32:i.lanes=536870912,null;Tn(i)}return b=r.children,r=r.fallback,f?(On(),f=i.mode,b=Ks({mode:"hidden",children:b},f),r=hi(r,f,a,null),b.return=i,r.return=i,b.sibling=r,i.child=b,f=i.child,f.memoizedState=yu(a),f.childLanes=vu(t,T,a),i.memoizedState=gu,r):(kn(i),Tu(i,b))}if(M=t.memoizedState,M!==null&&(b=M.dehydrated,b!==null)){if(g)i.flags&256?(kn(i),i.flags&=-257,i=Su(t,i,a)):i.memoizedState!==null?(On(),i.child=t.child,i.flags|=128,i=null):(On(),f=r.fallback,b=i.mode,r=Ks({mode:"visible",children:r.children},b),f=hi(f,b,a,null),f.flags|=2,r.return=i,f.return=i,r.sibling=f,i.child=r,lo(i,t.child,null,a),r=i.child,r.memoizedState=yu(a),r.childLanes=vu(t,T,a),i.memoizedState=gu,i=f);else if(kn(i),ec(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var B=T.dgst;T=B,r=Error(s(419)),r.stack="",r.digest=T,Wo({value:r,source:null,stack:null}),i=Su(t,i,a)}else if(ie||jo(t,i,a,!1),T=(a&t.childLanes)!==0,ie||T){if(T=Ut,T!==null&&(r=a&-a,r=(r&42)!==0?1:nr(r),r=(r&(T.suspendedLanes|a))!==0?0:r,r!==0&&r!==M.retryLane))throw M.retryLane=r,$i(t,r),Ie(T,t,r),dp;b.data==="$?"||zu(),i=Su(t,i,a)}else b.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=M.treeContext,Ft=Je(b.nextSibling),ge=i,wt=!0,gi=null,en=!1,t!==null&&(qe[Ge++]=pn,qe[Ge++]=mn,qe[Ge++]=pi,pn=t.id,mn=t.overflow,pi=i),i=Tu(i,r.children),i.flags|=4096);return i}return f?(On(),f=r.fallback,b=i.mode,M=t.child,B=M.sibling,r=hn(M,{mode:"hidden",children:r.children}),r.subtreeFlags=M.subtreeFlags&65011712,B!==null?f=hn(B,f):(f=hi(f,b,a,null),f.flags|=2),f.return=i,r.return=i,r.sibling=f,i.child=r,r=f,f=i.child,b=t.child.memoizedState,b===null?b=yu(a):(M=b.cachePool,M!==null?(B=te._currentValue,M=M.parent!==B?{parent:B,pool:B}:M):M=lh(),b={baseLanes:b.baseLanes|a,cachePool:M}),f.memoizedState=b,f.childLanes=vu(t,T,a),i.memoizedState=gu,r):(kn(i),a=t.child,t=a.sibling,a=hn(a,{mode:"visible",children:r.children}),a.return=i,a.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=a,i.memoizedState=null,a)}function Tu(t,i){return i=Ks({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ks(t,i){return t=Ne(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Su(t,i,a){return lo(i,t.child,null,a),t=Tu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function bp(t,i,a){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i),zr(t.return,i,a)}function Eu(t,i,a,r,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=r,g.tail=a,g.tailMode=f)}function Cp(t,i,a){var r=i.pendingProps,f=r.revealOrder,g=r.tail;if(se(t,i,r.children,a),r=ee.current,(r&2)!==0)r=r&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bp(t,a,i);else if(t.tag===19)bp(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break t;for(;t.sibling===null;){if(t.return===null||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(j(ee,r),f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&Gs(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Eu(i,!1,f,a,g);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Gs(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Eu(i,!0,a,null,g);break;case"together":Eu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Sn(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Yn|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(jo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=hn(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=hn(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function bu(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&xs(t)))}function $S(t,i,a){switch(i.tag){case 3:kt(i,i.stateNode.containerInfo),Pn(i,te,t.memoizedState.cache),Jo();break;case 27:case 5:Jl(i);break;case 4:kt(i,i.stateNode.containerInfo);break;case 10:Pn(i,i.type,i.memoizedProps.value);break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(kn(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ep(t,i,a):(kn(i),t=Sn(t,i,a),t!==null?t.sibling:null);kn(i);break;case 19:var f=(t.flags&128)!==0;if(r=(a&i.childLanes)!==0,r||(jo(t,i,a,!1),r=(a&i.childLanes)!==0),f){if(r)return Cp(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),j(ee,ee.current),r)break;return null;case 22:case 23:return i.lanes=0,gp(t,i,a);case 24:Pn(i,te,t.memoizedState.cache)}return Sn(t,i,a)}function Ap(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)ie=!0;else{if(!bu(t,a)&&(i.flags&128)===0)return ie=!1,$S(t,i,a);ie=(t.flags&131072)!==0}else ie=!1,wt&&(i.flags&1048576)!==0&&th(i,Ms,i.index);switch(i.lanes=0,i.tag){case 16:t:{t=i.pendingProps;var r=i.elementType,f=r._init;if(r=f(r._payload),i.type=r,typeof r=="function")Nr(r)?(t=bi(r,t),i.tag=1,i=Tp(null,i,r,t,a)):(i.tag=0,i=mu(null,i,r,t,a));else{if(r!=null){if(f=r.$$typeof,f===K){i.tag=11,i=hp(null,i,r,t,a);break t}else if(f===Z){i.tag=14,i=pp(null,i,r,t,a);break t}}throw i=$(r)||r,Error(s(306,i,""))}}return i;case 0:return mu(t,i,i.type,i.pendingProps,a);case 1:return r=i.type,f=bi(r,i.pendingProps),Tp(t,i,r,f,a);case 3:t:{if(kt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));r=i.pendingProps;var g=i.memoizedState;f=g.element,Yr(t,i),sa(i,r,null,a);var T=i.memoizedState;if(r=T.cache,Pn(i,te,r),r!==g.cache&&kr(i,[te],a,!0),aa(),r=T.element,g.isDehydrated)if(g={element:r,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=Sp(t,i,r,a);break t}else if(r!==f){f=ke(Error(s(424)),i),Wo(f),i=Sp(t,i,r,a);break t}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ft=Je(t.firstChild),ge=i,wt=!0,gi=null,en=!0,a=np(i,null,r,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Jo(),r===f){i=Sn(t,i,a);break t}se(t,i,r,a)}i=i.child}return i;case 26:return Ys(t,i),t===null?(a=wm(i.type,null,i.pendingProps,null))?i.memoizedState=a:wt||(a=i.type,t=i.pendingProps,r=sl(mt.current).createElement(a),r[fe]=i,r[Se]=t,re(r,a,t),ne(r),i.stateNode=r):i.memoizedState=wm(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Jl(i),t===null&&wt&&(r=i.stateNode=Mm(i.type,i.pendingProps,mt.current),ge=i,en=!0,f=Ft,Zn(i.type)?(nc=f,Ft=Je(r.firstChild)):Ft=f),se(t,i,i.pendingProps.children,a),Ys(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&wt&&((f=r=Ft)&&(r=AE(r,i.type,i.pendingProps,en),r!==null?(i.stateNode=r,ge=i,Ft=Je(r.firstChild),en=!1,f=!0):f=!1),f||yi(i)),Jl(i),f=i.type,g=i.pendingProps,T=t!==null?t.memoizedProps:null,r=g.children,Wu(f,g)?r=null:T!==null&&Wu(f,T)&&(i.flags|=32),i.memoizedState!==null&&(f=Jr(t,i,GS,null,null,a),wa._currentValue=f),Ys(t,i),se(t,i,r,a),i.child;case 6:return t===null&&wt&&((t=a=Ft)&&(a=ME(a,i.pendingProps,en),a!==null?(i.stateNode=a,ge=i,Ft=null,t=!0):t=!1),t||yi(i)),null;case 13:return Ep(t,i,a);case 4:return kt(i,i.stateNode.containerInfo),r=i.pendingProps,t===null?i.child=lo(i,null,r,a):se(t,i,r,a),i.child;case 11:return hp(t,i,i.type,i.pendingProps,a);case 7:return se(t,i,i.pendingProps,a),i.child;case 8:return se(t,i,i.pendingProps.children,a),i.child;case 12:return se(t,i,i.pendingProps.children,a),i.child;case 10:return r=i.pendingProps,Pn(i,i.type,r.value),se(t,i,r.children,a),i.child;case 9:return f=i.type._context,r=i.pendingProps.children,Ti(i),f=de(f),r=r(f),i.flags|=1,se(t,i,r,a),i.child;case 14:return pp(t,i,i.type,i.pendingProps,a);case 15:return mp(t,i,i.type,i.pendingProps,a);case 19:return Cp(t,i,a);case 31:return r=i.pendingProps,a=i.mode,r={mode:r.mode,children:r.children},t===null?(a=Ks(r,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=hn(t.child,r),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return gp(t,i,a);case 24:return Ti(i),r=de(te),t===null?(f=Gr(),f===null&&(f=Ut,g=Or(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=a),f=g),i.memoizedState={parent:r,cache:f},Fr(i),Pn(i,te,f)):((t.lanes&a)!==0&&(Yr(t,i),sa(i,null,null,a),aa()),f=t.memoizedState,g=i.memoizedState,f.parent!==r?(f={parent:r,cache:r},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Pn(i,te,r)):(r=g.cache,Pn(i,te,r),r!==f.cache&&kr(i,[te],a,!0))),se(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function En(t){t.flags|=4}function Mp(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Vm(i)){if(i=He.current,i!==null&&((At&4194048)===At?nn!==null:(At&62914560)!==At&&(At&536870912)===0||i!==nn))throw ia=Hr,rh;t.flags|=8192}}function Qs(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?id():536870912,t.lanes|=i,fo|=i)}function ha(t,i){if(!wt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,r=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,r|=f.subtreeFlags&65011712,r|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,r|=f.subtreeFlags,r|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=r,t.childLanes=a,i}function JS(t,i,a){var r=i.pendingProps;switch(Br(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(i),null;case 1:return Gt(i),null;case 3:return a=i.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),yn(te),Dn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&($o(i)?En(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ih())),Gt(i),null;case 26:return a=i.memoizedState,t===null?(En(i),a!==null?(Gt(i),Mp(i,a)):(Gt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(En(i),Gt(i),Mp(i,a)):(Gt(i),i.flags&=-16777217):(t.memoizedProps!==r&&En(i),Gt(i),i.flags&=-16777217),null;case 27:os(i),a=mt.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==r&&En(i);else{if(!r){if(i.stateNode===null)throw Error(s(166));return Gt(i),null}t=ut.current,$o(i)?eh(i):(t=Mm(f,r,a),i.stateNode=t,En(i))}return Gt(i),null;case 5:if(os(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==r&&En(i);else{if(!r){if(i.stateNode===null)throw Error(s(166));return Gt(i),null}if(t=ut.current,$o(i))eh(i);else{switch(f=sl(mt.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?f.createElement("select",{is:r.is}):f.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?f.createElement(a,{is:r.is}):f.createElement(a)}}t[fe]=i,t[Se]=r;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;t:switch(re(t,a,r),a){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&En(i)}}return Gt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==r&&En(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(s(166));if(t=mt.current,$o(i)){if(t=i.stateNode,a=i.memoizedProps,r=null,f=ge,f!==null)switch(f.tag){case 27:case 5:r=f.memoizedProps}t[fe]=i,t=!!(t.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||vm(t.nodeValue,a)),t||yi(i)}else t=sl(t).createTextNode(r),t[fe]=i,i.stateNode=t}return Gt(i),null;case 13:if(r=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=$o(i),r!==null&&r.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[fe]=i}else Jo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Gt(i),f=!1}else f=ih(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Tn(i),i):(Tn(i),null)}if(Tn(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=r!==null,t=t!==null&&t.memoizedState!==null,a){r=i.child,f=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(f=r.alternate.memoizedState.cachePool.pool);var g=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(g=r.memoizedState.cachePool.pool),g!==f&&(r.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Qs(i,i.updateQueue),Gt(i),null;case 4:return Dn(),t===null&&Qu(i.stateNode.containerInfo),Gt(i),null;case 10:return yn(i.type),Gt(i),null;case 19:if(nt(ee),f=i.memoizedState,f===null)return Gt(i),null;if(r=(i.flags&128)!==0,g=f.rendering,g===null)if(r)ha(f,!1);else{if(Yt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(g=Gs(t),g!==null){for(i.flags|=128,ha(f,!1),t=g.updateQueue,i.updateQueue=t,Qs(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)jd(a,t),a=a.sibling;return j(ee,ee.current&1|2),i.child}t=t.sibling}f.tail!==null&&tn()>$s&&(i.flags|=128,r=!0,ha(f,!1),i.lanes=4194304)}else{if(!r)if(t=Gs(g),t!==null){if(i.flags|=128,r=!0,t=t.updateQueue,i.updateQueue=t,Qs(i,t),ha(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!wt)return Gt(i),null}else 2*tn()-f.renderingStartTime>$s&&a!==536870912&&(i.flags|=128,r=!0,ha(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(t=f.last,t!==null?t.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=tn(),i.sibling=null,t=ee.current,j(ee,r?t&1|2:t&1),i):(Gt(i),null);case 22:case 23:return Tn(i),Zr(),r=i.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(a&536870912)!==0&&(i.flags&128)===0&&(Gt(i),i.subtreeFlags&6&&(i.flags|=8192)):Gt(i),a=i.updateQueue,a!==null&&Qs(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(i.flags|=2048),t!==null&&nt(Si),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),yn(te),Gt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function WS(t,i){switch(Br(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return yn(te),Dn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return os(i),null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Jo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return nt(ee),null;case 4:return Dn(),null;case 10:return yn(i.type),null;case 22:case 23:return Tn(i),Zr(),t!==null&&nt(Si),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return yn(te),null;case 25:return null;default:return null}}function xp(t,i){switch(Br(i),i.tag){case 3:yn(te),Dn();break;case 26:case 27:case 5:os(i);break;case 4:Dn();break;case 13:Tn(i);break;case 19:nt(ee);break;case 10:yn(i.type);break;case 22:case 23:Tn(i),Zr(),t!==null&&nt(Si);break;case 24:yn(te)}}function pa(t,i){try{var a=i.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var f=r.next;a=f;do{if((a.tag&t)===t){r=void 0;var g=a.create,T=a.inst;r=g(),T.destroy=r}a=a.next}while(a!==f)}}catch(b){Bt(i,i.return,b)}}function qn(t,i,a){try{var r=i.updateQueue,f=r!==null?r.lastEffect:null;if(f!==null){var g=f.next;r=g;do{if((r.tag&t)===t){var T=r.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,f=i;var M=a,B=b;try{B()}catch(O){Bt(f,M,O)}}}r=r.next}while(r!==g)}}catch(O){Bt(i,i.return,O)}}function _p(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ph(i,a)}catch(r){Bt(t,t.return,r)}}}function wp(t,i,a){a.props=bi(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(r){Bt(t,i,r)}}function ma(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof a=="function"?t.refCleanup=a(r):a.current=r}}catch(f){Bt(t,i,f)}}function on(t,i){var a=t.ref,r=t.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(f){Bt(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Bt(t,i,f)}else a.current=null}function Rp(t){var i=t.type,a=t.memoizedProps,r=t.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break t;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(f){Bt(t,t.return,f)}}function Cu(t,i,a){try{var r=t.stateNode;TE(r,t.type,a,i),r[Se]=i}catch(f){Bt(t,t.return,f)}}function Dp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zn(t.type)||t.tag===4}function Au(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Dp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zn(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mu(t,i,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=al));else if(r!==4&&(r===27&&Zn(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Mu(t,i,a),t=t.sibling;t!==null;)Mu(t,i,a),t=t.sibling}function Xs(t,i,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(r!==4&&(r===27&&Zn(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Xs(t,i,a),t=t.sibling;t!==null;)Xs(t,i,a),t=t.sibling}function Np(t){var i=t.stateNode,a=t.memoizedProps;try{for(var r=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);re(i,r,a),i[fe]=t,i[Se]=a}catch(g){Bt(t,t.return,g)}}var bn=!1,Zt=!1,xu=!1,Lp=typeof WeakSet=="function"?WeakSet:Set,oe=null;function jS(t,i){if(t=t.containerInfo,$u=dl,t=Hd(t),Ar(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var f=r.anchorOffset,g=r.focusNode;r=r.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break t}var T=0,b=-1,M=-1,B=0,O=0,Y=t,I=null;e:for(;;){for(var U;Y!==a||f!==0&&Y.nodeType!==3||(b=T+f),Y!==g||r!==0&&Y.nodeType!==3||(M=T+r),Y.nodeType===3&&(T+=Y.nodeValue.length),(U=Y.firstChild)!==null;)I=Y,Y=U;for(;;){if(Y===t)break e;if(I===a&&++B===f&&(b=T),I===g&&++O===r&&(M=T),(U=Y.nextSibling)!==null)break;Y=I,I=Y.parentNode}Y=U}a=b===-1||M===-1?null:{start:b,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ju={focusedElem:t,selectionRange:a},dl=!1,oe=i;oe!==null;)if(i=oe,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,oe=t;else for(;oe!==null;){switch(i=oe,g=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,a=i,f=g.memoizedProps,g=g.memoizedState,r=a.stateNode;try{var ht=bi(a.type,f,a.elementType===a.type);t=r.getSnapshotBeforeUpdate(ht,g),r.__reactInternalSnapshotBeforeUpdate=t}catch(ct){Bt(a,a.return,ct)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)tc(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,oe=t;break}oe=i.return}}function Vp(t,i,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:Gn(t,a),r&4&&pa(5,a);break;case 1:if(Gn(t,a),r&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){Bt(a,a.return,T)}else{var f=bi(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Bt(a,a.return,T)}}r&64&&_p(a),r&512&&ma(a,a.return);break;case 3:if(Gn(t,a),r&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ph(t,i)}catch(T){Bt(a,a.return,T)}}break;case 27:i===null&&r&4&&Np(a);case 26:case 5:Gn(t,a),i===null&&r&4&&Rp(a),r&512&&ma(a,a.return);break;case 12:Gn(t,a);break;case 13:Gn(t,a),r&4&&Ip(t,a),r&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=rE.bind(null,a),xE(t,a))));break;case 22:if(r=a.memoizedState!==null||bn,!r){i=i!==null&&i.memoizedState!==null||Zt,f=bn;var g=Zt;bn=r,(Zt=i)&&!g?Hn(t,a,(a.subtreeFlags&8772)!==0):Gn(t,a),bn=f,Zt=g}break;case 30:break;default:Gn(t,a)}}function Pp(t){var i=t.alternate;i!==null&&(t.alternate=null,Pp(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ar(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ot=null,Ce=!1;function Cn(t,i,a){for(a=a.child;a!==null;)Bp(t,i,a),a=a.sibling}function Bp(t,i,a){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(Io,a)}catch{}switch(a.tag){case 26:Zt||on(a,i),Cn(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Zt||on(a,i);var r=Ot,f=Ce;Zn(a.type)&&(Ot=a.stateNode,Ce=!1),Cn(t,i,a),Aa(a.stateNode),Ot=r,Ce=f;break;case 5:Zt||on(a,i);case 6:if(r=Ot,f=Ce,Ot=null,Cn(t,i,a),Ot=r,Ce=f,Ot!==null)if(Ce)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(a.stateNode)}catch(g){Bt(a,i,g)}else try{Ot.removeChild(a.stateNode)}catch(g){Bt(a,i,g)}break;case 18:Ot!==null&&(Ce?(t=Ot,Cm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),La(t)):Cm(Ot,a.stateNode));break;case 4:r=Ot,f=Ce,Ot=a.stateNode.containerInfo,Ce=!0,Cn(t,i,a),Ot=r,Ce=f;break;case 0:case 11:case 14:case 15:Zt||qn(2,a,i),Zt||qn(4,a,i),Cn(t,i,a);break;case 1:Zt||(on(a,i),r=a.stateNode,typeof r.componentWillUnmount=="function"&&wp(a,i,r)),Cn(t,i,a);break;case 21:Cn(t,i,a);break;case 22:Zt=(r=Zt)||a.memoizedState!==null,Cn(t,i,a),Zt=r;break;default:Cn(t,i,a)}}function Ip(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{La(t)}catch(a){Bt(i,i.return,a)}}function tE(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Lp),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Lp),i;default:throw Error(s(435,t.tag))}}function _u(t,i){var a=tE(t);i.forEach(function(r){var f=uE.bind(null,t,r);a.has(r)||(a.add(r),r.then(f,f))})}function Le(t,i){var a=i.deletions;if(a!==null)for(var r=0;r<a.length;r++){var f=a[r],g=t,T=i,b=T;t:for(;b!==null;){switch(b.tag){case 27:if(Zn(b.type)){Ot=b.stateNode,Ce=!1;break t}break;case 5:Ot=b.stateNode,Ce=!1;break t;case 3:case 4:Ot=b.stateNode.containerInfo,Ce=!0;break t}b=b.return}if(Ot===null)throw Error(s(160));Bp(g,T,f),Ot=null,Ce=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Up(i,t),i=i.sibling}var $e=null;function Up(t,i){var a=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Le(i,t),Ve(t),r&4&&(qn(3,t,t.return),pa(3,t),qn(5,t,t.return));break;case 1:Le(i,t),Ve(t),r&512&&(Zt||a===null||on(a,a.return)),r&64&&bn&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var f=$e;if(Le(i,t),Ve(t),r&512&&(Zt||a===null||on(a,a.return)),r&4){var g=a!==null?a.memoizedState:null;if(r=t.memoizedState,a===null)if(r===null)if(t.stateNode===null){t:{r=t.type,a=t.memoizedProps,f=f.ownerDocument||f;e:switch(r){case"title":g=f.getElementsByTagName("title")[0],(!g||g[ko]||g[fe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(r),f.head.insertBefore(g,f.querySelector("head > title"))),re(g,r,a),g[fe]=t,ne(g),r=g;break t;case"link":var T=Nm("link","href",f).get(r+(a.href||""));if(T){for(var b=0;b<T.length;b++)if(g=T[b],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(b,1);break e}}g=f.createElement(r),re(g,r,a),f.head.appendChild(g);break;case"meta":if(T=Nm("meta","content",f).get(r+(a.content||""))){for(b=0;b<T.length;b++)if(g=T[b],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(b,1);break e}}g=f.createElement(r),re(g,r,a),f.head.appendChild(g);break;default:throw Error(s(468,r))}g[fe]=t,ne(g),r=g}t.stateNode=r}else Lm(f,t.type,t.stateNode);else t.stateNode=Dm(f,r,t.memoizedProps);else g!==r?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,r===null?Lm(f,t.type,t.stateNode):Dm(f,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Cu(t,t.memoizedProps,a.memoizedProps)}break;case 27:Le(i,t),Ve(t),r&512&&(Zt||a===null||on(a,a.return)),a!==null&&r&4&&Cu(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Le(i,t),Ve(t),r&512&&(Zt||a===null||on(a,a.return)),t.flags&32){f=t.stateNode;try{Hi(f,"")}catch(U){Bt(t,t.return,U)}}r&4&&t.stateNode!=null&&(f=t.memoizedProps,Cu(t,f,a!==null?a.memoizedProps:f)),r&1024&&(xu=!0);break;case 6:if(Le(i,t),Ve(t),r&4){if(t.stateNode===null)throw Error(s(162));r=t.memoizedProps,a=t.stateNode;try{a.nodeValue=r}catch(U){Bt(t,t.return,U)}}break;case 3:if(ul=null,f=$e,$e=ll(i.containerInfo),Le(i,t),$e=f,Ve(t),r&4&&a!==null&&a.memoizedState.isDehydrated)try{La(i.containerInfo)}catch(U){Bt(t,t.return,U)}xu&&(xu=!1,zp(t));break;case 4:r=$e,$e=ll(t.stateNode.containerInfo),Le(i,t),Ve(t),$e=r;break;case 12:Le(i,t),Ve(t);break;case 13:Le(i,t),Ve(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vu=tn()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,_u(t,r)));break;case 22:f=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,B=bn,O=Zt;if(bn=B||f,Zt=O||M,Le(i,t),Zt=O,bn=B,Ve(t),r&8192)t:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||M||bn||Zt||Ci(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){M=a=i;try{if(g=M.stateNode,f)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=M.stateNode;var Y=M.memoizedProps.style,I=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;b.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(U){Bt(M,M.return,U)}}}else if(i.tag===6){if(a===null){M=i;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(U){Bt(M,M.return,U)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=t.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,_u(t,a))));break;case 19:Le(i,t),Ve(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,_u(t,r)));break;case 30:break;case 21:break;default:Le(i,t),Ve(t)}}function Ve(t){var i=t.flags;if(i&2){try{for(var a,r=t.return;r!==null;){if(Dp(r)){a=r;break}r=r.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,g=Au(t);Xs(t,g,f);break;case 5:var T=a.stateNode;a.flags&32&&(Hi(T,""),a.flags&=-33);var b=Au(t);Xs(t,b,T);break;case 3:case 4:var M=a.stateNode.containerInfo,B=Au(t);Mu(t,B,M);break;default:throw Error(s(161))}}catch(O){Bt(t,t.return,O)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function zp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;zp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Gn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Vp(t,i.alternate,i),i=i.sibling}function Ci(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:qn(4,i,i.return),Ci(i);break;case 1:on(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&wp(i,i.return,a),Ci(i);break;case 27:Aa(i.stateNode);case 26:case 5:on(i,i.return),Ci(i);break;case 22:i.memoizedState===null&&Ci(i);break;case 30:Ci(i);break;default:Ci(i)}t=t.sibling}}function Hn(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,f=t,g=i,T=g.flags;switch(g.tag){case 0:case 11:case 15:Hn(f,g,a),pa(4,g);break;case 1:if(Hn(f,g,a),r=g,f=r.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Bt(r,r.return,B)}if(r=g,f=r.updateQueue,f!==null){var b=r.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)hh(M[f],b)}catch(B){Bt(r,r.return,B)}}a&&T&64&&_p(g),ma(g,g.return);break;case 27:Np(g);case 26:case 5:Hn(f,g,a),a&&r===null&&T&4&&Rp(g),ma(g,g.return);break;case 12:Hn(f,g,a);break;case 13:Hn(f,g,a),a&&T&4&&Ip(f,g);break;case 22:g.memoizedState===null&&Hn(f,g,a),ma(g,g.return);break;case 30:break;default:Hn(f,g,a)}i=i.sibling}}function wu(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ta(a))}function Ru(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ta(t))}function an(t,i,a,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)kp(t,i,a,r),i=i.sibling}function kp(t,i,a,r){var f=i.flags;switch(i.tag){case 0:case 11:case 15:an(t,i,a,r),f&2048&&pa(9,i);break;case 1:an(t,i,a,r);break;case 3:an(t,i,a,r),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ta(t)));break;case 12:if(f&2048){an(t,i,a,r),t=i.stateNode;try{var g=i.memoizedProps,T=g.id,b=g.onPostCommit;typeof b=="function"&&b(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Bt(i,i.return,M)}}else an(t,i,a,r);break;case 13:an(t,i,a,r);break;case 23:break;case 22:g=i.stateNode,T=i.alternate,i.memoizedState!==null?g._visibility&2?an(t,i,a,r):ga(t,i):g._visibility&2?an(t,i,a,r):(g._visibility|=2,ro(t,i,a,r,(i.subtreeFlags&10256)!==0)),f&2048&&wu(T,i);break;case 24:an(t,i,a,r),f&2048&&Ru(i.alternate,i);break;default:an(t,i,a,r)}}function ro(t,i,a,r,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=t,T=i,b=a,M=r,B=T.flags;switch(T.tag){case 0:case 11:case 15:ro(g,T,b,M,f),pa(8,T);break;case 23:break;case 22:var O=T.stateNode;T.memoizedState!==null?O._visibility&2?ro(g,T,b,M,f):ga(g,T):(O._visibility|=2,ro(g,T,b,M,f)),f&&B&2048&&wu(T.alternate,T);break;case 24:ro(g,T,b,M,f),f&&B&2048&&Ru(T.alternate,T);break;default:ro(g,T,b,M,f)}i=i.sibling}}function ga(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,r=i,f=r.flags;switch(r.tag){case 22:ga(a,r),f&2048&&wu(r.alternate,r);break;case 24:ga(a,r),f&2048&&Ru(r.alternate,r);break;default:ga(a,r)}i=i.sibling}}var ya=8192;function uo(t){if(t.subtreeFlags&ya)for(t=t.child;t!==null;)Op(t),t=t.sibling}function Op(t){switch(t.tag){case 26:uo(t),t.flags&ya&&t.memoizedState!==null&&kE($e,t.memoizedState,t.memoizedProps);break;case 5:uo(t);break;case 3:case 4:var i=$e;$e=ll(t.stateNode.containerInfo),uo(t),$e=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ya,ya=16777216,uo(t),ya=i):uo(t));break;default:uo(t)}}function qp(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function va(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var r=i[a];oe=r,Hp(r,t)}qp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gp(t),t=t.sibling}function Gp(t){switch(t.tag){case 0:case 11:case 15:va(t),t.flags&2048&&qn(9,t,t.return);break;case 3:va(t);break;case 12:va(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Zs(t)):va(t);break;default:va(t)}}function Zs(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var r=i[a];oe=r,Hp(r,t)}qp(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:qn(8,i,i.return),Zs(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Zs(i));break;default:Zs(i)}t=t.sibling}}function Hp(t,i){for(;oe!==null;){var a=oe;switch(a.tag){case 0:case 11:case 15:qn(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ta(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,oe=r;else t:for(a=t;oe!==null;){r=oe;var f=r.sibling,g=r.return;if(Pp(r),r===a){oe=null;break t}if(f!==null){f.return=g,oe=f;break t}oe=g}}}var eE={getCacheForType:function(t){var i=de(te),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},nE=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Ut=null,bt=null,At=0,Dt=0,Pe=null,Fn=!1,co=!1,Du=!1,An=0,Yt=0,Yn=0,Ai=0,Nu=0,Fe=0,fo=0,Ta=null,Ae=null,Lu=!1,Vu=0,$s=1/0,Js=null,Kn=null,le=0,Qn=null,ho=null,po=0,Pu=0,Bu=null,Fp=null,Sa=0,Iu=null;function Be(){if((Rt&2)!==0&&At!==0)return At&-At;if(P.T!==null){var t=to;return t!==0?t:Hu()}return sd()}function Yp(){Fe===0&&(Fe=(At&536870912)===0||wt?nd():536870912);var t=He.current;return t!==null&&(t.flags|=32),Fe}function Ie(t,i,a){(t===Ut&&(Dt===2||Dt===9)||t.cancelPendingCommit!==null)&&(mo(t,0),Xn(t,At,Fe,!1)),zo(t,a),((Rt&2)===0||t!==Ut)&&(t===Ut&&((Rt&2)===0&&(Ai|=a),Yt===4&&Xn(t,At,Fe,!1)),sn(t))}function Kp(t,i,a){if((Rt&6)!==0)throw Error(s(327));var r=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Uo(t,i),f=r?aE(t,i):ku(t,i,!0),g=r;do{if(f===0){co&&!r&&Xn(t,i,0,!1);break}else{if(a=t.current.alternate,g&&!iE(a)){f=ku(t,i,!1),g=!1;continue}if(f===2){if(g=i,t.errorRecoveryDisabledLanes&g)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;t:{var b=t;f=Ta;var M=b.current.memoizedState.isDehydrated;if(M&&(mo(b,T).flags|=256),T=ku(b,T,!1),T!==2){if(Du&&!M){b.errorRecoveryDisabledLanes|=g,Ai|=g,f=4;break t}g=Ae,Ae=f,g!==null&&(Ae===null?Ae=g:Ae.push.apply(Ae,g))}f=T}if(g=!1,f!==2)continue}}if(f===1){mo(t,0),Xn(t,i,0,!0);break}t:{switch(r=t,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Xn(r,i,Fe,!Fn);break t;case 2:Ae=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Vu+300-tn(),10<f)){if(Xn(r,i,Fe,!Fn),rs(r,0,!0)!==0)break t;r.timeoutHandle=Em(Qp.bind(null,r,a,Ae,Js,Lu,i,Fe,Ai,fo,Fn,g,2,-0,0),f);break t}Qp(r,a,Ae,Js,Lu,i,Fe,Ai,fo,Fn,g,0,-0,0)}}break}while(!0);sn(t)}function Qp(t,i,a,r,f,g,T,b,M,B,O,Y,I,U){if(t.timeoutHandle=-1,Y=i.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(_a={stylesheets:null,count:0,unsuspend:zE},Op(i),Y=OE(),Y!==null)){t.cancelPendingCommit=Y(tm.bind(null,t,i,g,a,r,f,T,b,M,O,1,I,U)),Xn(t,g,T,!B);return}tm(t,i,g,a,r,f,T,b,M)}function iE(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var f=a[r],g=f.getSnapshot;f=f.value;try{if(!De(g(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xn(t,i,a,r){i&=~Nu,i&=~Ai,t.suspendedLanes|=i,t.pingedLanes&=~i,r&&(t.warmLanes|=i),r=t.expirationTimes;for(var f=i;0<f;){var g=31-Re(f),T=1<<g;r[g]=-1,f&=~T}a!==0&&od(t,a,i)}function Ws(){return(Rt&6)===0?(Ea(0),!1):!0}function Uu(){if(bt!==null){if(Dt===0)var t=bt.return;else t=bt,gn=vi=null,tu(t),so=null,fa=0,t=bt;for(;t!==null;)xp(t.alternate,t),t=t.return;bt=null}}function mo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,EE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Uu(),Ut=t,bt=a=hn(t.current,null),At=i,Dt=0,Pe=null,Fn=!1,co=Uo(t,i),Du=!1,fo=Fe=Nu=Ai=Yn=Yt=0,Ae=Ta=null,Lu=!1,(i&8)!==0&&(i|=i&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=i;0<r;){var f=31-Re(r),g=1<<f;i|=t[f],r&=~g}return An=i,Ss(),a}function Xp(t,i){St=null,P.H=ks,i===na||i===Rs?(i=fh(),Dt=3):i===rh?(i=fh(),Dt=4):Dt=i===dp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Pe=i,bt===null&&(Yt=1,Fs(t,ke(i,t.current)))}function Zp(){var t=P.H;return P.H=ks,t===null?ks:t}function $p(){var t=P.A;return P.A=eE,t}function zu(){Yt=4,Fn||(At&4194048)!==At&&He.current!==null||(co=!0),(Yn&134217727)===0&&(Ai&134217727)===0||Ut===null||Xn(Ut,At,Fe,!1)}function ku(t,i,a){var r=Rt;Rt|=2;var f=Zp(),g=$p();(Ut!==t||At!==i)&&(Js=null,mo(t,i)),i=!1;var T=Yt;t:do try{if(Dt!==0&&bt!==null){var b=bt,M=Pe;switch(Dt){case 8:Uu(),T=6;break t;case 3:case 2:case 9:case 6:He.current===null&&(i=!0);var B=Dt;if(Dt=0,Pe=null,go(t,b,M,B),a&&co){T=0;break t}break;default:B=Dt,Dt=0,Pe=null,go(t,b,M,B)}}oE(),T=Yt;break}catch(O){Xp(t,O)}while(!0);return i&&t.shellSuspendCounter++,gn=vi=null,Rt=r,P.H=f,P.A=g,bt===null&&(Ut=null,At=0,Ss()),T}function oE(){for(;bt!==null;)Jp(bt)}function aE(t,i){var a=Rt;Rt|=2;var r=Zp(),f=$p();Ut!==t||At!==i?(Js=null,$s=tn()+500,mo(t,i)):co=Uo(t,i);t:do try{if(Dt!==0&&bt!==null){i=bt;var g=Pe;e:switch(Dt){case 1:Dt=0,Pe=null,go(t,i,g,1);break;case 2:case 9:if(uh(g)){Dt=0,Pe=null,Wp(i);break}i=function(){Dt!==2&&Dt!==9||Ut!==t||(Dt=7),sn(t)},g.then(i,i);break t;case 3:Dt=7;break t;case 4:Dt=5;break t;case 7:uh(g)?(Dt=0,Pe=null,Wp(i)):(Dt=0,Pe=null,go(t,i,g,7));break;case 5:var T=null;switch(bt.tag){case 26:T=bt.memoizedState;case 5:case 27:var b=bt;if(!T||Vm(T)){Dt=0,Pe=null;var M=b.sibling;if(M!==null)bt=M;else{var B=b.return;B!==null?(bt=B,js(B)):bt=null}break e}}Dt=0,Pe=null,go(t,i,g,5);break;case 6:Dt=0,Pe=null,go(t,i,g,6);break;case 8:Uu(),Yt=6;break t;default:throw Error(s(462))}}sE();break}catch(O){Xp(t,O)}while(!0);return gn=vi=null,P.H=r,P.A=f,Rt=a,bt!==null?0:(Ut=null,At=0,Ss(),Yt)}function sE(){for(;bt!==null&&!w0();)Jp(bt)}function Jp(t){var i=Ap(t.alternate,t,An);t.memoizedProps=t.pendingProps,i===null?js(t):bt=i}function Wp(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=vp(a,i,i.pendingProps,i.type,void 0,At);break;case 11:i=vp(a,i,i.pendingProps,i.type.render,i.ref,At);break;case 5:tu(i);default:xp(a,i),i=bt=jd(i,An),i=Ap(a,i,An)}t.memoizedProps=t.pendingProps,i===null?js(t):bt=i}function go(t,i,a,r){gn=vi=null,tu(i),so=null,fa=0;var f=i.return;try{if(ZS(t,f,i,a,At)){Yt=1,Fs(t,ke(a,t.current)),bt=null;return}}catch(g){if(f!==null)throw bt=f,g;Yt=1,Fs(t,ke(a,t.current)),bt=null;return}i.flags&32768?(wt||r===1?t=!0:co||(At&536870912)!==0?t=!1:(Fn=t=!0,(r===2||r===9||r===3||r===6)&&(r=He.current,r!==null&&r.tag===13&&(r.flags|=16384))),jp(i,t)):js(i)}function js(t){var i=t;do{if((i.flags&32768)!==0){jp(i,Fn);return}t=i.return;var a=JS(i.alternate,i,An);if(a!==null){bt=a;return}if(i=i.sibling,i!==null){bt=i;return}bt=i=t}while(i!==null);Yt===0&&(Yt=5)}function jp(t,i){do{var a=WS(t.alternate,t);if(a!==null){a.flags&=32767,bt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){bt=t;return}bt=t=a}while(t!==null);Yt=6,bt=null}function tm(t,i,a,r,f,g,T,b,M){t.cancelPendingCommit=null;do tl();while(le!==0);if((Rt&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=Rr,z0(t,a,g,T,b,M),t===Ut&&(bt=Ut=null,At=0),ho=i,Qn=t,po=a,Pu=g,Bu=f,Fp=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,cE(as,function(){return am(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=P.T,P.T=null,f=q.p,q.p=2,T=Rt,Rt|=4;try{jS(t,i,a)}finally{Rt=T,q.p=f,P.T=r}}le=1,em(),nm(),im()}}function em(){if(le===1){le=0;var t=Qn,i=ho,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=P.T,P.T=null;var r=q.p;q.p=2;var f=Rt;Rt|=4;try{Up(i,t);var g=Ju,T=Hd(t.containerInfo),b=g.focusedElem,M=g.selectionRange;if(T!==b&&b&&b.ownerDocument&&Gd(b.ownerDocument.documentElement,b)){if(M!==null&&Ar(b)){var B=M.start,O=M.end;if(O===void 0&&(O=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min(O,b.value.length);else{var Y=b.ownerDocument||document,I=Y&&Y.defaultView||window;if(I.getSelection){var U=I.getSelection(),ht=b.textContent.length,ct=Math.min(M.start,ht),Pt=M.end===void 0?ct:Math.min(M.end,ht);!U.extend&&ct>Pt&&(T=Pt,Pt=ct,ct=T);var w=qd(b,ct),_=qd(b,Pt);if(w&&_&&(U.rangeCount!==1||U.anchorNode!==w.node||U.anchorOffset!==w.offset||U.focusNode!==_.node||U.focusOffset!==_.offset)){var V=Y.createRange();V.setStart(w.node,w.offset),U.removeAllRanges(),ct>Pt?(U.addRange(V),U.extend(_.node,_.offset)):(V.setEnd(_.node,_.offset),U.addRange(V))}}}}for(Y=[],U=b;U=U.parentNode;)U.nodeType===1&&Y.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Y.length;b++){var G=Y[b];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}dl=!!$u,Ju=$u=null}finally{Rt=f,q.p=r,P.T=a}}t.current=i,le=2}}function nm(){if(le===2){le=0;var t=Qn,i=ho,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=P.T,P.T=null;var r=q.p;q.p=2;var f=Rt;Rt|=4;try{Vp(t,i.alternate,i)}finally{Rt=f,q.p=r,P.T=a}}le=3}}function im(){if(le===4||le===3){le=0,R0();var t=Qn,i=ho,a=po,r=Fp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?le=5:(le=0,ho=Qn=null,om(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Kn=null),ir(a),i=i.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(Io,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=P.T,f=q.p,q.p=2,P.T=null;try{for(var g=t.onRecoverableError,T=0;T<r.length;T++){var b=r[T];g(b.value,{componentStack:b.stack})}}finally{P.T=i,q.p=f}}(po&3)!==0&&tl(),sn(t),f=t.pendingLanes,(a&4194090)!==0&&(f&42)!==0?t===Iu?Sa++:(Sa=0,Iu=t):Sa=0,Ea(0)}}function om(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ta(i)))}function tl(t){return em(),nm(),im(),am()}function am(){if(le!==5)return!1;var t=Qn,i=Pu;Pu=0;var a=ir(po),r=P.T,f=q.p;try{q.p=32>a?32:a,P.T=null,a=Bu,Bu=null;var g=Qn,T=po;if(le=0,ho=Qn=null,po=0,(Rt&6)!==0)throw Error(s(331));var b=Rt;if(Rt|=4,Gp(g.current),kp(g,g.current,T,a),Rt=b,Ea(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(Io,g)}catch{}return!0}finally{q.p=f,P.T=r,om(t,i)}}function sm(t,i,a){i=ke(a,i),i=pu(t.stateNode,i,2),t=Un(t,i,2),t!==null&&(zo(t,2),sn(t))}function Bt(t,i,a){if(t.tag===3)sm(t,t,a);else for(;i!==null;){if(i.tag===3){sm(i,t,a);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kn===null||!Kn.has(r))){t=ke(a,t),a=cp(2),r=Un(i,a,2),r!==null&&(fp(a,r,i,t),zo(r,2),sn(r));break}}i=i.return}}function Ou(t,i,a){var r=t.pingCache;if(r===null){r=t.pingCache=new nE;var f=new Set;r.set(i,f)}else f=r.get(i),f===void 0&&(f=new Set,r.set(i,f));f.has(a)||(Du=!0,f.add(a),t=lE.bind(null,t,i,a),i.then(t,t))}function lE(t,i,a){var r=t.pingCache;r!==null&&r.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ut===t&&(At&a)===a&&(Yt===4||Yt===3&&(At&62914560)===At&&300>tn()-Vu?(Rt&2)===0&&mo(t,0):Nu|=a,fo===At&&(fo=0)),sn(t)}function lm(t,i){i===0&&(i=id()),t=$i(t,i),t!==null&&(zo(t,i),sn(t))}function rE(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),lm(t,a)}function uE(t,i){var a=0;switch(t.tag){case 13:var r=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(i),lm(t,a)}function cE(t,i){return jl(t,i)}var el=null,yo=null,qu=!1,nl=!1,Gu=!1,Mi=0;function sn(t){t!==yo&&t.next===null&&(yo===null?el=yo=t:yo=yo.next=t),nl=!0,qu||(qu=!0,dE())}function Ea(t,i){if(!Gu&&nl){Gu=!0;do for(var a=!1,r=el;r!==null;){if(t!==0){var f=r.pendingLanes;if(f===0)var g=0;else{var T=r.suspendedLanes,b=r.pingedLanes;g=(1<<31-Re(42|t)+1)-1,g&=f&~(T&~b),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,fm(r,g))}else g=At,g=rs(r,r===Ut?g:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(g&3)===0||Uo(r,g)||(a=!0,fm(r,g));r=r.next}while(a);Gu=!1}}function fE(){rm()}function rm(){nl=qu=!1;var t=0;Mi!==0&&(SE()&&(t=Mi),Mi=0);for(var i=tn(),a=null,r=el;r!==null;){var f=r.next,g=um(r,i);g===0?(r.next=null,a===null?el=f:a.next=f,f===null&&(yo=a)):(a=r,(t!==0||(g&3)!==0)&&(nl=!0)),r=f}Ea(t)}function um(t,i){for(var a=t.suspendedLanes,r=t.pingedLanes,f=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var T=31-Re(g),b=1<<T,M=f[T];M===-1?((b&a)===0||(b&r)!==0)&&(f[T]=U0(b,i)):M<=i&&(t.expiredLanes|=b),g&=~b}if(i=Ut,a=At,a=rs(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,a===0||t===i&&(Dt===2||Dt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&tr(r),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Uo(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(r!==null&&tr(r),ir(a)){case 2:case 8:a=td;break;case 32:a=as;break;case 268435456:a=ed;break;default:a=as}return r=cm.bind(null,t),a=jl(a,r),t.callbackPriority=i,t.callbackNode=a,i}return r!==null&&r!==null&&tr(r),t.callbackPriority=2,t.callbackNode=null,2}function cm(t,i){if(le!==0&&le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(tl()&&t.callbackNode!==a)return null;var r=At;return r=rs(t,t===Ut?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(Kp(t,r,i),um(t,tn()),t.callbackNode!=null&&t.callbackNode===a?cm.bind(null,t):null)}function fm(t,i){if(tl())return null;Kp(t,i,!0)}function dE(){bE(function(){(Rt&6)!==0?jl(jf,fE):rm()})}function Hu(){return Mi===0&&(Mi=nd()),Mi}function dm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:hs(""+t)}function hm(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function hE(t,i,a,r,f){if(i==="submit"&&a&&a.stateNode===f){var g=dm((f[Se]||null).action),T=r.submitter;T&&(i=(i=T[Se]||null)?dm(i.formAction):T.getAttribute("formAction"),i!==null&&(g=i,T=null));var b=new ys("action","action",null,r,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Mi!==0){var M=T?hm(f,T):new FormData(f);uu(a,{pending:!0,data:M,method:f.method,action:g},null,M)}}else typeof g=="function"&&(b.preventDefault(),M=T?hm(f,T):new FormData(f),uu(a,{pending:!0,data:M,method:f.method,action:g},g,M))},currentTarget:f}]})}}for(var Fu=0;Fu<wr.length;Fu++){var Yu=wr[Fu],pE=Yu.toLowerCase(),mE=Yu[0].toUpperCase()+Yu.slice(1);Ze(pE,"on"+mE)}Ze(Kd,"onAnimationEnd"),Ze(Qd,"onAnimationIteration"),Ze(Xd,"onAnimationStart"),Ze("dblclick","onDoubleClick"),Ze("focusin","onFocus"),Ze("focusout","onBlur"),Ze(LS,"onTransitionRun"),Ze(VS,"onTransitionStart"),Ze(PS,"onTransitionCancel"),Ze(Zd,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ba));function pm(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var r=t[a],f=r.event;r=r.listeners;t:{var g=void 0;if(i)for(var T=r.length-1;0<=T;T--){var b=r[T],M=b.instance,B=b.currentTarget;if(b=b.listener,M!==g&&f.isPropagationStopped())break t;g=b,f.currentTarget=B;try{g(f)}catch(O){Hs(O)}f.currentTarget=null,g=M}else for(T=0;T<r.length;T++){if(b=r[T],M=b.instance,B=b.currentTarget,b=b.listener,M!==g&&f.isPropagationStopped())break t;g=b,f.currentTarget=B;try{g(f)}catch(O){Hs(O)}f.currentTarget=null,g=M}}}}function Ct(t,i){var a=i[or];a===void 0&&(a=i[or]=new Set);var r=t+"__bubble";a.has(r)||(mm(i,t,2,!1),a.add(r))}function Ku(t,i,a){var r=0;i&&(r|=4),mm(a,t,r,i)}var il="_reactListening"+Math.random().toString(36).slice(2);function Qu(t){if(!t[il]){t[il]=!0,rd.forEach(function(a){a!=="selectionchange"&&(gE.has(a)||Ku(a,!1,t),Ku(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[il]||(i[il]=!0,Ku("selectionchange",!1,i))}}function mm(t,i,a,r){switch(km(i)){case 2:var f=HE;break;case 8:f=FE;break;default:f=lc}a=f.bind(null,i,a,t),f=void 0,!mr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),r?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Xu(t,i,a,r,f){var g=r;if((i&1)===0&&(i&2)===0&&r!==null)t:for(;;){if(r===null)return;var T=r.tag;if(T===3||T===4){var b=r.stateNode.containerInfo;if(b===f)break;if(T===4)for(T=r.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;b!==null;){if(T=Ui(b),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){r=g=T;continue t}b=b.parentNode}}r=r.return}bd(function(){var B=g,O=hr(a),Y=[];t:{var I=$d.get(t);if(I!==void 0){var U=ys,ht=t;switch(t){case"keypress":if(ms(a)===0)break t;case"keydown":case"keyup":U=cS;break;case"focusin":ht="focus",U=Tr;break;case"focusout":ht="blur",U=Tr;break;case"beforeblur":case"afterblur":U=Tr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Md;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=W0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=hS;break;case Kd:case Qd:case Xd:U=eS;break;case Zd:U=mS;break;case"scroll":case"scrollend":U=$0;break;case"wheel":U=yS;break;case"copy":case"cut":case"paste":U=iS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=_d;break;case"toggle":case"beforetoggle":U=TS}var ct=(i&4)!==0,Pt=!ct&&(t==="scroll"||t==="scrollend"),w=ct?I!==null?I+"Capture":null:I;ct=[];for(var _=B,V;_!==null;){var G=_;if(V=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||V===null||w===null||(G=qo(_,w),G!=null&&ct.push(Ca(_,G,V))),Pt)break;_=_.return}0<ct.length&&(I=new U(I,ht,null,a,O),Y.push({event:I,listeners:ct}))}}if((i&7)===0){t:{if(I=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",I&&a!==dr&&(ht=a.relatedTarget||a.fromElement)&&(Ui(ht)||ht[Ii]))break t;if((U||I)&&(I=O.window===O?O:(I=O.ownerDocument)?I.defaultView||I.parentWindow:window,U?(ht=a.relatedTarget||a.toElement,U=B,ht=ht?Ui(ht):null,ht!==null&&(Pt=u(ht),ct=ht.tag,ht!==Pt||ct!==5&&ct!==27&&ct!==6)&&(ht=null)):(U=null,ht=B),U!==ht)){if(ct=Md,G="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(ct=_d,G="onPointerLeave",w="onPointerEnter",_="pointer"),Pt=U==null?I:Oo(U),V=ht==null?I:Oo(ht),I=new ct(G,_+"leave",U,a,O),I.target=Pt,I.relatedTarget=V,G=null,Ui(O)===B&&(ct=new ct(w,_+"enter",ht,a,O),ct.target=V,ct.relatedTarget=Pt,G=ct),Pt=G,U&&ht)e:{for(ct=U,w=ht,_=0,V=ct;V;V=vo(V))_++;for(V=0,G=w;G;G=vo(G))V++;for(;0<_-V;)ct=vo(ct),_--;for(;0<V-_;)w=vo(w),V--;for(;_--;){if(ct===w||w!==null&&ct===w.alternate)break e;ct=vo(ct),w=vo(w)}ct=null}else ct=null;U!==null&&gm(Y,I,U,ct,!1),ht!==null&&Pt!==null&&gm(Y,Pt,ht,ct,!0)}}t:{if(I=B?Oo(B):window,U=I.nodeName&&I.nodeName.toLowerCase(),U==="select"||U==="input"&&I.type==="file")var at=Bd;else if(Vd(I))if(Id)at=RS;else{at=_S;var Et=xS}else U=I.nodeName,!U||U.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?B&&fr(B.elementType)&&(at=Bd):at=wS;if(at&&(at=at(t,B))){Pd(Y,at,a,O);break t}Et&&Et(t,I,B),t==="focusout"&&B&&I.type==="number"&&B.memoizedProps.value!=null&&cr(I,"number",I.value)}switch(Et=B?Oo(B):window,t){case"focusin":(Vd(Et)||Et.contentEditable==="true")&&(Qi=Et,Mr=B,Zo=null);break;case"focusout":Zo=Mr=Qi=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Fd(Y,a,O);break;case"selectionchange":if(NS)break;case"keydown":case"keyup":Fd(Y,a,O)}var st;if(Er)t:{switch(t){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else Ki?Nd(t,a)&&(ft="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ft="onCompositionStart");ft&&(wd&&a.locale!=="ko"&&(Ki||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Ki&&(st=Cd()):(Vn=O,gr="value"in Vn?Vn.value:Vn.textContent,Ki=!0)),Et=ol(B,ft),0<Et.length&&(ft=new xd(ft,t,null,a,O),Y.push({event:ft,listeners:Et}),st?ft.data=st:(st=Ld(a),st!==null&&(ft.data=st)))),(st=ES?bS(t,a):CS(t,a))&&(ft=ol(B,"onBeforeInput"),0<ft.length&&(Et=new xd("onBeforeInput","beforeinput",null,a,O),Y.push({event:Et,listeners:ft}),Et.data=st)),hE(Y,t,B,a,O)}pm(Y,i)})}function Ca(t,i,a){return{instance:t,listener:i,currentTarget:a}}function ol(t,i){for(var a=i+"Capture",r=[];t!==null;){var f=t,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=qo(t,a),f!=null&&r.unshift(Ca(t,f,g)),f=qo(t,i),f!=null&&r.push(Ca(t,f,g))),t.tag===3)return r;t=t.return}return[]}function vo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function gm(t,i,a,r,f){for(var g=i._reactName,T=[];a!==null&&a!==r;){var b=a,M=b.alternate,B=b.stateNode;if(b=b.tag,M!==null&&M===r)break;b!==5&&b!==26&&b!==27||B===null||(M=B,f?(B=qo(a,g),B!=null&&T.unshift(Ca(a,B,M))):f||(B=qo(a,g),B!=null&&T.push(Ca(a,B,M)))),a=a.return}T.length!==0&&t.push({event:i,listeners:T})}var yE=/\r\n?/g,vE=/\u0000|\uFFFD/g;function ym(t){return(typeof t=="string"?t:""+t).replace(yE,`
`).replace(vE,"")}function vm(t,i){return i=ym(i),ym(t)===i}function al(){}function Vt(t,i,a,r,f,g){switch(a){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||Hi(t,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&Hi(t,""+r);break;case"className":cs(t,"class",r);break;case"tabIndex":cs(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":cs(t,a,r);break;case"style":Sd(t,r,g);break;case"data":if(i!=="object"){cs(t,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=hs(""+r),t.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(i!=="input"&&Vt(t,i,"name",f.name,f,null),Vt(t,i,"formEncType",f.formEncType,f,null),Vt(t,i,"formMethod",f.formMethod,f,null),Vt(t,i,"formTarget",f.formTarget,f,null)):(Vt(t,i,"encType",f.encType,f,null),Vt(t,i,"method",f.method,f,null),Vt(t,i,"target",f.target,f,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=hs(""+r),t.setAttribute(a,r);break;case"onClick":r!=null&&(t.onclick=al);break;case"onScroll":r!=null&&Ct("scroll",t);break;case"onScrollEnd":r!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(a=r.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}a=hs(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""+r):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":r===!0?t.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,r):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(a,r):t.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(a):t.setAttribute(a,r);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),us(t,"popover",r);break;case"xlinkActuate":fn(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":fn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":fn(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":fn(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":fn(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":fn(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":fn(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":fn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":fn(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":us(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=X0.get(a)||a,us(t,a,r))}}function Zu(t,i,a,r,f,g){switch(a){case"style":Sd(t,r,g);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(a=r.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof r=="string"?Hi(t,r):(typeof r=="number"||typeof r=="bigint")&&Hi(t,""+r);break;case"onScroll":r!=null&&Ct("scroll",t);break;case"onScrollEnd":r!=null&&Ct("scrollend",t);break;case"onClick":r!=null&&(t.onclick=al);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ud.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),g=t[Se]||null,g=g!=null?g[a]:null,typeof g=="function"&&t.removeEventListener(i,g,f),typeof r=="function")){typeof g!="function"&&g!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,r,f);break t}a in t?t[a]=r:r===!0?t.setAttribute(a,""):us(t,a,r)}}}function re(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var r=!1,f=!1,g;for(g in a)if(a.hasOwnProperty(g)){var T=a[g];if(T!=null)switch(g){case"src":r=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Vt(t,i,g,T,a,null)}}f&&Vt(t,i,"srcSet",a.srcSet,a,null),r&&Vt(t,i,"src",a.src,a,null);return;case"input":Ct("invalid",t);var b=g=T=f=null,M=null,B=null;for(r in a)if(a.hasOwnProperty(r)){var O=a[r];if(O!=null)switch(r){case"name":f=O;break;case"type":T=O;break;case"checked":M=O;break;case"defaultChecked":B=O;break;case"value":g=O;break;case"defaultValue":b=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,i));break;default:Vt(t,i,r,O,a,null)}}gd(t,g,b,M,B,T,f,!1),fs(t);return;case"select":Ct("invalid",t),r=T=g=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":g=b;break;case"defaultValue":T=b;break;case"multiple":r=b;default:Vt(t,i,f,b,a,null)}i=g,a=T,t.multiple=!!r,i!=null?Gi(t,!!r,i,!1):a!=null&&Gi(t,!!r,a,!0);return;case"textarea":Ct("invalid",t),g=f=r=null;for(T in a)if(a.hasOwnProperty(T)&&(b=a[T],b!=null))switch(T){case"value":r=b;break;case"defaultValue":f=b;break;case"children":g=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Vt(t,i,T,b,a,null)}vd(t,r,f,g),fs(t);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(r=a[M],r!=null))switch(M){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Vt(t,i,M,r,a,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(r=0;r<ba.length;r++)Ct(ba[r],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(r=a[B],r!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Vt(t,i,B,r,a,null)}return;default:if(fr(i)){for(O in a)a.hasOwnProperty(O)&&(r=a[O],r!==void 0&&Zu(t,i,O,r,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(r=a[b],r!=null&&Vt(t,i,b,r,a,null))}function TE(t,i,a,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,T=null,b=null,M=null,B=null,O=null;for(U in a){var Y=a[U];if(a.hasOwnProperty(U)&&Y!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":M=Y;default:r.hasOwnProperty(U)||Vt(t,i,U,null,r,Y)}}for(var I in r){var U=r[I];if(Y=a[I],r.hasOwnProperty(I)&&(U!=null||Y!=null))switch(I){case"type":g=U;break;case"name":f=U;break;case"checked":B=U;break;case"defaultChecked":O=U;break;case"value":T=U;break;case"defaultValue":b=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,i));break;default:U!==Y&&Vt(t,i,I,U,r,Y)}}ur(t,T,b,M,B,O,g,f);return;case"select":U=T=b=I=null;for(g in a)if(M=a[g],a.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":U=M;default:r.hasOwnProperty(g)||Vt(t,i,g,null,r,M)}for(f in r)if(g=r[f],M=a[f],r.hasOwnProperty(f)&&(g!=null||M!=null))switch(f){case"value":I=g;break;case"defaultValue":b=g;break;case"multiple":T=g;default:g!==M&&Vt(t,i,f,g,r,M)}i=b,a=T,r=U,I!=null?Gi(t,!!a,I,!1):!!r!=!!a&&(i!=null?Gi(t,!!a,i,!0):Gi(t,!!a,a?[]:"",!1));return;case"textarea":U=I=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!r.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Vt(t,i,b,null,r,f)}for(T in r)if(f=r[T],g=a[T],r.hasOwnProperty(T)&&(f!=null||g!=null))switch(T){case"value":I=f;break;case"defaultValue":U=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Vt(t,i,T,f,r,g)}yd(t,I,U);return;case"option":for(var ht in a)if(I=a[ht],a.hasOwnProperty(ht)&&I!=null&&!r.hasOwnProperty(ht))switch(ht){case"selected":t.selected=!1;break;default:Vt(t,i,ht,null,r,I)}for(M in r)if(I=r[M],U=a[M],r.hasOwnProperty(M)&&I!==U&&(I!=null||U!=null))switch(M){case"selected":t.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Vt(t,i,M,I,r,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in a)I=a[ct],a.hasOwnProperty(ct)&&I!=null&&!r.hasOwnProperty(ct)&&Vt(t,i,ct,null,r,I);for(B in r)if(I=r[B],U=a[B],r.hasOwnProperty(B)&&I!==U&&(I!=null||U!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,i));break;default:Vt(t,i,B,I,r,U)}return;default:if(fr(i)){for(var Pt in a)I=a[Pt],a.hasOwnProperty(Pt)&&I!==void 0&&!r.hasOwnProperty(Pt)&&Zu(t,i,Pt,void 0,r,I);for(O in r)I=r[O],U=a[O],!r.hasOwnProperty(O)||I===U||I===void 0&&U===void 0||Zu(t,i,O,I,r,U);return}}for(var w in a)I=a[w],a.hasOwnProperty(w)&&I!=null&&!r.hasOwnProperty(w)&&Vt(t,i,w,null,r,I);for(Y in r)I=r[Y],U=a[Y],!r.hasOwnProperty(Y)||I===U||I==null&&U==null||Vt(t,i,Y,I,r,U)}var $u=null,Ju=null;function sl(t){return t.nodeType===9?t:t.ownerDocument}function Tm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sm(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Wu(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ju=null;function SE(){var t=window.event;return t&&t.type==="popstate"?t===ju?!1:(ju=t,!0):(ju=null,!1)}var Em=typeof setTimeout=="function"?setTimeout:void 0,EE=typeof clearTimeout=="function"?clearTimeout:void 0,bm=typeof Promise=="function"?Promise:void 0,bE=typeof queueMicrotask=="function"?queueMicrotask:typeof bm<"u"?function(t){return bm.resolve(null).then(t).catch(CE)}:Em;function CE(t){setTimeout(function(){throw t})}function Zn(t){return t==="head"}function Cm(t,i){var a=i,r=0,f=0;do{var g=a.nextSibling;if(t.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<r&&8>r){a=r;var T=t.ownerDocument;if(a&1&&Aa(T.documentElement),a&2&&Aa(T.body),a&4)for(a=T.head,Aa(a),T=a.firstChild;T;){var b=T.nextSibling,M=T.nodeName;T[ko]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=b}}if(f===0){t.removeChild(g),La(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:r=a.charCodeAt(0)-48;else r=0;a=g}while(a);La(i)}function tc(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":tc(a),ar(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function AE(t,i,a,r){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[ko])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=Je(t.nextSibling),t===null)break}return null}function ME(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Je(t.nextSibling),t===null))return null;return t}function ec(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function xE(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var r=function(){i(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Je(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var nc=null;function Am(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Mm(t,i,a){switch(i=sl(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Aa(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ar(t)}var Ye=new Map,xm=new Set;function ll(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mn=q.d;q.d={f:_E,r:wE,D:RE,C:DE,L:NE,m:LE,X:PE,S:VE,M:BE};function _E(){var t=Mn.f(),i=Ws();return t||i}function wE(t){var i=zi(t);i!==null&&i.tag===5&&i.type==="form"?Kh(i):Mn.r(t)}var To=typeof document>"u"?null:document;function _m(t,i,a){var r=To;if(r&&typeof i=="string"&&i){var f=ze(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),xm.has(f)||(xm.add(f),t={rel:t,crossOrigin:a,href:i},r.querySelector(f)===null&&(i=r.createElement("link"),re(i,"link",t),ne(i),r.head.appendChild(i)))}}function RE(t){Mn.D(t),_m("dns-prefetch",t,null)}function DE(t,i){Mn.C(t,i),_m("preconnect",t,i)}function NE(t,i,a){Mn.L(t,i,a);var r=To;if(r&&t&&i){var f='link[rel="preload"][as="'+ze(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ze(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ze(a.imageSizes)+'"]')):f+='[href="'+ze(t)+'"]';var g=f;switch(i){case"style":g=So(t);break;case"script":g=Eo(t)}Ye.has(g)||(t=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ye.set(g,t),r.querySelector(f)!==null||i==="style"&&r.querySelector(Ma(g))||i==="script"&&r.querySelector(xa(g))||(i=r.createElement("link"),re(i,"link",t),ne(i),r.head.appendChild(i)))}}function LE(t,i){Mn.m(t,i);var a=To;if(a&&t){var r=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ze(r)+'"][href="'+ze(t)+'"]',g=f;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Eo(t)}if(!Ye.has(g)&&(t=v({rel:"modulepreload",href:t},i),Ye.set(g,t),a.querySelector(f)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xa(g)))return}r=a.createElement("link"),re(r,"link",t),ne(r),a.head.appendChild(r)}}}function VE(t,i,a){Mn.S(t,i,a);var r=To;if(r&&t){var f=ki(r).hoistableStyles,g=So(t);i=i||"default";var T=f.get(g);if(!T){var b={loading:0,preload:null};if(T=r.querySelector(Ma(g)))b.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ye.get(g))&&ic(t,a);var M=T=r.createElement("link");ne(M),re(M,"link",t),M._p=new Promise(function(B,O){M.onload=B,M.onerror=O}),M.addEventListener("load",function(){b.loading|=1}),M.addEventListener("error",function(){b.loading|=2}),b.loading|=4,rl(T,i,r)}T={type:"stylesheet",instance:T,count:1,state:b},f.set(g,T)}}}function PE(t,i){Mn.X(t,i);var a=To;if(a&&t){var r=ki(a).hoistableScripts,f=Eo(t),g=r.get(f);g||(g=a.querySelector(xa(f)),g||(t=v({src:t,async:!0},i),(i=Ye.get(f))&&oc(t,i),g=a.createElement("script"),ne(g),re(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},r.set(f,g))}}function BE(t,i){Mn.M(t,i);var a=To;if(a&&t){var r=ki(a).hoistableScripts,f=Eo(t),g=r.get(f);g||(g=a.querySelector(xa(f)),g||(t=v({src:t,async:!0,type:"module"},i),(i=Ye.get(f))&&oc(t,i),g=a.createElement("script"),ne(g),re(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},r.set(f,g))}}function wm(t,i,a,r){var f=(f=mt.current)?ll(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=So(a.href),a=ki(f).hoistableStyles,r=a.get(i),r||(r={type:"style",instance:null,count:0,state:null},a.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=So(a.href);var g=ki(f).hoistableStyles,T=g.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,T),(g=f.querySelector(Ma(t)))&&!g._p&&(T.instance=g,T.state.loading=5),Ye.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ye.set(t,a),g||IE(f,t,a,T.state))),i&&r===null)throw Error(s(528,""));return T}if(i&&r!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Eo(a),a=ki(f).hoistableScripts,r=a.get(i),r||(r={type:"script",instance:null,count:0,state:null},a.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function So(t){return'href="'+ze(t)+'"'}function Ma(t){return'link[rel="stylesheet"]['+t+"]"}function Rm(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function IE(t,i,a,r){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=t.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),re(i,"link",a),ne(i),t.head.appendChild(i))}function Eo(t){return'[src="'+ze(t)+'"]'}function xa(t){return"script[async]"+t}function Dm(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var r=t.querySelector('style[data-href~="'+ze(a.href)+'"]');if(r)return i.instance=r,ne(r),r;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),ne(r),re(r,"style",f),rl(r,a.precedence,t),i.instance=r;case"stylesheet":f=So(a.href);var g=t.querySelector(Ma(f));if(g)return i.state.loading|=4,i.instance=g,ne(g),g;r=Rm(a),(f=Ye.get(f))&&ic(r,f),g=(t.ownerDocument||t).createElement("link"),ne(g);var T=g;return T._p=new Promise(function(b,M){T.onload=b,T.onerror=M}),re(g,"link",r),i.state.loading|=4,rl(g,a.precedence,t),i.instance=g;case"script":return g=Eo(a.src),(f=t.querySelector(xa(g)))?(i.instance=f,ne(f),f):(r=a,(f=Ye.get(g))&&(r=v({},a),oc(r,f)),t=t.ownerDocument||t,f=t.createElement("script"),ne(f),re(f,"link",r),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,rl(r,a.precedence,t));return i.instance}function rl(t,i,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=r.length?r[r.length-1]:null,g=f,T=0;T<r.length;T++){var b=r[T];if(b.dataset.precedence===i)g=b;else if(g!==f)break}g?g.parentNode.insertBefore(t,g.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function ic(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function oc(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ul=null;function Nm(t,i,a){if(ul===null){var r=new Map,f=ul=new Map;f.set(a,r)}else f=ul,r=f.get(a),r||(r=new Map,f.set(a,r));if(r.has(t))return r;for(r.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var g=a[f];if(!(g[ko]||g[fe]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(i)||"";T=t+T;var b=r.get(T);b?b.push(g):r.set(T,[g])}}return r}function Lm(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function UE(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Vm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var _a=null;function zE(){}function kE(t,i,a){if(_a===null)throw Error(s(475));var r=_a;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=So(a.href),g=t.querySelector(Ma(f));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=cl.bind(r),t.then(r,r)),i.state.loading|=4,i.instance=g,ne(g);return}g=t.ownerDocument||t,a=Rm(a),(f=Ye.get(f))&&ic(a,f),g=g.createElement("link"),ne(g);var T=g;T._p=new Promise(function(b,M){T.onload=b,T.onerror=M}),re(g,"link",a),i.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(r.count++,i=cl.bind(r),t.addEventListener("load",i),t.addEventListener("error",i))}}function OE(){if(_a===null)throw Error(s(475));var t=_a;return t.stylesheets&&t.count===0&&ac(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&ac(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function cl(){if(this.count--,this.count===0){if(this.stylesheets)ac(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var fl=null;function ac(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,fl=new Map,i.forEach(qE,t),fl=null,cl.call(t))}function qE(t,i){if(!(i.state.loading&4)){var a=fl.get(t);if(a)var r=a.get(null);else{a=new Map,fl.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var T=f[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),r=T)}r&&a.set(null,r)}f=i.instance,T=f.getAttribute("data-precedence"),g=a.get(T)||r,g===r&&a.set(null,f),a.set(T,f),this.count++,r=cl.bind(this),f.addEventListener("load",r),f.addEventListener("error",r),g?g.parentNode.insertBefore(f,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var wa={$$typeof:N,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function GE(t,i,a,r,f,g,T,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=er(0),this.hiddenUpdates=er(null),this.identifierPrefix=r,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Pm(t,i,a,r,f,g,T,b,M,B,O,Y){return t=new GE(t,i,a,T,b,M,B,Y),i=1,g===!0&&(i|=24),g=Ne(3,null,null,i),t.current=g,g.stateNode=t,i=Or(),i.refCount++,t.pooledCache=i,i.refCount++,g.memoizedState={element:r,isDehydrated:a,cache:i},Fr(g),t}function Bm(t){return t?(t=Ji,t):Ji}function Im(t,i,a,r,f,g){f=Bm(f),r.context===null?r.context=f:r.pendingContext=f,r=In(i),r.payload={element:a},g=g===void 0?null:g,g!==null&&(r.callback=g),a=Un(t,r,i),a!==null&&(Ie(a,t,i),oa(a,t,i))}function Um(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function sc(t,i){Um(t,i),(t=t.alternate)&&Um(t,i)}function zm(t){if(t.tag===13){var i=$i(t,67108864);i!==null&&Ie(i,t,67108864),sc(t,67108864)}}var dl=!0;function HE(t,i,a,r){var f=P.T;P.T=null;var g=q.p;try{q.p=2,lc(t,i,a,r)}finally{q.p=g,P.T=f}}function FE(t,i,a,r){var f=P.T;P.T=null;var g=q.p;try{q.p=8,lc(t,i,a,r)}finally{q.p=g,P.T=f}}function lc(t,i,a,r){if(dl){var f=rc(r);if(f===null)Xu(t,i,r,hl,a),Om(t,r);else if(KE(f,t,i,a,r))r.stopPropagation();else if(Om(t,r),i&4&&-1<YE.indexOf(t)){for(;f!==null;){var g=zi(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=ri(g.pendingLanes);if(T!==0){var b=g;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var M=1<<31-Re(T);b.entanglements[1]|=M,T&=~M}sn(g),(Rt&6)===0&&($s=tn()+500,Ea(0))}}break;case 13:b=$i(g,2),b!==null&&Ie(b,g,2),Ws(),sc(g,2)}if(g=rc(r),g===null&&Xu(t,i,r,hl,a),g===f)break;f=g}f!==null&&r.stopPropagation()}else Xu(t,i,r,null,a)}}function rc(t){return t=hr(t),uc(t)}var hl=null;function uc(t){if(hl=null,t=Ui(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=c(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return hl=t,null}function km(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(D0()){case jf:return 2;case td:return 8;case as:case N0:return 32;case ed:return 268435456;default:return 32}default:return 32}}var cc=!1,$n=null,Jn=null,Wn=null,Ra=new Map,Da=new Map,jn=[],YE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Om(t,i){switch(t){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Ra.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Da.delete(i.pointerId)}}function Na(t,i,a,r,f,g){return t===null||t.nativeEvent!==g?(t={blockedOn:i,domEventName:a,eventSystemFlags:r,nativeEvent:g,targetContainers:[f]},i!==null&&(i=zi(i),i!==null&&zm(i)),t):(t.eventSystemFlags|=r,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function KE(t,i,a,r,f){switch(i){case"focusin":return $n=Na($n,t,i,a,r,f),!0;case"dragenter":return Jn=Na(Jn,t,i,a,r,f),!0;case"mouseover":return Wn=Na(Wn,t,i,a,r,f),!0;case"pointerover":var g=f.pointerId;return Ra.set(g,Na(Ra.get(g)||null,t,i,a,r,f)),!0;case"gotpointercapture":return g=f.pointerId,Da.set(g,Na(Da.get(g)||null,t,i,a,r,f)),!0}return!1}function qm(t){var i=Ui(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){t.blockedOn=i,k0(t.priority,function(){if(a.tag===13){var r=Be();r=nr(r);var f=$i(a,r);f!==null&&Ie(f,a,r),sc(a,r)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pl(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=rc(t.nativeEvent);if(a===null){a=t.nativeEvent;var r=new a.constructor(a.type,a);dr=r,a.target.dispatchEvent(r),dr=null}else return i=zi(a),i!==null&&zm(i),t.blockedOn=a,!1;i.shift()}return!0}function Gm(t,i,a){pl(t)&&a.delete(i)}function QE(){cc=!1,$n!==null&&pl($n)&&($n=null),Jn!==null&&pl(Jn)&&(Jn=null),Wn!==null&&pl(Wn)&&(Wn=null),Ra.forEach(Gm),Da.forEach(Gm)}function ml(t,i){t.blockedOn===i&&(t.blockedOn=null,cc||(cc=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,QE)))}var gl=null;function Hm(t){gl!==t&&(gl=t,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){gl===t&&(gl=null);for(var i=0;i<t.length;i+=3){var a=t[i],r=t[i+1],f=t[i+2];if(typeof r!="function"){if(uc(r||a)===null)continue;break}var g=zi(a);g!==null&&(t.splice(i,3),i-=3,uu(g,{pending:!0,data:f,method:a.method,action:r},r,f))}}))}function La(t){function i(M){return ml(M,t)}$n!==null&&ml($n,t),Jn!==null&&ml(Jn,t),Wn!==null&&ml(Wn,t),Ra.forEach(i),Da.forEach(i);for(var a=0;a<jn.length;a++){var r=jn[a];r.blockedOn===t&&(r.blockedOn=null)}for(;0<jn.length&&(a=jn[0],a.blockedOn===null);)qm(a),a.blockedOn===null&&jn.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var f=a[r],g=a[r+1],T=f[Se]||null;if(typeof g=="function")T||Hm(a);else if(T){var b=null;if(g&&g.hasAttribute("formAction")){if(f=g,T=g[Se]||null)b=T.formAction;else if(uc(f)!==null)continue}else b=T.action;typeof b=="function"?a[r+1]=b:(a.splice(r,3),r-=3),Hm(a)}}}function fc(t){this._internalRoot=t}yl.prototype.render=fc.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,r=Be();Im(a,r,t,i,null,null)},yl.prototype.unmount=fc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Im(t.current,2,null,t,null,null),Ws(),i[Ii]=null}};function yl(t){this._internalRoot=t}yl.prototype.unstable_scheduleHydration=function(t){if(t){var i=sd();t={blockedOn:null,target:t,priority:i};for(var a=0;a<jn.length&&i!==0&&i<jn[a].priority;a++);jn.splice(a,0,t),a===0&&qm(t)}};var Fm=e.version;if(Fm!=="19.1.1")throw Error(s(527,Fm,"19.1.1"));q.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var XE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{Io=vl.inject(XE),we=vl}catch{}}return Ba.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,r="",f=sp,g=lp,T=rp,b=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=Pm(t,1,!1,null,null,a,r,f,g,T,b,null),t[Ii]=i.current,Qu(t),new fc(i)},Ba.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var r=!1,f="",g=sp,T=lp,b=rp,M=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(M=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=Pm(t,1,!0,i,a??null,r,f,g,T,b,M,B),i.context=Bm(null),a=i.current,r=Be(),r=nr(r),f=In(r),f.callback=null,Un(a,f,r),a=r,i.current.lanes=a,zo(i,a),sn(i),t[Ii]=i.current,Qu(t),new yl(i)},Ba.version="19.1.1",Ba}var mv;function zD(){if(mv)return Rc.exports;mv=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),Rc.exports=UD(),Rc.exports}var kD=zD();const OD="1919",Xf="barricadix_authenticated";function qD(){if(sessionStorage.getItem(Xf)==="true"){g0();return}GD(),HD()}function GD(){const o=document.getElementById("welcome-screen"),e=document.getElementById("app-container");o&&e&&(o.style.display="flex",e.style.display="none")}function g0(){const o=document.getElementById("welcome-screen"),e=document.getElementById("app-container");o&&e&&(o.style.display="none",e.style.display="flex",typeof Cv=="function"&&Cv())}function HD(){const o=document.getElementById("auth-form"),e=document.getElementById("password-input"),n=document.getElementById("auth-error"),s=document.getElementById("auth-submit");if(!o||!e||!n||!s){console.error("Auth form elements not found");return}o.addEventListener("submit",l=>{l.preventDefault(),gv(e.value)}),e.addEventListener("keypress",l=>{l.key==="Enter"&&(l.preventDefault(),gv(e.value))}),e.addEventListener("input",()=>{YD()}),e.focus()}function gv(o){const e=document.getElementById("auth-error"),n=document.getElementById("auth-submit"),s=document.getElementById("password-input");!e||!n||!s||(n.style.opacity="0.7",n.style.pointerEvents="none",s.disabled=!0,setTimeout(()=>{o===OD?(sessionStorage.setItem(Xf,"true"),n.innerHTML='<i class="fas fa-check"></i> Erfolgreich!',n.style.background="linear-gradient(45deg, #10b981, #059669)",setTimeout(()=>{g0()},800)):(FD(),n.style.opacity="1",n.style.pointerEvents="auto",s.disabled=!1,s.value="",s.focus(),n.innerHTML='<i class="fas fa-sign-in-alt"></i> Anmelden')},500))}function FD(){const o=document.getElementById("auth-error");o&&(o.style.display="flex",setTimeout(()=>{o.style.display="none"},3e3))}function YD(){const o=document.getElementById("auth-error");o&&(o.style.display="none")}window.logout=function(){sessionStorage.removeItem(Xf),location.reload()};let it,y0,ln=null,_i=null,bo=!1,ye=[],Ri=[],je=null,Nt=null,Li=null,ql=new Map,Te=new Map,_n=null,xl=null,za=[],It="de",ce={};const Vi={de:{header:{planning:"Planung",manufacturer:"Hersteller"},nav:{paramInput:"Parameter",markingArea:"Sicherheitsbereich",threatAnalysis:"Gefahrenanalyse",riskReport:"Risikobericht",productSelection:"Produktauswahl",projectDescription:"Ausschreibung",publishProject:"Projektausschreibung veröffentlichen"},aria:{search:"Suche",email:"E-Mail",settings:"Einstellungen"},user:{loggedIn:"Angemeldet: BarricadiX Admin"},sidebar:{trafficData:"Verkehrsdaten",vehicleSelect:"Fahrzeugauswahl",accessRoads:"Zufahrten",curbs:"Bordsteinkanten",obstacles:"Hindernisse",protectionSelection:"Schutzauswahl",protectionPeriod:"Schutzzeitraum",protectionProducts:"Schutzprodukte",productProperty:"Produkteigenschaft",riskAssessment:"Risikobewertung",assetToProtect:"Was geschützt werden soll",securityRisk:"Sicherheitsrisiko",recommendedProductClass:"Empfohlene Produktklasse",low:"niedrig",high:"hoch",options:{vehicle:{all:"alle",motorcycle:"Motorrad",car_light:"KFZ <3.5t",truck_light:"LKW <7.5t",truck_medium:"LKW <12t",truck_heavy:"LKW <40t"},access:{all:"alle",meadow:"Wiese",forest_path:"Waldweg",pedestrian_path:"Fußgängerweg",one_way:"Einbahnstraße",two_lane:"Zweispur",three_lane:"Dreispur",four_lane:"Vierspur"},curbs:{yes:"ja",no:"nein"},obstacles:{none:"keine",trees:"Bäume",posts:"Pfosten",bins:"Mülltonnen"},period:{permanent:"dauerhaft",temporary:"temporär",eventual:"eventuell"},products:{bollard:"Poller",barrier:"Barriere",post:"Pfosten",ditch:"Graben"},property:{automatic_rigid:"aut./starr",retractable:"versenkbar",removable:"entfernbar"}}},products:{resistanceMedium:"Widerstandsmedium",resistanceHigh:"Hoher Widerstand",resistanceLow:"Niedriger Widerstand"},ai:{reportPrompt:"Erstellen Sie einen detaillierten Risikobericht basierend auf den gesammelten Daten.",chatbot:{title:"Zufahrtsschutz-Assistent",welcome:"Willkommen zum Zufahrtsschutz-Assistenten. Ich stelle nur Fragen, die noch fehlen oder unsicher sind. Bereit?",assetQuestion:"Welche Schutzgüter möchten Sie absichern? Hinweis: Grundlage für Schutzziel & Schutzklasse (DIN SPEC 91414-2 / ISO 22343-2)",inputPlaceholder:"Antwort eingeben...",sendButton:"Senden",stakeholderQuestion:"Wer sind die relevanten Stakeholder (Behörden, Veranstalter, Betreiber)?",restRiskQuestion:"Welches akzeptable Restrisiko gilt?",operationalQuestion:"Betriebsanforderungen (mehrfach wählbar)",threatQuestion:"Welche Art fahrzeuggestützter Bedrohung ist zu erwarten?",vehicleTypesQuestion:"Welche Fahrzeugtypen sind relevant?",accessCorridorsQuestion:"Wo könnten Fahrzeuge eindringen? (Karte markieren oder beschreiben)",speedQuestion:"Maximale Zufahrtsgeschwindigkeit (km/h)",angleQuestion:"Wahrscheinlicher Anprallwinkel (°)",groundQuestion:"Untergrund/Fundamente am Standort",riskMatrixQuestion:"Risikobewertung: Eintrittswahrscheinlichkeit & Schadensausmaß",completionMessage:"Danke! Alle erforderlichen Angaben sind vorhanden. Möchten Sie den normkonformen PDF-Plan erzeugen?"}},manufacturer:{title:"Herstelleransicht",subtitle:"Verwalten Sie Ihren Produktkatalog und Kundenanfragen",products:"Produkte",quotations:"Angebote",customers:"Kunden",analytics:"Analysen",manageCatalog:"Verwalten Sie Ihren Produktkatalog",createQuotations:"Erstellen und verwalten Sie Angebote",manageContacts:"Verwalten Sie Ihre Kundenkontakte",businessAnalytics:"Betriebs- und Verkaufsanalysen",open:"Öffnen",nav:{products:"Produkte",quotations:"Angebote",customers:"Kunden",analytics:"Analysen",settings:"Einstellungen"},sidebar:{productManagement:"Produktverwaltung",productCategory:"Produktkategorie",productStatus:"Produktstatus",customerManagement:"Kundenverwaltung",customerType:"Kundentyp",customerRegion:"Region",analytics:"Analysen",dateRange:"Zeitraum",options:{category:{all:"Alle Kategorien",bollards:"Poller",barriers:"Barrieren",posts:"Pfosten",ditches:"Gräben"},status:{all:"Alle Status",active:"Aktiv",inactive:"Inaktiv",draft:"Entwurf"},customerType:{all:"Alle Typen",private:"Privat",business:"Geschäft",government:"Behörde"},region:{all:"Alle Regionen",north:"Nord",south:"Süd",east:"Ost",west:"West"},dateRange:{"7days":"Letzte 7 Tage","30days":"Letzte 30 Tage","90days":"Letzte 90 Tage","1year":"Letztes Jahr"},manufacturer:{all:"Alle Hersteller"},standard:{all:"Alle Standards"},vehicleType:{all:"Alle Fahrzeugtypen"}},productDatabase:{title:"Produktdatenbank",subtitle:"Technische Daten und Spezifikationen aller verfügbaren Produkte",search:"Produktsuche",searchPlaceholder:"Produktname, Hersteller, Standard oder Fahrzeugtyp eingeben...",filterBy:"Filtern nach",manufacturer:"Hersteller",type:"Typ",standard:"Standard",vehicleWeight:"Fahrzeuggewicht (kg)",vehicleType:"Fahrzeugtyp",speed:"Geschwindigkeit (km/h)",impactAngle:"Anprallwinkel (°)",penetration:"Penetration (m)",debrisDistance:"Trümmerdistanz (m)",actions:"Aktionen",noProducts:"Keine Produkte gefunden",loading:"Produkte werden geladen...",technicalSpecs:"Technische Spezifikationen",performanceData:"Leistungsdaten",certification:"Zertifizierung",viewDetails:"Details anzeigen",closeDetails:"Schließen",exportData:"Daten exportieren",printSpecs:"Spezifikationen drucken",modal:{title:"Produktdetails",technicalSpecs:"Technische Spezifikationen",performanceData:"Leistungsdaten",certification:"Zertifizierung",exportData:"Daten exportieren",printSpecs:"Spezifikationen drucken"},toggleToGrid:"Kachelansicht",toggleToTable:"Tabellenansicht",table:{manufacturer:"Hersteller",type:"Typ",standard:"Standard",vehicleWeight:"Fahrzeuggewicht (kg)",vehicleType:"Fahrzeugtyp",speed:"Geschwindigkeit (km/h)",impactAngle:"Anprallwinkel (°)",penetration:"Penetration (m)",debrisDistance:"Trümmerdistanz (m)",actions:"Aktionen"}}}},report:{mainTitle:"Risikobewertung für Zufahrtsschutz",watermark:"VERTRAULICH",undefinedAsset:"Nicht definiertes Schutzgut",undefinedValue:"Nicht definierter Wert",noThreatAnalysis:"Keine Gefahrenanalyse verfügbar",generating:"Bericht wird generiert...",status:{draft:"Entwurf",final:"Final",approved:"Genehmigt"},metadata:{date:"Datum",author:"Autor",version:"Version",classification:"Klassifizierung"},sections:{purpose:{title:"Zweck und Zielsetzung",description:"Dieser Bericht dient der Bewertung der Sicherheitsrisiken für die zu schützenden Zufahrten und der Empfehlung geeigneter Schutzmaßnahmen."},threatAnalysis:{title:"Gefahrenanalyse",description:"Analyse der identifizierten Bedrohungen und deren potenzielle Auswirkungen."},riskAssessment:{title:"Risikobewertung",description:"Bewertung der identifizierten Risiken und deren Klassifizierung."},recommendations:{title:"Empfehlungen",description:"Konkrete Handlungsempfehlungen für die Implementierung von Schutzmaßnahmen."},vulnerabilities:{title:"Schwachstellenanalyse",description:"Identifizierung und Bewertung von Sicherheitsschwachstellen."},hvmMeasures:{title:"HVM-Schutzmaßnahmen",description:"Spezifische Schutzmaßnahmen gegen High-Velocity Missile Angriffe."},siteConsiderations:{title:"Standortbetrachtungen",description:"Besondere Aspekte des Standorts und der Umgebung."},operationalImpact:{title:"Betriebliche Auswirkungen",description:"Auswirkungen der Schutzmaßnahmen auf den laufenden Betrieb."}},threatsTable:{title:"Identifizierte Bedrohungen",street:"Straße",distance:"Strecke",maxSpeed:"Max. erreichbare Geschw."},identifiedCorridors:"{count} identifizierte Korridore",noChatGeometry:"keine Geometrie aus Chatbot übergeben",actions:{save:"Speichern",print:"Drucken",export:"Exportieren",share:"Teilen"}},threats:{title:"Gefahrenanalyse",speed:"Geschwindigkeit",analysisFailed:"Gefahrenanalyse fehlgeschlagen",noCrossingWaysBoundary:"Keine kreuzenden Wege an der Grenze gefunden",popupHeader:"Gefahreninformationen",loading:"Lade Gefahrenanalyse..."},map:{createReport:"Bericht erstellen",downloadReport:"Bericht herunterladen",searchPlaceholder:"Paderborn, Domplatz",searchButton:"Suchen",setWaypoints:"Wegpunkte setzen",setWaypointsActive:"Zeichnen aktiv",reset:"Zurücksetzen",securityAreaLabel:"Sicherheitsbereich",analyzeAccess:"Zugang analysieren"},placeholders:{assetToProtect:"Bitte eintragen"},alerts:{noPolygon:"Bitte zeichnen Sie zuerst einen Sicherheitsbereich auf der Karte.",overpassError:"Fehler beim Laden der Straßendaten (Status: {status}).",analysisError:"Fehler bei der Gefahrenanalyse. Bitte versuchen Sie es erneut.",invalidPolygon:"Ungültiges Polygon. Bitte zeichnen Sie den Sicherheitsbereich neu.",emptyPolygon:"Das gezeichnete Polygon hat keine gültigen Koordinaten.",polygonCoordinateError:"Fehler beim Verarbeiten der Polygon-Koordinaten.",locationNotFound:"Standort nicht gefunden. Bitte überprüfen Sie die Eingabe.",noThreatsFound:"Keine Bedrohungen in diesem Bereich gefunden.",reportGenerationError:"Fehler beim Erstellen des Berichts. Bitte versuchen Sie es erneut."}},en:{header:{planning:"Planning",manufacturer:"Manufacturer"},nav:{paramInput:"Parameters",markingArea:"Security Area",threatAnalysis:"Threat Analysis",riskReport:"Risk Report",productSelection:"Product Selection",projectDescription:"Specification",publishProject:"Publish Project Specification"},aria:{search:"Search",email:"Email",settings:"Settings"},user:{loggedIn:"Logged in: BarricadiX Admin"},sidebar:{trafficData:"Traffic Data",vehicleSelect:"Vehicle Selection",accessRoads:"Access Roads",curbs:"Curbs",obstacles:"Obstacles",protectionSelection:"Protection Selection",protectionPeriod:"Protection Period",protectionProducts:"Protection Products",productProperty:"Product Property",riskAssessment:"Risk Assessment",assetToProtect:"What to Protect",securityRisk:"Security Risk",recommendedProductClass:"Recommended Product Class",low:"low",high:"high",options:{vehicle:{all:"all",motorcycle:"Motorcycle",car_light:"Car <3.5t",truck_light:"Truck <7.5t",truck_medium:"Truck <12t",truck_heavy:"Truck <40t"},access:{all:"all",meadow:"Meadow",forest_path:"Forest Path",pedestrian_path:"Pedestrian Path",one_way:"One Way",two_lane:"Two Lane",three_lane:"Three Lane",four_lane:"Four Lane"},curbs:{yes:"yes",no:"no"},obstacles:{none:"none",trees:"Trees",posts:"Posts",bins:"Bins"},period:{permanent:"permanent",temporary:"temporary",eventual:"eventual"},products:{bollard:"Bollard",barrier:"Barrier",post:"Post",ditch:"Ditch"},property:{automatic_rigid:"auto/rigid",retractable:"retractable",removable:"removable"}}},products:{resistanceMedium:"Resistance Medium",resistanceHigh:"High Resistance",resistanceLow:"Low Resistance"},ai:{reportPrompt:"Create a detailed risk report based on the collected data.",chatbot:{title:"Access Protection Assistant",welcome:"Welcome to the Access Protection Assistant. I only ask questions that are still missing or uncertain. Ready?",assetQuestion:"Which protective assets would you like to secure? Note: Basis for Protection Goal & Protection Class (DIN SPEC 91414-2 / ISO 22343-2)",inputPlaceholder:"Enter answer...",sendButton:"Send",stakeholderQuestion:"Who are the relevant stakeholders (authorities, organizers, operators)?",restRiskQuestion:"What acceptable residual risk applies?",operationalQuestion:"Operational requirements (multiple choice)",threatQuestion:"What type of vehicle-based threat is expected?",vehicleTypesQuestion:"Which vehicle types are relevant?",accessCorridorsQuestion:"Where could vehicles penetrate? (Mark on map or describe)",speedQuestion:"Maximum access speed (km/h)",angleQuestion:"Probable impact angle (°)",groundQuestion:"Ground/foundations at the site",riskMatrixQuestion:"Risk assessment: probability of occurrence & extent of damage",completionMessage:"Thank you! All required information is available. Would you like to generate the standards-compliant PDF plan?"}},manufacturer:{title:"Manufacturer View",subtitle:"Manage your product catalog and customer inquiries",products:"Products",quotations:"Quotations",customers:"Customers",analytics:"Analytics",manageCatalog:"Manage your product catalog",createQuotations:"Create and manage quotations",manageContacts:"Manage your customer contacts",businessAnalytics:"Business and sales analytics",open:"Open",nav:{products:"Products",quotations:"Quotations",customers:"Customers",analytics:"Analytics",settings:"Settings"},sidebar:{productManagement:"Product Management",productCategory:"Product Category",productStatus:"Product Status",customerManagement:"Customer Management",customerType:"Customer Type",customerRegion:"Region",analytics:"Analytics",dateRange:"Date Range",options:{category:{all:"All Categories",bollards:"Bollards",barriers:"Barriers",posts:"Posts",ditches:"Ditches"},status:{all:"All Status",active:"Active",inactive:"Inactive",draft:"Draft"},customerType:{all:"All Types",private:"Private",business:"Business",government:"Government"},region:{all:"All Regions",north:"North",south:"South",east:"East",west:"West"},dateRange:{"7days":"Last 7 Days","30days":"Last 30 Days","90days":"Last 90 Days","1year":"Last Year"},manufacturer:{all:"All Manufacturers"},standard:{all:"All Standards"},vehicleType:{all:"All Vehicle Types"}},productDatabase:{title:"Product Database",subtitle:"Technical data and specifications of all available products",search:"Product Search",searchPlaceholder:"Enter product name, manufacturer, standard or vehicle type...",filterBy:"Filter by",manufacturer:"Manufacturer",type:"Type",standard:"Standard",vehicleWeight:"Vehicle Weight (kg)",vehicleType:"Vehicle Type",speed:"Speed (km/h)",impactAngle:"Impact Angle (°)",penetration:"Penetration (m)",debrisDistance:"Debris Distance (m)",actions:"Actions",noProducts:"No products found",loading:"Loading products...",technicalSpecs:"Technical Specifications",performanceData:"Performance Data",certification:"Certification",viewDetails:"View Details",closeDetails:"Close",exportData:"Export Data",printSpecs:"Print Specifications",modal:{title:"Product Details",technicalSpecs:"Technical Specifications",performanceData:"Performance Data",certification:"Certification",exportData:"Export Data",printSpecs:"Print Specifications"},toggleToGrid:"Grid View",toggleToTable:"Table View",table:{manufacturer:"Manufacturer",type:"Type",standard:"Standard",vehicleWeight:"Vehicle Weight (kg)",vehicleType:"Vehicle Type",speed:"Speed (km/h)",impactAngle:"Impact Angle (°)",penetration:"Penetration (m)",debrisDistance:"Debris Distance (m)",actions:"Actions"}}}},report:{mainTitle:"Risk Assessment for Access Protection",watermark:"CONFIDENTIAL",undefinedAsset:"Undefined asset",undefinedValue:"Undefined value",noThreatAnalysis:"No threat analysis available",generating:"Generating report...",identifiedCorridors:"{count} identified corridors",noChatGeometry:"no geometry from chatbot",status:{draft:"Draft",final:"Final",approved:"Approved"},metadata:{date:"Date",author:"Author",version:"Version",classification:"Classification"},sections:{purpose:{title:"Purpose and Objectives",description:"This report serves to assess security risks for the access routes to be protected and to recommend appropriate protective measures."},threatAnalysis:{title:"Threat Analysis",description:"Analysis of identified threats and their potential impacts."},riskAssessment:{title:"Risk Assessment",description:"Assessment of identified risks and their classification."},recommendations:{title:"Recommendations",description:"Concrete action recommendations for implementing protective measures."},vulnerabilities:{title:"Vulnerability Analysis",description:"Identification and assessment of security vulnerabilities."},hvmMeasures:{title:"HVM Protection Measures",description:"Specific protection measures against High-Velocity Missile attacks."},siteConsiderations:{title:"Site Considerations",description:"Special aspects of the site and environment."},operationalImpact:{title:"Operational Impact",description:"Impact of protection measures on ongoing operations."}},threatsTable:{title:"Identified Threats",street:"Street",distance:"Distance",maxSpeed:"Max. achievable speed"},actions:{save:"Save",print:"Print",export:"Export",share:"Share"}},threats:{title:"Threat Analysis",speed:"Speed",analysisFailed:"Threat analysis failed",noCrossingWaysBoundary:"No crossing ways found at boundary",popupHeader:"Threat Information",loading:"Loading threat analysis..."},map:{createReport:"Create Report",downloadReport:"Download Report",searchPlaceholder:"Paderborn, Domplatz",searchButton:"Search",setWaypoints:"Set Waypoints",setWaypointsActive:"Drawing Active",reset:"Reset",securityAreaLabel:"Security Area",analyzeAccess:"Analyze Access"},placeholders:{assetToProtect:"Please enter"}}};ce=Vi;function uf(){console.log("Initializing view switcher..."),setTimeout(()=>{const o=document.getElementById("planning-view-btn"),e=document.getElementById("manufacturer-view-btn");console.log("Planning button:",o),console.log("Manufacturer button:",e),o&&e?(o.addEventListener("click",()=>{console.log("Planning button clicked"),KD()}),e.addEventListener("click",()=>{console.log("Manufacturer button clicked"),QD()}),console.log("View switcher initialized successfully")):console.error("View switcher buttons not found!");const n=document.querySelectorAll(".manufacturer-tab");n.forEach(s=>{s.addEventListener("click",l=>{l.preventDefault();const u=l.target;n.forEach(y=>y.classList.remove("active")),u.classList.add("active");const c=u.id;console.log("Manufacturer tab clicked:",c);const h=u.textContent||"Tab";Bo(`${h} wird geladen...`,"info")})}),console.log("Manufacturer navigation tabs initialized"),setTimeout(()=>{v0()},500)},100)}function KD(){const o=document.getElementById("planning-view-btn"),e=document.getElementById("manufacturer-view-btn");o&&e&&(o.classList.add("active"),e.classList.remove("active")),XD()}function QD(){const o=document.getElementById("planning-view-btn"),e=document.getElementById("manufacturer-view-btn");o&&e&&(e.classList.add("active"),o.classList.remove("active")),ZD()}function XD(){console.log("Switching to planning view...");const o=document.getElementById("manufacturer-view");o&&(o.style.display="none",console.log("Manufacturer view hidden"));const e=document.getElementById("planning-view");if(e&&(e.style.display="block",console.log("Planning view shown")),yN(),["map","map-area","sidebar","map-tabs","map-toolbar","chatbot-react-root"].forEach(s=>{const l=document.getElementById(s);l&&(l.classList.remove("view-hidden"),l.style.display="block",l.style.visibility="visible",l.style.opacity="1",console.log(`${s} restored and view-hidden removed`))}),it&&(console.log("Destroying existing map..."),it.remove(),it=null),setTimeout(()=>{if(console.log("Re-initializing map..."),Wf(),window.savedMapState){const s=window.savedMapState;it&&(it.setView(s.center,s.zoom),console.log("Map state restored:",s.center,"zoom:",s.zoom),it.invalidateSize(),setTimeout(()=>it==null?void 0:it.invalidateSize(),100),setTimeout(()=>it==null?void 0:it.invalidateSize(),300))}},100),window.savedChatbotState&&window.savedChatbotState.open){console.log("Restoring chatbot state...");const s=document.querySelector('#chatbot-react-root [aria-label="Zufahrtsschutz-Assistent öffnen"]');s&&(s.click(),console.log("Chatbot button clicked"))}Bo("Planungs-Ansicht aktiviert - Map neu initialisiert","success"),console.log("Planning view switch completed with map re-initialization")}function ZD(){it&&(window.savedMapState={center:it.getCenter(),zoom:it.getZoom(),waypoints:ye,drawnPolygon:Nt?Nt.getLatLngs()[0]:null,waypointMarkers:Ri.length>0,pathLine:je!==null});const o=document.querySelector('#chatbot-react-root aside[aria-label="Zufahrtsschutz-Assistent Panel"]');window.savedChatbotState={open:o&&!o.classList.contains("hidden")};const e=document.getElementById("planning-view");e&&(e.style.display="none");const n=document.getElementById("manufacturer-view");n&&(n.style.display="block",n.style.position="relative",n.style.width="100%",n.style.height="100%",n.style.zIndex="auto",n.style.backgroundColor="transparent");const s=document.querySelector(".sidebar");s&&(s.style.display="none");const l=document.getElementById("map-area");l&&(l.style.display="none",l.style.visibility="hidden",l.style.opacity="0",l.classList.add("view-hidden"));const u=document.getElementById("map");u&&(u.style.display="none",u.style.visibility="hidden",u.style.opacity="0",u.classList.add("view-hidden"));const c=document.getElementById("map-tabs"),h=document.getElementById("map-toolbar");c&&(c.style.display="none",c.classList.add("view-hidden")),h&&(h.style.display="none",h.classList.add("view-hidden")),setTimeout(()=>{x0()},50),Bo("Hersteller-Ansicht aktiviert","success")}function $D(){if(!window.savedMapState)return;const o=window.savedMapState;return console.log("Restoring map state:",o),o}window.restoreMapState=$D;function v0(){console.log("Initializing product database..."),C0(),cf(),E0(),A0()}async function cf(){try{const o=await fetch("/Barricadix_MWP/product-database.json");if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const e=await o.json();console.log("Product database loaded:",e.length,"products"),window.productDatabase=e,JD(e),console.log("About to display products:",e.length),await T0(e),console.log("Products display completed");const n=document.getElementById("products-loading");n&&(n.style.display="none"),C0(),setTimeout(()=>{document.getElementById("toggle-view-btn")&&Zf("grid")},100)}catch(o){console.error("Error loading product database:",o),Bo("Fehler beim Laden der Produktdatenbank","error");const e=document.getElementById("no-products");e&&(e.style.display="block",e.textContent="Fehler beim Laden der Produktdatenbank")}}function JD(o){const e=document.getElementById("manufacturer-filter");e&&[...new Set(o.map(u=>u.manufacturer).filter(Boolean))].forEach(u=>{const c=document.createElement("option");c.value=u,c.textContent=u,e.appendChild(c)});const n=document.getElementById("standard-filter");n&&[...new Set(o.map(u=>u.standard).filter(Boolean))].forEach(u=>{const c=document.createElement("option");c.value=u,c.textContent=u,n.appendChild(c)});const s=document.getElementById("vehicle-type-filter");s&&[...new Set(o.map(u=>u.vehicleType).filter(Boolean))].forEach(u=>{const c=document.createElement("option");c.value=u,c.textContent=u,s.appendChild(c)})}async function T0(o){console.log("displayProducts called with",o.length,"products"),console.log("Calling displayProductsTable..."),WD(o),console.log("Calling displayProductsGrid..."),await jD(o),console.log("displayProducts completed")}function WD(o){console.log("displayProductsTable called with",o.length,"products");const e=document.getElementById("products-tbody");if(!e){console.error("products-tbody not found");return}if(console.log("Clearing tbody and adding",o.length,"rows"),e.innerHTML="",o.length===0){console.log("No products to display");const l=document.getElementById("no-products");l&&(l.style.display="block");return}const n=document.getElementById("no-products");n&&(n.style.display="none"),o.forEach((l,u)=>{const c=document.createElement("tr");c.innerHTML=`
            <td>${l.manufacturer||"N/A"}</td>
            <td>${l.type||"N/A"}</td>
            <td>${l.standard||"N/A"}</td>
            <td>${l.vehicleWeight||"N/A"}</td>
            <td>${l.vehicleType||"N/A"}</td>
            <td>${l.speed||"N/A"}</td>
            <td>${l.impactAngle||"N/A"}</td>
            <td>${l.penetration||"N/A"}</td>
            <td>${l.debrisDistance||"N/A"}</td>
            <td>
                <button class="view-details-btn" data-product-index="${u}">
                    Details anzeigen
                </button>
            </td>
        `,e.appendChild(c)}),console.log("Added",o.length,"rows to table"),e.querySelectorAll(".view-details-btn").forEach(l=>{l.addEventListener("click",u=>{const c=u.target,h=parseInt(c.getAttribute("data-product-index")||"0");M0(h)})})}async function jD(o){const e=document.getElementById("products-grid");if(!e)return;if(e.innerHTML="",o.length===0){const h=document.getElementById("no-products-grid");h&&(h.style.display="block");return}const n=document.getElementById("no-products-grid");n&&(n.style.display="none");const s=await tN(o);console.log("First 5 products after sorting:",s.slice(0,5).map(h=>({type:h.type,hasRealImage:h.hasRealImage,manufacturer:h.manufacturer})));const l=s.filter(h=>h.hasRealImage),u=s.filter(h=>!h.hasRealImage);console.log(`Products WITH real images: ${l.length}, WITHOUT real images: ${u.length}, total: ${s.length}`),s.forEach((h,y)=>{const p=document.createElement("div");p.className="product-card";const v=S0(h),S=h.hasRealImage;S&&y<20&&(p.className="product-card product-card-priority"),p.innerHTML=`
            <div class="product-card-image ${S?"":"no-image"}">
                <img src="${v}" alt="${h.type||"Produkt"}" 
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='block';"
                     class="product-image">
                <div class="product-image-placeholder" style="display: none;">
                    <i class="fas fa-image"></i>
                    <span>Kein Bild verfügbar</span>
                </span>
                </div>
            </div>
            <div class="product-card-content">
                <div class="product-card-header">
                    <div class="product-card-title">${h.type||"N/A"}</div>
                    <div class="product-card-manufacturer">${h.manufacturer||"N/A"}</div>
                </div>
                <div class="product-card-specs">
                    <div class="product-card-spec">
                        <div class="product-card-spec-label">${W("manufacturer.sidebar.productDatabase.standard")}</div>
                        <div class="product-card-spec-value">${h.standard||"N/A"}</div>
                    </div>
                    <div class="product-card-spec">
                        <div class="product-card-spec-label">${W("manufacturer.sidebar.productDatabase.vehicleWeight")}</div>
                        <div class="product-card-spec-value">${h.vehicleWeight||"N/A"} kg</div>
                    </div>
                    <div class="product-card-spec">
                        <div class="product-card-spec-label">${W("manufacturer.sidebar.productDatabase.vehicleType")}</div>
                        <div class="product-card-spec-value">${h.vehicleType||"N/A"}</div>
                    </div>
                    <div class="product-card-spec">
                        <div class="product-card-spec-label">${W("manufacturer.sidebar.productDatabase.speed")}</div>
                        <div class="product-card-spec-value">${h.speed||"N/A"} km/h</div>
                    </div>
                    <div class="product-card-spec">
                        <div class="product-card-spec-label">${W("manufacturer.sidebar.productDatabase.impactAngle")}</div>
                        <div class="product-card-spec-value">${h.impactAngle||"N/A"}°</div>
                    </div>
                    <div class="product-card-spec">
                        <div class="product-card-spec-label">${W("manufacturer.sidebar.productDatabase.penetration")}</div>
                        <div class="product-card-spec-value">${h.penetration||"N/A"} m</div>
                    </div>
                </div>
                <div class="product-card-actions">
                    <button class="product-card-btn secondary" data-product-index="${y}">
                        Details
                    </button>
                </div>
            </div>
        `,e.appendChild(p)}),e.querySelectorAll(".product-card").forEach(h=>{h.addEventListener("click",y=>{const p=y.target;if(p.classList.contains("product-card-btn")){const v=parseInt(p.getAttribute("data-product-index")||"0");M0(v)}})})}async function tN(o){console.log("Sorting products by ACTUAL image availability...");const n=(await Promise.all(o.map(async u=>{const c=S0(u),h=await eN(c);return{...u,hasRealImage:h}}))).sort((u,c)=>u.hasRealImage&&!c.hasRealImage?(console.log(`Sorting: "${u.type}" (has real image) before "${c.type}" (no image)`),-1):!u.hasRealImage&&c.hasRealImage?(console.log(`Sorting: "${c.type}" (has real image) before "${u.type}" (no image)`),1):0),s=n.filter(u=>u.hasRealImage),l=n.filter(u=>!u.hasRealImage);return console.log(`Sorting completed: ${s.length} products WITH images, ${l.length} products WITHOUT images`),console.log("First 5 products with images:"),s.slice(0,5).forEach((u,c)=>{console.log(`${c+1}. "${u.type}" - Has real image: true`)}),n}function eN(o){return new Promise(e=>{const n=new Image;n.onload=()=>e(!0),n.onerror=()=>e(!1),n.src=o,setTimeout(()=>e(!1),2e3)})}function S0(o){if(!o.type||o.type==="")return"/Datenbank_Produktbilder/default_product_img01.jpg";let e=o.type.replace(/[^a-zA-Z0-9\s\-_]/g,"").replace(/\s+/g,"_").replace(/[_-]+/g,"_").trim();return`/Datenbank_Produktbilder/${[`${e}_img01.jpg`,`${e}_img02.jpg`,`${e}_img03.jpg`,`${e}.jpg`,`${e}_01.jpg`,`${e}_02.jpg`][0]}`}function E0(){const o=document.getElementById("product-search"),e=document.getElementById("search-btn"),n=document.getElementById("manufacturer-filter"),s=document.getElementById("standard-filter"),l=document.getElementById("vehicle-type-filter");o&&o.addEventListener("input",Ia),e&&e.addEventListener("click",Ia),n&&n.addEventListener("change",Ia),s&&s.addEventListener("change",Ia),l&&l.addEventListener("change",Ia),b0()}function b0(){console.log("initViewToggle called");const o=document.getElementById("toggle-view-btn");if(!o){console.error("Toggle button not found in initViewToggle");return}console.log("Toggle button found, adding click listener"),o.addEventListener("click",nN),console.log("Setting initial view to grid"),Zf("grid")}function nN(){console.log("toggleView called");const o=document.getElementById("toggle-view-btn");if(!o){console.error("Toggle button not found");return}const e=o.getAttribute("data-view");console.log("Current view:",e);const n=e==="table"?"grid":"table";console.log("Switching to view:",n),Zf(n)}function Zf(o){console.log("setView called with:",o);const e=document.getElementById("toggle-view-btn"),n=document.getElementById("products-table-container"),s=document.getElementById("products-grid-container");if(console.log("Elements found:",{toggleBtn:!!e,tableContainer:!!n,gridContainer:!!s}),!e||!n||!s){console.error("Required elements not found");return}e.setAttribute("data-view",o),console.log("Button data-view updated to:",o);const l=e.querySelector("span"),u=e.querySelector("i");if(o==="grid")console.log("Switching to grid view"),n.style.display="none",s.style.display="block",l&&(l.textContent=W("manufacturer.sidebar.productDatabase.toggleToTable")),u&&(u.className="fas fa-table");else{console.log("Switching to table view"),n.style.display="block",s.style.display="none";const c=document.getElementById("products-table");c&&(c.style.display="table",console.log("Table display set to table")),l&&(l.textContent=W("manufacturer.sidebar.productDatabase.toggleToGrid")),u&&(u.className="fas fa-th-large"),console.log("Table view activated, table should be visible now")}console.log("View switch completed")}async function Ia(){var c,h,y,p;const o=window.productDatabase||[],e=((c=document.getElementById("product-search"))==null?void 0:c.value.toLowerCase())||"",n=((h=document.getElementById("manufacturer-filter"))==null?void 0:h.value)||"",s=((y=document.getElementById("standard-filter"))==null?void 0:y.value)||"",l=((p=document.getElementById("vehicle-type-filter"))==null?void 0:p.value)||"",u=o.filter(v=>{var R,z,k;const S=!e||((R=v.manufacturer)==null?void 0:R.toLowerCase().includes(e))||((z=v.type)==null?void 0:z.toLowerCase().includes(e))||((k=v.standard)==null?void 0:k.toLowerCase().includes(e)),E=!n||v.manufacturer===n,C=!s||v.standard===s,A=!l||v.vehicleType===l;return S&&E&&C&&A});await T0(u)}function C0(){console.log("Translating product database elements..."),console.log("Product database elements now use automatic translation via data-translate-key")}function A0(){const o=document.getElementById("close-modal"),e=document.getElementById("export-product"),n=document.getElementById("print-product");o&&o.addEventListener("click",()=>{const l=document.getElementById("product-modal");l&&(l.style.display="none")}),e&&e.addEventListener("click",iN),n&&n.addEventListener("click",oN);const s=document.getElementById("product-modal");s&&s.addEventListener("click",l=>{l.target===s&&(s.style.display="none")})}function M0(o){const n=(window.productDatabase||[])[o];if(!n)return;const s=document.getElementById("modal-product-name");s&&(s.textContent=`${n.manufacturer} - ${n.type}`);const l=document.getElementById("modal-technical-specs");l&&(l.innerHTML=`
            <p><strong>Hersteller:</strong> ${n.manufacturer||"N/A"}</p>
            <p><strong>Typ:</strong> ${n.type||"N/A"}</p>
            <p><strong>Standard:</strong> ${n.standard||"N/A"}</p>
        `);const u=document.getElementById("modal-performance-data");u&&(u.innerHTML=`
            <p><strong>Fahrzeuggewicht:</strong> ${n.vehicleWeight||"N/A"} kg</p>
            <p><strong>Fahrzeugtyp:</strong> ${n.vehicleType||"N/A"}</p>
            <p><strong>Geschwindigkeit:</strong> ${n.speed||"N/A"} km/h</p>
            <p><strong>Anprallwinkel:</strong> ${n.impactAngle||"N/A"}°</p>
            <p><strong>Penetration:</strong> ${n.penetration||"N/A"} m</p>
            <p><strong>Trümmerdistanz:</strong> ${n.debrisDistance||"N/A"} m</p>
        `);const c=document.getElementById("modal-certification");c&&(c.innerHTML=`
            <p><strong>Zertifizierungsstandard:</strong> ${n.standard||"N/A"}</p>
            <p><strong>Testbedingungen:</strong> ${n.vehicleWeight||"N/A"} kg bei ${n.speed||"N/A"} km/h</p>
        `);const h=document.getElementById("product-modal");h&&(h.style.display="flex")}function iN(){Bo("Export-Funktionalität wird implementiert...","info")}function oN(){Bo("Druck-Funktionalität wird implementiert...","info")}function Bo(o,e="info"){document.querySelectorAll(".custom-notification").forEach(u=>u.remove());const s=document.createElement("div");s.className=`custom-notification custom-notification-${e}`,s.innerHTML=`
        <div class="notification-content">
            <span class="notification-message">${o}</span>
            <button class="notification-close">&times;</button>
        </div>
    `,s.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${e==="info"?"#2563eb":e==="success"?"#22c55e":e==="warning"?"#f59e0b":"#ef4444"};
        color: white;
        padding: 16px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 10000;
        max-width: 400px;
        font-family: 'Open Sans', sans-serif;
        font-size: 14px;
        line-height: 1.4;
    `,document.body.appendChild(s);const l=s.querySelector(".notification-close");l&&l.addEventListener("click",()=>s.remove()),setTimeout(()=>{s.parentNode&&s.remove()},5e3)}function yv(o,e){return e.split(".").reduce((n,s)=>n?n[s]:void 0,o)}function W(o,e){console.log(`Translation request for key: ${o}, language: ${It}`),console.log("Translations source:",ce===Vi?"embedded":"external"),console.log("Current translations structure:",ce),console.log("Embedded translations structure:",Vi),(!ce||!ce[It])&&(console.warn(`No translations loaded for language: ${It}, using embedded`),ce=Vi);let n=yv(ce[It],o);if(console.log(`Text from main translations for key '${o}':`,n),typeof n!="string"&&(console.warn(`Translation key not found in main translations for language '${It}': ${o}`),n=yv(Vi[It],o),console.log(`Text from embedded translations for key '${o}':`,n),typeof n!="string")){console.warn(`Translation key not found in embedded translations for language '${It}': ${o}`);const s=aN(o);return console.log(`Fallback text for key '${o}':`,s),s||o}if(e)for(const s in e)n=n.replace(`{${s}}`,String(e[s]));return console.log(`Final translation result for ${o}:`,n),n}function aN(o){return{"sidebar.trafficData":"Verkehrsdaten","sidebar.vehicleSelect":"Fahrzeugauswahl","sidebar.accessRoads":"Zufahrten","sidebar.curbs":"Bordsteinkanten","sidebar.obstacles":"Hindernisse","sidebar.protectionSelection":"Schutzauswahl","sidebar.protectionPeriod":"Schutzzeitraum","sidebar.protectionProducts":"Schutzprodukte","sidebar.productProperty":"Produkteigenschaft","sidebar.riskAssessment":"Risikobewertung","sidebar.assetToProtect":"Was geschützt werden soll","sidebar.securityRisk":"Sicherheitsrisiko","sidebar.recommendedProductClass":"Empfohlene Produktklasse","sidebar.low":"niedrig","sidebar.high":"hoch","nav.paramInput":"Parameter","nav.markingArea":"Sicherheitsbereich","nav.threatAnalysis":"Gefahrenanalyse","nav.riskReport":"Risikobericht","nav.productSelection":"Produktauswahl","nav.projectDescription":"Ausschreibung","header.planning":"Planung","header.manufacturer":"Hersteller"}[o]||null}async function $f(){if(console.log("Starting UI translation..."),!ce[It]&&(console.warn(`No translations for language '${It}', attempting to load...`),await Jf(),!ce[It])){console.error(`Failed to load translations for language '${It}'`);return}let o=0,e=0;document.querySelectorAll("[data-translate-key]").forEach(s=>{try{const l=s.getAttribute("data-translate-key"),u=W(l);if(u&&u!==l){if(s.hasAttribute("placeholder"))s.placeholder=u;else if(s.tagName==="INPUT"&&s.type==="text")s.value=u;else{const c=Array.from(s.childNodes).find(h=>{var y;return h.nodeType===Node.TEXT_NODE&&((y=h.textContent)==null?void 0:y.trim())});c?c.textContent=u:s.textContent=u}o++}else console.warn(`Translation failed for key: ${l}`),e++}catch(l){console.error("Error translating element:",l),e++}}),document.querySelectorAll("[data-translate-key-placeholder]").forEach(s=>{try{const l=s.getAttribute("data-translate-key-placeholder"),u=W(l);u&&u!==l&&(s.placeholder=u,o++)}catch(l){console.error("Error translating placeholder:",l),e++}}),document.querySelectorAll("[data-translate-key-aria]").forEach(s=>{try{const l=s.getAttribute("data-translate-key-aria"),u=W(l);u&&u!==l&&(s.setAttribute("aria-label",u),o++)}catch(l){console.error("Error translating aria-label:",l),e++}}),document.querySelectorAll("[data-translate-key-tooltip]").forEach(s=>{try{const l=s.getAttribute("data-translate-key-tooltip"),u=W(l);u&&u!==l&&(s.dataset.tooltip=u,o++)}catch(l){console.error("Error translating tooltip:",l),e++}});const n=document.getElementById("toggle-draw-mode");if(n){const s=n.querySelector("span");if(s){const l=W(bo?"map.setWaypointsActive":"map.setWaypoints");l&&l!=="map.setWaypointsActive"&&l!=="map.setWaypoints"&&(s.textContent=l,o++)}}console.log(`UI translation completed: ${o} elements translated, ${e} failed`),setTimeout(()=>{let s=0;document.querySelectorAll("[data-translate-key]").forEach(l=>{try{const u=l.getAttribute("data-translate-key"),c=W(u);c&&c!==u&&l.textContent!==c&&(l.textContent=c,s++)}catch(u){console.error("Error in refresh translation:",u)}}),s>0&&console.log(`Refreshed ${s} elements`)},200)}async function Jf(){console.log("Translation file loading disabled to avoid conflicts"),console.log("Using embedded translations to avoid conflicts"),ce=Vi}async function vv(o){var s;console.log(`Setting language to: ${o}`);const e={center:it?it.getCenter():null,zoom:it?it.getZoom():null,drawnPolygon:Nt?Nt.getLatLngs():null,threatsMap:new Map(Te),waypoints:[...ye]};console.log("Current map state:",e),It=o,localStorage.setItem("language",o),document.documentElement.lang=o,document.querySelectorAll(".lang-btn").forEach(l=>{l.classList.toggle("active",l.getAttribute("data-lang")===o)}),await $f();const n=document.getElementById("manufacturer-view");if(n&&n.style.display!=="none"&&x0(),_0(),window.dispatchEvent(new Event("languageChanged")),it&&e.center&&e.zoom){console.log("Restoring map state after language change"),await new Promise(l=>setTimeout(l,500));try{if(it.setView(e.center,e.zoom,{animate:!1}),e.drawnPolygon&&e.drawnPolygon.length>0){console.log("Restoring drawn polygon"),Nt&&it.removeLayer(Nt),Nt=L.polygon(e.drawnPolygon,{color:"#ff7800",weight:3,opacity:.8,fillColor:"#ff7800",fillOpacity:.2}).addTo(it),Li&&it.removeLayer(Li);const l=Nt.getBounds().getCenter();Li=L.marker(l,{icon:L.divIcon({className:"polygon-label",html:`<div style="background: white; padding: 5px; border: 2px solid #ff7800; border-radius: 5px; font-weight: bold; color: #ff7800;">${W("map.securityArea")}</div>`,iconSize:[120,40],iconAnchor:[60,20]})}).addTo(it)}e.threatsMap.size>0&&(console.log("Restoring threats map"),Te=e.threatsMap,Te.size>0&&ff()),e.waypoints.length>0&&(console.log("Restoring waypoints"),ye=e.waypoints,ye.forEach((l,u)=>{const c=L.marker(l,{icon:L.divIcon({className:"waypoint-marker",html:`<div style="background: #ff7800; color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: bold;">${u+1}</div>`,iconSize:[20,20],iconAnchor:[10,10]})}).addTo(it);Ri.push(c)}),ye.length>1&&(je=L.polyline(ye,{color:"#ff7800",weight:3,opacity:.8,dashArray:"10, 10"}).addTo(it))),it.invalidateSize(),console.log("Map state restored successfully")}catch(l){console.error("Error restoring map state:",l)}}Te.size>0&&ff(),((s=document.querySelector(".product-recommendations-container"))==null?void 0:s.classList.contains("hidden"))===!1&&await Hl(),console.log(`Language change to ${o} completed`)}function Wf(){const o=document.getElementById("map");if(!o){console.error("Map container element not found.");return}o.style.display="block",o.style.visibility="visible",o.style.opacity="1",o.classList.remove("view-hidden"),console.log("Map container prepared for initialization");const e=[51.7189,8.7575];it=L.map(o,{zoomControl:!1,preferCanvas:!0}).setView(e,16),L.control.zoom({position:"bottomright"}).addTo(it),y0=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(it),console.log("Map initialized successfully")}const ka=()=>{if(ln){try{ln.clearLayers(),it.removeLayer(ln)}catch{}ln=null}ql.forEach(s=>{s.forEach(l=>it.removeLayer(l))}),ql.clear(),Te.clear();const o=document.querySelector(".threat-list");o&&(o.innerHTML="");const e=document.getElementById("floating-threats");e&&e.classList.add("view-hidden");const n=document.querySelector(".product-recommendations-container");n&&n.classList.add("hidden")};function sN(o,e,n,s){const l=o.lon,u=o.lat,c=e.lon,h=e.lat,y=n.lon,p=n.lat,v=s.lon,S=s.lat,E=(l-c)*(p-S)-(u-h)*(y-v);if(E===0)return null;const C=((l-y)*(p-S)-(u-p)*(y-v))/E,A=-((l-c)*(u-p)-(u-h)*(l-y))/E;return C>0&&C<1&&A>0&&A<1?{lat:u+C*(h-u),lon:l+C*(c-l)}:null}const Tv=(o,e)=>{let n=!1;for(let s=0,l=e.length-1;s<e.length;l=s++){const u=e[s].lon,c=e[s].lat,h=e[l].lon,y=e[l].lat;c>o.lat!=y>o.lat&&o.lon<(h-u)*(o.lat-c)/(y-c)+u&&(n=!n)}return n};function Sv(o,e){const s=o.lat*Math.PI/180,l=e.lat*Math.PI/180,u=(e.lat-o.lat)*Math.PI/180,c=(e.lon-o.lon)*Math.PI/180,h=Math.sin(u/2)*Math.sin(u/2)+Math.cos(s)*Math.cos(l)*Math.sin(c/2)*Math.sin(c/2);return 6371e3*(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)))}function lN(o,e,n){const s={x:o.lon-e.lon,y:o.lat-e.lat},l={x:n.lon-e.lon,y:n.lat-e.lat},u=s.x*l.x+s.y*l.y,c=Math.sqrt(s.x*s.x+s.y*s.y),h=Math.sqrt(l.x*l.x+l.y*l.y);if(c===0||h===0)return 180;const y=u/(c*h),p=Math.max(-1,Math.min(1,y));return Math.acos(p)*(180/Math.PI)}function Gl(o){switch(o){case"500":return[4,6];case"3500":return[3,4];case"7500":return[1.5,2.5];case"12000":return[1,1.5];case"40000":return[.5,1];default:return null}}function Ya(o,e){return e<=0?0:Math.sqrt(2*o*e)*3.6}function ff(){const o=document.querySelector(".threat-list");if(!o||(o.innerHTML="",Te.size===0))return;const n=document.getElementById("vehicle-select").value,s=Gl(n),l=Array.from(Te.entries()).map(([u,c])=>{if(c.entryPoints.length===0)return null;const h=Math.round(c.totalLength);let y=0;if(s&&h>0){const[,p]=s;y=Math.round(Ya(p,h))}return{name:u,data:c,maxSpeed:y,lengthInMeters:h}}).filter(u=>u!==null);if(l.sort((u,c)=>c.maxSpeed-u.maxSpeed),l.forEach(({name:u,maxSpeed:c,lengthInMeters:h})=>{const y=document.createElement("li");let p="";c>0&&(p=` | ${W("threats.speed")}: ${c} km/h`),y.textContent=`${u} (${h} m)${p}`,y.setAttribute("role","button"),y.setAttribute("tabindex","0"),y.addEventListener("click",()=>{o.querySelectorAll("li").forEach(S=>S.classList.remove("active")),y.classList.add("active");const v=ql.get(u);if(v&&v.length>0){const S=L.featureGroup(v);it.fitBounds(S.getBounds().pad(.5))}}),y.addEventListener("keydown",v=>{(v.key==="Enter"||v.key===" ")&&y.click()}),o.appendChild(y)}),o.children.length===0){const u=document.createElement("li");u.textContent=W("threats.noCrossingWaysBoundary"),o.appendChild(u)}}const Ev=async()=>{if(!Nt){alert(W("alerts.noPolygon"));return}if(!Nt.getLatLngs||typeof Nt.getLatLngs!="function"){console.error("Invalid polygon object - missing getLatLngs method"),alert(W("alerts.invalidPolygon"));return}const o=Nt.getLatLngs();if(!o||o.length===0){console.error("Polygon has no coordinates"),alert(W("alerts.emptyPolygon"));return}console.log(`Analyzing threats for polygon with ${o.length} coordinate sets`),console.log("Polygon coordinates:",o);const e=document.querySelector(".loading-indicator");if(e){ka(),e.classList.remove("hidden");try{const n=Nt.getBounds();if(!n||!n.isValid())throw new Error("Invalid polygon bounds");const s=.002,l=n.getSouthWest(),u=n.getNorthEast(),c=`${l.lat-s},${l.lng-s},${u.lat+s},${u.lng+s}`;console.log("Analysis bounds:",c);const h=`
            [out:json][timeout:25];
            (
              way["highway"](bbox:${c});
              way["railway"="tram"](bbox:${c});
            );
            (._;>;);
            out;
        `,y=`https://overpass-api.de/api/interpreter?data=${encodeURIComponent(h)}`;let p;try{const A=await fetch(y);if(!A.ok)throw new Error(W("alerts.overpassError",{status:A.status}));p=await A.json()}catch(A){console.error("Overpass API error:",A),alert(W("alerts.analysisError")),e.classList.add("hidden");return}const v={},S={};p.elements.forEach(A=>{A.type==="node"?v[A.id]={lat:A.lat,lon:A.lon}:A.type==="way"&&A.tags&&(A.tags.highway||A.tags.railway)&&A.tags.name&&(S[A.id]={name:A.tags.name,nodes:A.nodes,id:A.id})});const E=new Map;let C=[];try{if(Array.isArray(o[0])?Array.isArray(o[0][0])?C=o[0][0].map(A=>({lat:A.lat||A.lat,lon:A.lng||A.lon})):C=o[0].map(A=>({lat:A.lat||A.lat,lon:A.lng||A.lon})):C=o.map(A=>({lat:A.lat||A.lat,lon:A.lng||A.lon})),C.length<3)throw new Error("Invalid polygon: insufficient vertices");if(C=C.filter(A=>typeof A.lat=="number"&&typeof A.lon=="number"&&!isNaN(A.lat)&&!isNaN(A.lon)),C.length<3)throw new Error("Invalid polygon: insufficient valid coordinates");console.log(`Extracted ${C.length} valid polygon vertices:`,C)}catch(A){console.error("Error extracting polygon coordinates:",A),alert(W("alerts.polygonCoordinateError")),e.classList.add("hidden");return}for(const A in S){const R=S[A],z=R.nodes.map(N=>({id:N,...v[N]})).filter(N=>N.lat&&N.lon);if(z.length<2)continue;const k=[],F=[];for(let N=0;N<z.length-1;N++){const K=z[N],D=z[N+1],X=Tv(K,C),Z=Tv(D,C);if(X!==Z){let H=null;for(let ot=0;ot<C.length;ot++){const lt=C[ot],yt=C[(ot+1)%C.length],Tt=sN(K,D,lt,yt);if(Tt){H=Tt;break}}if(H){F.push(H);const ot=[H];let lt,yt;Z?(ot.push({lat:K.lat,lon:K.lon}),lt=N-1,yt=-1):(ot.push({lat:D.lat,lon:D.lon}),lt=N+1,yt=1);for(let Tt=lt;Tt>=0&&Tt<z.length;Tt+=yt){const dt=z[Tt];if(ot.length>=2){const $=ot[ot.length-2],tt=ot[ot.length-1],P={lat:dt.lat,lon:dt.lon};if(lN($,tt,P)<150)break}ot.push({lat:dt.lat,lon:dt.lon})}k.push(ot)}}}if(F.length>0){E.has(R.name)||E.set(R.name,{entryPoints:[],pathSegments:[],totalLength:0});const N=E.get(R.name);N.entryPoints.push(...F),N.pathSegments.push(...k);let K=0;k.forEach(D=>{for(let X=0;X<D.length-1;X++)K+=Sv(D[X],D[X+1])}),N.totalLength+=K}}if(Te=E,Te.size>0){if(ln)try{ln.clearLayers(),it.removeLayer(ln)}catch{}ln=L.layerGroup().addTo(it);const A=document.getElementById("vehicle-select"),R=(A==null?void 0:A.value)||"alle",z=Gl(R),k=z?z[1]:3;Te.forEach((K,D)=>{if(K.entryPoints.length===0)return;const X=[];K.entryPoints.forEach(Z=>{const H=L.circle([Z.lat,Z.lon],{radius:5,color:"red",fillColor:"#f03",fillOpacity:1,weight:2}).bindPopup(`<b>${W("threats.popupHeader")}</b><br>${D}`);ln.addLayer(H),X.push(H)}),K.pathSegments.forEach(Z=>{if(Z.length>1){const H=Z.map(dt=>[dt.lat,dt.lon]);let ot=0;for(let dt=0;dt<Z.length-1;dt++)ot+=Sv(Z[dt],Z[dt+1]);const lt=Ya(k,ot);let yt="#e74c3c";lt<=30?yt="#39b54a":lt<=50&&(yt="#f1c40f");const Tt=L.polyline(H,{color:yt,weight:5,opacity:.9});ln.addLayer(Tt),X.push(Tt)}}),X.length>0&&ql.set(D,X)}),ff();const F=document.getElementById("floating-threats");F&&F.classList.remove("view-hidden");const N=document.querySelector(".product-recommendations-container");N&&(N.classList.remove("hidden"),await Hl())}else{const A=document.querySelector(".threat-list"),R=document.createElement("li");R.textContent=W("threats.noCrossingWaysArea"),A.appendChild(R);const z=document.getElementById("floating-threats");z&&z.classList.remove("view-hidden")}}catch(n){console.error("Fehler bei der Gefahrenanalyse:",n),alert(W("alerts.analysisError"));const s=document.querySelector(".threat-list"),l=document.createElement("li");l.textContent=W("threats.analysisFailed"),s.appendChild(l)}finally{e.classList.add("hidden")}}};async function rN(o){try{const e=typeof window<"u"&&window.location.hostname.endsWith("github.io"),n="AIzaSyAu89J9B0b57XIao133a19Wd64T6oiCA9A";if(!n||e)return console.warn("AI disabled for public/demo build. Using placeholder report sections."),fN(o);const s=new Fx({apiKey:n}),l=W("ai.reportPrompt",{locationName:o.locationName,assetToProtect:o.assetToProtect,securityLevel:o.securityLevel,protectionGrade:o.protectionGrade,threatList:o.threatList,protectionPeriod:o.protectionPeriod,productType:o.productType,penetration:o.penetration,debrisDistance:o.debrisDistance,language:It==="de"?"German":"English"})+`

IMPORTANT: Generate the report in ${It==="de"?"German":"English"} language only. All text must be in ${It==="de"?"German":"English"}.`,c=((await s.models.generateContent({model:"gemini-2.5-flash",contents:l,config:{responseMimeType:"application/json",responseSchema:{type:xn.OBJECT,properties:{purpose:{type:xn.STRING},threatAnalysis:{type:xn.STRING},vulnerabilities:{type:xn.STRING},hvmMeasures:{type:xn.STRING},siteConsiderations:{type:xn.STRING},operationalImpact:{type:xn.STRING}},required:["purpose","threatAnalysis","vulnerabilities","hvmMeasures","siteConsiderations","operationalImpact"]}}})).text||"").trim(),h=JSON.parse(c);return uN(h)}catch(e){return console.error("Fehler bei der Gemini-API-Anfrage für den Bericht:",e),alert(W("alerts.geminiError")),null}}function uN(o){const e=It==="de",n=o.purpose||o.threatAnalysis||"",s=["der","die","das","und","für","von","mit","bei","auf","in","an","zu","zur","zum"],l=["the","and","for","of","with","at","on","in","to","from","by","as","is","are"],u=s.filter(v=>n.toLowerCase().includes(v)).length,c=l.filter(v=>n.toLowerCase().includes(v)).length,h=u>c;if(!(e&&!h||!e&&h))return console.log("AI text is already in correct language, no translation needed"),o;console.log("AI text needs translation. Current language:",It,"Text language:",h?"German":"English");const p={};for(const[v,S]of Object.entries(o))typeof S=="string"?p[v]=cN(S,e):p[v]=S;return p}function cN(o,e){return e?o.replace(/\bThis report\b/gi,"Dieser Bericht").replace(/\baims to\b/gi,"zielt darauf ab").replace(/\bidentify\b/gi,"zu identifizieren").replace(/\bassess\b/gi,"zu bewerten").replace(/\bmitigate\b/gi,"zu mindern").replace(/\bpotential\b/gi,"potenzielle").replace(/\brisks\b/gi,"Risiken").replace(/\bassets\b/gi,"Schutzgüter").replace(/\bensuring\b/gi,"um sicherzustellen").replace(/\bbusiness continuity\b/gi,"Geschäftskontinuität").replace(/\bstrategic\b/gi,"strategische").replace(/\bsecurity\b/gi,"Sicherheits").replace(/\binvestments\b/gi,"Investitionen").replace(/\bThe primary threat\b/gi,"Die primäre Bedrohung").replace(/\bis\b/gi,"ist").replace(/\buse of vehicles\b/gi,"die Nutzung von Fahrzeugen").replace(/\bas\b/gi,"als").replace(/\bweapon\b/gi,"Waffe").replace(/\bPotential\b/gi,"Potenzielle").replace(/\badversaries\b/gi,"Gegner").replace(/\binclude\b/gi,"umfassen").replace(/\bstate-sponsored\b/gi,"staatsgestützte").replace(/\bterrorist\b/gi,"terroristische").replace(/\binsider threats\b/gi,"Innentäter-Bedrohungen").replace(/\bmalicious software\b/gi,"schädliche Software").replace(/\bdistributed denial\b/gi,"verteilte Verweigerung").replace(/\battacks\b/gi,"Angriffe").replace(/\bGiven\b/gi,"Angesichts").replace(/\bglobal\b/gi,"globaler").replace(/\btrends\b/gi,"Trends").replace(/\band\b/gi,"und").replace(/\bthe\b/gi,"der").replace(/\bof\b/gi,"von").replace(/\bto\b/gi,"zu").replace(/\bin\b/gi,"in").replace(/\bon\b/gi,"auf").replace(/\bat\b/gi,"bei").replace(/\bwith\b/gi,"mit").replace(/\bfor\b/gi,"für").replace(/\bfrom\b/gi,"von").replace(/\bby\b/gi,"durch").replace(/\bas\b/gi,"als").replace(/\bis\b/gi,"ist").replace(/\bare\b/gi,"sind").replace(/\bwas\b/gi,"war").replace(/\bwere\b/gi,"waren").replace(/\bwill\b/gi,"wird").replace(/\bwould\b/gi,"würde").replace(/\bcould\b/gi,"könnte").replace(/\bshould\b/gi,"sollte").replace(/\bmay\b/gi,"kann").replace(/\bmight\b/gi,"könnte").replace(/\bcan\b/gi,"kann"):o.replace(/\bDieser Bericht\b/gi,"This report").replace(/\bzielt darauf ab\b/gi,"aims to").replace(/\bzu identifizieren\b/gi,"identify").replace(/\bzu bewerten\b/gi,"assess").replace(/\bzu mindern\b/gi,"mitigate").replace(/\bpotenzielle\b/gi,"potential").replace(/\bRisiken\b/gi,"risks").replace(/\bSchutzgüter\b/gi,"assets").replace(/\bum sicherzustellen\b/gi,"ensuring").replace(/\bGeschäftskontinuität\b/gi,"business continuity").replace(/\bstrategische\b/gi,"strategic").replace(/\bSicherheits\b/gi,"security").replace(/\bInvestitionen\b/gi,"investments").replace(/\bDie primäre Bedrohung\b/gi,"The primary threat").replace(/\bist\b/gi,"is").replace(/\bdie Nutzung von Fahrzeugen\b/gi,"use of vehicles").replace(/\bals\b/gi,"as").replace(/\bWaffe\b/gi,"weapon").replace(/\bPotenzielle\b/gi,"Potential").replace(/\bGegner\b/gi,"adversaries").replace(/\bumfassen\b/gi,"include").replace(/\bstaatsgestützte\b/gi,"state-sponsored").replace(/\bterroristische\b/gi,"terrorist").replace(/\bInnentäter-Bedrohungen\b/gi,"insider threats").replace(/\bschädliche Software\b/gi,"malicious software").replace(/\bverteilte Verweigerung\b/gi,"distributed denial").replace(/\bAngriffe\b/gi,"attacks").replace(/\bAngesichts\b/gi,"Given").replace(/\bglobaler\b/gi,"global").replace(/\bTrends\b/gi,"trends").replace(/\bund\b/gi,"and").replace(/\bder\b/gi,"the").replace(/\bvon\b/gi,"of").replace(/\bzu\b/gi,"to").replace(/\bin\b/gi,"in").replace(/\bauf\b/gi,"on").replace(/\bbei\b/gi,"at").replace(/\bmit\b/gi,"with").replace(/\bfür\b/gi,"for").replace(/\bdurch\b/gi,"by").replace(/\bist\b/gi,"is").replace(/\bsind\b/gi,"are").replace(/\bwar\b/gi,"was").replace(/\bwaren\b/gi,"were").replace(/\bwird\b/gi,"will").replace(/\bwürde\b/gi,"would").replace(/\bkönnte\b/gi,"could").replace(/\bsollte\b/gi,"should").replace(/\bkann\b/gi,"may")}function fN(o){var e,n,s,l,u,c,h,y,p,v;try{const S=window.planningState||{},E=((e=S.schutzgüter)==null?void 0:e.join(", "))||o.assetToProtect||W("report.undefinedAsset"),C=((s=(n=S.risiko)==null?void 0:n.bedrohung)==null?void 0:s.art)||W("report.undefinedValue"),A=((u=(l=S.risiko)==null?void 0:l.dynamik)==null?void 0:u.v_kmh)||o.estimatedSpeedKmH||W("report.undefinedValue"),R=((h=(c=S.risiko)==null?void 0:c.site)==null?void 0:h.untergrund)||W("report.undefinedValue"),z=((y=S.restrisiko)==null?void 0:y.klasse)||o.securityLevel||W("report.undefinedValue"),k=(v=(p=S.risiko)==null?void 0:p.site)!=null&&v.anfahrkorridore&&S.risiko.site.anfahrkorridore.length>0?W("report.identifiedCorridors",{count:S.risiko.site.anfahrkorridore.length}):W("report.noChatGeometry");return It==="de"?{purpose:`Schutzziel: Sicherung von ${E} am Standort ${o.locationName}. Der Assistent lieferte ergänzende Eingaben (Normbezug DIN SPEC 91414‑2 / ISO 22343‑2).`,threatAnalysis:`Bedrohungsannahme: ${C}. Aus der Karten-/Chat-Analyse ergibt sich eine Zufahrtsgeschwindigkeit von ca. ${A} km/h. Anfahrkorridore laut Chat: ${k}.`,vulnerabilities:`Untergrund/Fundamente: ${R}. Restrisiko (Chat/Slider): ${z}. Kritische Zufahrtswinkel bzw. Engstellen sind bei der Maßnahmendefinition zu berücksichtigen.`,hvmMeasures:`Empfohlene Maßnahmen orientieren sich an der erwarteten Geschwindigkeit und den Schutzzielen. Für ${E} mit Geschwindigkeit ~${A} km/h sind FSB mit entsprechendem Leistungsniveau, geprüften Fundamenten und Berücksichtigung des Anprallwinkels anzusetzen.`,siteConsiderations:`Betriebliche Rahmenbedingungen (z. B. Feuerwehrzufahrt, Fluchtwege) aus Chat sollten in die Detailplanung einfließen. Untergrund: ${R}.`,operationalImpact:"Maßnahmen sind so auszulegen, dass Betrieb, Rettungswege und Gestaltung berücksichtigt sind; temporäre Anpassungen (Events) werden unterstützt."}:{purpose:`Protection objective: Securing ${E} at location ${o.locationName}. The assistant provided additional inputs (standard reference DIN SPEC 91414‑2 / ISO 22343‑2).`,threatAnalysis:`Threat assumption: ${C}. From the map/chat analysis, an access speed of approximately ${A} km/h results. Access corridors according to chat: ${k}.`,vulnerabilities:`Ground/foundations: ${R}. Residual risk (Chat/Slider): ${z}. Critical impact angles or bottlenecks must be considered in measure definition.`,hvmMeasures:`Recommended measures are oriented to expected speed and protection objectives. For ${E} with speed ~${A} km/h, FSB with corresponding performance level, tested foundations and consideration of impact angle should be applied.`,siteConsiderations:`Operational framework conditions (e.g., fire brigade access, escape routes) from chat should flow into detailed planning. Ground: ${R}.`,operationalImpact:"Measures are designed so that operations, rescue routes and design are considered; temporary adaptations (events) are supported."}}catch{return It==="de"?{purpose:`Schutzziel und Rahmenbedingungen für ${o.locationName}.`,threatAnalysis:"Zusammenfassung der Gefahren basierend auf Karten-/Chat-Eingaben.",vulnerabilities:"Allgemeine Schwachstellen am Standort.",hvmMeasures:"Empfohlene HVM‑Maßnahmen gemäß Annahmen.",siteConsiderations:"Standortspezifische Hinweise.",operationalImpact:"Betriebliche Auswirkungen und Gestaltung."}:{purpose:`Protection objective and framework conditions for ${o.locationName}.`,threatAnalysis:"Summary of hazards based on map/chat inputs.",vulnerabilities:"General vulnerabilities at the site.",hvmMeasures:"Recommended HVM measures according to assumptions.",siteConsiderations:"Site-specific notes.",operationalImpact:"Operational impacts and design."}}}async function dN(o){const e=`https://nominatim.openstreetmap.org/reverse?format=json&lat=${o.lat}&lon=${o.lng}&zoom=18&addressdetails=1`;try{const n=await fetch(e,{headers:{"Accept-Language":It}});return n.ok&&(await n.json()).display_name||"Unknown Location"}catch(n){return console.error("Fehler beim Reverse Geocoding:",n),"Could not determine location"}}async function Hl(){if(za.length===0)try{const y=await fetch("/Barricadix_MWP/product-database.json");if(!y.ok)throw new Error("Product database fetch failed");za=await y.json()}catch(y){console.error(W("alerts.productDbError"),y);const p=document.querySelector("#poller-category-header small"),v=document.querySelector("#barrier-category-header small");p&&(p.textContent=W("products.dbError")),v&&(v.textContent=W("products.dbError"));return}const e=document.getElementById("vehicle-select").value,n=document.querySelector("#poller-category-header small"),s=document.querySelector("#barrier-category-header small");if(n&&(n.textContent=W("products.resistanceHigh")),s&&(s.textContent=W("products.resistanceMedium")),e==="alle")return;const l=["bollard","poller"],u=["barrier","barriere","gate"],c=za.find(y=>y.vehicleWeight===e&&y.type&&l.some(p=>y.type.toLowerCase().includes(p))),h=za.find(y=>y.vehicleWeight===e&&y.type&&u.some(p=>y.type.toLowerCase().includes(p)));n&&(n.textContent=c?`${W("products.recommendation")} ${c.type}`:W("products.noRecommendation")),s&&(s.textContent=h?`${W("products.recommendation")} ${h.type}`:W("products.noRecommendation"))}function bv(o){return o<33?W("sidebar.low"):o<66?W("products.resistanceMedium"):W("sidebar.high")}function hN(){const o=document.getElementById("vehicle-select"),e=parseInt(o.value,10);if(isNaN(e))return null;let n=null,s=1/0;for(const l of za){const u=parseInt(l.vehicleWeight,10),c=parseFloat(l.penetration);!isNaN(u)&&!isNaN(c)&&u>=e&&c<s&&(s=c,n=l)}return n}async function pN(){var c;const o=document.getElementById("report-iframe"),e=document.querySelector(".report-loading-overlay"),n=document.getElementById("download-report-btn"),s=document.getElementById("map"),l=document.getElementById("report-preview-area");e.classList.remove("view-hidden"),n.disabled=!0;let u=null;try{if(Nt){if(console.log(`Generating report for language: ${It}`),console.log("Drawn polygon data:",Nt),!Nt.getLatLngs||typeof Nt.getLatLngs!="function")throw console.error("Invalid polygon object - missing getLatLngs method"),new Error("Invalid polygon data for map capture");const dt=Nt.getLatLngs();if(!dt||dt.length===0)throw console.error("Polygon has no coordinates"),new Error("Polygon has no valid coordinates");console.log(`Polygon coordinates: ${dt.length} points`),l.classList.add("view-hidden"),s.classList.remove("view-hidden"),await new Promise(($,tt)=>{const P=setTimeout(()=>{tt(new Error("Map rendering timeout"))},1e4),q=()=>{clearTimeout(P);const rt=It==="de"?1e3:500;requestAnimationFrame(()=>setTimeout($,rt))};let J;it.invalidateSize(),y0.once("load",()=>{console.log("Tile layer loaded successfully"),clearTimeout(J),q()}),it.once("moveend",()=>{console.log("Map movement ended"),J=window.setTimeout(q,1e3)});try{const rt=Nt.getBounds();rt&&rt.isValid()?(console.log("Fitting map to polygon bounds"),it.fitBounds(rt,{animate:!1,padding:[20,20]})):(console.warn("Invalid bounds, using default view"),it.setView(it.getCenter(),it.getZoom()))}catch(rt){console.error("Error fitting bounds:",rt)}}),await new Promise($=>setTimeout($,500)),console.log("Capturing map screenshot..."),u=await html2canvas(s,{useCORS:!0,logging:!0,allowTaint:!0,backgroundColor:"#ffffff",scale:2,width:s.offsetWidth,height:s.offsetHeight,onclone:$=>{console.log("Cloning document for screenshot"),$.querySelectorAll(".leaflet-popup-pane > *").forEach(q=>{q.style.display="none"});const tt=$.getElementById("map");tt&&(tt.style.visibility="visible",tt.style.opacity="1",tt.style.display="block");const P=$.querySelector(".leaflet-container");P&&(P.style.visibility="visible",P.style.opacity="1")}}),console.log("Map screenshot captured successfully")}else console.log("No polygon drawn, skipping map capture");u&&u.width>0&&u.height>0?console.log(`Canvas dimensions: ${u.width}x${u.height}`):(console.warn("Invalid canvas generated, continuing without map image"),u=null);const h=Nt?await dN(Nt.getBounds().getCenter()):W("report.undefinedLocation"),p=document.getElementById("asset-to-protect").value.trim()||W("report.undefinedAsset");let v=W("report.noThreatAnalysis");if(Te.size>0){const $=document.getElementById("vehicle-select").value,tt=Gl($),P=Array.from(Te.entries()).map(([q,J])=>{const rt=Math.round(J.totalLength);let x=0;if(tt&&rt>0){const[,Q]=tt;x=Math.round(Ya(Q,rt))}return{name:q,lengthInMeters:rt,maxSpeed:x}});P.sort((q,J)=>J.maxSpeed-q.maxSpeed),v=`
                <table style="width: 100%; border-collapse: collapse; margin: 10px 0; font-size: 12px;">
                    <thead>
                        <tr style="background-color: #f0f0f0; font-weight: bold;">
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">${W("report.threatsTable.street")}</th>
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">${W("report.threatsTable.distance")}</th>
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">${W("report.threatsTable.maxSpeed")}</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${P.map(q=>`
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">${q.name}</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">${q.lengthInMeters} m</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">${q.maxSpeed} km/h</td>
                            </tr>
                        `).join("")}
                    </tbody>
                </table>
            `}const S=document.getElementById("security-risk-slider"),E=document.getElementById("product-class-slider"),C=document.getElementById("protection-period-select"),A=document.getElementById("protection-product-select"),R=hN(),z={locationName:h,assetToProtect:p,securityLevel:bv(parseInt(S.value)),protectionGrade:bv(parseInt(E.value)),threatList:v,protectionPeriod:C.options[C.selectedIndex].text,productType:A.options[A.selectedIndex].text,penetration:R?R.penetration:W("report.undefinedValue"),debrisDistance:R&&R.debrisDistance||W("report.undefinedValue")},k=await rN(z);if(!k)throw new Error("AI did not return report sections.");const{jsPDF:F}=window.jspdf,N=new F({orientation:"p",unit:"mm",format:"a4"}),K=()=>{const dt=N.internal.pageSize.getWidth(),$=N.internal.pageSize.getHeight();if(N.saveGraphicsState(),N.setFont("helvetica","bold"),N.setFontSize(120),N.setTextColor(200,200,200),F.GState){const tt=new F.GState({opacity:.2});N.setGState(tt)}N.text(W("report.watermark"),dt/2+50,$/2+50,{align:"center",angle:45}),N.restoreGraphicsState()},D=20,X=N.internal.pageSize.getWidth(),Z=X-D*2;let H=25;const ot=(dt,$)=>{H>250&&(N.addPage(),K(),H=25),N.setFont("helvetica","bold").setFontSize(14).text(W(dt),D,H),H+=7;const tt=N.setFont("helvetica","normal").setFontSize(11).splitTextToSize($,Z);H+tt.length*5>280&&(N.addPage(),K(),H=25),N.text(tt,D,H),H+=tt.length*5+10};K();const lt=W("report.mainTitle",{locationName:h});N.setFont("helvetica","bold").setFontSize(18);const yt=N.splitTextToSize(lt,Z),Tt=8;if(H+yt.length*Tt>280&&(N.addPage(),K(),H=25),N.text(yt,D,H),H+=yt.length*Tt+5,N.setDrawColor(30,144,255).setLineWidth(.5).line(D,H,X-D,H),H+=15,ot("report.sections.purpose.title",k.purpose),ot("report.sections.threatAnalysis.title",k.threatAnalysis),Te.size>0){H-=5,N.setFont("helvetica","normal").setFontSize(11);const $=document.getElementById("vehicle-select").value,tt=Gl($);Te.forEach((P,q)=>{let J=`• ${q} (${Math.round(P.totalLength)} m)`;if(tt&&P.totalLength>0){const[x,Q]=tt,nt=Math.round(Ya(x,P.totalLength)),j=Math.round(Ya(Q,P.totalLength));J+=` | ${W("threats.speed")}: ${nt}-${j} km/h`}const rt=N.splitTextToSize(J,Z-5);H+rt.length*7>280&&(N.addPage(),K(),H=25),N.text(rt,D+5,H),H+=rt.length*6}),H+=10}if(ot("report.sections.vulnerabilities.title",k.vulnerabilities),ot("report.sections.hvmMeasures.title",k.hvmMeasures),ot("report.sections.siteConsiderations.title",k.siteConsiderations),u){const dt=u.height/u.width,$=Z*dt;H+$>280&&(N.addPage(),K(),H=25),N.addImage(u,"PNG",D,H,Z,$),H+=$+10}else{const dt=W("report.noMapAvailable"),$=N.setFont("helvetica","italic").setFontSize(10).splitTextToSize(dt,Z);H+$.length*5>280&&(N.addPage(),K(),H=25),N.text($,D,H),H+=$.length*5+10}ot("report.sections.operationalImpact.title",k.operationalImpact);try{const dt=N.getNumberOfPages||((c=N.internal)==null?void 0:c.getNumberOfPages),$=typeof dt=="function"?dt.call(N):1;for(let tt=1;tt<=$;tt++)N.setPage(tt),K()}catch{K()}l.classList.remove("view-hidden"),s.classList.add("view-hidden"),await new Promise(requestAnimationFrame);try{const dt=N.output("blob");xl&&URL.revokeObjectURL(xl),xl=URL.createObjectURL(dt),o.src=xl}catch{o.src=N.output("datauristring")}_n=N,n.disabled=!1}catch(h){console.error("Fehler bei der Erstellung des Berichts:",h),alert(W("alerts.reportCreationError")),s.classList.add("view-hidden"),l.classList.remove("view-hidden")}finally{e.classList.add("view-hidden")}}function mN(){_n?_n.save(W("report.reportFilename")):alert(W("alerts.noReportToDownload"))}document.addEventListener("DOMContentLoaded",async()=>{var dt;console.log("DOM Content Loaded - Starting initialization..."),uf(),Wf();let o=0;const e=3;for(;o<e&&(!ce.de||!ce.en);)console.log(`Translation load attempt ${o+1}/${e}`),await Jf(),o++,o<e&&(!ce.de||!ce.en)&&(console.log("Waiting 500ms before retry..."),await new Promise($=>setTimeout($,500)));(!ce.de||!ce.en)&&(console.warn("Failed to load translations from file, using embedded translations"),ce=Vi),It="de",console.log("Translating UI..."),await $f(),_0();const n=localStorage.getItem("language")||"de";n!==It&&(console.log(`Setting saved language: ${n}`),await vv(n)),document.querySelectorAll(".lang-btn").forEach($=>{$.addEventListener("click",tt=>{const P=tt.currentTarget.dataset.lang;P&&P!==It&&vv(P)})}),console.log("Initialization completed successfully");const s=document.getElementById("tooltip");document.querySelectorAll(".info-icon").forEach($=>{$.addEventListener("mouseover",tt=>{const P=tt.currentTarget,q=P.dataset.tooltip||"";s.textContent=q,s.style.opacity="1";const J=P.getBoundingClientRect();s.style.left=`${J.left+window.scrollX}px`,s.style.top=`${J.bottom+window.scrollY+5}px`}),$.addEventListener("mouseout",()=>{s.style.opacity="0"})});const u=document.getElementById("map-search-input"),c=document.getElementById("map-search-button"),h=document.getElementById("toggle-sidebar"),y=document.querySelector(".sidebar"),p=async()=>{const $=u.value.trim();if(!$)return;const tt=`https://nominatim.openstreetmap.org/search?format=json&limit=1&q=${encodeURIComponent($)}`;try{const P=await fetch(tt,{headers:{"Accept-Language":It}});if(!P.ok)throw new Error(`API request failed with status ${P.status}`);const q=await P.json();if(q&&q.length>0){const{lat:J,lon:rt,display_name:x}=q[0];it.setView([J,rt],15),_i&&it.removeLayer(_i),_i&&(it.removeLayer(_i),_i=null);const Q=L.divIcon({className:"search-marker",html:'<i class="fas fa-map-marker-alt" style="color: #dc2626; font-size: 20px;"></i>',iconSize:[25,41],iconAnchor:[12,41]});_i=L.marker([J,rt],{icon:Q,zIndexOffset:1e3}).addTo(it),_i.bindPopup(`<b>${x}</b>`).openPopup(),it.invalidateSize()}else alert(W("alerts.locationNotFound"))}catch(P){console.error("Fehler bei der Kartensuche:",P),alert(W("alerts.searchError"))}};c.addEventListener("click",p),u.addEventListener("keypress",$=>{$.key==="Enter"&&p()}),h&&y&&h.addEventListener("click",()=>{y.classList.toggle("open")});const v=document.getElementById("toggle-draw-mode"),S=document.getElementById("reset-drawing"),E=document.getElementById("map"),C=$=>{bo=$;const tt=v.querySelector("span");$?(v.classList.add("active"),tt&&(tt.textContent=W("map.setWaypointsActive")),E==null||E.classList.add("drawing-mode")):(v.classList.remove("active"),tt&&(tt.textContent=W("map.setWaypoints")),E==null||E.classList.remove("drawing-mode"))},A=()=>{Ri.forEach($=>it.removeLayer($)),Ri=[],je&&it.removeLayer(je),je=null,Nt&&it.removeLayer(Nt),Nt=null,Li&&it.removeLayer(Li),Li=null,ye=[],bo&&C(!1)},R=()=>{je&&it.removeLayer(je),ye.length>1&&(je=L.polyline(ye,{color:"var(--accent-color)",weight:3}).addTo(it))},z=()=>{if(ye.length<3)return;Nt&&it.removeLayer(Nt),Nt=L.polygon(ye,{color:"yellow",fillColor:"#FFFF00",fillOpacity:.3,weight:2}).addTo(it);const $=Nt.getBounds().getCenter();Li=L.marker($,{icon:L.divIcon({className:"polygon-label",html:W("map.securityAreaLabel"),iconSize:[150,24]})}).addTo(it),je&&it.removeLayer(je),je=null,Ri.forEach(tt=>it.removeLayer(tt)),Ri=[],ye=[],C(!1)},k=$=>{if(!bo)return;const tt=$.latlng,P=L.marker(tt).addTo(it);ye.length===0&&P.on("click",()=>{bo&&ye.length>=3&&z()}),ye.push(tt),Ri.push(P),R()};it.on("click",k);const F=document.querySelectorAll(".main-nav a"),N=document.querySelectorAll(".map-tabs a"),K=document.getElementById("analyze-threats"),D=document.getElementById("create-report-btn"),X=document.getElementById("download-report-btn"),Z=document.getElementById("report-iframe"),H=document.getElementById("map"),ot=document.getElementById("report-preview-area"),lt=document.getElementById("vehicle-select"),yt=async($,tt)=>{tt&&(F.forEach(q=>q.classList.remove("active")),tt.classList.add("active")),N.forEach(q=>{const J=q;J.classList.toggle("active",J.getAttribute("data-target")===$)}),$==="nav-param-input"&&(A(),ka(),_n=null),$==="nav-marking-area"&&(ka(),_n=null),$==="nav-threat-analysis"&&(_n=null),$==="nav-product-selection"&&await Hl(),$==="nav-project-description"&&(ka(),_n=null),v.classList.add("hidden"),S.classList.add("hidden"),K.classList.add("hidden"),D.classList.add("hidden"),X.classList.add("hidden");const P=$==="nav-risk-report";H.classList.toggle("view-hidden",P),ot.classList.toggle("view-hidden",!P),it&&(P||it.invalidateSize()),_n||(Z.src="about:blank",X.disabled=!0),$==="nav-marking-area"?(v.classList.remove("hidden"),S.classList.remove("hidden")):$==="nav-threat-analysis"?K.classList.remove("hidden"):$==="nav-risk-report"&&(D.classList.remove("hidden"),X.classList.remove("hidden"),X.disabled=!_n)};F.forEach($=>{$.addEventListener("click",async tt=>{tt.preventDefault();const P=tt.currentTarget,q=P.id;await yt(q,P)})}),N.forEach($=>{$.addEventListener("click",async tt=>{tt.preventDefault();const q=tt.currentTarget.getAttribute("data-target"),J=document.getElementById(q);await yt(q,J??void 0)})}),lt.addEventListener("change",async()=>{var $;Te.size>0&&await Ev(),(($=document.querySelector(".product-recommendations-container"))==null?void 0:$.classList.contains("hidden"))===!1&&await Hl()}),v.addEventListener("click",()=>{Nt&&A(),C(!bo)}),S.addEventListener("click",()=>{A(),ka()}),K.addEventListener("click",Ev),D.addEventListener("click",pN),X.addEventListener("click",mN),(dt=document.getElementById("nav-param-input"))==null||dt.click();const Tt=document.getElementById("chatbot-react-root");if(Tt)try{kD.createRoot(Tt).render(et.createElement(LD))}catch($){console.error("Chatbot mount failed:",$)}uf()});function gN(){console.log("=== DEBUG: Current View State ==="),[{id:"planning-view",name:"Planning View"},{id:"manufacturer-view",name:"Manufacturer View"},{id:"map",name:"Map Container"},{id:"chatbot-react-root",name:"Chatbot Root"},{selector:".sidebar",name:"Sidebar"},{selector:".map-area",name:"Map Area"},{selector:".map-tabs",name:"Map Tabs"},{selector:".map-toolbar",name:"Map Toolbar"}].forEach(({id:e,selector:n,name:s})=>{const l=n?document.querySelector(n):document.getElementById(e||"");if(l){const u=window.getComputedStyle(l),c=l;console.log(`${s}:`,{display:u.display,visibility:u.visibility,opacity:u.opacity,visible:c.offsetWidth>0&&c.offsetHeight>0})}else console.log(`${s}: NOT FOUND`)}),console.log("Map object exists:",!!it),it&&(console.log("Map center:",it.getCenter()),console.log("Map zoom:",it.getZoom())),console.log("=== END DEBUG ===")}function yN(){console.log("Restoring all planning view elements..."),[{selector:".map-area",display:"block"},{selector:"#map",display:"block",additionalStyles:{visibility:"visible",opacity:"1"}},{selector:".map-tabs",display:"flex"},{selector:".map-toolbar",display:"flex"},{selector:".sidebar",display:"block"},{selector:"#floating-threats",display:"none"},{selector:"#report-preview-area",display:"none"},{selector:".report-loading-overlay",display:"none"}].forEach(({selector:n,display:s,additionalStyles:l})=>{const u=document.querySelector(n);u?(u.style.display=s,l&&Object.entries(l).forEach(([c,h])=>{u.style[c]=h}),console.log(`Restored ${n} with display: ${s}`)):console.warn(`Element not found: ${n}`)});const e=document.getElementById("chatbot-react-root");e&&(e.style.display="block",e.style.visibility="visible",console.log("Chatbot root restored")),setTimeout(()=>{gN()},100)}function x0(){const o=document.getElementById("manufacturer-view");if(!o)return;[{selector:"[data-translate-key]",attribute:"data-translate-key"},{selector:"[data-translate-key-placeholder]",attribute:"data-translate-key-placeholder"},{selector:"[data-translate-key-aria]",attribute:"data-translate-key-aria"},{selector:"[data-translate-key-tooltip]",attribute:"data-translate-key-tooltip"}].forEach(({selector:l,attribute:u})=>{o.querySelectorAll(l).forEach(c=>{const h=c.getAttribute(u);if(h){const y=W(h);u==="data-translate-key-placeholder"?c.placeholder=y:u==="data-translate-key-aria"?c.setAttribute("aria-label",y):u==="data-translate-key-tooltip"?c.dataset.tooltip=y:c.textContent=y}})});const n=document.getElementById("products-grid"),s=document.getElementById("products-table");n&&n.style.display!=="none"?(console.log("Re-rendering products grid to update translations..."),cf()):s&&s.style.display!=="none"&&(console.log("Re-rendering products table to update translations..."),cf())}function _0(){console.log("Translating chatbot for language:",It);const o=document.querySelector("#chatbot-react-root h2");o&&(o.textContent=W("ai.chatbot.title"));const e=document.querySelector("#chatbot-react-root .message:first-child .message-content");e&&(e.textContent=W("ai.chatbot.welcome"));const n=document.querySelector("#chatbot-react-root .message:nth-child(2) .message-content");n&&(n.textContent=W("ai.chatbot.assetQuestion"));const s=document.querySelector('#chatbot-react-root input[type="text"]');s&&(s.placeholder=W("ai.chatbot.inputPlaceholder"));const l=document.querySelector('#chatbot-react-root button[type="submit"]');l&&(l.textContent=W("ai.chatbot.sendButton")),console.log("Chatbot translation completed")}function Cv(){console.log("Initializing main application..."),uf(),Wf(),v0(),E0(),b0(),A0(),Jf().then(()=>{$f()}),typeof window<"u"&&console.log("Chatbot initialization deferred"),console.log("Main application initialized")}document.addEventListener("DOMContentLoaded",()=>{console.log("DOM loaded, initializing authentication..."),qD()});

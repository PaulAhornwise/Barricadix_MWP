(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let OE,qE;function GE(){return{geminiUrl:OE,vertexUrl:qE}}function HE(o,e,n){var s,l,u;if(!(!((s=o.httpOptions)===null||s===void 0)&&s.baseUrl)){const c=GE();return o.vertexai?(l=c.vertexUrl)!==null&&l!==void 0?l:e:(u=c.geminiUrl)!==null&&u!==void 0?u:n}return o.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wa{}function gt(o,e){const n=/\{([^}]+)\}/g;return o.replace(n,(s,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const u=e[l];return u!=null?String(u):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function p(o,e,n){for(let u=0;u<e.length-1;u++){const c=e[u];if(c.endsWith("[]")){const m=c.slice(0,-2);if(!(m in o))if(Array.isArray(n))o[m]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(o[m])){const y=o[m];if(Array.isArray(n))for(let h=0;h<y.length;h++){const v=y[h];p(v,e.slice(u+1),n[h])}else for(const h of y)p(h,e.slice(u+1),n)}return}else if(c.endsWith("[0]")){const m=c.slice(0,-3);m in o||(o[m]=[{}]);const y=o[m];p(y[0],e.slice(u+1),n);return}(!o[c]||typeof o[c]!="object")&&(o[c]={}),o=o[c]}const s=e[e.length-1],l=o[s];if(l!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===l)return;if(typeof l=="object"&&typeof n=="object"&&l!==null&&n!==null)Object.assign(l,n);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else o[s]=n}function d(o,e){try{if(e.length===1&&e[0]==="_self")return o;for(let n=0;n<e.length;n++){if(typeof o!="object"||o===null)return;const s=e[n];if(s.endsWith("[]")){const l=s.slice(0,-2);if(l in o){const u=o[l];return Array.isArray(u)?u.map(c=>d(c,e.slice(n+1))):void 0}else return}else o=o[s]}return o}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qt(o,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(o.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Tv(o,e){const n=Qt(o,e);return n?n.startsWith("publishers/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/${n}`:n.startsWith("models/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/publishers/google/${n}`:n:""}function Sv(o,e){return Array.isArray(e)?e.map(n=>Vl(o,n)):[Vl(o,e)]}function Vl(o,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function FE(o,e){const n=Vl(o,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function YE(o,e){const n=Vl(o,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Om(o,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Ev(o,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>Om(o,n)):[Om(o,e)]}function Pc(o){return o!=null&&typeof o=="object"&&"parts"in o&&Array.isArray(o.parts)}function qm(o){return o!=null&&typeof o=="object"&&"functionCall"in o}function Gm(o){return o!=null&&typeof o=="object"&&"functionResponse"in o}function Me(o,e){if(e==null)throw new Error("ContentUnion is required");return Pc(e)?e:{role:"user",parts:Ev(o,e)}}function bv(o,e){if(!e)return[];if(o.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const s=Me(o,n);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(o.isVertexAI()){const n=Me(o,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Me(o,n)):[Me(o,e)]}function ai(o,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(qm(e)||Gm(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Me(o,e)]}const n=[],s=[],l=Pc(e[0]);for(const u of e){const c=Pc(u);if(c!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)n.push(u);else{if(qm(u)||Gm(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");s.push(u)}}return l||n.push({role:"user",parts:Ev(o,s)}),n}function Cv(o,e){return e}function Av(o,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Fl(o,e){return e}function Yl(o,e){if(!Array.isArray(e))throw new Error("tool is required and must be an array of Tools");return e}function KE(o,e,n,s=1){const l=!e.startsWith(`${n}/`)&&e.split("/").length===s;return o.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${o.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${o.getProject()}/locations/${o.getLocation()}/${e}`:l?`projects/${o.getProject()}/locations/${o.getLocation()}/${n}/${e}`:e:l?`${n}/${e}`:e}function si(o,e){if(typeof e!="string")throw new Error("name must be a string");return KE(o,e,"cachedContents")}function Mv(o,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function li(o,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function xv(o,e){if(typeof e!="string")throw new Error("fromName must be a string");return e.startsWith("files/")?e.split("files/")[1]:e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QE(o,e){const n={};if(d(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const s=d(e,["thought"]);s!=null&&p(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&p(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&p(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&p(n,["fileData"],c);const m=d(e,["functionCall"]);m!=null&&p(n,["functionCall"],m);const y=d(e,["functionResponse"]);y!=null&&p(n,["functionResponse"],y);const h=d(e,["inlineData"]);h!=null&&p(n,["inlineData"],h);const v=d(e,["text"]);return v!=null&&p(n,["text"],v),n}function Hm(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>QE(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function XE(){return{}}function ZE(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&p(n,["dynamicThreshold"],l),n}function JE(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&p(n,["dynamicRetrievalConfig"],ZE(o,s)),n}function $E(o,e){const n={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(e,["googleSearch"])!=null&&p(n,["googleSearch"],XE());const l=d(e,["googleSearchRetrieval"]);l!=null&&p(n,["googleSearchRetrieval"],JE(o,l));const u=d(e,["codeExecution"]);u!=null&&p(n,["codeExecution"],u);const c=d(e,["functionDeclarations"]);return c!=null&&p(n,["functionDeclarations"],c),n}function WE(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&p(n,["allowedFunctionNames"],l),n}function jE(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&p(n,["functionCallingConfig"],WE(o,s)),n}function tb(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&p(n,["ttl"],l);const u=d(e,["expireTime"]);n!==void 0&&u!=null&&p(n,["expireTime"],u);const c=d(e,["displayName"]);n!==void 0&&c!=null&&p(n,["displayName"],c);const m=d(e,["contents"]);if(n!==void 0&&m!=null){let T=ai(o,m);Array.isArray(T)&&(T=T.map(E=>Hm(o,E))),p(n,["contents"],T)}const y=d(e,["systemInstruction"]);n!==void 0&&y!=null&&p(n,["systemInstruction"],Hm(o,Me(o,y)));const h=d(e,["tools"]);if(n!==void 0&&h!=null){let T=h;Array.isArray(T)&&(T=T.map(E=>$E(o,E))),p(n,["tools"],T)}const v=d(e,["toolConfig"]);return n!==void 0&&v!=null&&p(n,["toolConfig"],jE(o,v)),s}function eb(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["model"],Tv(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],tb(o,l,n)),n}function nb(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],si(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function ib(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],si(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function ob(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&p(n,["ttl"],l);const u=d(e,["expireTime"]);return n!==void 0&&u!=null&&p(n,["expireTime"],u),s}function ab(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],si(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],ob(o,l,n)),n}function sb(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&p(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);return n!==void 0&&u!=null&&p(n,["_query","pageToken"],u),s}function lb(o,e){const n={},s=d(e,["config"]);return s!=null&&p(n,["config"],sb(o,s,n)),n}function rb(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&p(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&p(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&p(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&p(n,["executableCode"],c);const m=d(e,["fileData"]);m!=null&&p(n,["fileData"],m);const y=d(e,["functionCall"]);y!=null&&p(n,["functionCall"],y);const h=d(e,["functionResponse"]);h!=null&&p(n,["functionResponse"],h);const v=d(e,["inlineData"]);v!=null&&p(n,["inlineData"],v);const T=d(e,["text"]);return T!=null&&p(n,["text"],T),n}function Fm(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>rb(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function ub(){return{}}function cb(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&p(n,["dynamicThreshold"],l),n}function fb(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&p(n,["dynamicRetrievalConfig"],cb(o,s)),n}function db(o,e){const n={},s=d(e,["retrieval"]);s!=null&&p(n,["retrieval"],s),d(e,["googleSearch"])!=null&&p(n,["googleSearch"],ub());const u=d(e,["googleSearchRetrieval"]);u!=null&&p(n,["googleSearchRetrieval"],fb(o,u));const c=d(e,["codeExecution"]);c!=null&&p(n,["codeExecution"],c);const m=d(e,["functionDeclarations"]);return m!=null&&p(n,["functionDeclarations"],m),n}function hb(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&p(n,["allowedFunctionNames"],l),n}function pb(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&p(n,["functionCallingConfig"],hb(o,s)),n}function mb(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&p(n,["ttl"],l);const u=d(e,["expireTime"]);n!==void 0&&u!=null&&p(n,["expireTime"],u);const c=d(e,["displayName"]);n!==void 0&&c!=null&&p(n,["displayName"],c);const m=d(e,["contents"]);if(n!==void 0&&m!=null){let T=ai(o,m);Array.isArray(T)&&(T=T.map(E=>Fm(o,E))),p(n,["contents"],T)}const y=d(e,["systemInstruction"]);n!==void 0&&y!=null&&p(n,["systemInstruction"],Fm(o,Me(o,y)));const h=d(e,["tools"]);if(n!==void 0&&h!=null){let T=h;Array.isArray(T)&&(T=T.map(E=>db(o,E))),p(n,["tools"],T)}const v=d(e,["toolConfig"]);return n!==void 0&&v!=null&&p(n,["toolConfig"],pb(o,v)),s}function gb(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["model"],Tv(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],mb(o,l,n)),n}function yb(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],si(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function vb(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],si(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function Tb(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&p(n,["ttl"],l);const u=d(e,["expireTime"]);return n!==void 0&&u!=null&&p(n,["expireTime"],u),s}function Sb(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],si(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],Tb(o,l,n)),n}function Eb(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&p(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);return n!==void 0&&u!=null&&p(n,["_query","pageToken"],u),s}function bb(o,e){const n={},s=d(e,["config"]);return s!=null&&p(n,["config"],Eb(o,s,n)),n}function _l(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["displayName"]);l!=null&&p(n,["displayName"],l);const u=d(e,["model"]);u!=null&&p(n,["model"],u);const c=d(e,["createTime"]);c!=null&&p(n,["createTime"],c);const m=d(e,["updateTime"]);m!=null&&p(n,["updateTime"],m);const y=d(e,["expireTime"]);y!=null&&p(n,["expireTime"],y);const h=d(e,["usageMetadata"]);return h!=null&&p(n,["usageMetadata"],h),n}function Cb(){return{}}function Ab(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&p(n,["nextPageToken"],s);const l=d(e,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>_l(o,c))),p(n,["cachedContents"],u)}return n}function Rl(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["displayName"]);l!=null&&p(n,["displayName"],l);const u=d(e,["model"]);u!=null&&p(n,["model"],u);const c=d(e,["createTime"]);c!=null&&p(n,["createTime"],c);const m=d(e,["updateTime"]);m!=null&&p(n,["updateTime"],m);const y=d(e,["expireTime"]);y!=null&&p(n,["expireTime"],y);const h=d(e,["usageMetadata"]);return h!=null&&p(n,["usageMetadata"],h),n}function Mb(){return{}}function xb(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&p(n,["nextPageToken"],s);const l=d(e,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Rl(o,c))),p(n,["cachedContents"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fa;(function(o){o.PAGED_ITEM_BATCH_JOBS="batchJobs",o.PAGED_ITEM_MODELS="models",o.PAGED_ITEM_TUNING_JOBS="tuningJobs",o.PAGED_ITEM_FILES="files",o.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Fa||(Fa={}));class ff{constructor(e,n,s,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,s,l)}init(e,n,s){var l,u;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let c={config:{}};s?typeof s=="object"?c=Object.assign({},s):c=s:c={config:{}},c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(u=(l=c.config)===null||l===void 0?void 0:l.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ym;(function(o){o.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",o.OUTCOME_OK="OUTCOME_OK",o.OUTCOME_FAILED="OUTCOME_FAILED",o.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ym||(Ym={}));var Km;(function(o){o.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",o.PYTHON="PYTHON"})(Km||(Km={}));var Qm;(function(o){o.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",o.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",o.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",o.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",o.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Qm||(Qm={}));var Xm;(function(o){o.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",o.SEVERITY="SEVERITY",o.PROBABILITY="PROBABILITY"})(Xm||(Xm={}));var Zm;(function(o){o.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE",o.OFF="OFF"})(Zm||(Zm={}));var Jm;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(Jm||(Jm={}));var xn;(function(o){o.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",o.STRING="STRING",o.NUMBER="NUMBER",o.INTEGER="INTEGER",o.BOOLEAN="BOOLEAN",o.ARRAY="ARRAY",o.OBJECT="OBJECT"})(xn||(xn={}));var $m;(function(o){o.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",o.STOP="STOP",o.MAX_TOKENS="MAX_TOKENS",o.SAFETY="SAFETY",o.RECITATION="RECITATION",o.LANGUAGE="LANGUAGE",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.SPII="SPII",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.IMAGE_SAFETY="IMAGE_SAFETY"})($m||($m={}));var Wm;(function(o){o.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",o.NEGLIGIBLE="NEGLIGIBLE",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH"})(Wm||(Wm={}));var jm;(function(o){o.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",o.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",o.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",o.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",o.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(jm||(jm={}));var tg;(function(o){o.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",o.SAFETY="SAFETY",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(tg||(tg={}));var eg;(function(o){o.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",o.ON_DEMAND="ON_DEMAND",o.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(eg||(eg={}));var Pl;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.AUDIO="AUDIO"})(Pl||(Pl={}));var ng;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ng||(ng={}));var Bc;(function(o){o.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",o.JOB_STATE_QUEUED="JOB_STATE_QUEUED",o.JOB_STATE_PENDING="JOB_STATE_PENDING",o.JOB_STATE_RUNNING="JOB_STATE_RUNNING",o.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",o.JOB_STATE_FAILED="JOB_STATE_FAILED",o.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",o.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",o.JOB_STATE_PAUSED="JOB_STATE_PAUSED",o.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",o.JOB_STATE_UPDATING="JOB_STATE_UPDATING",o.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Bc||(Bc={}));var ig;(function(o){o.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",o.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",o.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",o.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",o.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",o.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",o.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ig||(ig={}));var og;(function(o){o.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",o.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",o.BALANCED="BALANCED",o.PRIORITIZE_COST="PRIORITIZE_COST"})(og||(og={}));var ag;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(ag||(ag={}));var sg;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.AUTO="AUTO",o.ANY="ANY",o.NONE="NONE"})(sg||(sg={}));var lg;(function(o){o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE"})(lg||(lg={}));var rg;(function(o){o.DONT_ALLOW="DONT_ALLOW",o.ALLOW_ADULT="ALLOW_ADULT",o.ALLOW_ALL="ALLOW_ALL"})(rg||(rg={}));var ug;(function(o){o.auto="auto",o.en="en",o.ja="ja",o.ko="ko",o.hi="hi"})(ug||(ug={}));var cg;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.PROCESSING="PROCESSING",o.ACTIVE="ACTIVE",o.FAILED="FAILED"})(cg||(cg={}));var fg;(function(o){o.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",o.UPLOADED="UPLOADED",o.GENERATED="GENERATED"})(fg||(fg={}));var dg;(function(o){o.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",o.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",o.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",o.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",o.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(dg||(dg={}));var hg;(function(o){o.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",o.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",o.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",o.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(hg||(hg={}));var pg;(function(o){o.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",o.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",o.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",o.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(pg||(pg={}));var mg;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.VIDEO="VIDEO",o.AUDIO="AUDIO",o.DOCUMENT="DOCUMENT"})(mg||(mg={}));var gg;(function(o){o.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",o.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",o.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(gg||(gg={}));var yg;(function(o){o.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",o.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",o.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(yg||(yg={}));var vg;(function(o){o.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",o.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",o.NO_INTERRUPTION="NO_INTERRUPTION"})(vg||(vg={}));var Tg;(function(o){o.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",o.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",o.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Tg||(Tg={}));class Tl{get text(){var e,n,s,l,u,c,m,y;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const T=[];for(const E of(y=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[C,A]of Object.entries(E))C!=="text"&&C!=="thought"&&(A!==null||A!==void 0)&&T.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,h+=E.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var e,n,s,l,u,c,m,y;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const T of(y=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[E,C]of Object.entries(T))E!=="inlineData"&&(C!==null||C!==void 0)&&v.push(E);T.inlineData&&typeof T.inlineData.data=="string"&&(h+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,s,l,u,c,m,y;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,n,s,l,u,c,m,y,h;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,s,l,u,c,m,y,h;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class Sg{}class Eg{}class bg{}class Cg{}class _b{}class Ag{}class Mg{}class xg{}class Rb{}class Uc{constructor(e){const n={};for(const s of e.headers.entries())n[s[0]]=s[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Db{}class wb{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nb extends Wa{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ff(Fa.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(n),n)}async create(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=gb(this.apiClient,e);return m=gt("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Rl(this.apiClient,v))}else{const h=eb(this.apiClient,e);return m=gt("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>_l(this.apiClient,v))}}async get(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=yb(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Rl(this.apiClient,v))}else{const h=nb(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>_l(this.apiClient,v))}}async delete(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=vb(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(()=>{const v=Mb(),T=new Mg;return Object.assign(T,v),T})}else{const h=ib(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(()=>{const v=Cb(),T=new Mg;return Object.assign(T,v),T})}}async update(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=Sb(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Rl(this.apiClient,v))}else{const h=ab(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>_l(this.apiClient,v))}}async listInternal(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=bb(this.apiClient,e);return m=gt("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const T=xb(this.apiClient,v),E=new xg;return Object.assign(E,T),E})}else{const h=lb(this.apiClient,e);return m=gt("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const T=Ab(this.apiClient,v),E=new xg;return Object.assign(E,T),E})}}}function _g(o){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&o[e],s=0;if(n)return n.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&s>=o.length&&(o=void 0),{value:o&&o[s++],done:!o}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pe(o){return this instanceof pe?(this.v=o,this):new pe(o)}function Bl(o,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(o,e||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",c),l[Symbol.asyncIterator]=function(){return this},l;function c(C){return function(A){return Promise.resolve(A).then(C,T)}}function m(C,A){s[C]&&(l[C]=function(D){return new Promise(function(z,k){u.push([C,D,z,k])>1||y(C,D)})},A&&(l[C]=A(l[C])))}function y(C,A){try{h(s[C](A))}catch(D){E(u[0][3],D)}}function h(C){C.value instanceof pe?Promise.resolve(C.value.v).then(v,T):E(u[0][2],C)}function v(C){y("next",C)}function T(C){y("throw",C)}function E(C,A){C(A),u.shift(),u.length&&y(u[0][0],u[0][1])}}function Ic(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=o[Symbol.asyncIterator],n;return e?e.call(o):(o=typeof _g=="function"?_g(o):o[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(u){n[u]=o[u]&&function(c){return new Promise(function(m,y){c=o[u](c),l(m,y,c.done,c.value)})}}function l(u,c,m,y){Promise.resolve(y).then(function(h){u({value:h,done:m})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lb(o){var e;if(o.candidates==null||o.candidates.length===0)return!1;const n=(e=o.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:_v(n)}function _v(o){if(o.parts===void 0||o.parts.length===0)return!1;for(const e of o.parts)if(e===void 0||Object.keys(e).length===0||e.text!==void 0&&e.text==="")return!1;return!0}function Vb(o){if(o.length!==0){if(o[0].role!=="user")throw new Error("History must start with a user turn.");for(const e of o)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Pb(o){if(o===void 0||o.length===0)return[];const e=[],n=o.length;let s=0,l=o[0];for(;s<n;)if(o[s].role==="user")l=o[s],s++;else{const u=[];let c=!0;for(;s<n&&o[s].role==="model";)u.push(o[s]),c&&!_v(o[s])&&(c=!1),s++;c&&(e.push(l),e.push(...u))}return e}class Bb{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Ub(this.apiClient,this.modelsModule,e.model,e.config,e.history)}}class Ub{constructor(e,n,s,l={},u=[]){this.apiClient=e,this.modelsModule=n,this.model=s,this.config=l,this.history=u,this.sendPromise=Promise.resolve(),Vb(u)}async sendMessage(e){var n;await this.sendPromise;const s=Me(this.apiClient,e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var u,c;const y=(c=(u=(await l).candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content,h=y?[y]:[];this.recordHistory(s,h)})(),await this.sendPromise,l}async sendMessageStream(e){var n;await this.sendPromise;const s=Me(this.apiClient,e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const u=await l;return this.processStreamResponse(u,s)}getHistory(e=!1){return e?Pb(this.history):this.history}processStreamResponse(e,n){var s,l;return Bl(this,arguments,function*(){var c,m,y,h;const v=[];try{for(var T=!0,E=Ic(e),C;C=yield pe(E.next()),c=C.done,!c;T=!0){h=C.value,T=!1;const A=h;if(Lb(A)){const D=(l=(s=A.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content;D!==void 0&&v.push(D)}yield yield pe(A)}}catch(A){m={error:A}}finally{try{!T&&!c&&(y=E.return)&&(yield pe(y.call(E)))}finally{if(m)throw m.error}}this.recordHistory(n,v)})}recordHistory(e,n){let s=[];n.length>0&&n.every(l=>l.role==="model")?s=n:s.push({role:"model",parts:[]}),this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ib(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&p(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);return n!==void 0&&u!=null&&p(n,["_query","pageToken"],u),s}function zb(o,e){const n={},s=d(e,["config"]);return s!=null&&p(n,["config"],Ib(o,s,n)),n}function kb(o,e){const n={},s=d(e,["details"]);s!=null&&p(n,["details"],s);const l=d(e,["message"]);l!=null&&p(n,["message"],l);const u=d(e,["code"]);return u!=null&&p(n,["code"],u),n}function Ob(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["displayName"]);l!=null&&p(n,["displayName"],l);const u=d(e,["mimeType"]);u!=null&&p(n,["mimeType"],u);const c=d(e,["sizeBytes"]);c!=null&&p(n,["sizeBytes"],c);const m=d(e,["createTime"]);m!=null&&p(n,["createTime"],m);const y=d(e,["expirationTime"]);y!=null&&p(n,["expirationTime"],y);const h=d(e,["updateTime"]);h!=null&&p(n,["updateTime"],h);const v=d(e,["sha256Hash"]);v!=null&&p(n,["sha256Hash"],v);const T=d(e,["uri"]);T!=null&&p(n,["uri"],T);const E=d(e,["downloadUri"]);E!=null&&p(n,["downloadUri"],E);const C=d(e,["state"]);C!=null&&p(n,["state"],C);const A=d(e,["source"]);A!=null&&p(n,["source"],A);const D=d(e,["videoMetadata"]);D!=null&&p(n,["videoMetadata"],D);const z=d(e,["error"]);return z!=null&&p(n,["error"],kb(o,z)),n}function qb(o,e){const n={},s=d(e,["file"]);s!=null&&p(n,["file"],Ob(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function Gb(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","file"],xv(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function Hb(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","file"],xv(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function Fb(o,e){const n={},s=d(e,["details"]);s!=null&&p(n,["details"],s);const l=d(e,["message"]);l!=null&&p(n,["message"],l);const u=d(e,["code"]);return u!=null&&p(n,["code"],u),n}function zc(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["displayName"]);l!=null&&p(n,["displayName"],l);const u=d(e,["mimeType"]);u!=null&&p(n,["mimeType"],u);const c=d(e,["sizeBytes"]);c!=null&&p(n,["sizeBytes"],c);const m=d(e,["createTime"]);m!=null&&p(n,["createTime"],m);const y=d(e,["expirationTime"]);y!=null&&p(n,["expirationTime"],y);const h=d(e,["updateTime"]);h!=null&&p(n,["updateTime"],h);const v=d(e,["sha256Hash"]);v!=null&&p(n,["sha256Hash"],v);const T=d(e,["uri"]);T!=null&&p(n,["uri"],T);const E=d(e,["downloadUri"]);E!=null&&p(n,["downloadUri"],E);const C=d(e,["state"]);C!=null&&p(n,["state"],C);const A=d(e,["source"]);A!=null&&p(n,["source"],A);const D=d(e,["videoMetadata"]);D!=null&&p(n,["videoMetadata"],D);const z=d(e,["error"]);return z!=null&&p(n,["error"],Fb(o,z)),n}function Yb(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&p(n,["nextPageToken"],s);const l=d(e,["files"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>zc(o,c))),p(n,["files"],u)}return n}function Kb(){return{}}function Qb(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xb extends Wa{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ff(Fa.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>zc(this.apiClient,n))}async listInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=zb(this.apiClient,e);return u=gt("files",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const h=Yb(this.apiClient,y),v=new Rb;return Object.assign(v,h),v})}}async createInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=qb(this.apiClient,e);return u=gt("upload/v1beta/files",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(()=>{const y=Kb(),h=new Db;return Object.assign(h,y),h})}}async get(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Gb(this.apiClient,e);return u=gt("files/{file}",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>zc(this.apiClient,y))}}async delete(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Hb(this.apiClient,e);return u=gt("files/{file}",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(()=>{const y=Qb(),h=new wb;return Object.assign(h,y),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zb(o,e){const n={};if(d(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const s=d(e,["thought"]);s!=null&&p(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&p(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&p(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&p(n,["fileData"],c);const m=d(e,["functionCall"]);m!=null&&p(n,["functionCall"],m);const y=d(e,["functionResponse"]);y!=null&&p(n,["functionResponse"],y);const h=d(e,["inlineData"]);h!=null&&p(n,["inlineData"],h);const v=d(e,["text"]);return v!=null&&p(n,["text"],v),n}function Jb(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&p(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&p(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&p(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&p(n,["executableCode"],c);const m=d(e,["fileData"]);m!=null&&p(n,["fileData"],m);const y=d(e,["functionCall"]);y!=null&&p(n,["functionCall"],y);const h=d(e,["functionResponse"]);h!=null&&p(n,["functionResponse"],h);const v=d(e,["inlineData"]);v!=null&&p(n,["inlineData"],v);const T=d(e,["text"]);return T!=null&&p(n,["text"],T),n}function $b(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>Zb(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function Wb(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>Jb(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function jb(){return{}}function tC(){return{}}function eC(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&p(n,["dynamicThreshold"],l),n}function nC(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&p(n,["dynamicThreshold"],l),n}function iC(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&p(n,["dynamicRetrievalConfig"],eC(o,s)),n}function oC(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&p(n,["dynamicRetrievalConfig"],nC(o,s)),n}function aC(o,e){const n={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(e,["googleSearch"])!=null&&p(n,["googleSearch"],jb());const l=d(e,["googleSearchRetrieval"]);l!=null&&p(n,["googleSearchRetrieval"],iC(o,l));const u=d(e,["codeExecution"]);u!=null&&p(n,["codeExecution"],u);const c=d(e,["functionDeclarations"]);return c!=null&&p(n,["functionDeclarations"],c),n}function sC(o,e){const n={},s=d(e,["retrieval"]);s!=null&&p(n,["retrieval"],s),d(e,["googleSearch"])!=null&&p(n,["googleSearch"],tC());const u=d(e,["googleSearchRetrieval"]);u!=null&&p(n,["googleSearchRetrieval"],oC(o,u));const c=d(e,["codeExecution"]);c!=null&&p(n,["codeExecution"],c);const m=d(e,["functionDeclarations"]);return m!=null&&p(n,["functionDeclarations"],m),n}function lC(o,e){const n={},s=d(e,["handle"]);if(s!=null&&p(n,["handle"],s),d(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function rC(o,e){const n={},s=d(e,["handle"]);s!=null&&p(n,["handle"],s);const l=d(e,["transparent"]);return l!=null&&p(n,["transparent"],l),n}function uC(){return{}}function Rg(){return{}}function cC(o,e){const n={},s=d(e,["disabled"]);s!=null&&p(n,["disabled"],s);const l=d(e,["startOfSpeechSensitivity"]);l!=null&&p(n,["startOfSpeechSensitivity"],l);const u=d(e,["endOfSpeechSensitivity"]);u!=null&&p(n,["endOfSpeechSensitivity"],u);const c=d(e,["prefixPaddingMs"]);c!=null&&p(n,["prefixPaddingMs"],c);const m=d(e,["silenceDurationMs"]);return m!=null&&p(n,["silenceDurationMs"],m),n}function fC(o,e){const n={},s=d(e,["disabled"]);s!=null&&p(n,["disabled"],s);const l=d(e,["startOfSpeechSensitivity"]);l!=null&&p(n,["startOfSpeechSensitivity"],l);const u=d(e,["endOfSpeechSensitivity"]);u!=null&&p(n,["endOfSpeechSensitivity"],u);const c=d(e,["prefixPaddingMs"]);c!=null&&p(n,["prefixPaddingMs"],c);const m=d(e,["silenceDurationMs"]);return m!=null&&p(n,["silenceDurationMs"],m),n}function dC(o,e){const n={},s=d(e,["automaticActivityDetection"]);s!=null&&p(n,["automaticActivityDetection"],cC(o,s));const l=d(e,["activityHandling"]);l!=null&&p(n,["activityHandling"],l);const u=d(e,["turnCoverage"]);return u!=null&&p(n,["turnCoverage"],u),n}function hC(o,e){const n={},s=d(e,["automaticActivityDetection"]);s!=null&&p(n,["automaticActivityDetection"],fC(o,s));const l=d(e,["activityHandling"]);l!=null&&p(n,["activityHandling"],l);const u=d(e,["turnCoverage"]);return u!=null&&p(n,["turnCoverage"],u),n}function pC(o,e){const n={},s=d(e,["targetTokens"]);return s!=null&&p(n,["targetTokens"],s),n}function mC(o,e){const n={},s=d(e,["targetTokens"]);return s!=null&&p(n,["targetTokens"],s),n}function gC(o,e){const n={},s=d(e,["triggerTokens"]);s!=null&&p(n,["triggerTokens"],s);const l=d(e,["slidingWindow"]);return l!=null&&p(n,["slidingWindow"],pC(o,l)),n}function yC(o,e){const n={},s=d(e,["triggerTokens"]);s!=null&&p(n,["triggerTokens"],s);const l=d(e,["slidingWindow"]);return l!=null&&p(n,["slidingWindow"],mC(o,l)),n}function vC(o,e,n){const s={},l=d(e,["generationConfig"]);n!==void 0&&l!=null&&p(n,["setup","generationConfig"],l);const u=d(e,["responseModalities"]);n!==void 0&&u!=null&&p(n,["setup","generationConfig","responseModalities"],u);const c=d(e,["temperature"]);n!==void 0&&c!=null&&p(n,["setup","generationConfig","temperature"],c);const m=d(e,["topP"]);n!==void 0&&m!=null&&p(n,["setup","generationConfig","topP"],m);const y=d(e,["topK"]);n!==void 0&&y!=null&&p(n,["setup","generationConfig","topK"],y);const h=d(e,["maxOutputTokens"]);n!==void 0&&h!=null&&p(n,["setup","generationConfig","maxOutputTokens"],h);const v=d(e,["mediaResolution"]);n!==void 0&&v!=null&&p(n,["setup","generationConfig","mediaResolution"],v);const T=d(e,["seed"]);n!==void 0&&T!=null&&p(n,["setup","generationConfig","seed"],T);const E=d(e,["speechConfig"]);n!==void 0&&E!=null&&p(n,["setup","generationConfig","speechConfig"],E);const C=d(e,["systemInstruction"]);n!==void 0&&C!=null&&p(n,["setup","systemInstruction"],$b(o,Me(o,C)));const A=d(e,["tools"]);if(n!==void 0&&A!=null){let N=Yl(o,A);Array.isArray(N)&&(N=N.map(K=>aC(o,Fl(o,K)))),p(n,["setup","tools"],N)}const D=d(e,["sessionResumption"]);if(n!==void 0&&D!=null&&p(n,["setup","sessionResumption"],lC(o,D)),d(e,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const z=d(e,["outputAudioTranscription"]);n!==void 0&&z!=null&&p(n,["setup","outputAudioTranscription"],uC());const k=d(e,["realtimeInputConfig"]);n!==void 0&&k!=null&&p(n,["setup","realtimeInputConfig"],dC(o,k));const F=d(e,["contextWindowCompression"]);return n!==void 0&&F!=null&&p(n,["setup","contextWindowCompression"],gC(o,F)),s}function TC(o,e,n){const s={},l=d(e,["generationConfig"]);n!==void 0&&l!=null&&p(n,["setup","generationConfig"],l);const u=d(e,["responseModalities"]);n!==void 0&&u!=null&&p(n,["setup","generationConfig","responseModalities"],u);const c=d(e,["temperature"]);n!==void 0&&c!=null&&p(n,["setup","generationConfig","temperature"],c);const m=d(e,["topP"]);n!==void 0&&m!=null&&p(n,["setup","generationConfig","topP"],m);const y=d(e,["topK"]);n!==void 0&&y!=null&&p(n,["setup","generationConfig","topK"],y);const h=d(e,["maxOutputTokens"]);n!==void 0&&h!=null&&p(n,["setup","generationConfig","maxOutputTokens"],h);const v=d(e,["mediaResolution"]);n!==void 0&&v!=null&&p(n,["setup","generationConfig","mediaResolution"],v);const T=d(e,["seed"]);n!==void 0&&T!=null&&p(n,["setup","generationConfig","seed"],T);const E=d(e,["speechConfig"]);n!==void 0&&E!=null&&p(n,["setup","generationConfig","speechConfig"],E);const C=d(e,["systemInstruction"]);n!==void 0&&C!=null&&p(n,["setup","systemInstruction"],Wb(o,Me(o,C)));const A=d(e,["tools"]);if(n!==void 0&&A!=null){let K=Yl(o,A);Array.isArray(K)&&(K=K.map(w=>sC(o,Fl(o,w)))),p(n,["setup","tools"],K)}const D=d(e,["sessionResumption"]);n!==void 0&&D!=null&&p(n,["setup","sessionResumption"],rC(o,D));const z=d(e,["inputAudioTranscription"]);n!==void 0&&z!=null&&p(n,["setup","inputAudioTranscription"],Rg());const k=d(e,["outputAudioTranscription"]);n!==void 0&&k!=null&&p(n,["setup","outputAudioTranscription"],Rg());const F=d(e,["realtimeInputConfig"]);n!==void 0&&F!=null&&p(n,["setup","realtimeInputConfig"],hC(o,F));const N=d(e,["contextWindowCompression"]);return n!==void 0&&N!=null&&p(n,["setup","contextWindowCompression"],yC(o,N)),s}function SC(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["setup","model"],Qt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],vC(o,l,n)),n}function EC(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["setup","model"],Qt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],TC(o,l,n)),n}function bC(){return{}}function CC(){return{}}function AC(){return{}}function MC(){return{}}function xC(o,e){const n={},s=d(e,["media"]);s!=null&&p(n,["mediaChunks"],Sv(o,s));const l=d(e,["audio"]);l!=null&&p(n,["audio"],YE(o,l));const u=d(e,["audioStreamEnd"]);u!=null&&p(n,["audioStreamEnd"],u);const c=d(e,["video"]);c!=null&&p(n,["video"],FE(o,c));const m=d(e,["text"]);return m!=null&&p(n,["text"],m),d(e,["activityStart"])!=null&&p(n,["activityStart"],bC()),d(e,["activityEnd"])!=null&&p(n,["activityEnd"],AC()),n}function _C(o,e){const n={},s=d(e,["media"]);if(s!=null&&p(n,["mediaChunks"],Sv(o,s)),d(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const l=d(e,["audioStreamEnd"]);if(l!=null&&p(n,["audioStreamEnd"],l),d(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(d(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return d(e,["activityStart"])!=null&&p(n,["activityStart"],CC()),d(e,["activityEnd"])!=null&&p(n,["activityEnd"],MC()),n}function RC(){return{}}function DC(){return{}}function wC(o,e){const n={},s=d(e,["thought"]);s!=null&&p(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&p(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&p(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&p(n,["fileData"],c);const m=d(e,["functionCall"]);m!=null&&p(n,["functionCall"],m);const y=d(e,["functionResponse"]);y!=null&&p(n,["functionResponse"],y);const h=d(e,["inlineData"]);h!=null&&p(n,["inlineData"],h);const v=d(e,["text"]);return v!=null&&p(n,["text"],v),n}function NC(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&p(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&p(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&p(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&p(n,["executableCode"],c);const m=d(e,["fileData"]);m!=null&&p(n,["fileData"],m);const y=d(e,["functionCall"]);y!=null&&p(n,["functionCall"],y);const h=d(e,["functionResponse"]);h!=null&&p(n,["functionResponse"],h);const v=d(e,["inlineData"]);v!=null&&p(n,["inlineData"],v);const T=d(e,["text"]);return T!=null&&p(n,["text"],T),n}function LC(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>wC(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function VC(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>NC(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function Dg(o,e){const n={},s=d(e,["text"]);s!=null&&p(n,["text"],s);const l=d(e,["finished"]);return l!=null&&p(n,["finished"],l),n}function wg(o,e){const n={},s=d(e,["text"]);s!=null&&p(n,["text"],s);const l=d(e,["finished"]);return l!=null&&p(n,["finished"],l),n}function PC(o,e){const n={},s=d(e,["modelTurn"]);s!=null&&p(n,["modelTurn"],LC(o,s));const l=d(e,["turnComplete"]);l!=null&&p(n,["turnComplete"],l);const u=d(e,["interrupted"]);u!=null&&p(n,["interrupted"],u);const c=d(e,["groundingMetadata"]);c!=null&&p(n,["groundingMetadata"],c);const m=d(e,["generationComplete"]);m!=null&&p(n,["generationComplete"],m);const y=d(e,["inputTranscription"]);y!=null&&p(n,["inputTranscription"],Dg(o,y));const h=d(e,["outputTranscription"]);return h!=null&&p(n,["outputTranscription"],Dg(o,h)),n}function BC(o,e){const n={},s=d(e,["modelTurn"]);s!=null&&p(n,["modelTurn"],VC(o,s));const l=d(e,["turnComplete"]);l!=null&&p(n,["turnComplete"],l);const u=d(e,["interrupted"]);u!=null&&p(n,["interrupted"],u);const c=d(e,["groundingMetadata"]);c!=null&&p(n,["groundingMetadata"],c);const m=d(e,["generationComplete"]);m!=null&&p(n,["generationComplete"],m);const y=d(e,["inputTranscription"]);y!=null&&p(n,["inputTranscription"],wg(o,y));const h=d(e,["outputTranscription"]);return h!=null&&p(n,["outputTranscription"],wg(o,h)),n}function UC(o,e){const n={},s=d(e,["id"]);s!=null&&p(n,["id"],s);const l=d(e,["args"]);l!=null&&p(n,["args"],l);const u=d(e,["name"]);return u!=null&&p(n,["name"],u),n}function IC(o,e){const n={},s=d(e,["args"]);s!=null&&p(n,["args"],s);const l=d(e,["name"]);return l!=null&&p(n,["name"],l),n}function zC(o,e){const n={},s=d(e,["functionCalls"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>UC(o,u))),p(n,["functionCalls"],l)}return n}function kC(o,e){const n={},s=d(e,["functionCalls"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>IC(o,u))),p(n,["functionCalls"],l)}return n}function OC(o,e){const n={},s=d(e,["ids"]);return s!=null&&p(n,["ids"],s),n}function qC(o,e){const n={},s=d(e,["ids"]);return s!=null&&p(n,["ids"],s),n}function Sl(o,e){const n={},s=d(e,["modality"]);s!=null&&p(n,["modality"],s);const l=d(e,["tokenCount"]);return l!=null&&p(n,["tokenCount"],l),n}function El(o,e){const n={},s=d(e,["modality"]);s!=null&&p(n,["modality"],s);const l=d(e,["tokenCount"]);return l!=null&&p(n,["tokenCount"],l),n}function GC(o,e){const n={},s=d(e,["promptTokenCount"]);s!=null&&p(n,["promptTokenCount"],s);const l=d(e,["cachedContentTokenCount"]);l!=null&&p(n,["cachedContentTokenCount"],l);const u=d(e,["responseTokenCount"]);u!=null&&p(n,["responseTokenCount"],u);const c=d(e,["toolUsePromptTokenCount"]);c!=null&&p(n,["toolUsePromptTokenCount"],c);const m=d(e,["thoughtsTokenCount"]);m!=null&&p(n,["thoughtsTokenCount"],m);const y=d(e,["totalTokenCount"]);y!=null&&p(n,["totalTokenCount"],y);const h=d(e,["promptTokensDetails"]);if(h!=null){let C=h;Array.isArray(C)&&(C=C.map(A=>Sl(o,A))),p(n,["promptTokensDetails"],C)}const v=d(e,["cacheTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(A=>Sl(o,A))),p(n,["cacheTokensDetails"],C)}const T=d(e,["responseTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(A=>Sl(o,A))),p(n,["responseTokensDetails"],C)}const E=d(e,["toolUsePromptTokensDetails"]);if(E!=null){let C=E;Array.isArray(C)&&(C=C.map(A=>Sl(o,A))),p(n,["toolUsePromptTokensDetails"],C)}return n}function HC(o,e){const n={},s=d(e,["promptTokenCount"]);s!=null&&p(n,["promptTokenCount"],s);const l=d(e,["cachedContentTokenCount"]);l!=null&&p(n,["cachedContentTokenCount"],l);const u=d(e,["candidatesTokenCount"]);u!=null&&p(n,["responseTokenCount"],u);const c=d(e,["toolUsePromptTokenCount"]);c!=null&&p(n,["toolUsePromptTokenCount"],c);const m=d(e,["thoughtsTokenCount"]);m!=null&&p(n,["thoughtsTokenCount"],m);const y=d(e,["totalTokenCount"]);y!=null&&p(n,["totalTokenCount"],y);const h=d(e,["promptTokensDetails"]);if(h!=null){let A=h;Array.isArray(A)&&(A=A.map(D=>El(o,D))),p(n,["promptTokensDetails"],A)}const v=d(e,["cacheTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(D=>El(o,D))),p(n,["cacheTokensDetails"],A)}const T=d(e,["candidatesTokensDetails"]);if(T!=null){let A=T;Array.isArray(A)&&(A=A.map(D=>El(o,D))),p(n,["responseTokensDetails"],A)}const E=d(e,["toolUsePromptTokensDetails"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(D=>El(o,D))),p(n,["toolUsePromptTokensDetails"],A)}const C=d(e,["trafficType"]);return C!=null&&p(n,["trafficType"],C),n}function FC(o,e){const n={},s=d(e,["timeLeft"]);return s!=null&&p(n,["timeLeft"],s),n}function YC(o,e){const n={},s=d(e,["timeLeft"]);return s!=null&&p(n,["timeLeft"],s),n}function KC(o,e){const n={},s=d(e,["newHandle"]);s!=null&&p(n,["newHandle"],s);const l=d(e,["resumable"]);l!=null&&p(n,["resumable"],l);const u=d(e,["lastConsumedClientMessageIndex"]);return u!=null&&p(n,["lastConsumedClientMessageIndex"],u),n}function QC(o,e){const n={},s=d(e,["newHandle"]);s!=null&&p(n,["newHandle"],s);const l=d(e,["resumable"]);l!=null&&p(n,["resumable"],l);const u=d(e,["lastConsumedClientMessageIndex"]);return u!=null&&p(n,["lastConsumedClientMessageIndex"],u),n}function XC(o,e){const n={};d(e,["setupComplete"])!=null&&p(n,["setupComplete"],RC());const l=d(e,["serverContent"]);l!=null&&p(n,["serverContent"],PC(o,l));const u=d(e,["toolCall"]);u!=null&&p(n,["toolCall"],zC(o,u));const c=d(e,["toolCallCancellation"]);c!=null&&p(n,["toolCallCancellation"],OC(o,c));const m=d(e,["usageMetadata"]);m!=null&&p(n,["usageMetadata"],GC(o,m));const y=d(e,["goAway"]);y!=null&&p(n,["goAway"],FC(o,y));const h=d(e,["sessionResumptionUpdate"]);return h!=null&&p(n,["sessionResumptionUpdate"],KC(o,h)),n}function ZC(o,e){const n={};d(e,["setupComplete"])!=null&&p(n,["setupComplete"],DC());const l=d(e,["serverContent"]);l!=null&&p(n,["serverContent"],BC(o,l));const u=d(e,["toolCall"]);u!=null&&p(n,["toolCall"],kC(o,u));const c=d(e,["toolCallCancellation"]);c!=null&&p(n,["toolCallCancellation"],qC(o,c));const m=d(e,["usageMetadata"]);m!=null&&p(n,["usageMetadata"],HC(o,m));const y=d(e,["goAway"]);y!=null&&p(n,["goAway"],YC(o,y));const h=d(e,["sessionResumptionUpdate"]);return h!=null&&p(n,["sessionResumptionUpdate"],QC(o,h)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JC(o,e){const n={};if(d(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const s=d(e,["thought"]);s!=null&&p(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&p(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&p(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&p(n,["fileData"],c);const m=d(e,["functionCall"]);m!=null&&p(n,["functionCall"],m);const y=d(e,["functionResponse"]);y!=null&&p(n,["functionResponse"],y);const h=d(e,["inlineData"]);h!=null&&p(n,["inlineData"],h);const v=d(e,["text"]);return v!=null&&p(n,["text"],v),n}function Kl(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>JC(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function $C(o,e){const n={};if(d(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=d(e,["category"]);s!=null&&p(n,["category"],s);const l=d(e,["threshold"]);return l!=null&&p(n,["threshold"],l),n}function WC(){return{}}function jC(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&p(n,["dynamicThreshold"],l),n}function tA(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&p(n,["dynamicRetrievalConfig"],jC(o,s)),n}function eA(o,e){const n={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(e,["googleSearch"])!=null&&p(n,["googleSearch"],WC());const l=d(e,["googleSearchRetrieval"]);l!=null&&p(n,["googleSearchRetrieval"],tA(o,l));const u=d(e,["codeExecution"]);u!=null&&p(n,["codeExecution"],u);const c=d(e,["functionDeclarations"]);return c!=null&&p(n,["functionDeclarations"],c),n}function nA(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&p(n,["allowedFunctionNames"],l),n}function iA(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&p(n,["functionCallingConfig"],nA(o,s)),n}function oA(o,e){const n={},s=d(e,["voiceName"]);return s!=null&&p(n,["voiceName"],s),n}function aA(o,e){const n={},s=d(e,["prebuiltVoiceConfig"]);return s!=null&&p(n,["prebuiltVoiceConfig"],oA(o,s)),n}function sA(o,e){const n={},s=d(e,["voiceConfig"]);s!=null&&p(n,["voiceConfig"],aA(o,s));const l=d(e,["languageCode"]);return l!=null&&p(n,["languageCode"],l),n}function lA(o,e){const n={},s=d(e,["includeThoughts"]);s!=null&&p(n,["includeThoughts"],s);const l=d(e,["thinkingBudget"]);return l!=null&&p(n,["thinkingBudget"],l),n}function rA(o,e,n){const s={},l=d(e,["systemInstruction"]);n!==void 0&&l!=null&&p(n,["systemInstruction"],Kl(o,Me(o,l)));const u=d(e,["temperature"]);u!=null&&p(s,["temperature"],u);const c=d(e,["topP"]);c!=null&&p(s,["topP"],c);const m=d(e,["topK"]);m!=null&&p(s,["topK"],m);const y=d(e,["candidateCount"]);y!=null&&p(s,["candidateCount"],y);const h=d(e,["maxOutputTokens"]);h!=null&&p(s,["maxOutputTokens"],h);const v=d(e,["stopSequences"]);v!=null&&p(s,["stopSequences"],v);const T=d(e,["responseLogprobs"]);T!=null&&p(s,["responseLogprobs"],T);const E=d(e,["logprobs"]);E!=null&&p(s,["logprobs"],E);const C=d(e,["presencePenalty"]);C!=null&&p(s,["presencePenalty"],C);const A=d(e,["frequencyPenalty"]);A!=null&&p(s,["frequencyPenalty"],A);const D=d(e,["seed"]);D!=null&&p(s,["seed"],D);const z=d(e,["responseMimeType"]);z!=null&&p(s,["responseMimeType"],z);const k=d(e,["responseSchema"]);if(k!=null&&p(s,["responseSchema"],Cv(o,k)),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=d(e,["safetySettings"]);if(n!==void 0&&F!=null){let lt=F;Array.isArray(lt)&&(lt=lt.map(yt=>$C(o,yt))),p(n,["safetySettings"],lt)}const N=d(e,["tools"]);if(n!==void 0&&N!=null){let lt=Yl(o,N);Array.isArray(lt)&&(lt=lt.map(yt=>eA(o,Fl(o,yt)))),p(n,["tools"],lt)}const K=d(e,["toolConfig"]);if(n!==void 0&&K!=null&&p(n,["toolConfig"],iA(o,K)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=d(e,["cachedContent"]);n!==void 0&&w!=null&&p(n,["cachedContent"],si(o,w));const X=d(e,["responseModalities"]);X!=null&&p(s,["responseModalities"],X);const Z=d(e,["mediaResolution"]);Z!=null&&p(s,["mediaResolution"],Z);const H=d(e,["speechConfig"]);if(H!=null&&p(s,["speechConfig"],sA(o,Av(o,H))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ot=d(e,["thinkingConfig"]);return ot!=null&&p(s,["thinkingConfig"],lA(o,ot)),s}function Ng(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=ai(o,l);Array.isArray(c)&&(c=c.map(m=>Kl(o,m))),p(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&p(n,["generationConfig"],rA(o,u,n)),n}function uA(o,e,n){const s={},l=d(e,["taskType"]);n!==void 0&&l!=null&&p(n,["requests[]","taskType"],l);const u=d(e,["title"]);n!==void 0&&u!=null&&p(n,["requests[]","title"],u);const c=d(e,["outputDimensionality"]);if(n!==void 0&&c!=null&&p(n,["requests[]","outputDimensionality"],c),d(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function cA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);l!=null&&p(n,["requests[]","content"],bv(o,l));const u=d(e,["config"]);u!=null&&p(n,["config"],uA(o,u,n));const c=d(e,["model"]);return c!==void 0&&p(n,["requests[]","model"],Qt(o,c)),n}function fA(o,e,n){const s={};if(d(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=d(e,["numberOfImages"]);n!==void 0&&l!=null&&p(n,["parameters","sampleCount"],l);const u=d(e,["aspectRatio"]);n!==void 0&&u!=null&&p(n,["parameters","aspectRatio"],u);const c=d(e,["guidanceScale"]);if(n!==void 0&&c!=null&&p(n,["parameters","guidanceScale"],c),d(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=d(e,["safetyFilterLevel"]);n!==void 0&&m!=null&&p(n,["parameters","safetySetting"],m);const y=d(e,["personGeneration"]);n!==void 0&&y!=null&&p(n,["parameters","personGeneration"],y);const h=d(e,["includeSafetyAttributes"]);n!==void 0&&h!=null&&p(n,["parameters","includeSafetyAttributes"],h);const v=d(e,["includeRaiReason"]);n!==void 0&&v!=null&&p(n,["parameters","includeRaiReason"],v);const T=d(e,["language"]);n!==void 0&&T!=null&&p(n,["parameters","language"],T);const E=d(e,["outputMimeType"]);n!==void 0&&E!=null&&p(n,["parameters","outputOptions","mimeType"],E);const C=d(e,["outputCompressionQuality"]);if(n!==void 0&&C!=null&&p(n,["parameters","outputOptions","compressionQuality"],C),d(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function dA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["prompt"]);l!=null&&p(n,["instances[0]","prompt"],l);const u=d(e,["config"]);return u!=null&&p(n,["config"],fA(o,u,n)),n}function hA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function pA(o,e,n){const s={},l=d(e,["displayName"]);n!==void 0&&l!=null&&p(n,["displayName"],l);const u=d(e,["description"]);return n!==void 0&&u!=null&&p(n,["description"],u),s}function mA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],pA(o,l,n)),n}function gA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function yA(o,e){const n={};if(d(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function vA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=ai(o,l);Array.isArray(c)&&(c=c.map(m=>Kl(o,m))),p(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&p(n,["config"],yA(o,u)),n}function TA(o,e){const n={};if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=d(e,["imageBytes"]);s!=null&&p(n,["bytesBase64Encoded"],li(o,s));const l=d(e,["mimeType"]);return l!=null&&p(n,["mimeType"],l),n}function SA(o,e,n){const s={},l=d(e,["numberOfVideos"]);if(n!==void 0&&l!=null&&p(n,["parameters","sampleCount"],l),d(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=d(e,["durationSeconds"]);if(n!==void 0&&u!=null&&p(n,["parameters","durationSeconds"],u),d(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(e,["aspectRatio"]);if(n!==void 0&&c!=null&&p(n,["parameters","aspectRatio"],c),d(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const m=d(e,["personGeneration"]);if(n!==void 0&&m!=null&&p(n,["parameters","personGeneration"],m),d(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=d(e,["negativePrompt"]);if(n!==void 0&&y!=null&&p(n,["parameters","negativePrompt"],y),d(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function EA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["prompt"]);l!=null&&p(n,["instances[0]","prompt"],l);const u=d(e,["image"]);u!=null&&p(n,["instances[0]","image"],TA(o,u));const c=d(e,["config"]);return c!=null&&p(n,["config"],SA(o,c,n)),n}function bA(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&p(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&p(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&p(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&p(n,["executableCode"],c);const m=d(e,["fileData"]);m!=null&&p(n,["fileData"],m);const y=d(e,["functionCall"]);y!=null&&p(n,["functionCall"],y);const h=d(e,["functionResponse"]);h!=null&&p(n,["functionResponse"],h);const v=d(e,["inlineData"]);v!=null&&p(n,["inlineData"],v);const T=d(e,["text"]);return T!=null&&p(n,["text"],T),n}function No(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>bA(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function CA(o,e){const n={},s=d(e,["featureSelectionPreference"]);return s!=null&&p(n,["featureSelectionPreference"],s),n}function AA(o,e){const n={},s=d(e,["method"]);s!=null&&p(n,["method"],s);const l=d(e,["category"]);l!=null&&p(n,["category"],l);const u=d(e,["threshold"]);return u!=null&&p(n,["threshold"],u),n}function MA(){return{}}function xA(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&p(n,["dynamicThreshold"],l),n}function _A(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&p(n,["dynamicRetrievalConfig"],xA(o,s)),n}function Rv(o,e){const n={},s=d(e,["retrieval"]);s!=null&&p(n,["retrieval"],s),d(e,["googleSearch"])!=null&&p(n,["googleSearch"],MA());const u=d(e,["googleSearchRetrieval"]);u!=null&&p(n,["googleSearchRetrieval"],_A(o,u));const c=d(e,["codeExecution"]);c!=null&&p(n,["codeExecution"],c);const m=d(e,["functionDeclarations"]);return m!=null&&p(n,["functionDeclarations"],m),n}function RA(o,e){const n={},s=d(e,["mode"]);s!=null&&p(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&p(n,["allowedFunctionNames"],l),n}function DA(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&p(n,["functionCallingConfig"],RA(o,s)),n}function wA(o,e){const n={},s=d(e,["voiceName"]);return s!=null&&p(n,["voiceName"],s),n}function NA(o,e){const n={},s=d(e,["prebuiltVoiceConfig"]);return s!=null&&p(n,["prebuiltVoiceConfig"],wA(o,s)),n}function LA(o,e){const n={},s=d(e,["voiceConfig"]);s!=null&&p(n,["voiceConfig"],NA(o,s));const l=d(e,["languageCode"]);return l!=null&&p(n,["languageCode"],l),n}function VA(o,e){const n={},s=d(e,["includeThoughts"]);s!=null&&p(n,["includeThoughts"],s);const l=d(e,["thinkingBudget"]);return l!=null&&p(n,["thinkingBudget"],l),n}function PA(o,e,n){const s={},l=d(e,["systemInstruction"]);n!==void 0&&l!=null&&p(n,["systemInstruction"],No(o,Me(o,l)));const u=d(e,["temperature"]);u!=null&&p(s,["temperature"],u);const c=d(e,["topP"]);c!=null&&p(s,["topP"],c);const m=d(e,["topK"]);m!=null&&p(s,["topK"],m);const y=d(e,["candidateCount"]);y!=null&&p(s,["candidateCount"],y);const h=d(e,["maxOutputTokens"]);h!=null&&p(s,["maxOutputTokens"],h);const v=d(e,["stopSequences"]);v!=null&&p(s,["stopSequences"],v);const T=d(e,["responseLogprobs"]);T!=null&&p(s,["responseLogprobs"],T);const E=d(e,["logprobs"]);E!=null&&p(s,["logprobs"],E);const C=d(e,["presencePenalty"]);C!=null&&p(s,["presencePenalty"],C);const A=d(e,["frequencyPenalty"]);A!=null&&p(s,["frequencyPenalty"],A);const D=d(e,["seed"]);D!=null&&p(s,["seed"],D);const z=d(e,["responseMimeType"]);z!=null&&p(s,["responseMimeType"],z);const k=d(e,["responseSchema"]);k!=null&&p(s,["responseSchema"],Cv(o,k));const F=d(e,["routingConfig"]);F!=null&&p(s,["routingConfig"],F);const N=d(e,["modelSelectionConfig"]);N!=null&&p(s,["modelConfig"],CA(o,N));const K=d(e,["safetySettings"]);if(n!==void 0&&K!=null){let J=K;Array.isArray(J)&&(J=J.map(j=>AA(o,j))),p(n,["safetySettings"],J)}const w=d(e,["tools"]);if(n!==void 0&&w!=null){let J=Yl(o,w);Array.isArray(J)&&(J=J.map(j=>Rv(o,Fl(o,j)))),p(n,["tools"],J)}const X=d(e,["toolConfig"]);n!==void 0&&X!=null&&p(n,["toolConfig"],DA(o,X));const Z=d(e,["labels"]);n!==void 0&&Z!=null&&p(n,["labels"],Z);const H=d(e,["cachedContent"]);n!==void 0&&H!=null&&p(n,["cachedContent"],si(o,H));const ot=d(e,["responseModalities"]);ot!=null&&p(s,["responseModalities"],ot);const lt=d(e,["mediaResolution"]);lt!=null&&p(s,["mediaResolution"],lt);const yt=d(e,["speechConfig"]);yt!=null&&p(s,["speechConfig"],LA(o,Av(o,yt)));const Tt=d(e,["audioTimestamp"]);Tt!=null&&p(s,["audioTimestamp"],Tt);const dt=d(e,["thinkingConfig"]);return dt!=null&&p(s,["thinkingConfig"],VA(o,dt)),s}function Lg(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=ai(o,l);Array.isArray(c)&&(c=c.map(m=>No(o,m))),p(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&p(n,["generationConfig"],PA(o,u,n)),n}function BA(o,e,n){const s={},l=d(e,["taskType"]);n!==void 0&&l!=null&&p(n,["instances[]","task_type"],l);const u=d(e,["title"]);n!==void 0&&u!=null&&p(n,["instances[]","title"],u);const c=d(e,["outputDimensionality"]);n!==void 0&&c!=null&&p(n,["parameters","outputDimensionality"],c);const m=d(e,["mimeType"]);n!==void 0&&m!=null&&p(n,["instances[]","mimeType"],m);const y=d(e,["autoTruncate"]);return n!==void 0&&y!=null&&p(n,["parameters","autoTruncate"],y),s}function UA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);l!=null&&p(n,["instances[]","content"],bv(o,l));const u=d(e,["config"]);return u!=null&&p(n,["config"],BA(o,u,n)),n}function IA(o,e,n){const s={},l=d(e,["outputGcsUri"]);n!==void 0&&l!=null&&p(n,["parameters","storageUri"],l);const u=d(e,["negativePrompt"]);n!==void 0&&u!=null&&p(n,["parameters","negativePrompt"],u);const c=d(e,["numberOfImages"]);n!==void 0&&c!=null&&p(n,["parameters","sampleCount"],c);const m=d(e,["aspectRatio"]);n!==void 0&&m!=null&&p(n,["parameters","aspectRatio"],m);const y=d(e,["guidanceScale"]);n!==void 0&&y!=null&&p(n,["parameters","guidanceScale"],y);const h=d(e,["seed"]);n!==void 0&&h!=null&&p(n,["parameters","seed"],h);const v=d(e,["safetyFilterLevel"]);n!==void 0&&v!=null&&p(n,["parameters","safetySetting"],v);const T=d(e,["personGeneration"]);n!==void 0&&T!=null&&p(n,["parameters","personGeneration"],T);const E=d(e,["includeSafetyAttributes"]);n!==void 0&&E!=null&&p(n,["parameters","includeSafetyAttributes"],E);const C=d(e,["includeRaiReason"]);n!==void 0&&C!=null&&p(n,["parameters","includeRaiReason"],C);const A=d(e,["language"]);n!==void 0&&A!=null&&p(n,["parameters","language"],A);const D=d(e,["outputMimeType"]);n!==void 0&&D!=null&&p(n,["parameters","outputOptions","mimeType"],D);const z=d(e,["outputCompressionQuality"]);n!==void 0&&z!=null&&p(n,["parameters","outputOptions","compressionQuality"],z);const k=d(e,["addWatermark"]);n!==void 0&&k!=null&&p(n,["parameters","addWatermark"],k);const F=d(e,["enhancePrompt"]);return n!==void 0&&F!=null&&p(n,["parameters","enhancePrompt"],F),s}function zA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["prompt"]);l!=null&&p(n,["instances[0]","prompt"],l);const u=d(e,["config"]);return u!=null&&p(n,["config"],IA(o,u,n)),n}function kA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function OA(o,e,n){const s={},l=d(e,["displayName"]);n!==void 0&&l!=null&&p(n,["displayName"],l);const u=d(e,["description"]);return n!==void 0&&u!=null&&p(n,["description"],u),s}function qA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],OA(o,l,n)),n}function GA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function HA(o,e,n){const s={},l=d(e,["systemInstruction"]);n!==void 0&&l!=null&&p(n,["systemInstruction"],No(o,Me(o,l)));const u=d(e,["tools"]);if(n!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(y=>Rv(o,y))),p(n,["tools"],m)}const c=d(e,["generationConfig"]);return n!==void 0&&c!=null&&p(n,["generationConfig"],c),s}function FA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=ai(o,l);Array.isArray(c)&&(c=c.map(m=>No(o,m))),p(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&p(n,["config"],HA(o,u,n)),n}function YA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=ai(o,l);Array.isArray(c)&&(c=c.map(m=>No(o,m))),p(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&p(n,["config"],u),n}function KA(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&p(n,["gcsUri"],s);const l=d(e,["imageBytes"]);l!=null&&p(n,["bytesBase64Encoded"],li(o,l));const u=d(e,["mimeType"]);return u!=null&&p(n,["mimeType"],u),n}function QA(o,e,n){const s={},l=d(e,["numberOfVideos"]);n!==void 0&&l!=null&&p(n,["parameters","sampleCount"],l);const u=d(e,["outputGcsUri"]);n!==void 0&&u!=null&&p(n,["parameters","storageUri"],u);const c=d(e,["fps"]);n!==void 0&&c!=null&&p(n,["parameters","fps"],c);const m=d(e,["durationSeconds"]);n!==void 0&&m!=null&&p(n,["parameters","durationSeconds"],m);const y=d(e,["seed"]);n!==void 0&&y!=null&&p(n,["parameters","seed"],y);const h=d(e,["aspectRatio"]);n!==void 0&&h!=null&&p(n,["parameters","aspectRatio"],h);const v=d(e,["resolution"]);n!==void 0&&v!=null&&p(n,["parameters","resolution"],v);const T=d(e,["personGeneration"]);n!==void 0&&T!=null&&p(n,["parameters","personGeneration"],T);const E=d(e,["pubsubTopic"]);n!==void 0&&E!=null&&p(n,["parameters","pubsubTopic"],E);const C=d(e,["negativePrompt"]);n!==void 0&&C!=null&&p(n,["parameters","negativePrompt"],C);const A=d(e,["enhancePrompt"]);return n!==void 0&&A!=null&&p(n,["parameters","enhancePrompt"],A),s}function XA(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],Qt(o,s));const l=d(e,["prompt"]);l!=null&&p(n,["instances[0]","prompt"],l);const u=d(e,["image"]);u!=null&&p(n,["instances[0]","image"],KA(o,u));const c=d(e,["config"]);return c!=null&&p(n,["config"],QA(o,c,n)),n}function ZA(o,e){const n={},s=d(e,["thought"]);s!=null&&p(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&p(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&p(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&p(n,["fileData"],c);const m=d(e,["functionCall"]);m!=null&&p(n,["functionCall"],m);const y=d(e,["functionResponse"]);y!=null&&p(n,["functionResponse"],y);const h=d(e,["inlineData"]);h!=null&&p(n,["inlineData"],h);const v=d(e,["text"]);return v!=null&&p(n,["text"],v),n}function JA(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>ZA(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function $A(o,e){const n={},s=d(e,["citationSources"]);return s!=null&&p(n,["citations"],s),n}function WA(o,e){const n={},s=d(e,["content"]);s!=null&&p(n,["content"],JA(o,s));const l=d(e,["citationMetadata"]);l!=null&&p(n,["citationMetadata"],$A(o,l));const u=d(e,["tokenCount"]);u!=null&&p(n,["tokenCount"],u);const c=d(e,["finishReason"]);c!=null&&p(n,["finishReason"],c);const m=d(e,["avgLogprobs"]);m!=null&&p(n,["avgLogprobs"],m);const y=d(e,["groundingMetadata"]);y!=null&&p(n,["groundingMetadata"],y);const h=d(e,["index"]);h!=null&&p(n,["index"],h);const v=d(e,["logprobsResult"]);v!=null&&p(n,["logprobsResult"],v);const T=d(e,["safetyRatings"]);return T!=null&&p(n,["safetyRatings"],T),n}function Vg(o,e){const n={},s=d(e,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(y=>WA(o,y))),p(n,["candidates"],m)}const l=d(e,["modelVersion"]);l!=null&&p(n,["modelVersion"],l);const u=d(e,["promptFeedback"]);u!=null&&p(n,["promptFeedback"],u);const c=d(e,["usageMetadata"]);return c!=null&&p(n,["usageMetadata"],c),n}function jA(o,e){const n={},s=d(e,["values"]);return s!=null&&p(n,["values"],s),n}function tM(){return{}}function eM(o,e){const n={},s=d(e,["embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>jA(o,c))),p(n,["embeddings"],u)}return d(e,["metadata"])!=null&&p(n,["metadata"],tM()),n}function nM(o,e){const n={},s=d(e,["bytesBase64Encoded"]);s!=null&&p(n,["imageBytes"],li(o,s));const l=d(e,["mimeType"]);return l!=null&&p(n,["mimeType"],l),n}function Dv(o,e){const n={},s=d(e,["safetyAttributes","categories"]);s!=null&&p(n,["categories"],s);const l=d(e,["safetyAttributes","scores"]);l!=null&&p(n,["scores"],l);const u=d(e,["contentType"]);return u!=null&&p(n,["contentType"],u),n}function iM(o,e){const n={},s=d(e,["_self"]);s!=null&&p(n,["image"],nM(o,s));const l=d(e,["raiFilteredReason"]);l!=null&&p(n,["raiFilteredReason"],l);const u=d(e,["_self"]);return u!=null&&p(n,["safetyAttributes"],Dv(o,u)),n}function oM(o,e){const n={},s=d(e,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>iM(o,c))),p(n,["generatedImages"],u)}const l=d(e,["positivePromptSafetyAttributes"]);return l!=null&&p(n,["positivePromptSafetyAttributes"],Dv(o,l)),n}function aM(o,e){const n={},s=d(e,["baseModel"]);s!=null&&p(n,["baseModel"],s);const l=d(e,["createTime"]);l!=null&&p(n,["createTime"],l);const u=d(e,["updateTime"]);return u!=null&&p(n,["updateTime"],u),n}function Pg(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["displayName"]);l!=null&&p(n,["displayName"],l);const u=d(e,["description"]);u!=null&&p(n,["description"],u);const c=d(e,["version"]);c!=null&&p(n,["version"],c);const m=d(e,["_self"]);m!=null&&p(n,["tunedModelInfo"],aM(o,m));const y=d(e,["inputTokenLimit"]);y!=null&&p(n,["inputTokenLimit"],y);const h=d(e,["outputTokenLimit"]);h!=null&&p(n,["outputTokenLimit"],h);const v=d(e,["supportedGenerationMethods"]);return v!=null&&p(n,["supportedActions"],v),n}function sM(){return{}}function lM(o,e){const n={},s=d(e,["totalTokens"]);s!=null&&p(n,["totalTokens"],s);const l=d(e,["cachedContentTokenCount"]);return l!=null&&p(n,["cachedContentTokenCount"],l),n}function rM(o,e){const n={},s=d(e,["video","uri"]);s!=null&&p(n,["uri"],s);const l=d(e,["video","encodedVideo"]);l!=null&&p(n,["videoBytes"],li(o,l));const u=d(e,["encoding"]);return u!=null&&p(n,["mimeType"],u),n}function uM(o,e){const n={},s=d(e,["_self"]);return s!=null&&p(n,["video"],rM(o,s)),n}function cM(o,e){const n={},s=d(e,["generatedSamples"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>uM(o,m))),p(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&p(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&p(n,["raiMediaFilteredReasons"],u),n}function fM(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["metadata"]);l!=null&&p(n,["metadata"],l);const u=d(e,["done"]);u!=null&&p(n,["done"],u);const c=d(e,["error"]);c!=null&&p(n,["error"],c);const m=d(e,["response","generateVideoResponse"]);return m!=null&&p(n,["response"],cM(o,m)),n}function dM(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&p(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&p(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&p(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&p(n,["executableCode"],c);const m=d(e,["fileData"]);m!=null&&p(n,["fileData"],m);const y=d(e,["functionCall"]);y!=null&&p(n,["functionCall"],y);const h=d(e,["functionResponse"]);h!=null&&p(n,["functionResponse"],h);const v=d(e,["inlineData"]);v!=null&&p(n,["inlineData"],v);const T=d(e,["text"]);return T!=null&&p(n,["text"],T),n}function hM(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>dM(o,c))),p(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&p(n,["role"],l),n}function pM(o,e){const n={},s=d(e,["citations"]);return s!=null&&p(n,["citations"],s),n}function mM(o,e){const n={},s=d(e,["content"]);s!=null&&p(n,["content"],hM(o,s));const l=d(e,["citationMetadata"]);l!=null&&p(n,["citationMetadata"],pM(o,l));const u=d(e,["finishMessage"]);u!=null&&p(n,["finishMessage"],u);const c=d(e,["finishReason"]);c!=null&&p(n,["finishReason"],c);const m=d(e,["avgLogprobs"]);m!=null&&p(n,["avgLogprobs"],m);const y=d(e,["groundingMetadata"]);y!=null&&p(n,["groundingMetadata"],y);const h=d(e,["index"]);h!=null&&p(n,["index"],h);const v=d(e,["logprobsResult"]);v!=null&&p(n,["logprobsResult"],v);const T=d(e,["safetyRatings"]);return T!=null&&p(n,["safetyRatings"],T),n}function Bg(o,e){const n={},s=d(e,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(v=>mM(o,v))),p(n,["candidates"],h)}const l=d(e,["createTime"]);l!=null&&p(n,["createTime"],l);const u=d(e,["responseId"]);u!=null&&p(n,["responseId"],u);const c=d(e,["modelVersion"]);c!=null&&p(n,["modelVersion"],c);const m=d(e,["promptFeedback"]);m!=null&&p(n,["promptFeedback"],m);const y=d(e,["usageMetadata"]);return y!=null&&p(n,["usageMetadata"],y),n}function gM(o,e){const n={},s=d(e,["truncated"]);s!=null&&p(n,["truncated"],s);const l=d(e,["token_count"]);return l!=null&&p(n,["tokenCount"],l),n}function yM(o,e){const n={},s=d(e,["values"]);s!=null&&p(n,["values"],s);const l=d(e,["statistics"]);return l!=null&&p(n,["statistics"],gM(o,l)),n}function vM(o,e){const n={},s=d(e,["billableCharacterCount"]);return s!=null&&p(n,["billableCharacterCount"],s),n}function TM(o,e){const n={},s=d(e,["predictions[]","embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>yM(o,c))),p(n,["embeddings"],u)}const l=d(e,["metadata"]);return l!=null&&p(n,["metadata"],vM(o,l)),n}function SM(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&p(n,["gcsUri"],s);const l=d(e,["bytesBase64Encoded"]);l!=null&&p(n,["imageBytes"],li(o,l));const u=d(e,["mimeType"]);return u!=null&&p(n,["mimeType"],u),n}function wv(o,e){const n={},s=d(e,["safetyAttributes","categories"]);s!=null&&p(n,["categories"],s);const l=d(e,["safetyAttributes","scores"]);l!=null&&p(n,["scores"],l);const u=d(e,["contentType"]);return u!=null&&p(n,["contentType"],u),n}function EM(o,e){const n={},s=d(e,["_self"]);s!=null&&p(n,["image"],SM(o,s));const l=d(e,["raiFilteredReason"]);l!=null&&p(n,["raiFilteredReason"],l);const u=d(e,["_self"]);u!=null&&p(n,["safetyAttributes"],wv(o,u));const c=d(e,["prompt"]);return c!=null&&p(n,["enhancedPrompt"],c),n}function bM(o,e){const n={},s=d(e,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>EM(o,c))),p(n,["generatedImages"],u)}const l=d(e,["positivePromptSafetyAttributes"]);return l!=null&&p(n,["positivePromptSafetyAttributes"],wv(o,l)),n}function CM(o,e){const n={},s=d(e,["endpoint"]);s!=null&&p(n,["name"],s);const l=d(e,["deployedModelId"]);return l!=null&&p(n,["deployedModelId"],l),n}function AM(o,e){const n={},s=d(e,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&p(n,["baseModel"],s);const l=d(e,["createTime"]);l!=null&&p(n,["createTime"],l);const u=d(e,["updateTime"]);return u!=null&&p(n,["updateTime"],u),n}function Ug(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["displayName"]);l!=null&&p(n,["displayName"],l);const u=d(e,["description"]);u!=null&&p(n,["description"],u);const c=d(e,["versionId"]);c!=null&&p(n,["version"],c);const m=d(e,["deployedModels"]);if(m!=null){let v=m;Array.isArray(v)&&(v=v.map(T=>CM(o,T))),p(n,["endpoints"],v)}const y=d(e,["labels"]);y!=null&&p(n,["labels"],y);const h=d(e,["_self"]);return h!=null&&p(n,["tunedModelInfo"],AM(o,h)),n}function MM(){return{}}function xM(o,e){const n={},s=d(e,["totalTokens"]);return s!=null&&p(n,["totalTokens"],s),n}function _M(o,e){const n={},s=d(e,["tokensInfo"]);return s!=null&&p(n,["tokensInfo"],s),n}function RM(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&p(n,["uri"],s);const l=d(e,["bytesBase64Encoded"]);l!=null&&p(n,["videoBytes"],li(o,l));const u=d(e,["mimeType"]);return u!=null&&p(n,["mimeType"],u),n}function DM(o,e){const n={},s=d(e,["_self"]);return s!=null&&p(n,["video"],RM(o,s)),n}function wM(o,e){const n={},s=d(e,["videos"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>DM(o,m))),p(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&p(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&p(n,["raiMediaFilteredReasons"],u),n}function NM(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["metadata"]);l!=null&&p(n,["metadata"],l);const u=d(e,["done"]);u!=null&&p(n,["done"],u);const c=d(e,["error"]);c!=null&&p(n,["error"],c);const m=d(e,["response"]);return m!=null&&p(n,["response"],wM(o,m)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function VM(o,e,n){let s,l;n.data instanceof Blob?l=JSON.parse(await n.data.text()):l=JSON.parse(n.data),o.isVertexAI()?s=ZC(o,l):s=XC(o,l),e(s)}class PM{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s}async connect(e){var n,s,l,u;const c=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const h=zM(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())y=`${c}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const K=this.apiClient.getApiKey();y=`${c}/ws/google.ai.generativelanguage.${m}.GenerativeService.BidiGenerateContent?key=${K}`}let v=()=>{};const T=new Promise(K=>{v=K}),E=e.callbacks,C=function(){var K;(K=E==null?void 0:E.onopen)===null||K===void 0||K.call(E),v({})},A=this.apiClient,D={onopen:C,onmessage:K=>{VM(A,E.onmessage,K)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(K){},onclose:(s=E==null?void 0:E.onclose)!==null&&s!==void 0?s:function(K){}},z=this.webSocketFactory.create(y,IM(h),D);z.connect(),await T;let k=Qt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const K=this.apiClient.getProject(),w=this.apiClient.getLocation();k=`projects/${K}/locations/${w}/`+k}let F={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Pl.AUDIO]}:e.config.responseModalities=[Pl.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N={model:k,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=EC(this.apiClient,N):F=SC(this.apiClient,N),delete F.config,z.send(JSON.stringify(F)),new UM(z,this.apiClient)}}const BM={turnComplete:!0};class UM{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let s=[];try{s=ai(e,n.turns),e.isVertexAI()?s=s.map(l=>No(e,l)):s=s.map(l=>Kl(e,l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:s,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let s=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?s=n.functionResponses:s=[n.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(LM)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},BM),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:_C(this.apiClient,e)}:n={realtimeInput:xC(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function IM(o){const e={};return o.forEach((n,s)=>{e[s]=n}),e}function zM(o){const e=new Headers;for(const[n,s]of Object.entries(o))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kM extends Wa{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(s=>{var l;let u;const c=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((l=y==null?void 0:y.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:c.push(y);let m;return u?m={generatedImages:c,positivePromptSafetyAttributes:u}:m={generatedImages:c},m})}async generateContentInternal(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=Lg(this.apiClient,e);return m=gt("{model}:generateContent",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const T=Bg(this.apiClient,v),E=new Tl;return Object.assign(E,T),E})}else{const h=Ng(this.apiClient,e);return m=gt("{model}:generateContent",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const T=Vg(this.apiClient,v),E=new Tl;return Object.assign(E,T),E})}}async generateContentStreamInternal(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=Lg(this.apiClient,e);m=gt("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h.config,delete h._url,delete h._query;const v=this.apiClient;return c=v.requestStream({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(T){return Bl(this,arguments,function*(){var E,C,A,D;try{for(var z=!0,k=Ic(T),F;F=yield pe(k.next()),E=F.done,!E;z=!0){D=F.value,z=!1;const K=Bg(v,yield pe(D.json())),w=new Tl;Object.assign(w,K),yield yield pe(w)}}catch(N){C={error:N}}finally{try{!z&&!E&&(A=k.return)&&(yield pe(A.call(k)))}finally{if(C)throw C.error}}})})}else{const h=Ng(this.apiClient,e);m=gt("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h.config,delete h._url,delete h._query;const v=this.apiClient;return c=v.requestStream({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),c.then(function(T){return Bl(this,arguments,function*(){var E,C,A,D;try{for(var z=!0,k=Ic(T),F;F=yield pe(k.next()),E=F.done,!E;z=!0){D=F.value,z=!1;const K=Vg(v,yield pe(D.json())),w=new Tl;Object.assign(w,K),yield yield pe(w)}}catch(N){C={error:N}}finally{try{!z&&!E&&(A=k.return)&&(yield pe(A.call(k)))}finally{if(C)throw C.error}}})})}}async embedContent(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=UA(this.apiClient,e);return m=gt("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const T=TM(this.apiClient,v),E=new Sg;return Object.assign(E,T),E})}else{const h=cA(this.apiClient,e);return m=gt("{model}:batchEmbedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const T=eM(this.apiClient,v),E=new Sg;return Object.assign(E,T),E})}}async generateImagesInternal(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=zA(this.apiClient,e);return m=gt("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const T=bM(this.apiClient,v),E=new Eg;return Object.assign(E,T),E})}else{const h=dA(this.apiClient,e);return m=gt("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const T=oM(this.apiClient,v),E=new Eg;return Object.assign(E,T),E})}}async get(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=kA(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Ug(this.apiClient,v))}else{const h=hA(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Pg(this.apiClient,v))}}async update(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=qA(this.apiClient,e);return m=gt("{model}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Ug(this.apiClient,v))}else{const h=mA(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Pg(this.apiClient,v))}}async delete(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=GA(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(()=>{const v=MM(),T=new bg;return Object.assign(T,v),T})}else{const h=gA(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(()=>{const v=sM(),T=new bg;return Object.assign(T,v),T})}}async countTokens(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=FA(this.apiClient,e);return m=gt("{model}:countTokens",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const T=xM(this.apiClient,v),E=new Cg;return Object.assign(E,T),E})}else{const h=vA(this.apiClient,e);return m=gt("{model}:countTokens",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const T=lM(this.apiClient,v),E=new Cg;return Object.assign(E,T),E})}}async computeTokens(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const m=YA(this.apiClient,e);return u=gt("{model}:computeTokens",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const h=_M(this.apiClient,y),v=new _b;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=XA(this.apiClient,e);return m=gt("{model}:predictLongRunning",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>NM(this.apiClient,v))}else{const h=EA(this.apiClient,e);return m=gt("{model}:predictLongRunning",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>fM(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OM(o,e){const n={},s=d(e,["operationName"]);s!=null&&p(n,["_url","operationName"],s);const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function qM(o,e){const n={},s=d(e,["operationName"]);s!=null&&p(n,["_url","operationName"],s);const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function GM(o,e){const n={},s=d(e,["operationName"]);s!=null&&p(n,["operationName"],s);const l=d(e,["resourceName"]);l!=null&&p(n,["_url","resourceName"],l);const u=d(e,["config"]);return u!=null&&p(n,["config"],u),n}function HM(o,e){const n={},s=d(e,["video","uri"]);s!=null&&p(n,["uri"],s);const l=d(e,["video","encodedVideo"]);l!=null&&p(n,["videoBytes"],li(o,l));const u=d(e,["encoding"]);return u!=null&&p(n,["mimeType"],u),n}function FM(o,e){const n={},s=d(e,["_self"]);return s!=null&&p(n,["video"],HM(o,s)),n}function YM(o,e){const n={},s=d(e,["generatedSamples"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>FM(o,m))),p(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&p(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&p(n,["raiMediaFilteredReasons"],u),n}function KM(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["metadata"]);l!=null&&p(n,["metadata"],l);const u=d(e,["done"]);u!=null&&p(n,["done"],u);const c=d(e,["error"]);c!=null&&p(n,["error"],c);const m=d(e,["response","generateVideoResponse"]);return m!=null&&p(n,["response"],YM(o,m)),n}function QM(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&p(n,["uri"],s);const l=d(e,["bytesBase64Encoded"]);l!=null&&p(n,["videoBytes"],li(o,l));const u=d(e,["mimeType"]);return u!=null&&p(n,["mimeType"],u),n}function XM(o,e){const n={},s=d(e,["_self"]);return s!=null&&p(n,["video"],QM(o,s)),n}function ZM(o,e){const n={},s=d(e,["videos"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>XM(o,m))),p(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&p(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&p(n,["raiMediaFilteredReasons"],u),n}function Ig(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["metadata"]);l!=null&&p(n,["metadata"],l);const u=d(e,["done"]);u!=null&&p(n,["done"],u);const c=d(e,["error"]);c!=null&&p(n,["error"],c);const m=d(e,["response"]);return m!=null&&p(n,["response"],ZM(o,m)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JM extends Wa{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let u;return s&&"httpOptions"in s&&(u=s.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:u}})}else return this.getVideosOperationInternal({operationName:n.name,config:s})}async getVideosOperationInternal(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=qM(this.apiClient,e);return m=gt("{operationName}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Ig(this.apiClient,v))}else{const h=OM(this.apiClient,e);return m=gt("{operationName}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>KM(this.apiClient,v))}}async fetchPredictVideosOperationInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const m=GM(this.apiClient,e);return u=gt("{resourceName}:fetchPredictOperation",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>Ig(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $M="Content-Type",WM="X-Server-Timeout",jM="User-Agent",tx="x-goog-api-client",ex="0.12.0",nx=`google-genai-sdk/${ex}`,ix="v1beta1",ox="v1beta",zg=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Nv extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class kc extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class ax{constructor(e){var n,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:ix,this.getProject()||this.getLocation()?(l.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(l.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(l.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:ox,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,s){const l=[this.getRequestUrlInternal(n)];return s&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,s);if(e.queryParams)for(const[c,m]of Object.entries(e.queryParams))l.searchParams.append(c,String(m));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,n,e.abortSignal),this.unaryApiCall(l,u,e.httpMethod)}patchHttpOptions(e,n){const s=JSON.parse(JSON.stringify(e));for(const[l,u]of Object.entries(n))typeof u=="object"?s[l]=Object.assign(Object.assign({},s[l]),u):u!==void 0&&(s[l]=u);return s}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,s);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,n,e.abortSignal),this.streamApiCall(l,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,s){if(n&&n.timeout||s){const l=new AbortController,u=l.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>l.abort(),n.timeout),s&&s.addEventListener("abort",()=>{l.abort()}),e.signal=u}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async l=>(await kg(l),new Uc(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async l=>(await kg(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var n;return Bl(this,arguments,function*(){const l=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),u=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let c="";for(;;){const{done:m,value:y}=yield pe(l.read());if(m){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=u.decode(y);try{const T=JSON.parse(h);if("error"in T){const E=JSON.parse(JSON.stringify(T.error)),C=E.status,A=E.code,D=`got status: ${C}. ${JSON.stringify(T)}`;if(A>=400&&A<500)throw new Nv(D);if(A>=500&&A<600)throw new kc(D)}}catch(T){const E=T;if(E.name==="ClientError"||E.name==="ServerError")throw T}c+=h;let v=c.match(zg);for(;v;){const T=v[1];try{const E=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield pe(new Uc(E)),c=c.slice(v[0].length),v=c.match(zg)}catch(E){throw new Error(`exception parsing stream chunk ${T}. ${E}`)}}}}finally{l.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},n=nx+" "+this.clientOptions.userAgentExtra;return e[jM]=n,e[tx]=n,e[$M]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[s,l]of Object.entries(e.headers))n.append(s,l);e.timeout&&e.timeout>0&&n.append(WM,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var s;const l={};n!=null&&(l.mimeType=n.mimeType,l.name=n.name,l.displayName=n.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const u=this.clientOptions.uploader,c=await u.stat(e);l.sizeBytes=String(c.size);const m=(s=n==null?void 0:n.mimeType)!==null&&s!==void 0?s:c.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=m;const y=await this.fetchUploadUrl(l,n);return u.upload(e,y,this)}async fetchUploadUrl(e,n){var s;let l={};n!=null&&n.httpOptions?l=n.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const u={file:e},c=await this.request({path:gt("upload/v1beta/files",u._url),body:JSON.stringify(u),httpMethod:"POST",httpOptions:l});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(s=c==null?void 0:c.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function kg(o){var e;if(o===void 0)throw new kc("response is undefined");if(!o.ok){const n=o.status,s=o.statusText;let l;!((e=o.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await o.json():l={error:{message:await o.text(),code:o.status,status:o.statusText}};const u=`got status: ${n} ${s}. ${JSON.stringify(l)}`;throw n>=400&&n<500?new Nv(u):n>=500&&n<600?new kc(u):new Error(u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sx(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],s);const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function lx(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&p(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);n!==void 0&&u!=null&&p(n,["_query","pageToken"],u);const c=d(e,["filter"]);return n!==void 0&&c!=null&&p(n,["_query","filter"],c),s}function rx(o,e){const n={},s=d(e,["config"]);return s!=null&&p(n,["config"],lx(o,s,n)),n}function ux(o,e){const n={},s=d(e,["textInput"]);s!=null&&p(n,["textInput"],s);const l=d(e,["output"]);return l!=null&&p(n,["output"],l),n}function cx(o,e){const n={};if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=d(e,["examples"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>ux(o,u))),p(n,["examples","examples"],l)}return n}function fx(o,e,n){const s={};if(d(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=d(e,["tunedModelDisplayName"]);if(n!==void 0&&l!=null&&p(n,["displayName"],l),d(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=d(e,["epochCount"]);n!==void 0&&u!=null&&p(n,["tuningTask","hyperparameters","epochCount"],u);const c=d(e,["learningRateMultiplier"]);if(c!=null&&p(s,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=d(e,["batchSize"]);n!==void 0&&m!=null&&p(n,["tuningTask","hyperparameters","batchSize"],m);const y=d(e,["learningRate"]);return n!==void 0&&y!=null&&p(n,["tuningTask","hyperparameters","learningRate"],y),s}function dx(o,e){const n={},s=d(e,["baseModel"]);s!=null&&p(n,["baseModel"],s);const l=d(e,["trainingDataset"]);l!=null&&p(n,["tuningTask","trainingData"],cx(o,l));const u=d(e,["config"]);return u!=null&&p(n,["config"],fx(o,u,n)),n}function hx(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],s);const l=d(e,["config"]);return l!=null&&p(n,["config"],l),n}function px(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&p(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);n!==void 0&&u!=null&&p(n,["_query","pageToken"],u);const c=d(e,["filter"]);return n!==void 0&&c!=null&&p(n,["_query","filter"],c),s}function mx(o,e){const n={},s=d(e,["config"]);return s!=null&&p(n,["config"],px(o,s,n)),n}function gx(o,e,n){const s={},l=d(e,["gcsUri"]);if(n!==void 0&&l!=null&&p(n,["supervisedTuningSpec","trainingDatasetUri"],l),d(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function yx(o,e){const n={},s=d(e,["gcsUri"]);return s!=null&&p(n,["validationDatasetUri"],s),n}function vx(o,e,n){const s={},l=d(e,["validationDataset"]);n!==void 0&&l!=null&&p(n,["supervisedTuningSpec"],yx(o,l));const u=d(e,["tunedModelDisplayName"]);n!==void 0&&u!=null&&p(n,["tunedModelDisplayName"],u);const c=d(e,["description"]);n!==void 0&&c!=null&&p(n,["description"],c);const m=d(e,["epochCount"]);n!==void 0&&m!=null&&p(n,["supervisedTuningSpec","hyperParameters","epochCount"],m);const y=d(e,["learningRateMultiplier"]);n!==void 0&&y!=null&&p(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const h=d(e,["adapterSize"]);if(n!==void 0&&h!=null&&p(n,["supervisedTuningSpec","hyperParameters","adapterSize"],h),d(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return s}function Tx(o,e){const n={},s=d(e,["baseModel"]);s!=null&&p(n,["baseModel"],s);const l=d(e,["trainingDataset"]);l!=null&&p(n,["supervisedTuningSpec","trainingDatasetUri"],gx(o,l,n));const u=d(e,["config"]);return u!=null&&p(n,["config"],vx(o,u,n)),n}function Sx(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["model"],s);const l=d(e,["name"]);return l!=null&&p(n,["endpoint"],l),n}function Lv(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["state"]);l!=null&&p(n,["state"],Mv(o,l));const u=d(e,["createTime"]);u!=null&&p(n,["createTime"],u);const c=d(e,["tuningTask","startTime"]);c!=null&&p(n,["startTime"],c);const m=d(e,["tuningTask","completeTime"]);m!=null&&p(n,["endTime"],m);const y=d(e,["updateTime"]);y!=null&&p(n,["updateTime"],y);const h=d(e,["description"]);h!=null&&p(n,["description"],h);const v=d(e,["baseModel"]);v!=null&&p(n,["baseModel"],v);const T=d(e,["_self"]);T!=null&&p(n,["tunedModel"],Sx(o,T));const E=d(e,["distillationSpec"]);E!=null&&p(n,["distillationSpec"],E);const C=d(e,["experiment"]);C!=null&&p(n,["experiment"],C);const A=d(e,["labels"]);A!=null&&p(n,["labels"],A);const D=d(e,["pipelineJob"]);D!=null&&p(n,["pipelineJob"],D);const z=d(e,["tunedModelDisplayName"]);return z!=null&&p(n,["tunedModelDisplayName"],z),n}function Ex(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&p(n,["nextPageToken"],s);const l=d(e,["tunedModels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Lv(o,c))),p(n,["tuningJobs"],u)}return n}function bx(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["metadata"]);l!=null&&p(n,["metadata"],l);const u=d(e,["done"]);u!=null&&p(n,["done"],u);const c=d(e,["error"]);return c!=null&&p(n,["error"],c),n}function Cx(o,e){const n={},s=d(e,["model"]);s!=null&&p(n,["model"],s);const l=d(e,["endpoint"]);return l!=null&&p(n,["endpoint"],l),n}function Oc(o,e){const n={},s=d(e,["name"]);s!=null&&p(n,["name"],s);const l=d(e,["state"]);l!=null&&p(n,["state"],Mv(o,l));const u=d(e,["createTime"]);u!=null&&p(n,["createTime"],u);const c=d(e,["startTime"]);c!=null&&p(n,["startTime"],c);const m=d(e,["endTime"]);m!=null&&p(n,["endTime"],m);const y=d(e,["updateTime"]);y!=null&&p(n,["updateTime"],y);const h=d(e,["error"]);h!=null&&p(n,["error"],h);const v=d(e,["description"]);v!=null&&p(n,["description"],v);const T=d(e,["baseModel"]);T!=null&&p(n,["baseModel"],T);const E=d(e,["tunedModel"]);E!=null&&p(n,["tunedModel"],Cx(o,E));const C=d(e,["supervisedTuningSpec"]);C!=null&&p(n,["supervisedTuningSpec"],C);const A=d(e,["tuningDataStats"]);A!=null&&p(n,["tuningDataStats"],A);const D=d(e,["encryptionSpec"]);D!=null&&p(n,["encryptionSpec"],D);const z=d(e,["partnerModelTuningSpec"]);z!=null&&p(n,["partnerModelTuningSpec"],z);const k=d(e,["distillationSpec"]);k!=null&&p(n,["distillationSpec"],k);const F=d(e,["experiment"]);F!=null&&p(n,["experiment"],F);const N=d(e,["labels"]);N!=null&&p(n,["labels"],N);const K=d(e,["pipelineJob"]);K!=null&&p(n,["pipelineJob"],K);const w=d(e,["tunedModelDisplayName"]);return w!=null&&p(n,["tunedModelDisplayName"],w),n}function Ax(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&p(n,["nextPageToken"],s);const l=d(e,["tuningJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Oc(o,c))),p(n,["tuningJobs"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mx extends Wa{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new ff(Fa.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const s=await this.tuneMldevInternal(n);let l="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?l=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(l=s.name.split("/operations/")[0]),{name:l,state:Bc.JOB_STATE_QUEUED}}}}async getInternal(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=hx(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Oc(this.apiClient,v))}else{const h=sx(this.apiClient,e);return m=gt("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Lv(this.apiClient,v))}}async listInternal(e){var n,s,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const h=mx(this.apiClient,e);return m=gt("tuningJobs",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const T=Ax(this.apiClient,v),E=new Ag;return Object.assign(E,T),E})}else{const h=rx(this.apiClient,e);return m=gt("tunedModels",h._url),y=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const T=Ex(this.apiClient,v),E=new Ag;return Object.assign(E,T),E})}}async tuneInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const m=Tx(this.apiClient,e);return u=gt("tuningJobs",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>Oc(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=dx(this.apiClient,e);return u=gt("tunedModels",m._url),c=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>bx(this.apiClient,y))}}}const xx=1024*1024*8;async function _x(o,e,n){var s,l;let u=0,c=0,m=new Uc(new Response),y="upload";for(u=o.size;c<u;){const v=Math.min(xx,u-c),T=o.slice(c,c+v);if(c+v>=u&&(y+=", finalize"),m=await n.request({path:"",body:T,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(c),"Content-Length":String(v)}}}),c+=v,((s=m==null?void 0:m.headers)===null||s===void 0?void 0:s["x-goog-upload-status"])!=="active")break;if(u<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(m==null?void 0:m.json());if(((l=m==null?void 0:m.headers)===null||l===void 0?void 0:l["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function Rx(o){return{size:o.size,type:o.type}}class Dx{async upload(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _x(e,n,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Rx(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wx{create(e,n,s){return new Nx(e,n,s)}}class Nx{constructor(e,n,s){this.url=e,this.headers=n,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Og="x-goog-api-key";class Lx{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(Og)===null&&e.append(Og,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vx="gl-node/";class Px{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const s=HE(e,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion;const l=new Lx(this.apiKey);this.apiClient=new ax({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Vx+"web",uploader:new Dx}),this.models=new kM(this.apiClient),this.live=new PM(this.apiClient,l,new wx),this.chats=new Bb(this.models,this.apiClient),this.caches=new Nb(this.apiClient),this.files=new Xb(this.apiClient),this.operations=new JM(this.apiClient),this.tunings=new Mx(this.apiClient)}}var hc={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg;function Bx(){if(qg)return vt;qg=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function E(x){return x===null||typeof x!="object"?null:(x=T&&x[T]||x["@@iterator"],typeof x=="function"?x:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,D={};function z(x,Q,nt){this.props=x,this.context=Q,this.refs=D,this.updater=nt||C}z.prototype.isReactComponent={},z.prototype.setState=function(x,Q){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Q,"setState")},z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function k(){}k.prototype=z.prototype;function F(x,Q,nt){this.props=x,this.context=Q,this.refs=D,this.updater=nt||C}var N=F.prototype=new k;N.constructor=F,A(N,z.prototype),N.isPureReactComponent=!0;var K=Array.isArray,w={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function Z(x,Q,nt,W,ut,xt){return nt=xt.ref,{$$typeof:o,type:x,key:Q,ref:nt!==void 0?nt:null,props:xt}}function H(x,Q){return Z(x.type,Q,void 0,void 0,void 0,x.props)}function ot(x){return typeof x=="object"&&x!==null&&x.$$typeof===o}function lt(x){var Q={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(nt){return Q[nt]})}var yt=/\/+/g;function Tt(x,Q){return typeof x=="object"&&x!==null&&x.key!=null?lt(""+x.key):Q.toString(36)}function dt(){}function J(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(dt,dt):(x.status="pending",x.then(function(Q){x.status==="pending"&&(x.status="fulfilled",x.value=Q)},function(Q){x.status==="pending"&&(x.status="rejected",x.reason=Q)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function j(x,Q,nt,W,ut){var xt=typeof x;(xt==="undefined"||xt==="boolean")&&(x=null);var mt=!1;if(x===null)mt=!0;else switch(xt){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(x.$$typeof){case o:case e:mt=!0;break;case v:return mt=x._init,j(mt(x._payload),Q,nt,W,ut)}}if(mt)return ut=ut(x),mt=W===""?"."+Tt(x,0):W,K(ut)?(nt="",mt!=null&&(nt=mt.replace(yt,"$&/")+"/"),j(ut,Q,nt,"",function(wn){return wn})):ut!=null&&(ot(ut)&&(ut=H(ut,nt+(ut.key==null||x&&x.key===ut.key?"":(""+ut.key).replace(yt,"$&/")+"/")+mt)),Q.push(ut)),1;mt=0;var _e=W===""?".":W+":";if(K(x))for(var kt=0;kt<x.length;kt++)W=x[kt],xt=_e+Tt(W,kt),mt+=j(W,Q,nt,xt,ut);else if(kt=E(x),typeof kt=="function")for(x=kt.call(x),kt=0;!(W=x.next()).done;)W=W.value,xt=_e+Tt(W,kt++),mt+=j(W,Q,nt,xt,ut);else if(xt==="object"){if(typeof x.then=="function")return j(J(x),Q,nt,W,ut);throw Q=String(x),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return mt}function P(x,Q,nt){if(x==null)return x;var W=[],ut=0;return j(x,W,"","",function(xt){return Q.call(nt,xt,ut++)}),W}function q(x){if(x._status===-1){var Q=x._result;Q=Q(),Q.then(function(nt){(x._status===0||x._status===-1)&&(x._status=1,x._result=nt)},function(nt){(x._status===0||x._status===-1)&&(x._status=2,x._result=nt)}),x._status===-1&&(x._status=0,x._result=Q)}if(x._status===1)return x._result.default;throw x._result}var $=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function rt(){}return vt.Children={map:P,forEach:function(x,Q,nt){P(x,function(){Q.apply(this,arguments)},nt)},count:function(x){var Q=0;return P(x,function(){Q++}),Q},toArray:function(x){return P(x,function(Q){return Q})||[]},only:function(x){if(!ot(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},vt.Component=z,vt.Fragment=n,vt.Profiler=l,vt.PureComponent=F,vt.StrictMode=s,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,vt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return w.H.useMemoCache(x)}},vt.cache=function(x){return function(){return x.apply(null,arguments)}},vt.cloneElement=function(x,Q,nt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var W=A({},x.props),ut=x.key,xt=void 0;if(Q!=null)for(mt in Q.ref!==void 0&&(xt=void 0),Q.key!==void 0&&(ut=""+Q.key),Q)!X.call(Q,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&Q.ref===void 0||(W[mt]=Q[mt]);var mt=arguments.length-2;if(mt===1)W.children=nt;else if(1<mt){for(var _e=Array(mt),kt=0;kt<mt;kt++)_e[kt]=arguments[kt+2];W.children=_e}return Z(x.type,ut,void 0,void 0,xt,W)},vt.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},vt.createElement=function(x,Q,nt){var W,ut={},xt=null;if(Q!=null)for(W in Q.key!==void 0&&(xt=""+Q.key),Q)X.call(Q,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ut[W]=Q[W]);var mt=arguments.length-2;if(mt===1)ut.children=nt;else if(1<mt){for(var _e=Array(mt),kt=0;kt<mt;kt++)_e[kt]=arguments[kt+2];ut.children=_e}if(x&&x.defaultProps)for(W in mt=x.defaultProps,mt)ut[W]===void 0&&(ut[W]=mt[W]);return Z(x,xt,void 0,void 0,null,ut)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(x){return{$$typeof:m,render:x}},vt.isValidElement=ot,vt.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:q}},vt.memo=function(x,Q){return{$$typeof:h,type:x,compare:Q===void 0?null:Q}},vt.startTransition=function(x){var Q=w.T,nt={};w.T=nt;try{var W=x(),ut=w.S;ut!==null&&ut(nt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(rt,$)}catch(xt){$(xt)}finally{w.T=Q}},vt.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},vt.use=function(x){return w.H.use(x)},vt.useActionState=function(x,Q,nt){return w.H.useActionState(x,Q,nt)},vt.useCallback=function(x,Q){return w.H.useCallback(x,Q)},vt.useContext=function(x){return w.H.useContext(x)},vt.useDebugValue=function(){},vt.useDeferredValue=function(x,Q){return w.H.useDeferredValue(x,Q)},vt.useEffect=function(x,Q,nt){var W=w.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(x,Q)},vt.useId=function(){return w.H.useId()},vt.useImperativeHandle=function(x,Q,nt){return w.H.useImperativeHandle(x,Q,nt)},vt.useInsertionEffect=function(x,Q){return w.H.useInsertionEffect(x,Q)},vt.useLayoutEffect=function(x,Q){return w.H.useLayoutEffect(x,Q)},vt.useMemo=function(x,Q){return w.H.useMemo(x,Q)},vt.useOptimistic=function(x,Q){return w.H.useOptimistic(x,Q)},vt.useReducer=function(x,Q,nt){return w.H.useReducer(x,Q,nt)},vt.useRef=function(x){return w.H.useRef(x)},vt.useState=function(x){return w.H.useState(x)},vt.useSyncExternalStore=function(x,Q,nt){return w.H.useSyncExternalStore(x,Q,nt)},vt.useTransition=function(){return w.H.useTransition()},vt.version="19.1.1",vt}var Gg;function df(){return Gg||(Gg=1,hc.exports=Bx()),hc.exports}var tt=df(),pc={exports:{}},La={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function Ux(){if(Hg)return La;Hg=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:o,type:s,key:c,ref:l!==void 0?l:null,props:u}}return La.Fragment=e,La.jsx=n,La.jsxs=n,La}var Fg;function Ix(){return Fg||(Fg=1,pc.exports=Ux()),pc.exports}var zt=Ix();const hf=tt.createContext({});function pf(o){const e=tt.useRef(null);return e.current===null&&(e.current=o()),e.current}const mf=typeof window<"u",Vv=mf?tt.useLayoutEffect:tt.useEffect,Ql=tt.createContext(null);function gf(o,e){o.indexOf(e)===-1&&o.push(e)}function yf(o,e){const n=o.indexOf(e);n>-1&&o.splice(n,1)}const Rn=(o,e,n)=>n>e?e:n<o?o:n;let vf=()=>{};const Dn={},Pv=o=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(o);function Bv(o){return typeof o=="object"&&o!==null}const Uv=o=>/^0[^.\s]+$/u.test(o);function Tf(o){let e;return()=>(e===void 0&&(e=o()),e)}const Xe=o=>o,zx=(o,e)=>n=>e(o(n)),ja=(...o)=>o.reduce(zx),Ya=(o,e,n)=>{const s=e-o;return s===0?1:(n-o)/s};class Sf{constructor(){this.subscriptions=[]}add(e){return gf(this.subscriptions,e),()=>yf(this.subscriptions,e)}notify(e,n,s){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](e,n,s);else for(let u=0;u<l;u++){const c=this.subscriptions[u];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rn=o=>o*1e3,un=o=>o/1e3;function Iv(o,e){return e?o*(1e3/e):0}const zv=(o,e,n)=>(((1-3*n+3*e)*o+(3*n-6*e))*o+3*e)*o,kx=1e-7,Ox=12;function qx(o,e,n,s,l){let u,c,m=0;do c=e+(n-e)/2,u=zv(c,s,l)-o,u>0?n=c:e=c;while(Math.abs(u)>kx&&++m<Ox);return c}function ts(o,e,n,s){if(o===e&&n===s)return Xe;const l=u=>qx(u,0,1,o,n);return u=>u===0||u===1?u:zv(l(u),e,s)}const kv=o=>e=>e<=.5?o(2*e)/2:(2-o(2*(1-e)))/2,Ov=o=>e=>1-o(1-e),qv=ts(.33,1.53,.69,.99),Ef=Ov(qv),Gv=kv(Ef),Hv=o=>(o*=2)<1?.5*Ef(o):.5*(2-Math.pow(2,-10*(o-1))),bf=o=>1-Math.sin(Math.acos(o)),Fv=Ov(bf),Yv=kv(bf),Gx=ts(.42,0,1,1),Hx=ts(0,0,.58,1),Kv=ts(.42,0,.58,1),Fx=o=>Array.isArray(o)&&typeof o[0]!="number",Qv=o=>Array.isArray(o)&&typeof o[0]=="number",Yx={linear:Xe,easeIn:Gx,easeInOut:Kv,easeOut:Hx,circIn:bf,circInOut:Yv,circOut:Fv,backIn:Ef,backInOut:Gv,backOut:qv,anticipate:Hv},Kx=o=>typeof o=="string",Yg=o=>{if(Qv(o)){vf(o.length===4);const[e,n,s,l]=o;return ts(e,n,s,l)}else if(Kx(o))return Yx[o];return o},bl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Qx(o,e){let n=new Set,s=new Set,l=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function y(v){c.has(v)&&(h.schedule(v),o()),v(m)}const h={schedule:(v,T=!1,E=!1)=>{const A=E&&l?n:s;return T&&c.add(v),A.has(v)||A.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(m=v,l){u=!0;return}l=!0,[n,s]=[s,n],n.forEach(y),n.clear(),l=!1,u&&(u=!1,h.process(v))}};return h}const Xx=40;function Xv(o,e){let n=!1,s=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=bl.reduce((N,K)=>(N[K]=Qx(u),N),{}),{setup:m,read:y,resolveKeyframes:h,preUpdate:v,update:T,preRender:E,render:C,postRender:A}=c,D=()=>{const N=Dn.useManualTiming?l.timestamp:performance.now();n=!1,Dn.useManualTiming||(l.delta=s?1e3/60:Math.max(Math.min(N-l.timestamp,Xx),1)),l.timestamp=N,l.isProcessing=!0,m.process(l),y.process(l),h.process(l),v.process(l),T.process(l),E.process(l),C.process(l),A.process(l),l.isProcessing=!1,n&&e&&(s=!1,o(D))},z=()=>{n=!0,s=!0,l.isProcessing||o(D)};return{schedule:bl.reduce((N,K)=>{const w=c[K];return N[K]=(X,Z=!1,H=!1)=>(n||z(),w.schedule(X,Z,H)),N},{}),cancel:N=>{for(let K=0;K<bl.length;K++)c[bl[K]].cancel(N)},state:l,steps:c}}const{schedule:qt,cancel:ii,state:ce,steps:mc}=Xv(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xe,!0);let Dl;function Zx(){Dl=void 0}const xe={now:()=>(Dl===void 0&&xe.set(ce.isProcessing||Dn.useManualTiming?ce.timestamp:performance.now()),Dl),set:o=>{Dl=o,queueMicrotask(Zx)}},Zv=o=>e=>typeof e=="string"&&e.startsWith(o),Cf=Zv("--"),Jx=Zv("var(--"),Af=o=>Jx(o)?$x.test(o.split("/*")[0].trim()):!1,$x=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Lo={test:o=>typeof o=="number",parse:parseFloat,transform:o=>o},Ka={...Lo,transform:o=>Rn(0,1,o)},Cl={...Lo,default:1},za=o=>Math.round(o*1e5)/1e5,Mf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Wx(o){return o==null}const jx=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xf=(o,e)=>n=>!!(typeof n=="string"&&jx.test(n)&&n.startsWith(o)||e&&!Wx(n)&&Object.prototype.hasOwnProperty.call(n,e)),Jv=(o,e,n)=>s=>{if(typeof s!="string")return s;const[l,u,c,m]=s.match(Mf);return{[o]:parseFloat(l),[e]:parseFloat(u),[n]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},t1=o=>Rn(0,255,o),gc={...Lo,transform:o=>Math.round(t1(o))},Ni={test:xf("rgb","red"),parse:Jv("red","green","blue"),transform:({red:o,green:e,blue:n,alpha:s=1})=>"rgba("+gc.transform(o)+", "+gc.transform(e)+", "+gc.transform(n)+", "+za(Ka.transform(s))+")"};function e1(o){let e="",n="",s="",l="";return o.length>5?(e=o.substring(1,3),n=o.substring(3,5),s=o.substring(5,7),l=o.substring(7,9)):(e=o.substring(1,2),n=o.substring(2,3),s=o.substring(3,4),l=o.substring(4,5),e+=e,n+=n,s+=s,l+=l),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:l?parseInt(l,16)/255:1}}const qc={test:xf("#"),parse:e1,transform:Ni.transform},es=o=>({test:e=>typeof e=="string"&&e.endsWith(o)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${o}`}),ei=es("deg"),cn=es("%"),pt=es("px"),n1=es("vh"),i1=es("vw"),Kg={...cn,parse:o=>cn.parse(o)/100,transform:o=>cn.transform(o*100)},Co={test:xf("hsl","hue"),parse:Jv("hue","saturation","lightness"),transform:({hue:o,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(o)+", "+cn.transform(za(e))+", "+cn.transform(za(n))+", "+za(Ka.transform(s))+")"},te={test:o=>Ni.test(o)||qc.test(o)||Co.test(o),parse:o=>Ni.test(o)?Ni.parse(o):Co.test(o)?Co.parse(o):qc.parse(o),transform:o=>typeof o=="string"?o:o.hasOwnProperty("red")?Ni.transform(o):Co.transform(o),getAnimatableNone:o=>{const e=te.parse(o);return e.alpha=0,te.transform(e)}},o1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function a1(o){var e,n;return isNaN(o)&&typeof o=="string"&&(((e=o.match(Mf))==null?void 0:e.length)||0)+(((n=o.match(o1))==null?void 0:n.length)||0)>0}const $v="number",Wv="color",s1="var",l1="var(",Qg="${}",r1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qa(o){const e=o.toString(),n=[],s={color:[],number:[],var:[]},l=[];let u=0;const m=e.replace(r1,y=>(te.test(y)?(s.color.push(u),l.push(Wv),n.push(te.parse(y))):y.startsWith(l1)?(s.var.push(u),l.push(s1),n.push(y)):(s.number.push(u),l.push($v),n.push(parseFloat(y))),++u,Qg)).split(Qg);return{values:n,split:m,indexes:s,types:l}}function jv(o){return Qa(o).values}function tT(o){const{split:e,types:n}=Qa(o),s=e.length;return l=>{let u="";for(let c=0;c<s;c++)if(u+=e[c],l[c]!==void 0){const m=n[c];m===$v?u+=za(l[c]):m===Wv?u+=te.transform(l[c]):u+=l[c]}return u}}const u1=o=>typeof o=="number"?0:te.test(o)?te.getAnimatableNone(o):o;function c1(o){const e=jv(o);return tT(o)(e.map(u1))}const oi={test:a1,parse:jv,createTransformer:tT,getAnimatableNone:c1};function yc(o,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?o+(e-o)*6*n:n<1/2?e:n<2/3?o+(e-o)*(2/3-n)*6:o}function f1({hue:o,saturation:e,lightness:n,alpha:s}){o/=360,e/=100,n/=100;let l=0,u=0,c=0;if(!e)l=u=c=n;else{const m=n<.5?n*(1+e):n+e-n*e,y=2*n-m;l=yc(y,m,o+1/3),u=yc(y,m,o),c=yc(y,m,o-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function Ul(o,e){return n=>n>0?e:o}const Ht=(o,e,n)=>o+(e-o)*n,vc=(o,e,n)=>{const s=o*o,l=n*(e*e-s)+s;return l<0?0:Math.sqrt(l)},d1=[qc,Ni,Co],h1=o=>d1.find(e=>e.test(o));function Xg(o){const e=h1(o);if(!e)return!1;let n=e.parse(o);return e===Co&&(n=f1(n)),n}const Zg=(o,e)=>{const n=Xg(o),s=Xg(e);if(!n||!s)return Ul(o,e);const l={...n};return u=>(l.red=vc(n.red,s.red,u),l.green=vc(n.green,s.green,u),l.blue=vc(n.blue,s.blue,u),l.alpha=Ht(n.alpha,s.alpha,u),Ni.transform(l))},Gc=new Set(["none","hidden"]);function p1(o,e){return Gc.has(o)?n=>n<=0?o:e:n=>n>=1?e:o}function m1(o,e){return n=>Ht(o,e,n)}function _f(o){return typeof o=="number"?m1:typeof o=="string"?Af(o)?Ul:te.test(o)?Zg:v1:Array.isArray(o)?eT:typeof o=="object"?te.test(o)?Zg:g1:Ul}function eT(o,e){const n=[...o],s=n.length,l=o.map((u,c)=>_f(u)(u,e[c]));return u=>{for(let c=0;c<s;c++)n[c]=l[c](u);return n}}function g1(o,e){const n={...o,...e},s={};for(const l in n)o[l]!==void 0&&e[l]!==void 0&&(s[l]=_f(o[l])(o[l],e[l]));return l=>{for(const u in s)n[u]=s[u](l);return n}}function y1(o,e){const n=[],s={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],c=o.indexes[u][s[u]],m=o.values[c]??0;n[l]=m,s[u]++}return n}const v1=(o,e)=>{const n=oi.createTransformer(e),s=Qa(o),l=Qa(e);return s.indexes.var.length===l.indexes.var.length&&s.indexes.color.length===l.indexes.color.length&&s.indexes.number.length>=l.indexes.number.length?Gc.has(o)&&!l.values.length||Gc.has(e)&&!s.values.length?p1(o,e):ja(eT(y1(s,l),l.values),n):Ul(o,e)};function nT(o,e,n){return typeof o=="number"&&typeof e=="number"&&typeof n=="number"?Ht(o,e,n):_f(o)(o,e)}const T1=o=>{const e=({timestamp:n})=>o(n);return{start:(n=!0)=>qt.update(e,n),stop:()=>ii(e),now:()=>ce.isProcessing?ce.timestamp:xe.now()}},iT=(o,e,n=10)=>{let s="";const l=Math.max(Math.round(e/n),2);for(let u=0;u<l;u++)s+=Math.round(o(u/(l-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Il=2e4;function Rf(o){let e=0;const n=50;let s=o.next(e);for(;!s.done&&e<Il;)e+=n,s=o.next(e);return e>=Il?1/0:e}function S1(o,e=100,n){const s=n({...o,keyframes:[0,e]}),l=Math.min(Rf(s),Il);return{type:"keyframes",ease:u=>s.next(l*u).value/e,duration:un(l)}}const E1=5;function oT(o,e,n){const s=Math.max(e-E1,0);return Iv(n-o(s),e-s)}const Kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tc=.001;function b1({duration:o=Kt.duration,bounce:e=Kt.bounce,velocity:n=Kt.velocity,mass:s=Kt.mass}){let l,u,c=1-e;c=Rn(Kt.minDamping,Kt.maxDamping,c),o=Rn(Kt.minDuration,Kt.maxDuration,un(o)),c<1?(l=h=>{const v=h*c,T=v*o,E=v-n,C=Hc(h,c),A=Math.exp(-T);return Tc-E/C*A},u=h=>{const T=h*c*o,E=T*n+n,C=Math.pow(c,2)*Math.pow(h,2)*o,A=Math.exp(-T),D=Hc(Math.pow(h,2),c);return(-l(h)+Tc>0?-1:1)*((E-C)*A)/D}):(l=h=>{const v=Math.exp(-h*o),T=(h-n)*o+1;return-Tc+v*T},u=h=>{const v=Math.exp(-h*o),T=(n-h)*(o*o);return v*T});const m=5/o,y=A1(l,u,m);if(o=rn(o),isNaN(y))return{stiffness:Kt.stiffness,damping:Kt.damping,duration:o};{const h=Math.pow(y,2)*s;return{stiffness:h,damping:c*2*Math.sqrt(s*h),duration:o}}}const C1=12;function A1(o,e,n){let s=n;for(let l=1;l<C1;l++)s=s-o(s)/e(s);return s}function Hc(o,e){return o*Math.sqrt(1-e*e)}const M1=["duration","bounce"],x1=["stiffness","damping","mass"];function Jg(o,e){return e.some(n=>o[n]!==void 0)}function _1(o){let e={velocity:Kt.velocity,stiffness:Kt.stiffness,damping:Kt.damping,mass:Kt.mass,isResolvedFromDuration:!1,...o};if(!Jg(o,x1)&&Jg(o,M1))if(o.visualDuration){const n=o.visualDuration,s=2*Math.PI/(n*1.2),l=s*s,u=2*Rn(.05,1,1-(o.bounce||0))*Math.sqrt(l);e={...e,mass:Kt.mass,stiffness:l,damping:u}}else{const n=b1(o);e={...e,...n,mass:Kt.mass},e.isResolvedFromDuration=!0}return e}function zl(o=Kt.visualDuration,e=Kt.bounce){const n=typeof o!="object"?{visualDuration:o,keyframes:[0,1],bounce:e}:o;let{restSpeed:s,restDelta:l}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],m={done:!1,value:u},{stiffness:y,damping:h,mass:v,duration:T,velocity:E,isResolvedFromDuration:C}=_1({...n,velocity:-un(n.velocity||0)}),A=E||0,D=h/(2*Math.sqrt(y*v)),z=c-u,k=un(Math.sqrt(y/v)),F=Math.abs(z)<5;s||(s=F?Kt.restSpeed.granular:Kt.restSpeed.default),l||(l=F?Kt.restDelta.granular:Kt.restDelta.default);let N;if(D<1){const w=Hc(k,D);N=X=>{const Z=Math.exp(-D*k*X);return c-Z*((A+D*k*z)/w*Math.sin(w*X)+z*Math.cos(w*X))}}else if(D===1)N=w=>c-Math.exp(-k*w)*(z+(A+k*z)*w);else{const w=k*Math.sqrt(D*D-1);N=X=>{const Z=Math.exp(-D*k*X),H=Math.min(w*X,300);return c-Z*((A+D*k*z)*Math.sinh(H)+w*z*Math.cosh(H))/w}}const K={calculatedDuration:C&&T||null,next:w=>{const X=N(w);if(C)m.done=w>=T;else{let Z=w===0?A:0;D<1&&(Z=w===0?rn(A):oT(N,w,X));const H=Math.abs(Z)<=s,ot=Math.abs(c-X)<=l;m.done=H&&ot}return m.value=m.done?c:X,m},toString:()=>{const w=Math.min(Rf(K),Il),X=iT(Z=>K.next(w*Z).value,w,30);return w+"ms "+X},toTransition:()=>{}};return K}zl.applyToOptions=o=>{const e=S1(o,100,zl);return o.ease=e.ease,o.duration=rn(e.duration),o.type="keyframes",o};function Fc({keyframes:o,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:y,restDelta:h=.5,restSpeed:v}){const T=o[0],E={done:!1,value:T},C=H=>m!==void 0&&H<m||y!==void 0&&H>y,A=H=>m===void 0?y:y===void 0||Math.abs(m-H)<Math.abs(y-H)?m:y;let D=n*e;const z=T+D,k=c===void 0?z:c(z);k!==z&&(D=k-T);const F=H=>-D*Math.exp(-H/s),N=H=>k+F(H),K=H=>{const ot=F(H),lt=N(H);E.done=Math.abs(ot)<=h,E.value=E.done?k:lt};let w,X;const Z=H=>{C(E.value)&&(w=H,X=zl({keyframes:[E.value,A(E.value)],velocity:oT(N,H,E.value),damping:l,stiffness:u,restDelta:h,restSpeed:v}))};return Z(0),{calculatedDuration:null,next:H=>{let ot=!1;return!X&&w===void 0&&(ot=!0,K(H),Z(H)),w!==void 0&&H>=w?X.next(H-w):(!ot&&K(H),E)}}}function R1(o,e,n){const s=[],l=n||Dn.mix||nT,u=o.length-1;for(let c=0;c<u;c++){let m=l(o[c],o[c+1]);if(e){const y=Array.isArray(e)?e[c]||Xe:e;m=ja(y,m)}s.push(m)}return s}function D1(o,e,{clamp:n=!0,ease:s,mixer:l}={}){const u=o.length;if(vf(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=o[0]===o[1];o[0]>o[u-1]&&(o=[...o].reverse(),e=[...e].reverse());const m=R1(e,s,l),y=m.length,h=v=>{if(c&&v<o[0])return e[0];let T=0;if(y>1)for(;T<o.length-2&&!(v<o[T+1]);T++);const E=Ya(o[T],o[T+1],v);return m[T](E)};return n?v=>h(Rn(o[0],o[u-1],v)):h}function w1(o,e){const n=o[o.length-1];for(let s=1;s<=e;s++){const l=Ya(0,e,s);o.push(Ht(n,1,l))}}function N1(o){const e=[0];return w1(e,o.length-1),e}function L1(o,e){return o.map(n=>n*e)}function V1(o,e){return o.map(()=>e||Kv).splice(0,o.length-1)}function ka({duration:o=300,keyframes:e,times:n,ease:s="easeInOut"}){const l=Fx(s)?s.map(Yg):Yg(s),u={done:!1,value:e[0]},c=L1(n&&n.length===e.length?n:N1(e),o),m=D1(c,e,{ease:Array.isArray(l)?l:V1(e,l)});return{calculatedDuration:o,next:y=>(u.value=m(y),u.done=y>=o,u)}}const P1=o=>o!==null;function Df(o,{repeat:e,repeatType:n="loop"},s,l=1){const u=o.filter(P1),m=l<0||e&&n!=="loop"&&e%2===1?0:u.length-1;return!m||s===void 0?u[m]:s}const B1={decay:Fc,inertia:Fc,tween:ka,keyframes:ka,spring:zl};function aT(o){typeof o.type=="string"&&(o.type=B1[o.type])}class wf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const U1=o=>o/100;class Nf extends wf{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,l;const{motionValue:n}=this.options;n&&n.updatedAt!==xe.now()&&this.tick(xe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(l=(s=this.options).onStop)==null||l.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;aT(e);const{type:n=ka,repeat:s=0,repeatDelay:l=0,repeatType:u,velocity:c=0}=e;let{keyframes:m}=e;const y=n||ka;y!==ka&&typeof m[0]!="number"&&(this.mixKeyframes=ja(U1,nT(m[0],m[1])),m=[0,100]);const h=y({...e,keyframes:m});u==="mirror"&&(this.mirroredGenerator=y({...e,keyframes:[...m].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=Rf(h));const{calculatedDuration:v}=h;this.calculatedDuration=v,this.resolvedDuration=v+l,this.totalDuration=this.resolvedDuration*(s+1)-l,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:l,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:y}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:v,repeat:T,repeatType:E,repeatDelay:C,type:A,onUpdate:D,finalKeyframe:z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-l/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const k=this.currentTime-h*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?k<0:k>l;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let N=this.currentTime,K=s;if(T){const H=Math.min(this.currentTime,l)/m;let ot=Math.floor(H),lt=H%1;!lt&&H>=1&&(lt=1),lt===1&&ot--,ot=Math.min(ot,T+1),!!(ot%2)&&(E==="reverse"?(lt=1-lt,C&&(lt-=C/m)):E==="mirror"&&(K=c)),N=Rn(0,1,lt)*m}const w=F?{done:!1,value:v[0]}:K.next(N);u&&(w.value=u(w.value));let{done:X}=w;!F&&y!==null&&(X=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return Z&&A!==Fc&&(w.value=Df(v,this.options,z,this.speed)),D&&D(w.value),Z&&this.finish(),w}then(e,n){return this.finished.then(e,n)}get duration(){return un(this.calculatedDuration)}get time(){return un(this.currentTime)}set time(e){var n;e=rn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xe.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=un(this.currentTime))}play(){var l,u;if(this.isStopped)return;const{driver:e=T1,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(u=(l=this.options).onPlay)==null||u.call(l);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function I1(o){for(let e=1;e<o.length;e++)o[e]??(o[e]=o[e-1])}const Li=o=>o*180/Math.PI,Yc=o=>{const e=Li(Math.atan2(o[1],o[0]));return Kc(e)},z1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:o=>(Math.abs(o[0])+Math.abs(o[3]))/2,rotate:Yc,rotateZ:Yc,skewX:o=>Li(Math.atan(o[1])),skewY:o=>Li(Math.atan(o[2])),skew:o=>(Math.abs(o[1])+Math.abs(o[2]))/2},Kc=o=>(o=o%360,o<0&&(o+=360),o),$g=Yc,Wg=o=>Math.sqrt(o[0]*o[0]+o[1]*o[1]),jg=o=>Math.sqrt(o[4]*o[4]+o[5]*o[5]),k1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Wg,scaleY:jg,scale:o=>(Wg(o)+jg(o))/2,rotateX:o=>Kc(Li(Math.atan2(o[6],o[5]))),rotateY:o=>Kc(Li(Math.atan2(-o[2],o[0]))),rotateZ:$g,rotate:$g,skewX:o=>Li(Math.atan(o[4])),skewY:o=>Li(Math.atan(o[1])),skew:o=>(Math.abs(o[1])+Math.abs(o[4]))/2};function Qc(o){return o.includes("scale")?1:0}function Xc(o,e){if(!o||o==="none")return Qc(e);const n=o.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,l;if(n)s=k1,l=n;else{const m=o.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=z1,l=m}if(!l)return Qc(e);const u=s[e],c=l[1].split(",").map(q1);return typeof u=="function"?u(c):c[u]}const O1=(o,e)=>{const{transform:n="none"}=getComputedStyle(o);return Xc(n,e)};function q1(o){return parseFloat(o.trim())}const Vo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Po=new Set(Vo),ty=o=>o===Lo||o===pt,G1=new Set(["x","y","z"]),H1=Vo.filter(o=>!G1.has(o));function F1(o){const e=[];return H1.forEach(n=>{const s=o.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Pi={width:({x:o},{paddingLeft:e="0",paddingRight:n="0"})=>o.max-o.min-parseFloat(e)-parseFloat(n),height:({y:o},{paddingTop:e="0",paddingBottom:n="0"})=>o.max-o.min-parseFloat(e)-parseFloat(n),top:(o,{top:e})=>parseFloat(e),left:(o,{left:e})=>parseFloat(e),bottom:({y:o},{top:e})=>parseFloat(e)+(o.max-o.min),right:({x:o},{left:e})=>parseFloat(e)+(o.max-o.min),x:(o,{transform:e})=>Xc(e,"x"),y:(o,{transform:e})=>Xc(e,"y")};Pi.translateX=Pi.x;Pi.translateY=Pi.y;const Bi=new Set;let Zc=!1,Jc=!1,$c=!1;function sT(){if(Jc){const o=Array.from(Bi).filter(s=>s.needsMeasurement),e=new Set(o.map(s=>s.element)),n=new Map;e.forEach(s=>{const l=F1(s);l.length&&(n.set(s,l),s.render())}),o.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const l=n.get(s);l&&l.forEach(([u,c])=>{var m;(m=s.getValue(u))==null||m.set(c)})}),o.forEach(s=>s.measureEndState()),o.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Jc=!1,Zc=!1,Bi.forEach(o=>o.complete($c)),Bi.clear()}function lT(){Bi.forEach(o=>{o.readKeyframes(),o.needsMeasurement&&(Jc=!0)})}function Y1(){$c=!0,lT(),sT(),$c=!1}class Lf{constructor(e,n,s,l,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=l,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Bi.add(this),Zc||(Zc=!0,qt.read(lT),qt.resolveKeyframes(sT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:l}=this;if(e[0]===null){const u=l==null?void 0:l.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(s&&n){const m=s.readValue(n,c);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=c),l&&u===void 0&&l.set(e[0])}I1(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Bi.delete(this)}cancel(){this.state==="scheduled"&&(Bi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const K1=o=>o.startsWith("--");function Q1(o,e,n){K1(e)?o.style.setProperty(e,n):o.style[e]=n}const X1=Tf(()=>window.ScrollTimeline!==void 0),Z1={};function J1(o,e){const n=Tf(o);return()=>Z1[e]??n()}const rT=J1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ua=([o,e,n,s])=>`cubic-bezier(${o}, ${e}, ${n}, ${s})`,ey={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ua([0,.65,.55,1]),circOut:Ua([.55,0,1,.45]),backIn:Ua([.31,.01,.66,-.59]),backOut:Ua([.33,1.53,.69,.99])};function uT(o,e){if(o)return typeof o=="function"?rT()?iT(o,e):"ease-out":Qv(o)?Ua(o):Array.isArray(o)?o.map(n=>uT(n,e)||ey.easeOut):ey[o]}function $1(o,e,n,{delay:s=0,duration:l=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:y}={},h=void 0){const v={[e]:n};y&&(v.offset=y);const T=uT(m,l);Array.isArray(T)&&(v.easing=T);const E={delay:s,duration:l,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return h&&(E.pseudoElement=h),o.animate(v,E)}function cT(o){return typeof o=="function"&&"applyToOptions"in o}function W1({type:o,...e}){return cT(o)&&rT()?o.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class j1 extends wf{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:l,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:y}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,vf(typeof e.type!="string");const h=W1(e);this.animation=$1(n,s,l,h,u),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Df(l,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):Q1(n,s,v),this.animation.cancel()}y==null||y(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return un(Number(e))}get time(){return un(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=rn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&X1()?(this.animation.timeline=e,Xe):n(this)}}const fT={anticipate:Hv,backInOut:Gv,circInOut:Yv};function t_(o){return o in fT}function e_(o){typeof o.ease=="string"&&t_(o.ease)&&(o.ease=fT[o.ease])}const ny=10;class n_ extends j1{constructor(e){e_(e),aT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:l,element:u,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const m=new Nf({...c,autoplay:!1}),y=rn(this.finishedTime??this.time);n.setWithVelocity(m.sample(y-ny).value,m.sample(y).value,ny),m.stop()}}const iy=(o,e)=>e==="zIndex"?!1:!!(typeof o=="number"||Array.isArray(o)||typeof o=="string"&&(oi.test(o)||o==="0")&&!o.startsWith("url("));function i_(o){const e=o[0];if(o.length===1)return!0;for(let n=0;n<o.length;n++)if(o[n]!==e)return!0}function o_(o,e,n,s){const l=o[0];if(l===null)return!1;if(e==="display"||e==="visibility")return!0;const u=o[o.length-1],c=iy(l,e),m=iy(u,e);return!c||!m?!1:i_(o)||(n==="spring"||cT(n))&&s}function Wc(o){o.duration=0,o.type}const a_=new Set(["opacity","clipPath","filter","transform"]),s_=Tf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function l_(o){var v;const{motionValue:e,name:n,repeatDelay:s,repeatType:l,damping:u,type:c}=o;if(!(((v=e==null?void 0:e.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:h}=e.owner.getProps();return s_()&&n&&a_.has(n)&&(n!=="transform"||!h)&&!y&&!s&&l!=="mirror"&&u!==0&&c!=="inertia"}const r_=40;class u_ extends wf{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:y,motionValue:h,element:v,...T}){var A;super(),this.stop=()=>{var D,z;this._animation&&(this._animation.stop(),(D=this.stopTimeline)==null||D.call(this)),(z=this.keyframeResolver)==null||z.cancel()},this.createdAt=xe.now();const E={autoplay:e,delay:n,type:s,repeat:l,repeatDelay:u,repeatType:c,name:y,motionValue:h,element:v,...T},C=(v==null?void 0:v.KeyframeResolver)||Lf;this.keyframeResolver=new C(m,(D,z,k)=>this.onKeyframesResolved(D,z,E,!k),y,h,v),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(e,n,s,l){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:y,isHandoff:h,onUpdate:v}=s;this.resolvedAt=xe.now(),o_(e,u,c,m)||((Dn.instantAnimations||!y)&&(v==null||v(Df(e,s,n))),e[0]=e[e.length-1],Wc(s),s.repeat=0);const E={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>r_?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},C=!h&&l_(E)?new n_({...E,element:E.motionValue.owner.current}):new Nf(E);C.finished.then(()=>this.notifyFinished()).catch(Xe),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Y1()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const c_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function f_(o){const e=c_.exec(o);if(!e)return[,];const[,n,s,l]=e;return[`--${n??s}`,l]}function dT(o,e,n=1){const[s,l]=f_(o);if(!s)return;const u=window.getComputedStyle(e).getPropertyValue(s);if(u){const c=u.trim();return Pv(c)?parseFloat(c):c}return Af(l)?dT(l,e,n+1):l}function Vf(o,e){return(o==null?void 0:o[e])??(o==null?void 0:o.default)??o}const hT=new Set(["width","height","top","left","right","bottom",...Vo]),d_={test:o=>o==="auto",parse:o=>o},pT=o=>e=>e.test(o),mT=[Lo,pt,cn,ei,i1,n1,d_],oy=o=>mT.find(pT(o));function h_(o){return typeof o=="number"?o===0:o!==null?o==="none"||o==="0"||Uv(o):!0}const p_=new Set(["brightness","contrast","saturate","opacity"]);function m_(o){const[e,n]=o.slice(0,-1).split("(");if(e==="drop-shadow")return o;const[s]=n.match(Mf)||[];if(!s)return o;const l=n.replace(s,"");let u=p_.has(e)?1:0;return s!==n&&(u*=100),e+"("+u+l+")"}const g_=/\b([a-z-]*)\(.*?\)/gu,jc={...oi,getAnimatableNone:o=>{const e=o.match(g_);return e?e.map(m_).join(" "):o}},ay={...Lo,transform:Math.round},y_={rotate:ei,rotateX:ei,rotateY:ei,rotateZ:ei,scale:Cl,scaleX:Cl,scaleY:Cl,scaleZ:Cl,skew:ei,skewX:ei,skewY:ei,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:Ka,originX:Kg,originY:Kg,originZ:pt},Pf={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,radius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,backgroundPositionX:pt,backgroundPositionY:pt,...y_,zIndex:ay,fillOpacity:Ka,strokeOpacity:Ka,numOctaves:ay},v_={...Pf,color:te,backgroundColor:te,outlineColor:te,fill:te,stroke:te,borderColor:te,borderTopColor:te,borderRightColor:te,borderBottomColor:te,borderLeftColor:te,filter:jc,WebkitFilter:jc},gT=o=>v_[o];function yT(o,e){let n=gT(o);return n!==jc&&(n=oi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const T_=new Set(["auto","none","0"]);function S_(o,e,n){let s=0,l;for(;s<o.length&&!l;){const u=o[s];typeof u=="string"&&!T_.has(u)&&Qa(u).values.length&&(l=o[s]),s++}if(l&&n)for(const u of e)o[u]=yT(n,l)}class E_ extends Lf{constructor(e,n,s,l,u){super(e,n,s,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let h=e[y];if(typeof h=="string"&&(h=h.trim(),Af(h))){const v=dT(h,n.current);v!==void 0&&(e[y]=v),y===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!hT.has(s)||e.length!==2)return;const[l,u]=e,c=oy(l),m=oy(u);if(c!==m)if(ty(c)&&ty(m))for(let y=0;y<e.length;y++){const h=e[y];typeof h=="string"&&(e[y]=parseFloat(h))}else Pi[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let l=0;l<e.length;l++)(e[l]===null||h_(e[l]))&&s.push(l);s.length&&S_(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pi[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const l=n[n.length-1];l!==void 0&&e.getValue(s,l).jump(l,!1)}measureEndState(){var m;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const l=e.getValue(n);l&&l.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=Pi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(m=this.removedTransforms)!=null&&m.length&&this.removedTransforms.forEach(([y,h])=>{e.getValue(y).set(h)}),this.resolveNoneKeyframes()}}function b_(o,e,n){if(o instanceof EventTarget)return[o];if(typeof o=="string"){let s=document;const l=(n==null?void 0:n[o])??s.querySelectorAll(o);return l?Array.from(l):[]}return Array.from(o)}const vT=(o,e)=>e&&typeof o=="number"?e.transform(o):o;function TT(o){return Bv(o)&&"offsetHeight"in o}const sy=30,C_=o=>!isNaN(parseFloat(o));class A_{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var u;const l=xe.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=xe.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=C_(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Sf);const s=this.events[e].add(n);return e==="change"?()=>{s(),qt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>sy)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,sy);return Iv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Do(o,e){return new A_(o,e)}const{schedule:Bf}=Xv(queueMicrotask,!1),We={x:!1,y:!1};function ST(){return We.x||We.y}function M_(o){return o==="x"||o==="y"?We[o]?null:(We[o]=!0,()=>{We[o]=!1}):We.x||We.y?null:(We.x=We.y=!0,()=>{We.x=We.y=!1})}function ET(o,e){const n=b_(o),s=new AbortController,l={passive:!0,...e,signal:s.signal};return[n,l,()=>s.abort()]}function ly(o){return!(o.pointerType==="touch"||ST())}function x_(o,e,n={}){const[s,l,u]=ET(o,n),c=m=>{if(!ly(m))return;const{target:y}=m,h=e(y,m);if(typeof h!="function"||!y)return;const v=T=>{ly(T)&&(h(T),y.removeEventListener("pointerleave",v))};y.addEventListener("pointerleave",v,l)};return s.forEach(m=>{m.addEventListener("pointerenter",c,l)}),u}const bT=(o,e)=>e?o===e?!0:bT(o,e.parentElement):!1,Uf=o=>o.pointerType==="mouse"?typeof o.button!="number"||o.button<=0:o.isPrimary!==!1,__=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function R_(o){return __.has(o.tagName)||o.tabIndex!==-1}const wl=new WeakSet;function ry(o){return e=>{e.key==="Enter"&&o(e)}}function Sc(o,e){o.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const D_=(o,e)=>{const n=o.currentTarget;if(!n)return;const s=ry(()=>{if(wl.has(n))return;Sc(n,"down");const l=ry(()=>{Sc(n,"up")}),u=()=>Sc(n,"cancel");n.addEventListener("keyup",l,e),n.addEventListener("blur",u,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function uy(o){return Uf(o)&&!ST()}function w_(o,e,n={}){const[s,l,u]=ET(o,n),c=m=>{const y=m.currentTarget;if(!uy(m))return;wl.add(y);const h=e(y,m),v=(C,A)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",E),wl.has(y)&&wl.delete(y),uy(C)&&typeof h=="function"&&h(C,{success:A})},T=C=>{v(C,y===window||y===document||n.useGlobalTarget||bT(y,C.target))},E=C=>{v(C,!1)};window.addEventListener("pointerup",T,l),window.addEventListener("pointercancel",E,l)};return s.forEach(m=>{(n.useGlobalTarget?window:m).addEventListener("pointerdown",c,l),TT(m)&&(m.addEventListener("focus",h=>D_(h,l)),!R_(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function CT(o){return Bv(o)&&"ownerSVGElement"in o}function N_(o){return CT(o)&&o.tagName==="svg"}const me=o=>!!(o&&o.getVelocity),L_=[...mT,te,oi],V_=o=>L_.find(pT(o)),If=tt.createContext({transformPagePoint:o=>o,isStatic:!1,reducedMotion:"never"});class P_ extends tt.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,l=TT(s)&&s.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function B_({children:o,isPresent:e,anchorX:n,root:s}){const l=tt.useId(),u=tt.useRef(null),c=tt.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=tt.useContext(If);return tt.useInsertionEffect(()=>{const{width:y,height:h,top:v,left:T,right:E}=c.current;if(e||!u.current||!y||!h)return;const C=n==="left"?`left: ${T}`:`right: ${E}`;u.current.dataset.motionPopId=l;const A=document.createElement("style");m&&(A.nonce=m);const D=s??document.head;return D.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${h}px !important;
            ${C}px !important;
            top: ${v}px !important;
          }
        `),()=>{D.contains(A)&&D.removeChild(A)}},[e]),zt.jsx(P_,{isPresent:e,childRef:u,sizeRef:c,children:tt.cloneElement(o,{ref:u})})}const U_=({children:o,initial:e,isPresent:n,onExitComplete:s,custom:l,presenceAffectsLayout:u,mode:c,anchorX:m,root:y})=>{const h=pf(I_),v=tt.useId();let T=!0,E=tt.useMemo(()=>(T=!1,{id:v,initial:e,isPresent:n,custom:l,onExitComplete:C=>{h.set(C,!0);for(const A of h.values())if(!A)return;s&&s()},register:C=>(h.set(C,!1),()=>h.delete(C))}),[n,h,s]);return u&&T&&(E={...E}),tt.useMemo(()=>{h.forEach((C,A)=>h.set(A,!1))},[n]),tt.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),c==="popLayout"&&(o=zt.jsx(B_,{isPresent:n,anchorX:m,root:y,children:o})),zt.jsx(Ql.Provider,{value:E,children:o})};function I_(){return new Map}function AT(o=!0){const e=tt.useContext(Ql);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:l}=e,u=tt.useId();tt.useEffect(()=>{if(o)return l(u)},[o]);const c=tt.useCallback(()=>o&&s&&s(u),[u,s,o]);return!n&&s?[!1,c]:[!0]}const Al=o=>o.key||"";function cy(o){const e=[];return tt.Children.forEach(o,n=>{tt.isValidElement(n)&&e.push(n)}),e}const z_=({children:o,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:l=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",root:y})=>{const[h,v]=AT(c),T=tt.useMemo(()=>cy(o),[o]),E=c&&!h?[]:T.map(Al),C=tt.useRef(!0),A=tt.useRef(T),D=pf(()=>new Map),[z,k]=tt.useState(T),[F,N]=tt.useState(T);Vv(()=>{C.current=!1,A.current=T;for(let X=0;X<F.length;X++){const Z=Al(F[X]);E.includes(Z)?D.delete(Z):D.get(Z)!==!0&&D.set(Z,!1)}},[F,E.length,E.join("-")]);const K=[];if(T!==z){let X=[...T];for(let Z=0;Z<F.length;Z++){const H=F[Z],ot=Al(H);E.includes(ot)||(X.splice(Z,0,H),K.push(H))}return u==="wait"&&K.length&&(X=K),N(cy(X)),k(T),null}const{forceRender:w}=tt.useContext(hf);return zt.jsx(zt.Fragment,{children:F.map(X=>{const Z=Al(X),H=c&&!h?!1:T===F||E.includes(Z),ot=()=>{if(D.has(Z))D.set(Z,!0);else return;let lt=!0;D.forEach(yt=>{yt||(lt=!1)}),lt&&(w==null||w(),N(A.current),c&&(v==null||v()),s&&s())};return zt.jsx(U_,{isPresent:H,initial:!C.current||n?void 0:!1,custom:e,presenceAffectsLayout:l,mode:u,root:y,onExitComplete:H?void 0:ot,anchorX:m,children:X},Z)})})},MT=tt.createContext({strict:!1}),fy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wo={};for(const o in fy)wo[o]={isEnabled:e=>fy[o].some(n=>!!e[n])};function k_(o){for(const e in o)wo[e]={...wo[e],...o[e]}}const O_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kl(o){return o.startsWith("while")||o.startsWith("drag")&&o!=="draggable"||o.startsWith("layout")||o.startsWith("onTap")||o.startsWith("onPan")||o.startsWith("onLayout")||O_.has(o)}let xT=o=>!kl(o);function q_(o){typeof o=="function"&&(xT=e=>e.startsWith("on")?!kl(e):o(e))}try{q_(require("@emotion/is-prop-valid").default)}catch{}function G_(o,e,n){const s={};for(const l in o)l==="values"&&typeof o.values=="object"||(xT(l)||n===!0&&kl(l)||!e&&!kl(l)||o.draggable&&l.startsWith("onDrag"))&&(s[l]=o[l]);return s}const Xl=tt.createContext({});function Zl(o){return o!==null&&typeof o=="object"&&typeof o.start=="function"}function Xa(o){return typeof o=="string"||Array.isArray(o)}const zf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kf=["initial",...zf];function Jl(o){return Zl(o.animate)||kf.some(e=>Xa(o[e]))}function _T(o){return!!(Jl(o)||o.variants)}function H_(o,e){if(Jl(o)){const{initial:n,animate:s}=o;return{initial:n===!1||Xa(n)?n:void 0,animate:Xa(s)?s:void 0}}return o.inherit!==!1?e:{}}function F_(o){const{initial:e,animate:n}=H_(o,tt.useContext(Xl));return tt.useMemo(()=>({initial:e,animate:n}),[dy(e),dy(n)])}function dy(o){return Array.isArray(o)?o.join(" "):o}const Za={};function Y_(o){for(const e in o)Za[e]=o[e],Cf(e)&&(Za[e].isCSSVariable=!0)}function RT(o,{layout:e,layoutId:n}){return Po.has(o)||o.startsWith("origin")||(e||n!==void 0)&&(!!Za[o]||o==="opacity")}const K_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Q_=Vo.length;function X_(o,e,n){let s="",l=!0;for(let u=0;u<Q_;u++){const c=Vo[u],m=o[c];if(m===void 0)continue;let y=!0;if(typeof m=="number"?y=m===(c.startsWith("scale")?1:0):y=parseFloat(m)===0,!y||n){const h=vT(m,Pf[c]);if(!y){l=!1;const v=K_[c]||c;s+=`${v}(${h}) `}n&&(e[c]=h)}}return s=s.trim(),n?s=n(e,l?"":s):l&&(s="none"),s}function Of(o,e,n){const{style:s,vars:l,transformOrigin:u}=o;let c=!1,m=!1;for(const y in e){const h=e[y];if(Po.has(y)){c=!0;continue}else if(Cf(y)){l[y]=h;continue}else{const v=vT(h,Pf[y]);y.startsWith("origin")?(m=!0,u[y]=v):s[y]=v}}if(e.transform||(c||n?s.transform=X_(e,o.transform,n):s.transform&&(s.transform="none")),m){const{originX:y="50%",originY:h="50%",originZ:v=0}=u;s.transformOrigin=`${y} ${h} ${v}`}}const qf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function DT(o,e,n){for(const s in e)!me(e[s])&&!RT(s,n)&&(o[s]=e[s])}function Z_({transformTemplate:o},e){return tt.useMemo(()=>{const n=qf();return Of(n,e,o),Object.assign({},n.vars,n.style)},[e])}function J_(o,e){const n=o.style||{},s={};return DT(s,n,o),Object.assign(s,Z_(o,e)),s}function $_(o,e){const n={},s=J_(o,e);return o.drag&&o.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=o.drag===!0?"none":`pan-${o.drag==="x"?"y":"x"}`),o.tabIndex===void 0&&(o.onTap||o.onTapStart||o.whileTap)&&(n.tabIndex=0),n.style=s,n}const W_={offset:"stroke-dashoffset",array:"stroke-dasharray"},j_={offset:"strokeDashoffset",array:"strokeDasharray"};function tR(o,e,n=1,s=0,l=!0){o.pathLength=1;const u=l?W_:j_;o[u.offset]=pt.transform(-s);const c=pt.transform(e),m=pt.transform(n);o[u.array]=`${c} ${m}`}function wT(o,{attrX:e,attrY:n,attrScale:s,pathLength:l,pathSpacing:u=1,pathOffset:c=0,...m},y,h,v){if(Of(o,m,h),y){o.style.viewBox&&(o.attrs.viewBox=o.style.viewBox);return}o.attrs=o.style,o.style={};const{attrs:T,style:E}=o;T.transform&&(E.transform=T.transform,delete T.transform),(E.transform||T.transformOrigin)&&(E.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),E.transform&&(E.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete T.transformBox),e!==void 0&&(T.x=e),n!==void 0&&(T.y=n),s!==void 0&&(T.scale=s),l!==void 0&&tR(T,l,u,c,!1)}const NT=()=>({...qf(),attrs:{}}),LT=o=>typeof o=="string"&&o.toLowerCase()==="svg";function eR(o,e,n,s){const l=tt.useMemo(()=>{const u=NT();return wT(u,e,LT(s),o.transformTemplate,o.style),{...u.attrs,style:{...u.style}}},[e]);if(o.style){const u={};DT(u,o.style,o),l.style={...u,...l.style}}return l}const nR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gf(o){return typeof o!="string"||o.includes("-")?!1:!!(nR.indexOf(o)>-1||/[A-Z]/u.test(o))}function iR(o,e,n,{latestValues:s},l,u=!1){const m=(Gf(o)?eR:$_)(e,s,l,o),y=G_(e,typeof o=="string",u),h=o!==tt.Fragment?{...y,...m,ref:n}:{},{children:v}=e,T=tt.useMemo(()=>me(v)?v.get():v,[v]);return tt.createElement(o,{...h,children:T})}function hy(o){const e=[{},{}];return o==null||o.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Hf(o,e,n,s){if(typeof e=="function"){const[l,u]=hy(s);e=e(n!==void 0?n:o.custom,l,u)}if(typeof e=="string"&&(e=o.variants&&o.variants[e]),typeof e=="function"){const[l,u]=hy(s);e=e(n!==void 0?n:o.custom,l,u)}return e}function Nl(o){return me(o)?o.get():o}function oR({scrapeMotionValuesFromProps:o,createRenderState:e},n,s,l){return{latestValues:aR(n,s,l,o),renderState:e()}}function aR(o,e,n,s){const l={},u=s(o,{});for(const E in u)l[E]=Nl(u[E]);let{initial:c,animate:m}=o;const y=Jl(o),h=_T(o);e&&h&&!y&&o.inherit!==!1&&(c===void 0&&(c=e.initial),m===void 0&&(m=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const T=v?m:c;if(T&&typeof T!="boolean"&&!Zl(T)){const E=Array.isArray(T)?T:[T];for(let C=0;C<E.length;C++){const A=Hf(o,E[C]);if(A){const{transitionEnd:D,transition:z,...k}=A;for(const F in k){let N=k[F];if(Array.isArray(N)){const K=v?N.length-1:0;N=N[K]}N!==null&&(l[F]=N)}for(const F in D)l[F]=D[F]}}}return l}const VT=o=>(e,n)=>{const s=tt.useContext(Xl),l=tt.useContext(Ql),u=()=>oR(o,e,s,l);return n?u():pf(u)};function Ff(o,e,n){var u;const{style:s}=o,l={};for(const c in s)(me(s[c])||e.style&&me(e.style[c])||RT(c,o)||((u=n==null?void 0:n.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(l[c]=s[c]);return l}const sR=VT({scrapeMotionValuesFromProps:Ff,createRenderState:qf});function PT(o,e,n){const s=Ff(o,e,n);for(const l in o)if(me(o[l])||me(e[l])){const u=Vo.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;s[u]=o[l]}return s}const lR=VT({scrapeMotionValuesFromProps:PT,createRenderState:NT}),rR=Symbol.for("motionComponentSymbol");function Ao(o){return o&&typeof o=="object"&&Object.prototype.hasOwnProperty.call(o,"current")}function uR(o,e,n){return tt.useCallback(s=>{s&&o.onMount&&o.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Ao(n)&&(n.current=s))},[e])}const Yf=o=>o.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),cR="framerAppearId",BT="data-"+Yf(cR),UT=tt.createContext({});function fR(o,e,n,s,l){var D,z;const{visualElement:u}=tt.useContext(Xl),c=tt.useContext(MT),m=tt.useContext(Ql),y=tt.useContext(If).reducedMotion,h=tt.useRef(null);s=s||c.renderer,!h.current&&s&&(h.current=s(o,{visualState:e,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y}));const v=h.current,T=tt.useContext(UT);v&&!v.projection&&l&&(v.type==="html"||v.type==="svg")&&dR(h.current,n,l,T);const E=tt.useRef(!1);tt.useInsertionEffect(()=>{v&&E.current&&v.update(n,m)});const C=n[BT],A=tt.useRef(!!C&&!((D=window.MotionHandoffIsComplete)!=null&&D.call(window,C))&&((z=window.MotionHasOptimisedAnimation)==null?void 0:z.call(window,C)));return Vv(()=>{v&&(E.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),A.current&&v.animationState&&v.animationState.animateChanges())}),tt.useEffect(()=>{v&&(!A.current&&v.animationState&&v.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,C)}),A.current=!1),v.enteringChildren=void 0)}),v}function dR(o,e,n,s){const{layoutId:l,layout:u,drag:c,dragConstraints:m,layoutScroll:y,layoutRoot:h,layoutCrossfade:v}=e;o.projection=new n(o.latestValues,e["data-framer-portal-id"]?void 0:IT(o.parent)),o.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||m&&Ao(m),visualElement:o,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:y,layoutRoot:h})}function IT(o){if(o)return o.options.allowProjection!==!1?o.projection:IT(o.parent)}function Ec(o,{forwardMotionProps:e=!1}={},n,s){n&&k_(n);const l=Gf(o)?lR:sR;function u(m,y){let h;const v={...tt.useContext(If),...m,layoutId:hR(m)},{isStatic:T}=v,E=F_(m),C=l(m,T);if(!T&&mf){pR();const A=mR(v);h=A.MeasureLayout,E.visualElement=fR(o,C,v,s,A.ProjectionNode)}return zt.jsxs(Xl.Provider,{value:E,children:[h&&E.visualElement?zt.jsx(h,{visualElement:E.visualElement,...v}):null,iR(o,m,uR(C,E.visualElement,y),C,T,e)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=tt.forwardRef(u);return c[rR]=o,c}function hR({layoutId:o}){const e=tt.useContext(hf).id;return e&&o!==void 0?e+"-"+o:o}function pR(o,e){tt.useContext(MT).strict}function mR(o){const{drag:e,layout:n}=wo;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(o)||n!=null&&n.isEnabled(o)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function gR(o,e){if(typeof Proxy>"u")return Ec;const n=new Map,s=(u,c)=>Ec(u,c,o,e),l=(u,c)=>s(u,c);return new Proxy(l,{get:(u,c)=>c==="create"?s:(n.has(c)||n.set(c,Ec(c,void 0,o,e)),n.get(c))})}function zT({top:o,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:o,max:s}}}function yR({x:o,y:e}){return{top:e.min,right:o.max,bottom:e.max,left:o.min}}function vR(o,e){if(!e)return o;const n=e({x:o.left,y:o.top}),s=e({x:o.right,y:o.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function bc(o){return o===void 0||o===1}function tf({scale:o,scaleX:e,scaleY:n}){return!bc(o)||!bc(e)||!bc(n)}function Di(o){return tf(o)||kT(o)||o.z||o.rotate||o.rotateX||o.rotateY||o.skewX||o.skewY}function kT(o){return py(o.x)||py(o.y)}function py(o){return o&&o!=="0%"}function Ol(o,e,n){const s=o-n,l=e*s;return n+l}function my(o,e,n,s,l){return l!==void 0&&(o=Ol(o,l,s)),Ol(o,n,s)+e}function ef(o,e=0,n=1,s,l){o.min=my(o.min,e,n,s,l),o.max=my(o.max,e,n,s,l)}function OT(o,{x:e,y:n}){ef(o.x,e.translate,e.scale,e.originPoint),ef(o.y,n.translate,n.scale,n.originPoint)}const gy=.999999999999,yy=1.0000000000001;function TR(o,e,n,s=!1){const l=n.length;if(!l)return;e.x=e.y=1;let u,c;for(let m=0;m<l;m++){u=n[m],c=u.projectionDelta;const{visualElement:y}=u.options;y&&y.props.style&&y.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&xo(o,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,OT(o,c)),s&&Di(u.latestValues)&&xo(o,u.latestValues))}e.x<yy&&e.x>gy&&(e.x=1),e.y<yy&&e.y>gy&&(e.y=1)}function Mo(o,e){o.min=o.min+e,o.max=o.max+e}function vy(o,e,n,s,l=.5){const u=Ht(o.min,o.max,l);ef(o,e,n,u,s)}function xo(o,e){vy(o.x,e.x,e.scaleX,e.scale,e.originX),vy(o.y,e.y,e.scaleY,e.scale,e.originY)}function qT(o,e){return zT(vR(o.getBoundingClientRect(),e))}function SR(o,e,n){const s=qT(o,n),{scroll:l}=e;return l&&(Mo(s.x,l.offset.x),Mo(s.y,l.offset.y)),s}const Ty=()=>({translate:0,scale:1,origin:0,originPoint:0}),_o=()=>({x:Ty(),y:Ty()}),Sy=()=>({min:0,max:0}),Jt=()=>({x:Sy(),y:Sy()}),nf={current:null},GT={current:!1};function ER(){if(GT.current=!0,!!mf)if(window.matchMedia){const o=window.matchMedia("(prefers-reduced-motion)"),e=()=>nf.current=o.matches;o.addEventListener("change",e),e()}else nf.current=!1}const bR=new WeakMap;function CR(o,e,n){for(const s in e){const l=e[s],u=n[s];if(me(l))o.addValue(s,l);else if(me(u))o.addValue(s,Do(l,{owner:o}));else if(u!==l)if(o.hasValue(s)){const c=o.getValue(s);c.liveStyle===!0?c.jump(l):c.hasAnimated||c.set(l)}else{const c=o.getStaticValue(s);o.addValue(s,Do(c!==void 0?c:l,{owner:o}))}}for(const s in n)e[s]===void 0&&o.removeValue(s);return e}const Ey=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class AR{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:l,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Lf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=xe.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,qt.render(this.render,!1,!0))};const{latestValues:y,renderState:h}=c;this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=l,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Jl(n),this.isVariantNode=_T(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in T){const C=T[E];y[E]!==void 0&&me(C)&&C.set(y[E])}}mount(e){var n;this.current=e,bR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,l)=>this.bindToMotionValue(l,s)),GT.current||ER(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nf.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ii(this.notifyUpdate),ii(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Po.has(e);s&&this.onBindTransform&&this.onBindTransform();const l=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&qt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wo){const n=wo[e];if(!n)continue;const{isEnabled:s,Feature:l}=n;if(!this.features[e]&&l&&s(this.props)&&(this.features[e]=new l(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Ey.length;s++){const l=Ey[s];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,c=e[u];c&&(this.propEventSubscriptions[l]=this.on(l,c))}this.prevMotionValues=CR(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Do(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Pv(s)||Uv(s))?s=parseFloat(s):!V_(s)&&oi.test(n)&&(s=yT(e,n)),this.setBaseTarget(e,me(s)?s.get():s)),me(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var u;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=Hf(this.props,n,(u=this.presenceContext)==null?void 0:u.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!me(l)?l:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Sf),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Bf.render(this.render)}}class HT extends AR{constructor(){super(...arguments),this.KeyframeResolver=E_}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;me(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function FT(o,{style:e,vars:n},s,l){const u=o.style;let c;for(c in e)u[c]=e[c];l==null||l.applyProjectionStyles(u,s);for(c in n)u.setProperty(c,n[c])}function MR(o){return window.getComputedStyle(o)}class xR extends HT{constructor(){super(...arguments),this.type="html",this.renderInstance=FT}readValueFromInstance(e,n){var s;if(Po.has(n))return(s=this.projection)!=null&&s.isProjecting?Qc(n):O1(e,n);{const l=MR(e),u=(Cf(n)?l.getPropertyValue(n):l[n])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(e,{transformPagePoint:n}){return qT(e,n)}build(e,n,s){Of(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Ff(e,n,s)}}const YT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _R(o,e,n,s){FT(o,e,void 0,s);for(const l in e.attrs)o.setAttribute(YT.has(l)?l:Yf(l),e.attrs[l])}class RR extends HT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Jt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Po.has(n)){const s=gT(n);return s&&s.default||0}return n=YT.has(n)?n:Yf(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return PT(e,n,s)}build(e,n,s){wT(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,l){_R(e,n,s,l)}mount(e){this.isSVGTag=LT(e.tagName),super.mount(e)}}const DR=(o,e)=>Gf(o)?new RR(e):new xR(e,{allowProjection:o!==tt.Fragment});function Ro(o,e,n){const s=o.getProps();return Hf(s,e,n!==void 0?n:s.custom,o)}const of=o=>Array.isArray(o);function wR(o,e,n){o.hasValue(e)?o.getValue(e).set(n):o.addValue(e,Do(n))}function NR(o){return of(o)?o[o.length-1]||0:o}function LR(o,e){const n=Ro(o,e);let{transitionEnd:s={},transition:l={},...u}=n||{};u={...u,...s};for(const c in u){const m=NR(u[c]);wR(o,c,m)}}function VR(o){return!!(me(o)&&o.add)}function af(o,e){const n=o.getValue("willChange");if(VR(n))return n.add(e);if(!n&&Dn.WillChange){const s=new Dn.WillChange("auto");o.addValue("willChange",s),s.add(e)}}function KT(o){return o.props[BT]}const PR=o=>o!==null;function BR(o,{repeat:e,repeatType:n="loop"},s){const l=o.filter(PR),u=e&&n!=="loop"&&e%2===1?0:l.length-1;return l[u]}const UR={type:"spring",stiffness:500,damping:25,restSpeed:10},IR=o=>({type:"spring",stiffness:550,damping:o===0?2*Math.sqrt(550):30,restSpeed:10}),zR={type:"keyframes",duration:.8},kR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OR=(o,{keyframes:e})=>e.length>2?zR:Po.has(o)?o.startsWith("scale")?IR(e[1]):UR:kR;function qR({when:o,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:l,repeat:u,repeatType:c,repeatDelay:m,from:y,elapsed:h,...v}){return!!Object.keys(v).length}const Kf=(o,e,n,s={},l,u)=>c=>{const m=Vf(s,o)||{},y=m.delay||s.delay||0;let{elapsed:h=0}=s;h=h-rn(y);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...m,delay:-h,onUpdate:E=>{e.set(E),m.onUpdate&&m.onUpdate(E)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:o,motionValue:e,element:u?void 0:l};qR(m)||Object.assign(v,OR(o,v)),v.duration&&(v.duration=rn(v.duration)),v.repeatDelay&&(v.repeatDelay=rn(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let T=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Wc(v),v.delay===0&&(T=!0)),(Dn.instantAnimations||Dn.skipAnimations)&&(T=!0,Wc(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,T&&!u&&e.get()!==void 0){const E=BR(v.keyframes,m);if(E!==void 0){qt.update(()=>{v.onUpdate(E),v.onComplete()});return}}return m.isSync?new Nf(v):new u_(v)};function GR({protectedKeys:o,needsAnimating:e},n){const s=o.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function QT(o,e,{delay:n=0,transitionOverride:s,type:l}={}){let{transition:u=o.getDefaultTransition(),transitionEnd:c,...m}=e;s&&(u=s);const y=[],h=l&&o.animationState&&o.animationState.getState()[l];for(const v in m){const T=o.getValue(v,o.latestValues[v]??null),E=m[v];if(E===void 0||h&&GR(h,v))continue;const C={delay:n,...Vf(u||{},v)},A=T.get();if(A!==void 0&&!T.isAnimating&&!Array.isArray(E)&&E===A&&!C.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const k=KT(o);if(k){const F=window.MotionHandoffAnimation(k,v,qt);F!==null&&(C.startTime=F,D=!0)}}af(o,v),T.start(Kf(v,T,E,o.shouldReduceMotion&&hT.has(v)?{type:!1}:C,o,D));const z=T.animation;z&&y.push(z)}return c&&Promise.all(y).then(()=>{qt.update(()=>{c&&LR(o,c)})}),y}function XT(o,e,n,s=0,l=1){const u=Array.from(o).sort((h,v)=>h.sortNodePosition(v)).indexOf(e),c=o.size,m=(c-1)*s;return typeof n=="function"?n(u,c):l===1?u*s:m-u*s}function sf(o,e,n={}){var y;const s=Ro(o,e,n.type==="exit"?(y=o.presenceContext)==null?void 0:y.custom:void 0);let{transition:l=o.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(l=n.transitionOverride);const u=s?()=>Promise.all(QT(o,s,n)):()=>Promise.resolve(),c=o.variantChildren&&o.variantChildren.size?(h=0)=>{const{delayChildren:v=0,staggerChildren:T,staggerDirection:E}=l;return HR(o,e,h,v,T,E,n)}:()=>Promise.resolve(),{when:m}=l;if(m){const[h,v]=m==="beforeChildren"?[u,c]:[c,u];return h().then(()=>v())}else return Promise.all([u(),c(n.delay)])}function HR(o,e,n=0,s=0,l=0,u=1,c){const m=[];for(const y of o.variantChildren)y.notify("AnimationStart",e),m.push(sf(y,e,{...c,delay:n+(typeof s=="function"?0:s)+XT(o.variantChildren,y,s,l,u)}).then(()=>y.notify("AnimationComplete",e)));return Promise.all(m)}function FR(o,e,n={}){o.notify("AnimationStart",e);let s;if(Array.isArray(e)){const l=e.map(u=>sf(o,u,n));s=Promise.all(l)}else if(typeof e=="string")s=sf(o,e,n);else{const l=typeof e=="function"?Ro(o,e,n.custom):e;s=Promise.all(QT(o,l,n))}return s.then(()=>{o.notify("AnimationComplete",e)})}function ZT(o,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==o.length)return!1;for(let s=0;s<n;s++)if(e[s]!==o[s])return!1;return!0}const YR=kf.length;function JT(o){if(!o)return;if(!o.isControllingVariants){const n=o.parent?JT(o.parent)||{}:{};return o.props.initial!==void 0&&(n.initial=o.props.initial),n}const e={};for(let n=0;n<YR;n++){const s=kf[n],l=o.props[s];(Xa(l)||l===!1)&&(e[s]=l)}return e}const KR=[...zf].reverse(),QR=zf.length;function XR(o){return e=>Promise.all(e.map(({animation:n,options:s})=>FR(o,n,s)))}function ZR(o){let e=XR(o),n=by(),s=!0;const l=y=>(h,v)=>{var E;const T=Ro(o,v,y==="exit"?(E=o.presenceContext)==null?void 0:E.custom:void 0);if(T){const{transition:C,transitionEnd:A,...D}=T;h={...h,...D,...A}}return h};function u(y){e=y(o)}function c(y){const{props:h}=o,v=JT(o.parent)||{},T=[],E=new Set;let C={},A=1/0;for(let z=0;z<QR;z++){const k=KR[z],F=n[k],N=h[k]!==void 0?h[k]:v[k],K=Xa(N),w=k===y?F.isActive:null;w===!1&&(A=z);let X=N===v[k]&&N!==h[k]&&K;if(X&&s&&o.manuallyAnimateOnMount&&(X=!1),F.protectedKeys={...C},!F.isActive&&w===null||!N&&!F.prevProp||Zl(N)||typeof N=="boolean")continue;const Z=JR(F.prevProp,N);let H=Z||k===y&&F.isActive&&!X&&K||z>A&&K,ot=!1;const lt=Array.isArray(N)?N:[N];let yt=lt.reduce(l(k),{});w===!1&&(yt={});const{prevResolvedValues:Tt={}}=F,dt={...Tt,...yt},J=q=>{H=!0,E.has(q)&&(ot=!0,E.delete(q)),F.needsAnimating[q]=!0;const $=o.getValue(q);$&&($.liveStyle=!1)};for(const q in dt){const $=yt[q],rt=Tt[q];if(C.hasOwnProperty(q))continue;let x=!1;of($)&&of(rt)?x=!ZT($,rt):x=$!==rt,x?$!=null?J(q):E.add(q):$!==void 0&&E.has(q)?J(q):F.protectedKeys[q]=!0}F.prevProp=N,F.prevResolvedValues=yt,F.isActive&&(C={...C,...yt}),s&&o.blockInitialAnimation&&(H=!1);const j=X&&Z;H&&(!j||ot)&&T.push(...lt.map(q=>{const $={type:k};if(typeof q=="string"&&s&&!j&&o.manuallyAnimateOnMount&&o.parent){const{parent:rt}=o,x=Ro(rt,q);if(rt.enteringChildren&&x){const{delayChildren:Q}=x.transition||{};$.delay=XT(rt.enteringChildren,o,Q)}}return{animation:q,options:$}}))}if(E.size){const z={};if(typeof h.initial!="boolean"){const k=Ro(o,Array.isArray(h.initial)?h.initial[0]:h.initial);k&&k.transition&&(z.transition=k.transition)}E.forEach(k=>{const F=o.getBaseTarget(k),N=o.getValue(k);N&&(N.liveStyle=!0),z[k]=F??null}),T.push({animation:z})}let D=!!T.length;return s&&(h.initial===!1||h.initial===h.animate)&&!o.manuallyAnimateOnMount&&(D=!1),s=!1,D?e(T):Promise.resolve()}function m(y,h){var T;if(n[y].isActive===h)return Promise.resolve();(T=o.variantChildren)==null||T.forEach(E=>{var C;return(C=E.animationState)==null?void 0:C.setActive(y,h)}),n[y].isActive=h;const v=c(y);for(const E in n)n[E].protectedKeys={};return v}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>n,reset:()=>{n=by(),s=!0}}}function JR(o,e){return typeof e=="string"?e!==o:Array.isArray(e)?!ZT(e,o):!1}function _i(o=!1){return{isActive:o,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function by(){return{animate:_i(!0),whileInView:_i(),whileHover:_i(),whileTap:_i(),whileDrag:_i(),whileFocus:_i(),exit:_i()}}class ri{constructor(e){this.isMounted=!1,this.node=e}update(){}}class $R extends ri{constructor(e){super(e),e.animationState||(e.animationState=ZR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Zl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let WR=0;class jR extends ri{constructor(){super(...arguments),this.id=WR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const l=this.node.animationState.setActive("exit",!e);n&&!e&&l.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const tD={animation:{Feature:$R},exit:{Feature:jR}};function Ja(o,e,n,s={passive:!0}){return o.addEventListener(e,n,s),()=>o.removeEventListener(e,n)}function ns(o){return{point:{x:o.pageX,y:o.pageY}}}const eD=o=>e=>Uf(e)&&o(e,ns(e));function Oa(o,e,n,s){return Ja(o,e,eD(n),s)}const $T=1e-4,nD=1-$T,iD=1+$T,WT=.01,oD=0-WT,aD=0+WT;function ve(o){return o.max-o.min}function sD(o,e,n){return Math.abs(o-e)<=n}function Cy(o,e,n,s=.5){o.origin=s,o.originPoint=Ht(e.min,e.max,o.origin),o.scale=ve(n)/ve(e),o.translate=Ht(n.min,n.max,o.origin)-o.originPoint,(o.scale>=nD&&o.scale<=iD||isNaN(o.scale))&&(o.scale=1),(o.translate>=oD&&o.translate<=aD||isNaN(o.translate))&&(o.translate=0)}function qa(o,e,n,s){Cy(o.x,e.x,n.x,s?s.originX:void 0),Cy(o.y,e.y,n.y,s?s.originY:void 0)}function Ay(o,e,n){o.min=n.min+e.min,o.max=o.min+ve(e)}function lD(o,e,n){Ay(o.x,e.x,n.x),Ay(o.y,e.y,n.y)}function My(o,e,n){o.min=e.min-n.min,o.max=o.min+ve(e)}function Ga(o,e,n){My(o.x,e.x,n.x),My(o.y,e.y,n.y)}function Qe(o){return[o("x"),o("y")]}const jT=({current:o})=>o?o.ownerDocument.defaultView:null,xy=(o,e)=>Math.abs(o-e);function rD(o,e){const n=xy(o.x,e.x),s=xy(o.y,e.y);return Math.sqrt(n**2+s**2)}class t0{constructor(e,n,{transformPagePoint:s,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Ac(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,A=rD(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!A)return;const{point:D}=E,{timestamp:z}=ce;this.history.push({...D,timestamp:z});const{onStart:k,onMove:F}=this.handlers;C||(k&&k(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,E)},this.handlePointerMove=(E,C)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Cc(C,this.transformPagePoint),qt.update(this.updatePoint,!0)},this.handlePointerUp=(E,C)=>{this.end();const{onEnd:A,onSessionEnd:D,resumeAnimation:z}=this.handlers;if(this.dragSnapToOrigin&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Ac(E.type==="pointercancel"?this.lastMoveEventInfo:Cc(C,this.transformPagePoint),this.history);this.startEvent&&A&&A(E,k),D&&D(E,k)},!Uf(e))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=l||window;const m=ns(e),y=Cc(m,this.transformPagePoint),{point:h}=y,{timestamp:v}=ce;this.history=[{...h,timestamp:v}];const{onSessionStart:T}=n;T&&T(e,Ac(y,this.history)),this.removeListeners=ja(Oa(this.contextWindow,"pointermove",this.handlePointerMove),Oa(this.contextWindow,"pointerup",this.handlePointerUp),Oa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ii(this.updatePoint)}}function Cc(o,e){return e?{point:e(o.point)}:o}function _y(o,e){return{x:o.x-e.x,y:o.y-e.y}}function Ac({point:o},e){return{point:o,delta:_y(o,e0(e)),offset:_y(o,uD(e)),velocity:cD(e,.1)}}function uD(o){return o[0]}function e0(o){return o[o.length-1]}function cD(o,e){if(o.length<2)return{x:0,y:0};let n=o.length-1,s=null;const l=e0(o);for(;n>=0&&(s=o[n],!(l.timestamp-s.timestamp>rn(e)));)n--;if(!s)return{x:0,y:0};const u=un(l.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(l.x-s.x)/u,y:(l.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function fD(o,{min:e,max:n},s){return e!==void 0&&o<e?o=s?Ht(e,o,s.min):Math.max(o,e):n!==void 0&&o>n&&(o=s?Ht(n,o,s.max):Math.min(o,n)),o}function Ry(o,e,n){return{min:e!==void 0?o.min+e:void 0,max:n!==void 0?o.max+n-(o.max-o.min):void 0}}function dD(o,{top:e,left:n,bottom:s,right:l}){return{x:Ry(o.x,n,l),y:Ry(o.y,e,s)}}function Dy(o,e){let n=e.min-o.min,s=e.max-o.max;return e.max-e.min<o.max-o.min&&([n,s]=[s,n]),{min:n,max:s}}function hD(o,e){return{x:Dy(o.x,e.x),y:Dy(o.y,e.y)}}function pD(o,e){let n=.5;const s=ve(o),l=ve(e);return l>s?n=Ya(e.min,e.max-s,o.min):s>l&&(n=Ya(o.min,o.max-l,e.min)),Rn(0,1,n)}function mD(o,e){const n={};return e.min!==void 0&&(n.min=e.min-o.min),e.max!==void 0&&(n.max=e.max-o.min),n}const lf=.35;function gD(o=lf){return o===!1?o=0:o===!0&&(o=lf),{x:wy(o,"left","right"),y:wy(o,"top","bottom")}}function wy(o,e,n){return{min:Ny(o,e),max:Ny(o,n)}}function Ny(o,e){return typeof o=="number"?o:o[e]||0}const yD=new WeakMap;class vD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=T=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ns(T).point)},c=(T,E)=>{const{drag:C,dragPropagation:A,onDragStart:D}=this.getProps();if(C&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=M_(C),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qe(k=>{let F=this.getAxisMotionValue(k).get()||0;if(cn.test(F)){const{projection:N}=this.visualElement;if(N&&N.layout){const K=N.layout.layoutBox[k];K&&(F=ve(K)*(parseFloat(F)/100))}}this.originPoint[k]=F}),D&&qt.postRender(()=>D(T,E)),af(this.visualElement,"transform");const{animationState:z}=this.visualElement;z&&z.setActive("whileDrag",!0)},m=(T,E)=>{this.latestPointerEvent=T,this.latestPanInfo=E;const{dragPropagation:C,dragDirectionLock:A,onDirectionLock:D,onDrag:z}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:k}=E;if(A&&this.currentDirection===null){this.currentDirection=TD(k),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",E.point,k),this.updateAxis("y",E.point,k),this.visualElement.render(),z&&z(T,E)},y=(T,E)=>{this.latestPointerEvent=T,this.latestPanInfo=E,this.stop(T,E),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Qe(T=>{var E;return this.getAnimationState(T)==="paused"&&((E=this.getAxisMotionValue(T).animation)==null?void 0:E.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new t0(e,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:y,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:jT(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,l=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!s)return;const{velocity:c}=l;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&qt.postRender(()=>m(s,l))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:l}=this.getProps();if(!s||!Ml(e,l,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=fD(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,l=this.constraints;e&&Ao(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=dD(s.layoutBox,e):this.constraints=!1,this.elastic=gD(n),l!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Qe(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=mD(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ao(e))return!1;const s=e.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=SR(s,l.root,this.visualElement.getTransformPagePoint());let c=hD(l.layout.layoutBox,u);if(n){const m=n(yR(c));this.hasMutatedConstraints=!!m,m&&(c=zT(m))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:l,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),y=this.constraints||{},h=Qe(v=>{if(!Ml(v,n,this.currentDirection))return;let T=y&&y[v]||{};c&&(T={min:0,max:0});const E=l?200:1e6,C=l?40:1e7,A={type:"inertia",velocity:s?e[v]:0,bounceStiffness:E,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...T};return this.startAxisValueAnimation(v,A)});return Promise.all(h).then(m)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return af(this.visualElement,e),s.start(Kf(e,s,0,n,this.visualElement,!1))}stopAnimation(){Qe(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qe(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),l=s[n];return l||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Qe(n=>{const{drag:s}=this.getProps();if(!Ml(n,s,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(n);if(l&&l.layout){const{min:c,max:m}=l.layout.layoutBox[n];u.set(e[n]-Ht(c,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ao(n)||!s||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Qe(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const y=m.get();l[c]=pD({min:y,max:y},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Qe(c=>{if(!Ml(c,e,null))return;const m=this.getAxisMotionValue(c),{min:y,max:h}=this.constraints[c];m.set(Ht(y,h,l[c]))})}addListeners(){if(!this.visualElement.current)return;yD.set(this.visualElement,this);const e=this.visualElement.current,n=Oa(e,"pointerdown",y=>{const{drag:h,dragListener:v=!0}=this.getProps();h&&v&&this.start(y)}),s=()=>{const{dragConstraints:y}=this.getProps();Ao(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",s);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),qt.read(s);const c=Ja(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",({delta:y,hasLayoutChanged:h})=>{this.isDragging&&h&&(Qe(v=>{const T=this.getAxisMotionValue(v);T&&(this.originPoint[v]+=y[v].translate,T.set(T.get()+y[v].translate))}),this.visualElement.render())});return()=>{c(),n(),u(),m&&m()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:c=lf,dragMomentum:m=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:l,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function Ml(o,e,n){return(e===!0||e===o)&&(n===null||n===o)}function TD(o,e=10){let n=null;return Math.abs(o.y)>e?n="y":Math.abs(o.x)>e&&(n="x"),n}class SD extends ri{constructor(e){super(e),this.removeGroupControls=Xe,this.removeListeners=Xe,this.controls=new vD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xe}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ly=o=>(e,n)=>{o&&qt.postRender(()=>o(e,n))};class ED extends ri{constructor(){super(...arguments),this.removePointerDownListener=Xe}onPointerDown(e){this.session=new t0(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:l}=this.node.getProps();return{onSessionStart:Ly(e),onStart:Ly(n),onMove:s,onEnd:(u,c)=>{delete this.session,l&&qt.postRender(()=>l(u,c))}}}mount(){this.removePointerDownListener=Oa(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ll={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Vy(o,e){return e.max===e.min?0:o/(e.max-e.min)*100}const Va={correct:(o,e)=>{if(!e.target)return o;if(typeof o=="string")if(pt.test(o))o=parseFloat(o);else return o;const n=Vy(o,e.target.x),s=Vy(o,e.target.y);return`${n}% ${s}%`}},bD={correct:(o,{treeScale:e,projectionDelta:n})=>{const s=o,l=oi.parse(o);if(l.length>5)return s;const u=oi.createTransformer(o),c=typeof l[0]!="number"?1:0,m=n.x.scale*e.x,y=n.y.scale*e.y;l[0+c]/=m,l[1+c]/=y;const h=Ht(m,y,.5);return typeof l[2+c]=="number"&&(l[2+c]/=h),typeof l[3+c]=="number"&&(l[3+c]/=h),u(l)}};let Mc=!1;class CD extends tt.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:l}=this.props,{projection:u}=e;Y_(AD),u&&(n.group&&n.group.add(u),s&&s.register&&l&&s.register(u),Mc&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Ll.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:l,isPresent:u}=this.props,{projection:c}=s;return c&&(c.isPresent=u,Mc=!0,l||e.layoutDependency!==n||n===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||qt.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Bf.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:l}=e;Mc=!0,l&&(l.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(l),s&&s.deregister&&s.deregister(l))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function n0(o){const[e,n]=AT(),s=tt.useContext(hf);return zt.jsx(CD,{...o,layoutGroup:s,switchLayoutGroup:tt.useContext(UT),isPresent:e,safeToRemove:n})}const AD={borderRadius:{...Va,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Va,borderTopRightRadius:Va,borderBottomLeftRadius:Va,borderBottomRightRadius:Va,boxShadow:bD};function MD(o,e,n){const s=me(o)?o:Do(o);return s.start(Kf("",s,e,n)),s.animation}const xD=(o,e)=>o.depth-e.depth;class _D{constructor(){this.children=[],this.isDirty=!1}add(e){gf(this.children,e),this.isDirty=!0}remove(e){yf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(xD),this.isDirty=!1,this.children.forEach(e)}}function RD(o,e){const n=xe.now(),s=({timestamp:l})=>{const u=l-n;u>=e&&(ii(s),o(u-e))};return qt.setup(s,!0),()=>ii(s)}const i0=["TopLeft","TopRight","BottomLeft","BottomRight"],DD=i0.length,Py=o=>typeof o=="string"?parseFloat(o):o,By=o=>typeof o=="number"||pt.test(o);function wD(o,e,n,s,l,u){l?(o.opacity=Ht(0,n.opacity??1,ND(s)),o.opacityExit=Ht(e.opacity??1,0,LD(s))):u&&(o.opacity=Ht(e.opacity??1,n.opacity??1,s));for(let c=0;c<DD;c++){const m=`border${i0[c]}Radius`;let y=Uy(e,m),h=Uy(n,m);if(y===void 0&&h===void 0)continue;y||(y=0),h||(h=0),y===0||h===0||By(y)===By(h)?(o[m]=Math.max(Ht(Py(y),Py(h),s),0),(cn.test(h)||cn.test(y))&&(o[m]+="%")):o[m]=h}(e.rotate||n.rotate)&&(o.rotate=Ht(e.rotate||0,n.rotate||0,s))}function Uy(o,e){return o[e]!==void 0?o[e]:o.borderRadius}const ND=o0(0,.5,Fv),LD=o0(.5,.95,Xe);function o0(o,e,n){return s=>s<o?0:s>e?1:n(Ya(o,e,s))}function Iy(o,e){o.min=e.min,o.max=e.max}function Ke(o,e){Iy(o.x,e.x),Iy(o.y,e.y)}function zy(o,e){o.translate=e.translate,o.scale=e.scale,o.originPoint=e.originPoint,o.origin=e.origin}function ky(o,e,n,s,l){return o-=e,o=Ol(o,1/n,s),l!==void 0&&(o=Ol(o,1/l,s)),o}function VD(o,e=0,n=1,s=.5,l,u=o,c=o){if(cn.test(e)&&(e=parseFloat(e),e=Ht(c.min,c.max,e/100)-c.min),typeof e!="number")return;let m=Ht(u.min,u.max,s);o===u&&(m-=e),o.min=ky(o.min,e,n,m,l),o.max=ky(o.max,e,n,m,l)}function Oy(o,e,[n,s,l],u,c){VD(o,e[n],e[s],e[l],e.scale,u,c)}const PD=["x","scaleX","originX"],BD=["y","scaleY","originY"];function qy(o,e,n,s){Oy(o.x,e,PD,n?n.x:void 0,s?s.x:void 0),Oy(o.y,e,BD,n?n.y:void 0,s?s.y:void 0)}function Gy(o){return o.translate===0&&o.scale===1}function a0(o){return Gy(o.x)&&Gy(o.y)}function Hy(o,e){return o.min===e.min&&o.max===e.max}function UD(o,e){return Hy(o.x,e.x)&&Hy(o.y,e.y)}function Fy(o,e){return Math.round(o.min)===Math.round(e.min)&&Math.round(o.max)===Math.round(e.max)}function s0(o,e){return Fy(o.x,e.x)&&Fy(o.y,e.y)}function Yy(o){return ve(o.x)/ve(o.y)}function Ky(o,e){return o.translate===e.translate&&o.scale===e.scale&&o.originPoint===e.originPoint}class ID{constructor(){this.members=[]}add(e){gf(this.members,e),e.scheduleRender()}remove(e){if(yf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(l=>e===l);if(n===0)return!1;let s;for(let l=n;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:l}=e.options;l===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zD(o,e,n){let s="";const l=o.x.translate/e.x,u=o.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((l||u||c)&&(s=`translate3d(${l}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:v,rotateX:T,rotateY:E,skewX:C,skewY:A}=n;h&&(s=`perspective(${h}px) ${s}`),v&&(s+=`rotate(${v}deg) `),T&&(s+=`rotateX(${T}deg) `),E&&(s+=`rotateY(${E}deg) `),C&&(s+=`skewX(${C}deg) `),A&&(s+=`skewY(${A}deg) `)}const m=o.x.scale*e.x,y=o.y.scale*e.y;return(m!==1||y!==1)&&(s+=`scale(${m}, ${y})`),s||"none"}const xc=["","X","Y","Z"],kD=1e3;let OD=0;function _c(o,e,n,s){const{latestValues:l}=e;l[o]&&(n[o]=l[o],e.setStaticValue(o,0),s&&(s[o]=0))}function l0(o){if(o.hasCheckedOptimisedAppear=!0,o.root===o)return;const{visualElement:e}=o.options;if(!e)return;const n=KT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:l,layoutId:u}=o.options;window.MotionCancelOptimisedAnimation(n,"transform",qt,!(l||u))}const{parent:s}=o;s&&!s.hasCheckedOptimisedAppear&&l0(s)}function r0({attachResizeListener:o,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:l}){return class{constructor(c={},m=e==null?void 0:e()){this.id=OD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(HD),this.nodes.forEach(QD),this.nodes.forEach(XD),this.nodes.forEach(FD)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new _D)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Sf),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const y=this.eventHandlers.get(c);y&&y.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=CT(c)&&!N_(c),this.instance=c;const{layoutId:m,layout:y,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||m)&&(this.isLayoutDirty=!0),o){let v,T=0;const E=()=>this.root.updateBlockedByResize=!1;qt.read(()=>{T=window.innerWidth}),o(c,()=>{const C=window.innerWidth;C!==T&&(T=C,this.root.updateBlockedByResize=!0,v&&v(),v=RD(E,250),Ll.hasAnimatedSinceResize&&(Ll.hasAnimatedSinceResize=!1,this.nodes.forEach(Zy)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&h&&(m||y)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:T,hasRelativeLayoutChanged:E,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||h.getDefaultTransition()||jD,{onLayoutAnimationStart:D,onLayoutAnimationComplete:z}=h.getProps(),k=!this.targetLayout||!s0(this.targetLayout,C),F=!T&&E;if(this.options.layoutRoot||this.resumeFrom||F||T&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...Vf(A,"layout"),onPlay:D,onComplete:z};(h.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(v,F)}else T||Zy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ii(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZD),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&l0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const T=this.path[v];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:m,layout:y}=this.options;if(m===void 0&&!y)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Qy);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Xy);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(KD),this.nodes.forEach(qD),this.nodes.forEach(GD)):this.nodes.forEach(Xy),this.clearAllSnapshots();const m=xe.now();ce.delta=Rn(0,1e3/60,m-ce.timestamp),ce.timestamp=m,ce.isProcessing=!0,mc.update.process(ce),mc.preRender.process(ce),mc.render.process(ce),ce.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(YD),this.sharedNodes.forEach(JD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ve(this.snapshot.measuredBox.x)&&!ve(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const y=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:y,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!l)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!a0(this.projectionDelta),y=this.getTransformTemplate(),h=y?y(this.latestValues,""):void 0,v=h!==this.prevTransformTemplateValue;c&&this.instance&&(m||Di(this.latestValues)||v)&&(l(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let y=this.removeElementScroll(m);return c&&(y=this.removeTransform(y)),tw(y),{animationId:this.root.animationId,measuredBox:m,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:c}=this.options;if(!c)return Jt();const m=c.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(ew))){const{scroll:v}=this.root;v&&(Mo(m.x,v.offset.x),Mo(m.y,v.offset.y))}return m}removeElementScroll(c){var y;const m=Jt();if(Ke(m,c),(y=this.scroll)!=null&&y.wasRoot)return m;for(let h=0;h<this.path.length;h++){const v=this.path[h],{scroll:T,options:E}=v;v!==this.root&&T&&E.layoutScroll&&(T.wasRoot&&Ke(m,c),Mo(m.x,T.offset.x),Mo(m.y,T.offset.y))}return m}applyTransform(c,m=!1){const y=Jt();Ke(y,c);for(let h=0;h<this.path.length;h++){const v=this.path[h];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&xo(y,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Di(v.latestValues)&&xo(y,v.latestValues)}return Di(this.latestValues)&&xo(y,this.latestValues),y}removeTransform(c){const m=Jt();Ke(m,c);for(let y=0;y<this.path.length;y++){const h=this.path[y];if(!h.instance||!Di(h.latestValues))continue;tf(h.latestValues)&&h.updateSnapshot();const v=Jt(),T=h.measurePageBox();Ke(v,T),qy(m,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,v)}return Di(this.latestValues)&&qy(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ce.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var E;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==m;if(!(c||y&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:T}=this.options;if(!(!this.layout||!(v||T))){if(this.resolvedRelativeTargetAt=ce.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jt(),this.relativeTargetOrigin=Jt(),Ga(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),Ke(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Jt(),this.targetWithTransforms=Jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ke(this.target,this.layout.layoutBox),OT(this.target,this.targetDelta)):Ke(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jt(),this.relativeTargetOrigin=Jt(),Ga(this.relativeTargetOrigin,this.target,C.target),Ke(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||tf(this.parent.latestValues)||kT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const c=this.getLead(),m=!!this.resumingFrom||this!==c;let y=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(y=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===ce.timestamp&&(y=!1),y)return;const{layout:h,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||v))return;Ke(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,E=this.treeScale.y;TR(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Jt());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zy(this.prevProjectionDelta.x,this.projectionDelta.x),zy(this.prevProjectionDelta.y,this.projectionDelta.y)),qa(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==E||!Ky(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ky(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var m;if((m=this.options.visualElement)==null||m.scheduleRender(),c){const y=this.getStack();y&&y.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_o(),this.projectionDelta=_o(),this.projectionDeltaWithTransform=_o()}setAnimationOrigin(c,m=!1){const y=this.snapshot,h=y?y.latestValues:{},v={...this.latestValues},T=_o();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const E=Jt(),C=y?y.source:void 0,A=this.layout?this.layout.source:void 0,D=C!==A,z=this.getStack(),k=!z||z.members.length<=1,F=!!(D&&!k&&this.options.crossfade===!0&&!this.path.some(WD));this.animationProgress=0;let N;this.mixTargetDelta=K=>{const w=K/1e3;Jy(T.x,c.x,w),Jy(T.y,c.y,w),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ga(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$D(this.relativeTarget,this.relativeTargetOrigin,E,w),N&&UD(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Jt()),Ke(N,this.relativeTarget)),D&&(this.animationValues=v,wD(v,h,this.latestValues,w,F,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var m,y,h;this.notifyListeners("animationStart"),(m=this.currentAnimation)==null||m.stop(),(h=(y=this.resumingFrom)==null?void 0:y.currentAnimation)==null||h.stop(),this.pendingAnimation&&(ii(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qt.update(()=>{Ll.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Do(0)),this.currentAnimation=MD(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:y,layout:h,latestValues:v}=c;if(!(!m||!y||!h)){if(this!==c&&this.layout&&h&&u0(this.options.animationType,this.layout.layoutBox,h.layoutBox)){y=this.target||Jt();const T=ve(this.layout.layoutBox.x);y.x.min=c.target.x.min,y.x.max=y.x.min+T;const E=ve(this.layout.layoutBox.y);y.y.min=c.target.y.min,y.y.max=y.y.min+E}Ke(m,y),xo(m,v),qa(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new ID),this.sharedNodes.get(c).add(m);const h=m.options.initialPromotionConfig;m.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var m;const{layoutId:c}=this.options;return c?((m=this.getStack())==null?void 0:m.lead)||this:this}getPrevLead(){var m;const{layoutId:c}=this.options;return c?(m=this.getStack())==null?void 0:m.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:y}={}){const h=this.getStack();h&&h.promote(this,y),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:y}=c;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(m=!0),!m)return;const h={};y.z&&_c("z",c,h,this.animationValues);for(let v=0;v<xc.length;v++)_c(`rotate${xc[v]}`,c,h,this.animationValues),_c(`skew${xc[v]}`,c,h,this.animationValues);c.render();for(const v in h)c.setStaticValue(v,h[v]),this.animationValues&&(this.animationValues[v]=h[v]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Nl(m==null?void 0:m.pointerEvents)||"",c.transform=y?y(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Nl(m==null?void 0:m.pointerEvents)||""),this.hasProjected&&!Di(this.latestValues)&&(c.transform=y?y({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=h.animationValues||h.latestValues;this.applyTransformsToTarget();let T=zD(this.projectionDeltaWithTransform,this.treeScale,v);y&&(T=y(v,T)),c.transform=T;const{x:E,y:C}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${C.origin*100}% 0`,h.animationValues?c.opacity=h===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=h===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const A in Za){if(v[A]===void 0)continue;const{correct:D,applyTo:z,isCSSVariable:k}=Za[A],F=T==="none"?v[A]:D(v[A],h);if(z){const N=z.length;for(let K=0;K<N;K++)c[z[K]]=F}else k?this.options.visualElement.renderState.vars[A]=F:c[A]=F}this.options.layoutId&&(c.pointerEvents=h===this?Nl(m==null?void 0:m.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var m;return(m=c.currentAnimation)==null?void 0:m.stop()}),this.root.nodes.forEach(Qy),this.root.sharedNodes.clear()}}}function qD(o){o.updateLayout()}function GD(o){var n;const e=((n=o.resumeFrom)==null?void 0:n.snapshot)||o.snapshot;if(o.isLead()&&o.layout&&e&&o.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:l}=o.layout,{animationType:u}=o.options,c=e.source!==o.layout.source;u==="size"?Qe(T=>{const E=c?e.measuredBox[T]:e.layoutBox[T],C=ve(E);E.min=s[T].min,E.max=E.min+C}):u0(u,e.layoutBox,s)&&Qe(T=>{const E=c?e.measuredBox[T]:e.layoutBox[T],C=ve(s[T]);E.max=E.min+C,o.relativeTarget&&!o.currentAnimation&&(o.isProjectionDirty=!0,o.relativeTarget[T].max=o.relativeTarget[T].min+C)});const m=_o();qa(m,s,e.layoutBox);const y=_o();c?qa(y,o.applyTransform(l,!0),e.measuredBox):qa(y,s,e.layoutBox);const h=!a0(m);let v=!1;if(!o.resumeFrom){const T=o.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:E,layout:C}=T;if(E&&C){const A=Jt();Ga(A,e.layoutBox,E.layoutBox);const D=Jt();Ga(D,s,C.layoutBox),s0(A,D)||(v=!0),T.options.layoutRoot&&(o.relativeTarget=D,o.relativeTargetOrigin=A,o.relativeParent=T)}}}o.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:y,layoutDelta:m,hasLayoutChanged:h,hasRelativeLayoutChanged:v})}else if(o.isLead()){const{onExitComplete:s}=o.options;s&&s()}o.options.transition=void 0}function HD(o){o.parent&&(o.isProjecting()||(o.isProjectionDirty=o.parent.isProjectionDirty),o.isSharedProjectionDirty||(o.isSharedProjectionDirty=!!(o.isProjectionDirty||o.parent.isProjectionDirty||o.parent.isSharedProjectionDirty)),o.isTransformDirty||(o.isTransformDirty=o.parent.isTransformDirty))}function FD(o){o.isProjectionDirty=o.isSharedProjectionDirty=o.isTransformDirty=!1}function YD(o){o.clearSnapshot()}function Qy(o){o.clearMeasurements()}function Xy(o){o.isLayoutDirty=!1}function KD(o){const{visualElement:e}=o.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),o.resetTransform()}function Zy(o){o.finishAnimation(),o.targetDelta=o.relativeTarget=o.target=void 0,o.isProjectionDirty=!0}function QD(o){o.resolveTargetDelta()}function XD(o){o.calcProjection()}function ZD(o){o.resetSkewAndRotation()}function JD(o){o.removeLeadSnapshot()}function Jy(o,e,n){o.translate=Ht(e.translate,0,n),o.scale=Ht(e.scale,1,n),o.origin=e.origin,o.originPoint=e.originPoint}function $y(o,e,n,s){o.min=Ht(e.min,n.min,s),o.max=Ht(e.max,n.max,s)}function $D(o,e,n,s){$y(o.x,e.x,n.x,s),$y(o.y,e.y,n.y,s)}function WD(o){return o.animationValues&&o.animationValues.opacityExit!==void 0}const jD={duration:.45,ease:[.4,0,.1,1]},Wy=o=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(o),jy=Wy("applewebkit/")&&!Wy("chrome/")?Math.round:Xe;function tv(o){o.min=jy(o.min),o.max=jy(o.max)}function tw(o){tv(o.x),tv(o.y)}function u0(o,e,n){return o==="position"||o==="preserve-aspect"&&!sD(Yy(e),Yy(n),.2)}function ew(o){var e;return o!==o.root&&((e=o.scroll)==null?void 0:e.wasRoot)}const nw=r0({attachResizeListener:(o,e)=>Ja(o,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rc={current:void 0},c0=r0({measureScroll:o=>({x:o.scrollLeft,y:o.scrollTop}),defaultParent:()=>{if(!Rc.current){const o=new nw({});o.mount(window),o.setOptions({layoutScroll:!0}),Rc.current=o}return Rc.current},resetTransform:(o,e)=>{o.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:o=>window.getComputedStyle(o).position==="fixed"}),iw={pan:{Feature:ED},drag:{Feature:SD,ProjectionNode:c0,MeasureLayout:n0}};function ev(o,e,n){const{props:s}=o;o.animationState&&s.whileHover&&o.animationState.setActive("whileHover",n==="Start");const l="onHover"+n,u=s[l];u&&qt.postRender(()=>u(e,ns(e)))}class ow extends ri{mount(){const{current:e}=this.node;e&&(this.unmount=x_(e,(n,s)=>(ev(this.node,s,"Start"),l=>ev(this.node,l,"End"))))}unmount(){}}class aw extends ri{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ja(Ja(this.node.current,"focus",()=>this.onFocus()),Ja(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nv(o,e,n){const{props:s}=o;if(o.current instanceof HTMLButtonElement&&o.current.disabled)return;o.animationState&&s.whileTap&&o.animationState.setActive("whileTap",n==="Start");const l="onTap"+(n==="End"?"":n),u=s[l];u&&qt.postRender(()=>u(e,ns(e)))}class sw extends ri{mount(){const{current:e}=this.node;e&&(this.unmount=w_(e,(n,s)=>(nv(this.node,s,"Start"),(l,{success:u})=>nv(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rf=new WeakMap,Dc=new WeakMap,lw=o=>{const e=rf.get(o.target);e&&e(o)},rw=o=>{o.forEach(lw)};function uw({root:o,...e}){const n=o||document;Dc.has(n)||Dc.set(n,{});const s=Dc.get(n),l=JSON.stringify(e);return s[l]||(s[l]=new IntersectionObserver(rw,{root:o,...e})),s[l]}function cw(o,e,n){const s=uw(e);return rf.set(o,n),s.observe(o),()=>{rf.delete(o),s.unobserve(o)}}const fw={some:0,all:1};class dw extends ri{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:l="some",once:u}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof l=="number"?l:fw[l]},m=y=>{const{isIntersecting:h}=y;if(this.isInView===h||(this.isInView=h,u&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:v,onViewportLeave:T}=this.node.getProps(),E=h?v:T;E&&E(y)};return cw(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hw(e,n))&&this.startObserver()}unmount(){}}function hw({viewport:o={}},{viewport:e={}}={}){return n=>o[n]!==e[n]}const pw={inView:{Feature:dw},tap:{Feature:sw},focus:{Feature:aw},hover:{Feature:ow}},mw={layout:{ProjectionNode:c0,MeasureLayout:n0}},gw={...tD,...pw,...iw,...mw},yw=gR(gw,DR);function iv(o,e){return e.split(".").reduce((n,s)=>n?n[s]:void 0,o)}function ov(o,e,n){const s=e.split("."),l=s.pop();let u=o;for(const c of s)(typeof u[c]!="object"||u[c]===null)&&(u[c]={}),u=u[c];u[l]=n}function uf(o,e=[],n=.7){if(!e||e.length===0)return{ask:!0,reason:"missing"};const s=[...e].sort((l,u)=>u.confidence-l.confidence)[0];return s.confidence>=n?{value:s.value,ask:!1}:{value:s.value,ask:!0,reason:"low_confidence"}}function Mt(o){var s;if(typeof window<"u"&&window.t)try{const l=window.t(o);if(l&&l!==o)return console.log(`Chatbot: Using global translation for "${o}":`,l),l}catch{console.log("Chatbot: Global translation failed, using fallback")}const e={de:{"ai.chatbot.title":"Zufahrtsschutz-Assistent","ai.chatbot.welcome":"Willkommen zum Zufahrtsschutz-Assistenten. Ich stelle nur Fragen, die noch fehlen oder unsicher sind. Bereit?","ai.chatbot.assetQuestion":"Welche Schutzgter mchten Sie absichern? Hinweis: Grundlage fr Schutzziel & Schutzklasse (DIN SPEC 91414-2 / ISO 22343-2)","ai.chatbot.inputPlaceholder":"Antwort eingeben...","ai.chatbot.sendButton":"Senden","ai.chatbot.stakeholderQuestion":"Wer sind die relevanten Stakeholder (Behrden, Veranstalter, Betreiber)?","ai.chatbot.restRiskQuestion":"Welches akzeptable Restrisiko gilt?","ai.chatbot.operationalQuestion":"Betriebsanforderungen (mehrfach whlbar)","ai.chatbot.threatQuestion":"Welche Art fahrzeuggesttzter Bedrohung ist zu erwarten?","ai.chatbot.vehicleTypesQuestion":"Welche Fahrzeugtypen sind relevant?","ai.chatbot.accessCorridorsQuestion":"Wo knnten Fahrzeuge eindringen? (Karte markieren oder beschreiben)","ai.chatbot.speedQuestion":"Maximale Zufahrtsgeschwindigkeit (km/h)","ai.chatbot.angleQuestion":"Wahrscheinlicher Anprallwinkel ()","ai.chatbot.groundQuestion":"Untergrund/Fundamente am Standort","ai.chatbot.riskMatrixQuestion":"Risikobewertung: Eintrittswahrscheinlichkeit & Schadensausma","ai.chatbot.completionMessage":"Danke! Alle erforderlichen Angaben sind vorhanden. Mchten Sie den normkonformen PDF-Plan erzeugen?","ai.chatbot.infoPrefix":"Hinweis: ","ai.chatbot.assetQuestionInfo":"Grundlage fr Schutzziel & Schutzklasse (DIN SPEC 91414-2 / ISO 22343-2)","ai.chatbot.restRiskQuestionInfo":"Steuert Schutzklasse/Sicherungsgrad (DIN SPEC 91414-2)","ai.chatbot.speedQuestionInfo":"Pflichtparameter fr FSB-Performance (ISO 22343-2/-1)","ai.chatbot.angleQuestionInfo":"Pflichtparameter fr FSB-Performance (ISO 22343-2/-1)","ai.chatbot.riskMatrixQuestionInfo":"Erzeugt Sicherungsgrad & Schutzklasse (DIN SPEC 91414-2)","ai.chatbot.assetOptions":"Menschenmenge,Gebude,KRITIS-Prozess,Veranstaltungsflche","ai.chatbot.assetPlaceholder":"z. B. Menschenmenge, Bhne","ai.chatbot.stakeholderOptions":"Behrden,Veranstalter,Betreiber","ai.chatbot.restRiskOptions":"niedrig,mittel,hoch","ai.chatbot.operationalOptions":"Feuerwehrzufahrt,Fluchtwege,Verkehrssicherheit,Betriebssicherheit","ai.chatbot.threatOptions":"intentional,unbeabsichtigt,beides","ai.chatbot.vehicleOptions":"PKW,Transporter,LKW,Bus","ai.chatbot.groundOptions":"Asphalt,Beton,Pflaster,Erde,Unbekannt","ai.chatbot.riskMatrixOptions":"EW:niedrig|SA:gering,EW:niedrig|SA:mittel,EW:mittel|SA:mittel,EW:hoch|SA:schwer","ai.chatbot.accessCorridorsPlaceholder":"Polyline/Polygon auswhlen oder kurz beschreiben"},en:{"ai.chatbot.title":"Access Protection Assistant","ai.chatbot.welcome":"Welcome to the Access Protection Assistant. I only ask questions that are still missing or uncertain. Ready?","ai.chatbot.assetQuestion":"Which protective assets would you like to secure? Note: Basis for Protection Goal & Protection Class (DIN SPEC 91414-2 / ISO 22343-2)","ai.chatbot.inputPlaceholder":"Enter answer...","ai.chatbot.sendButton":"Send","ai.chatbot.stakeholderQuestion":"Who are the relevant stakeholders (authorities, organizers, operators)?","ai.chatbot.restRiskQuestion":"What acceptable residual risk applies?","ai.chatbot.operationalQuestion":"Operational requirements (multiple choice)","ai.chatbot.threatQuestion":"What type of vehicle-based threat is expected?","ai.chatbot.vehicleTypesQuestion":"Which vehicle types are relevant?","ai.chatbot.accessCorridorsQuestion":"Where could vehicles penetrate? (Mark on map or describe)","ai.chatbot.speedQuestion":"Maximum access speed (km/h)","ai.chatbot.angleQuestion":"Probable impact angle ()","ai.chatbot.groundQuestion":"Ground/foundations at the site","ai.chatbot.riskMatrixQuestion":"Risk assessment: probability of occurrence & extent of damage","ai.chatbot.completionMessage":"Thank you! All required information is available. Would you like to generate the standards-compliant PDF plan?","ai.chatbot.infoPrefix":"Note: ","ai.chatbot.assetQuestionInfo":"Basis for Protection Goal & Protection Class (DIN SPEC 91414-2 / ISO 22343-2)","ai.chatbot.restRiskQuestionInfo":"Controls Protection Class/Security Level (DIN SPEC 91414-2)","ai.chatbot.speedQuestionInfo":"Required parameter for FSB performance (ISO 22343-2/-1)","ai.chatbot.angleQuestionInfo":"Required parameter for FSB performance (ISO 22343-2/-1)","ai.chatbot.riskMatrixQuestionInfo":"Generates Security Level & Protection Class (DIN SPEC 91414-2)","ai.chatbot.assetOptions":"Crowd,Building,CRITIS Process,Event Area","ai.chatbot.assetPlaceholder":"e.g. crowd, stage","ai.chatbot.stakeholderOptions":"Authorities,Organizers,Operators","ai.chatbot.restRiskOptions":"low,medium,high","ai.chatbot.operationalOptions":"Fire Brigade Access,Escape Routes,Traffic Safety,Operational Safety","ai.chatbot.threatOptions":"intentional,unintentional,both","ai.chatbot.vehicleOptions":"Car,Van,Truck,Bus","ai.chatbot.groundOptions":"Asphalt,Concrete,Pavement,Earth,Unknown","ai.chatbot.riskMatrixOptions":"PO:low|SD:medium,PO:medium|SD:medium,PO:high|SD:severe","ai.chatbot.accessCorridorsPlaceholder":"Select polyline/polygon or describe briefly"}};let n="de";if(typeof window<"u")if(window.currentLanguage)n=window.currentLanguage,console.log("Chatbot: Language from window.currentLanguage:",n);else if(window.translations&&window.translations.currentLanguage)n=window.translations.currentLanguage,console.log("Chatbot: Language from window.translations.currentLanguage:",n);else{const l=document.querySelector('.lang-btn[data-lang="de"].active'),u=document.querySelector('.lang-btn[data-lang="en"].active');if(console.log("Chatbot: DOM flag detection - German flag:",l,"English flag:",u),u)n="en",console.log("Chatbot: Language from DOM flag detection (EN):",n);else if(l)n="de",console.log("Chatbot: Language from DOM flag detection (DE):",n);else{console.log("Chatbot: Language detection failed, using default (DE)");const c=document.querySelectorAll(".lang-btn");console.log("Chatbot: All lang-btn elements found:",c),c.forEach((m,y)=>{console.log(`Chatbot: lang-btn ${y}:`,{classList:m.classList.toString(),dataLang:m.dataset.lang,isActive:m.classList.contains("active")})})}}return console.log(`Chatbot translation for key "${o}": language="${n}", result="${((s=e[n])==null?void 0:s[o])||o}"`),e[n]&&e[n][o]?e[n][o]:o}function vw(){return[{id:"schutzgueter",label:Mt("ai.chatbot.assetQuestion"),field:"schutzgter",type:"chips",options:Mt("ai.chatbot.assetOptions").split(","),placeholder:Mt("ai.chatbot.assetPlaceholder"),info:Mt("ai.chatbot.assetQuestionInfo")},{id:"stakeholder",label:Mt("ai.chatbot.stakeholderQuestion"),field:"stakeholder",type:"chips",options:Mt("ai.chatbot.stakeholderOptions").split(",")},{id:"restrisiko",label:Mt("ai.chatbot.restRiskQuestion"),field:"restrisiko.klasse",type:"select",options:Mt("ai.chatbot.restRiskOptions").split(","),info:Mt("ai.chatbot.restRiskQuestionInfo")},{id:"betrieb",label:Mt("ai.chatbot.operationalQuestion"),field:"betrieb",type:"multiselect",options:Mt("ai.chatbot.operationalOptions").split(",")},{id:"bedrohung",label:Mt("ai.chatbot.threatQuestion"),field:"risiko.bedrohung.art",type:"select",options:Mt("ai.chatbot.threatOptions").split(",")},{id:"fahrzeugtypen",label:Mt("ai.chatbot.vehicleTypesQuestion"),field:"risiko.bedrohung.fahrzeugtypen",type:"chips",options:Mt("ai.chatbot.vehicleOptions").split(",")},{id:"anfahrkorridore",label:Mt("ai.chatbot.accessCorridorsQuestion"),field:"risiko.site.anfahrkorridore",type:"geo",placeholder:Mt("ai.chatbot.accessCorridorsPlaceholder")},{id:"geschwindigkeit",label:Mt("ai.chatbot.speedQuestion"),field:"risiko.dynamik.v_kmh",type:"number",info:Mt("ai.chatbot.speedQuestionInfo"),resolver:o=>uf("risiko.dynamik.v_kmh",o,.7)},{id:"winkel",label:Mt("ai.chatbot.angleQuestion"),field:"risiko.dynamik.winkel_grad",type:"number",info:Mt("ai.chatbot.angleQuestionInfo"),resolver:o=>uf("risiko.dynamik.winkel_grad",o,.7)},{id:"untergrund",label:Mt("ai.chatbot.groundQuestion"),field:"risiko.site.untergrund",type:"select",options:Mt("ai.chatbot.groundOptions").split(",")},{id:"risikomatrix",label:Mt("ai.chatbot.riskMatrixQuestion"),field:"risiko.matrix",type:"select",options:Mt("ai.chatbot.riskMatrixOptions").split(","),info:Mt("ai.chatbot.riskMatrixQuestionInfo")}]}function Tw({open:o,onToggle:e}){return zt.jsx("button",{"aria-label":Mt("ai.chatbot.title"),onClick:e,className:"zb-btn",children:zt.jsx("span",{className:"text-xl",children:o?"":""})})}function Sw({role:o,text:e}){const n=o==="bot";return zt.jsx("div",{className:`zb-msg ${n?"zb-msg-left":"zb-msg-right"}`,children:zt.jsx("div",{className:`zb-bubble ${n?"zb-bot":"zb-user"}`,children:e})})}function Ew({onSend:o}){const[e,n]=tt.useState("");return zt.jsxs("div",{className:"zb-input",children:[zt.jsx("input",{className:"zb-input-field",placeholder:Mt("ai.chatbot.inputPlaceholder"),value:e,onChange:s=>n(s.target.value),onKeyDown:s=>{s.key==="Enter"&&e.trim()&&(o(e.trim()),n(""))}}),zt.jsx("button",{className:"zb-input-send",onClick:()=>{e.trim()&&(o(e.trim()),n(""))},children:Mt("ai.chatbot.sendButton")})]})}function bw({planningState:o,setPlanningState:e,getCandidatesFor:n}){const[s,l]=tt.useState({}),u=o??s,c=e??(w=>l(X=>w(X)));window.planningState=u;const[m,y]=tt.useState(!0),[h,v]=tt.useState([]),[T,E]=tt.useState(null),[C,A]=tt.useState(!1),D=tt.useRef(null);tt.useEffect(()=>{h.length===0&&z(Mt("ai.chatbot.welcome"))},[]),tt.useEffect(()=>{h.length>0&&(D.current&&(D.current.scrollTop=D.current.scrollHeight),setTimeout(()=>{D.current&&(D.current.scrollTop=D.current.scrollHeight)},50))},[h.length]);function z(w){v(X=>[...X,{role:"bot",text:w}])}function k(w,X){v(Z=>[...Z,{role:"user",text:w,field:X}])}const F=w=>{const X=iv(u,w.field);if(X!=null&&X!=="")return{ask:!1,value:X};const Z=n?n(w.field):[];return w.resolver?w.resolver(Z):uf(w.field,Z,.7)};function N(){for(const w of vw()){if(w.dependsOn&&w.dependsOn.find(H=>!iv(u,H)))continue;const X=F(w);if(X.ask)return w;X.value!==void 0&&c(Z=>{const H={...Z??{}};return ov(H,w.field,X.value),H})}return null}tt.useEffect(()=>{if(C||T)return;const w=N();if(w){E(w);const X=w.label,Z=w.info?Mt("ai.chatbot.infoPrefix")+w.info:"";z(X+(Z?`

${Z}`:""))}else!C&&h.length>0&&(z(Mt("ai.chatbot.completionMessage")),A(!0))},[u,m,T,C]),tt.useEffect(()=>{const w=()=>{console.log("Language changed, re-rendering chatbot"),v([]),E(null),A(!1),setTimeout(()=>{z(Mt("ai.chatbot.welcome"))},100)};window.addEventListener("languageChanged",w);const X=setInterval(()=>{const Z=window.currentLanguage;Z&&Z!==window.lastChatbotLanguage&&(window.lastChatbotLanguage=Z,console.log("Chatbot: Language change detected via polling:",Z),w());const H=document.querySelector('.lang-btn[data-lang="de"].active'),ot=document.querySelector('.lang-btn[data-lang="en"].active');let lt=null;ot?lt="en":H&&(lt="de"),lt&&lt!==window.lastChatbotDetectedLanguage&&(window.lastChatbotDetectedLanguage=lt,console.log("Chatbot: Language change detected via DOM flags:",lt),w())},100);return()=>{window.removeEventListener("languageChanged",w),clearInterval(X)}},[]);function K(w){if(!T){/^(ja|start|bereit|ok|okay|los)/i.test(w)&&(A(!1),E(null)),k(w);return}k(w,T.field);let X=w;if(T.type==="number"){const Z=parseFloat(w.replace(",","."));X=isNaN(Z)?void 0:Z}else T.type==="chips"?X=w.split(",").map(Z=>Z.trim()).filter(Boolean):T.type==="multiselect"?X=w.split(",").map(Z=>Z.trim()).filter(Boolean):T.type==="select"?X=w.trim():T.type==="bool"&&(X=/^(ja|true|y|yes)$/i.test(w));c(Z=>{const H={...Z??{}};return X!==void 0&&ov(H,T.field,X),H}),E(null)}return zt.jsxs(zt.Fragment,{children:[zt.jsx(Tw,{open:m,onToggle:()=>y(w=>!w)}),zt.jsx(z_,{children:m&&zt.jsxs(yw.aside,{initial:{x:380,opacity:0},animate:{x:0,opacity:1},exit:{x:380,opacity:0},transition:{type:"spring",stiffness:240,damping:28},className:"zb-panel","aria-label":"Zufahrtsschutz-Assistent Panel",children:[zt.jsx("header",{className:"zb-header",children:zt.jsx("div",{className:"zb-title",children:Mt("ai.chatbot.title")})}),zt.jsx("div",{className:"zb-messages",ref:D,children:h.map((w,X)=>zt.jsx(Sw,{role:w.role,text:w.text},X))}),zt.jsx(Ew,{onSend:K})]})})]})}var wc={exports:{}},Pa={},Nc={exports:{}},Lc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function Cw(){return av||(av=1,function(o){function e(P,q){var $=P.length;P.push(q);t:for(;0<$;){var rt=$-1>>>1,x=P[rt];if(0<l(x,q))P[rt]=q,P[$]=x,$=rt;else break t}}function n(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var q=P[0],$=P.pop();if($!==q){P[0]=$;t:for(var rt=0,x=P.length,Q=x>>>1;rt<Q;){var nt=2*(rt+1)-1,W=P[nt],ut=nt+1,xt=P[ut];if(0>l(W,$))ut<x&&0>l(xt,W)?(P[rt]=xt,P[ut]=$,rt=ut):(P[rt]=W,P[nt]=$,rt=nt);else if(ut<x&&0>l(xt,$))P[rt]=xt,P[ut]=$,rt=ut;else break t}}return q}function l(P,q){var $=P.sortIndex-q.sortIndex;return $!==0?$:P.id-q.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;o.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();o.unstable_now=function(){return c.now()-m}}var y=[],h=[],v=1,T=null,E=3,C=!1,A=!1,D=!1,z=!1,k=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function K(P){for(var q=n(h);q!==null;){if(q.callback===null)s(h);else if(q.startTime<=P)s(h),q.sortIndex=q.expirationTime,e(y,q);else break;q=n(h)}}function w(P){if(D=!1,K(P),!A)if(n(y)!==null)A=!0,X||(X=!0,Tt());else{var q=n(h);q!==null&&j(w,q.startTime-P)}}var X=!1,Z=-1,H=5,ot=-1;function lt(){return z?!0:!(o.unstable_now()-ot<H)}function yt(){if(z=!1,X){var P=o.unstable_now();ot=P;var q=!0;try{t:{A=!1,D&&(D=!1,F(Z),Z=-1),C=!0;var $=E;try{e:{for(K(P),T=n(y);T!==null&&!(T.expirationTime>P&&lt());){var rt=T.callback;if(typeof rt=="function"){T.callback=null,E=T.priorityLevel;var x=rt(T.expirationTime<=P);if(P=o.unstable_now(),typeof x=="function"){T.callback=x,K(P),q=!0;break e}T===n(y)&&s(y),K(P)}else s(y);T=n(y)}if(T!==null)q=!0;else{var Q=n(h);Q!==null&&j(w,Q.startTime-P),q=!1}}break t}finally{T=null,E=$,C=!1}q=void 0}}finally{q?Tt():X=!1}}}var Tt;if(typeof N=="function")Tt=function(){N(yt)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,J=dt.port2;dt.port1.onmessage=yt,Tt=function(){J.postMessage(null)}}else Tt=function(){k(yt,0)};function j(P,q){Z=k(function(){P(o.unstable_now())},q)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(P){P.callback=null},o.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<P?Math.floor(1e3/P):5},o.unstable_getCurrentPriorityLevel=function(){return E},o.unstable_next=function(P){switch(E){case 1:case 2:case 3:var q=3;break;default:q=E}var $=E;E=q;try{return P()}finally{E=$}},o.unstable_requestPaint=function(){z=!0},o.unstable_runWithPriority=function(P,q){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var $=E;E=P;try{return q()}finally{E=$}},o.unstable_scheduleCallback=function(P,q,$){var rt=o.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?rt+$:rt):$=rt,P){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=$+x,P={id:v++,callback:q,priorityLevel:P,startTime:$,expirationTime:x,sortIndex:-1},$>rt?(P.sortIndex=$,e(h,P),n(y)===null&&P===n(h)&&(D?(F(Z),Z=-1):D=!0,j(w,$-rt))):(P.sortIndex=x,e(y,P),A||C||(A=!0,X||(X=!0,Tt()))),P},o.unstable_shouldYield=lt,o.unstable_wrapCallback=function(P){var q=E;return function(){var $=E;E=q;try{return P.apply(this,arguments)}finally{E=$}}}}(Lc)),Lc}var sv;function Aw(){return sv||(sv=1,Nc.exports=Cw()),Nc.exports}var Vc={exports:{}},he={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function Mw(){if(lv)return he;lv=1;var o=df();function e(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,h,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:y,containerInfo:h,implementation:v}}var c=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return he.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,he.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return u(y,h,null,v)},he.flushSync=function(y){var h=c.T,v=s.p;try{if(c.T=null,s.p=2,y)return y()}finally{c.T=h,s.p=v,s.d.f()}},he.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(y,h))},he.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},he.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,T=m(v,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,C=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?s.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:C}):v==="script"&&s.d.X(y,{crossOrigin:T,integrity:E,fetchPriority:C,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},he.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=m(h.as,h.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(y)},he.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,T=m(v,h.crossOrigin);s.d.L(y,v,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},he.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=m(h.as,h.crossOrigin);s.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(y)},he.requestFormReset=function(y){s.d.r(y)},he.unstable_batchedUpdates=function(y,h){return y(h)},he.useFormState=function(y,h,v){return c.H.useFormState(y,h,v)},he.useFormStatus=function(){return c.H.useHostTransitionStatus()},he.version="19.1.1",he}var rv;function xw(){if(rv)return Vc.exports;rv=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),Vc.exports=Mw(),Vc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function _w(){if(uv)return Pa;uv=1;var o=Aw(),e=df(),n=xw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,r=i;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(r=f.return,r!==null){a=r;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return m(f),t;if(g===r)return m(f),i;g=g.sibling}throw Error(s(188))}if(a.return!==r.return)a=f,r=g;else{for(var S=!1,b=f.child;b;){if(b===a){S=!0,a=f,r=g;break}if(b===r){S=!0,r=f,a=g;break}b=b.sibling}if(!S){for(b=g.child;b;){if(b===a){S=!0,a=g,r=f;break}if(b===r){S=!0,r=g,a=f;break}b=b.sibling}if(!S)throw Error(s(189))}}if(a.alternate!==r)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function h(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=h(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),N=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),ot=Symbol.for("react.activity"),lt=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function Tt(t){return t===null||typeof t!="object"?null:(t=yt&&t[yt]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Symbol.for("react.client.reference");function J(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===dt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case z:return"Profiler";case D:return"StrictMode";case w:return"Suspense";case X:return"SuspenseList";case ot:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case N:return(t.displayName||"Context")+".Provider";case F:return(t._context.displayName||"Context")+".Consumer";case K:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z:return i=t.displayName||null,i!==null?i:J(t.type)||"Memo";case H:i=t._payload,t=t._init;try{return J(t(i))}catch{}}return null}var j=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},rt=[],x=-1;function Q(t){return{current:t}}function nt(t){0>x||(t.current=rt[x],rt[x]=null,x--)}function W(t,i){x++,rt[x]=t.current,t.current=i}var ut=Q(null),xt=Q(null),mt=Q(null),_e=Q(null);function kt(t,i){switch(W(mt,i),W(xt,t),W(ut,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?pm(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=pm(i),t=mm(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ut),W(ut,t)}function wn(){nt(ut),nt(xt),nt(mt)}function Wl(t){t.memoizedState!==null&&W(_e,t);var i=ut.current,a=mm(i,t.type);i!==a&&(W(xt,t),W(ut,a))}function os(t){xt.current===t&&(nt(ut),nt(xt)),_e.current===t&&(nt(_e),_a._currentValue=$)}var jl=Object.prototype.hasOwnProperty,tr=o.unstable_scheduleCallback,er=o.unstable_cancelCallback,v0=o.unstable_shouldYield,T0=o.unstable_requestPaint,tn=o.unstable_now,S0=o.unstable_getCurrentPriorityLevel,Xf=o.unstable_ImmediatePriority,Zf=o.unstable_UserBlockingPriority,as=o.unstable_NormalPriority,E0=o.unstable_LowPriority,Jf=o.unstable_IdlePriority,b0=o.log,C0=o.unstable_setDisableYieldValue,Bo=null,Re=null;function Nn(t){if(typeof b0=="function"&&C0(t),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(Bo,t)}catch{}}var De=Math.clz32?Math.clz32:x0,A0=Math.log,M0=Math.LN2;function x0(t){return t>>>=0,t===0?32:31-(A0(t)/M0|0)|0}var ss=256,ls=4194304;function ui(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function rs(t,i,a){var r=t.pendingLanes;if(r===0)return 0;var f=0,g=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var b=r&134217727;return b!==0?(r=b&~g,r!==0?f=ui(r):(S&=b,S!==0?f=ui(S):a||(a=b&~t,a!==0&&(f=ui(a))))):(b=r&~g,b!==0?f=ui(b):S!==0?f=ui(S):a||(a=r&~t,a!==0&&(f=ui(a)))),f===0?0:i!==0&&i!==f&&(i&g)===0&&(g=f&-f,a=i&-i,g>=a||g===32&&(a&4194048)!==0)?i:f}function Uo(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function _0(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $f(){var t=ss;return ss<<=1,(ss&4194048)===0&&(ss=256),t}function Wf(){var t=ls;return ls<<=1,(ls&62914560)===0&&(ls=4194304),t}function nr(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Io(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function R0(t,i,a,r,f,g){var S=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,M=t.expirationTimes,B=t.hiddenUpdates;for(a=S&~a;0<a;){var O=31-De(a),Y=1<<O;b[O]=0,M[O]=-1;var U=B[O];if(U!==null)for(B[O]=null,O=0;O<U.length;O++){var I=U[O];I!==null&&(I.lane&=-536870913)}a&=~Y}r!==0&&jf(t,r,0),g!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=g&~(S&~i))}function jf(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var r=31-De(i);t.entangledLanes|=i,t.entanglements[r]=t.entanglements[r]|1073741824|a&4194090}function td(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var r=31-De(a),f=1<<r;f&i|t[r]&i&&(t[r]|=i),a&=~f}}function ir(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function or(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ed(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:Pm(t.type))}function D0(t,i){var a=q.p;try{return q.p=t,i()}finally{q.p=a}}var Ln=Math.random().toString(36).slice(2),fe="__reactFiber$"+Ln,Se="__reactProps$"+Ln,Ui="__reactContainer$"+Ln,ar="__reactEvents$"+Ln,w0="__reactListeners$"+Ln,N0="__reactHandles$"+Ln,nd="__reactResources$"+Ln,zo="__reactMarker$"+Ln;function sr(t){delete t[fe],delete t[Se],delete t[ar],delete t[w0],delete t[N0]}function Ii(t){var i=t[fe];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ui]||a[fe]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Tm(t);t!==null;){if(a=t[fe])return a;t=Tm(t)}return i}t=a,a=t.parentNode}return null}function zi(t){if(t=t[fe]||t[Ui]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ko(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function ki(t){var i=t[nd];return i||(i=t[nd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ie(t){t[zo]=!0}var id=new Set,od={};function ci(t,i){Oi(t,i),Oi(t+"Capture",i)}function Oi(t,i){for(od[t]=i,t=0;t<i.length;t++)id.add(i[t])}var L0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ad={},sd={};function V0(t){return jl.call(sd,t)?!0:jl.call(ad,t)?!1:L0.test(t)?sd[t]=!0:(ad[t]=!0,!1)}function us(t,i,a){if(V0(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function cs(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function fn(t,i,a,r){if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+r)}}var lr,ld;function qi(t){if(lr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);lr=i&&i[1]||"",ld=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lr+t+ld}var rr=!1;function ur(t,i){if(!t||rr)return"";rr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(I){var U=I}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(I){U=I}t.call(Y.prototype)}}else{try{throw Error()}catch(I){U=I}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(I){if(I&&U&&typeof I.stack=="string")return[I.stack,U.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=r.DetermineComponentFrameRoot(),S=g[0],b=g[1];if(S&&b){var M=S.split(`
`),B=b.split(`
`);for(f=r=0;r<M.length&&!M[r].includes("DetermineComponentFrameRoot");)r++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(r===M.length||f===B.length)for(r=M.length-1,f=B.length-1;1<=r&&0<=f&&M[r]!==B[f];)f--;for(;1<=r&&0<=f;r--,f--)if(M[r]!==B[f]){if(r!==1||f!==1)do if(r--,f--,0>f||M[r]!==B[f]){var O=`
`+M[r].replace(" at new "," at ");return t.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",t.displayName)),O}while(1<=r&&0<=f);break}}}finally{rr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?qi(a):""}function P0(t){switch(t.tag){case 26:case 27:case 5:return qi(t.type);case 16:return qi("Lazy");case 13:return qi("Suspense");case 19:return qi("SuspenseList");case 0:case 15:return ur(t.type,!1);case 11:return ur(t.type.render,!1);case 1:return ur(t.type,!0);case 31:return qi("Activity");default:return""}}function rd(t){try{var i="";do i+=P0(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ie(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ud(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function B0(t){var i=ud(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),r=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(S){r=""+S,g.call(this,S)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(S){r=""+S},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function fs(t){t._valueTracker||(t._valueTracker=B0(t))}function cd(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),r="";return t&&(r=ud(t)?t.checked?"true":"false":t.value),t=r,t!==a?(i.setValue(t),!0):!1}function ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var U0=/[\n"\\]/g;function ze(t){return t.replace(U0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function cr(t,i,a,r,f,g,S,b){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),i!=null?S==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ie(i)):t.value!==""+Ie(i)&&(t.value=""+Ie(i)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),i!=null?fr(t,S,Ie(i)):a!=null?fr(t,S,Ie(a)):r!=null&&t.removeAttribute("value"),f==null&&g!=null&&(t.defaultChecked=!!g),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Ie(b):t.removeAttribute("name")}function fd(t,i,a,r,f,g,S,b){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),i!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;a=a!=null?""+Ie(a):"",i=i!=null?""+Ie(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}r=r??f,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=b?t.checked:!!r,t.defaultChecked=!!r,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S)}function fr(t,i,a){i==="number"&&ds(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Gi(t,i,a,r){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&r&&(t[a].defaultSelected=!0)}else{for(a=""+Ie(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,r&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function dd(t,i,a){if(i!=null&&(i=""+Ie(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ie(a):""}function hd(t,i,a,r){if(i==null){if(r!=null){if(a!=null)throw Error(s(92));if(j(r)){if(1<r.length)throw Error(s(93));r=r[0]}a=r}a==null&&(a=""),i=a}a=Ie(i),t.defaultValue=a,r=t.textContent,r===a&&r!==""&&r!==null&&(t.value=r)}function Hi(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var I0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pd(t,i,a){var r=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":r?t.setProperty(i,a):typeof a!="number"||a===0||I0.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function md(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var f in i)r=i[f],i.hasOwnProperty(f)&&a[f]!==r&&pd(t,f,r)}else for(var g in i)i.hasOwnProperty(g)&&pd(t,g,i[g])}function dr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var z0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),k0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hs(t){return k0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var hr=null;function pr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fi=null,Yi=null;function gd(t){var i=zi(t);if(i&&(t=i.stateNode)){var a=t[Se]||null;t:switch(t=i.stateNode,i.type){case"input":if(cr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ze(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var r=a[i];if(r!==t&&r.form===t.form){var f=r[Se]||null;if(!f)throw Error(s(90));cr(r,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)r=a[i],r.form===t.form&&cd(r)}break t;case"textarea":dd(t,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Gi(t,!!a.multiple,i,!1)}}}var mr=!1;function yd(t,i,a){if(mr)return t(i,a);mr=!0;try{var r=t(i);return r}finally{if(mr=!1,(Fi!==null||Yi!==null)&&(Ws(),Fi&&(i=Fi,t=Yi,Yi=Fi=null,gd(i),t)))for(i=0;i<t.length;i++)gd(t[i])}}function Oo(t,i){var a=t.stateNode;if(a===null)return null;var r=a[Se]||null;if(r===null)return null;a=r[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gr=!1;if(dn)try{var qo={};Object.defineProperty(qo,"passive",{get:function(){gr=!0}}),window.addEventListener("test",qo,qo),window.removeEventListener("test",qo,qo)}catch{gr=!1}var Vn=null,yr=null,ps=null;function vd(){if(ps)return ps;var t,i=yr,a=i.length,r,f="value"in Vn?Vn.value:Vn.textContent,g=f.length;for(t=0;t<a&&i[t]===f[t];t++);var S=a-t;for(r=1;r<=S&&i[a-r]===f[g-r];r++);return ps=f.slice(t,1<r?1-r:void 0)}function ms(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function gs(){return!0}function Td(){return!1}function Ee(t){function i(a,r,f,g,S){this._reactName=a,this._targetInst=f,this.type=r,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?gs:Td,this.isPropagationStopped=Td,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),i}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ys=Ee(fi),Go=v({},fi,{view:0,detail:0}),O0=Ee(Go),vr,Tr,Ho,vs=v({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ho&&(Ho&&t.type==="mousemove"?(vr=t.screenX-Ho.screenX,Tr=t.screenY-Ho.screenY):Tr=vr=0,Ho=t),vr)},movementY:function(t){return"movementY"in t?t.movementY:Tr}}),Sd=Ee(vs),q0=v({},vs,{dataTransfer:0}),G0=Ee(q0),H0=v({},Go,{relatedTarget:0}),Sr=Ee(H0),F0=v({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Y0=Ee(F0),K0=v({},fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Q0=Ee(K0),X0=v({},fi,{data:0}),Ed=Ee(X0),Z0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W0(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=$0[t])?!!i[t]:!1}function Er(){return W0}var j0=v({},Go,{key:function(t){if(t.key){var i=Z0[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?J0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(t){return t.type==="keypress"?ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tS=Ee(j0),eS=v({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bd=Ee(eS),nS=v({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),iS=Ee(nS),oS=v({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),aS=Ee(oS),sS=v({},vs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lS=Ee(sS),rS=v({},fi,{newState:0,oldState:0}),uS=Ee(rS),cS=[9,13,27,32],br=dn&&"CompositionEvent"in window,Fo=null;dn&&"documentMode"in document&&(Fo=document.documentMode);var fS=dn&&"TextEvent"in window&&!Fo,Cd=dn&&(!br||Fo&&8<Fo&&11>=Fo),Ad=" ",Md=!1;function xd(t,i){switch(t){case"keyup":return cS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _d(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ki=!1;function dS(t,i){switch(t){case"compositionend":return _d(i);case"keypress":return i.which!==32?null:(Md=!0,Ad);case"textInput":return t=i.data,t===Ad&&Md?null:t;default:return null}}function hS(t,i){if(Ki)return t==="compositionend"||!br&&xd(t,i)?(t=vd(),ps=yr=Vn=null,Ki=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Cd&&i.locale!=="ko"?null:i.data;default:return null}}var pS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!pS[t.type]:i==="textarea"}function Dd(t,i,a,r){Fi?Yi?Yi.push(r):Yi=[r]:Fi=r,i=ol(i,"onChange"),0<i.length&&(a=new ys("onChange","change",null,a,r),t.push({event:a,listeners:i}))}var Yo=null,Ko=null;function mS(t){um(t,0)}function Ts(t){var i=ko(t);if(cd(i))return t}function wd(t,i){if(t==="change")return i}var Nd=!1;if(dn){var Cr;if(dn){var Ar="oninput"in document;if(!Ar){var Ld=document.createElement("div");Ld.setAttribute("oninput","return;"),Ar=typeof Ld.oninput=="function"}Cr=Ar}else Cr=!1;Nd=Cr&&(!document.documentMode||9<document.documentMode)}function Vd(){Yo&&(Yo.detachEvent("onpropertychange",Pd),Ko=Yo=null)}function Pd(t){if(t.propertyName==="value"&&Ts(Ko)){var i=[];Dd(i,Ko,t,pr(t)),yd(mS,i)}}function gS(t,i,a){t==="focusin"?(Vd(),Yo=i,Ko=a,Yo.attachEvent("onpropertychange",Pd)):t==="focusout"&&Vd()}function yS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ts(Ko)}function vS(t,i){if(t==="click")return Ts(i)}function TS(t,i){if(t==="input"||t==="change")return Ts(i)}function SS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var we=typeof Object.is=="function"?Object.is:SS;function Qo(t,i){if(we(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),r=Object.keys(i);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var f=a[r];if(!jl.call(i,f)||!we(t[f],i[f]))return!1}return!0}function Bd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ud(t,i){var a=Bd(t);t=0;for(var r;a;){if(a.nodeType===3){if(r=t+a.textContent.length,t<=i&&r>=i)return{node:a,offset:i-t};t=r}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Bd(a)}}function Id(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Id(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function zd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ds(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ds(t.document)}return i}function Mr(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var ES=dn&&"documentMode"in document&&11>=document.documentMode,Qi=null,xr=null,Xo=null,_r=!1;function kd(t,i,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_r||Qi==null||Qi!==ds(r)||(r=Qi,"selectionStart"in r&&Mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xo&&Qo(Xo,r)||(Xo=r,r=ol(xr,"onSelect"),0<r.length&&(i=new ys("onSelect","select",null,i,a),t.push({event:i,listeners:r}),i.target=Qi)))}function di(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Xi={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionrun:di("Transition","TransitionRun"),transitionstart:di("Transition","TransitionStart"),transitioncancel:di("Transition","TransitionCancel"),transitionend:di("Transition","TransitionEnd")},Rr={},Od={};dn&&(Od=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function hi(t){if(Rr[t])return Rr[t];if(!Xi[t])return t;var i=Xi[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Od)return Rr[t]=i[a];return t}var qd=hi("animationend"),Gd=hi("animationiteration"),Hd=hi("animationstart"),bS=hi("transitionrun"),CS=hi("transitionstart"),AS=hi("transitioncancel"),Fd=hi("transitionend"),Yd=new Map,Dr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dr.push("scrollEnd");function Ze(t,i){Yd.set(t,i),ci(i,[t])}var Kd=new WeakMap;function ke(t,i){if(typeof t=="object"&&t!==null){var a=Kd.get(t);return a!==void 0?a:(i={value:t,source:i,stack:rd(i)},Kd.set(t,i),i)}return{value:t,source:i,stack:rd(i)}}var Oe=[],Zi=0,wr=0;function Ss(){for(var t=Zi,i=wr=Zi=0;i<t;){var a=Oe[i];Oe[i++]=null;var r=Oe[i];Oe[i++]=null;var f=Oe[i];Oe[i++]=null;var g=Oe[i];if(Oe[i++]=null,r!==null&&f!==null){var S=r.pending;S===null?f.next=f:(f.next=S.next,S.next=f),r.pending=f}g!==0&&Qd(a,f,g)}}function Es(t,i,a,r){Oe[Zi++]=t,Oe[Zi++]=i,Oe[Zi++]=a,Oe[Zi++]=r,wr|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Nr(t,i,a,r){return Es(t,i,a,r),bs(t)}function Ji(t,i){return Es(t,null,null,i),bs(t)}function Qd(t,i,a){t.lanes|=a;var r=t.alternate;r!==null&&(r.lanes|=a);for(var f=!1,g=t.return;g!==null;)g.childLanes|=a,r=g.alternate,r!==null&&(r.childLanes|=a),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(f=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,f&&i!==null&&(f=31-De(a),t=g.hiddenUpdates,r=t[f],r===null?t[f]=[i]:r.push(i),i.lane=a|536870912),g):null}function bs(t){if(50<Ta)throw Ta=0,Iu=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var $i={};function MS(t,i,a,r){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ne(t,i,a,r){return new MS(t,i,a,r)}function Lr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hn(t,i){var a=t.alternate;return a===null?(a=Ne(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Xd(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Cs(t,i,a,r,f,g){var S=0;if(r=t,typeof t=="function")Lr(t)&&(S=1);else if(typeof t=="string")S=_E(t,a,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case ot:return t=Ne(31,a,i,f),t.elementType=ot,t.lanes=g,t;case A:return pi(a.children,f,g,i);case D:S=8,f|=24;break;case z:return t=Ne(12,a,i,f|2),t.elementType=z,t.lanes=g,t;case w:return t=Ne(13,a,i,f),t.elementType=w,t.lanes=g,t;case X:return t=Ne(19,a,i,f),t.elementType=X,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:case N:S=10;break t;case F:S=9;break t;case K:S=11;break t;case Z:S=14;break t;case H:S=16,r=null;break t}S=29,a=Error(s(130,t===null?"null":typeof t,"")),r=null}return i=Ne(S,a,i,f),i.elementType=t,i.type=r,i.lanes=g,i}function pi(t,i,a,r){return t=Ne(7,t,r,i),t.lanes=a,t}function Vr(t,i,a){return t=Ne(6,t,null,i),t.lanes=a,t}function Pr(t,i,a){return i=Ne(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Wi=[],ji=0,As=null,Ms=0,qe=[],Ge=0,mi=null,pn=1,mn="";function gi(t,i){Wi[ji++]=Ms,Wi[ji++]=As,As=t,Ms=i}function Zd(t,i,a){qe[Ge++]=pn,qe[Ge++]=mn,qe[Ge++]=mi,mi=t;var r=pn;t=mn;var f=32-De(r)-1;r&=~(1<<f),a+=1;var g=32-De(i)+f;if(30<g){var S=f-f%5;g=(r&(1<<S)-1).toString(32),r>>=S,f-=S,pn=1<<32-De(i)+f|a<<f|r,mn=g+t}else pn=1<<g|a<<f|r,mn=t}function Br(t){t.return!==null&&(gi(t,1),Zd(t,1,0))}function Ur(t){for(;t===As;)As=Wi[--ji],Wi[ji]=null,Ms=Wi[--ji],Wi[ji]=null;for(;t===mi;)mi=qe[--Ge],qe[Ge]=null,mn=qe[--Ge],qe[Ge]=null,pn=qe[--Ge],qe[Ge]=null}var ge=null,Ft=null,Rt=!1,yi=null,en=!1,Ir=Error(s(519));function vi(t){var i=Error(s(418,""));throw $o(ke(i,t)),Ir}function Jd(t){var i=t.stateNode,a=t.type,r=t.memoizedProps;switch(i[fe]=t,i[Se]=r,a){case"dialog":Ct("cancel",i),Ct("close",i);break;case"iframe":case"object":case"embed":Ct("load",i);break;case"video":case"audio":for(a=0;a<Ea.length;a++)Ct(Ea[a],i);break;case"source":Ct("error",i);break;case"img":case"image":case"link":Ct("error",i),Ct("load",i);break;case"details":Ct("toggle",i);break;case"input":Ct("invalid",i),fd(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),fs(i);break;case"select":Ct("invalid",i);break;case"textarea":Ct("invalid",i),hd(i,r.value,r.defaultValue,r.children),fs(i)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||r.suppressHydrationWarning===!0||hm(i.textContent,a)?(r.popover!=null&&(Ct("beforetoggle",i),Ct("toggle",i)),r.onScroll!=null&&Ct("scroll",i),r.onScrollEnd!=null&&Ct("scrollend",i),r.onClick!=null&&(i.onclick=al),i=!0):i=!1,i||vi(t)}function $d(t){for(ge=t.return;ge;)switch(ge.tag){case 5:case 13:en=!1;return;case 27:case 3:en=!0;return;default:ge=ge.return}}function Zo(t){if(t!==ge)return!1;if(!Rt)return $d(t),Rt=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ju(t.type,t.memoizedProps)),a=!a),a&&Ft&&vi(t),$d(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Ft=$e(t.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Ft=null}}else i===27?(i=Ft,Zn(t.type)?(t=ic,ic=null,Ft=t):Ft=i):Ft=ge?$e(t.stateNode.nextSibling):null;return!0}function Jo(){Ft=ge=null,Rt=!1}function Wd(){var t=yi;return t!==null&&(Ae===null?Ae=t:Ae.push.apply(Ae,t),yi=null),t}function $o(t){yi===null?yi=[t]:yi.push(t)}var zr=Q(null),Ti=null,gn=null;function Pn(t,i,a){W(zr,i._currentValue),i._currentValue=a}function yn(t){t._currentValue=zr.current,nt(zr)}function kr(t,i,a){for(;t!==null;){var r=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),t===a)break;t=t.return}}function Or(t,i,a,r){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var g=f.dependencies;if(g!==null){var S=f.child;g=g.firstContext;t:for(;g!==null;){var b=g;g=f;for(var M=0;M<i.length;M++)if(b.context===i[M]){g.lanes|=a,b=g.alternate,b!==null&&(b.lanes|=a),kr(g.return,a,t),r||(S=null);break t}g=b.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(s(341));S.lanes|=a,g=S.alternate,g!==null&&(g.lanes|=a),kr(S,a,t),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===t){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function Wo(t,i,a,r){t=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var b=f.type;we(f.pendingProps.value,S.value)||(t!==null?t.push(b):t=[b])}}else if(f===_e.current){if(S=f.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(_a):t=[_a])}f=f.return}t!==null&&Or(i,t,a,r),i.flags|=262144}function xs(t){for(t=t.firstContext;t!==null;){if(!we(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Si(t){Ti=t,gn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function de(t){return jd(Ti,t)}function _s(t,i){return Ti===null&&Si(t),jd(t,i)}function jd(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},gn===null){if(t===null)throw Error(s(308));gn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else gn=gn.next=i;return a}var xS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,r){t.push(r)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},_S=o.unstable_scheduleCallback,RS=o.unstable_NormalPriority,ee={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qr(){return{controller:new xS,data:new Map,refCount:0}}function jo(t){t.refCount--,t.refCount===0&&_S(RS,function(){t.controller.abort()})}var ta=null,Gr=0,to=0,eo=null;function DS(t,i){if(ta===null){var a=ta=[];Gr=0,to=Fu(),eo={status:"pending",value:void 0,then:function(r){a.push(r)}}}return Gr++,i.then(th,th),i}function th(){if(--Gr===0&&ta!==null){eo!==null&&(eo.status="fulfilled");var t=ta;ta=null,to=0,eo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function wS(t,i){var a=[],r={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){r.status="fulfilled",r.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(r.status="rejected",r.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),r}var eh=P.S;P.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&DS(t,i),eh!==null&&eh(t,i)};var Ei=Q(null);function Hr(){var t=Ei.current;return t!==null?t:It.pooledCache}function Rs(t,i){i===null?W(Ei,Ei.current):W(Ei,i.pool)}function nh(){var t=Hr();return t===null?null:{parent:ee._currentValue,pool:t}}var ea=Error(s(460)),ih=Error(s(474)),Ds=Error(s(542)),Fr={then:function(){}};function oh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ws(){}function ah(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ws,ws),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,lh(t),t;default:if(typeof i.status=="string")i.then(ws,ws);else{if(t=It,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(r){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=r}},function(r){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,lh(t),t}throw na=i,ea}}var na=null;function sh(){if(na===null)throw Error(s(459));var t=na;return na=null,t}function lh(t){if(t===ea||t===Ds)throw Error(s(483))}var Bn=!1;function Yr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kr(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Un(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function In(t,i,a){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Dt&2)!==0){var f=r.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),r.pending=i,i=bs(t),Qd(t,null,a),i}return Es(t,r,i,a),bs(t)}function ia(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var r=i.lanes;r&=t.pendingLanes,a|=r,i.lanes=a,td(t,a)}}function Qr(t,i){var a=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?f=g=S:g=g.next=S,a=a.next}while(a!==null);g===null?f=g=i:g=g.next=i}else f=g=i;a={baseState:r.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:r.shared,callbacks:r.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Xr=!1;function oa(){if(Xr){var t=eo;if(t!==null)throw t}}function aa(t,i,a,r){Xr=!1;var f=t.updateQueue;Bn=!1;var g=f.firstBaseUpdate,S=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var M=b,B=M.next;M.next=null,S===null?g=B:S.next=B,S=M;var O=t.alternate;O!==null&&(O=O.updateQueue,b=O.lastBaseUpdate,b!==S&&(b===null?O.firstBaseUpdate=B:b.next=B,O.lastBaseUpdate=M))}if(g!==null){var Y=f.baseState;S=0,O=B=M=null,b=g;do{var U=b.lane&-536870913,I=U!==b.lane;if(I?(At&U)===U:(r&U)===U){U!==0&&U===to&&(Xr=!0),O!==null&&(O=O.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var ht=t,ct=b;U=i;var Pt=a;switch(ct.tag){case 1:if(ht=ct.payload,typeof ht=="function"){Y=ht.call(Pt,Y,U);break t}Y=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=ct.payload,U=typeof ht=="function"?ht.call(Pt,Y,U):ht,U==null)break t;Y=v({},Y,U);break t;case 2:Bn=!0}}U=b.callback,U!==null&&(t.flags|=64,I&&(t.flags|=8192),I=f.callbacks,I===null?f.callbacks=[U]:I.push(U))}else I={lane:U,tag:b.tag,payload:b.payload,callback:b.callback,next:null},O===null?(B=O=I,M=Y):O=O.next=I,S|=U;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;I=b,b=I.next,I.next=null,f.lastBaseUpdate=I,f.shared.pending=null}}while(!0);O===null&&(M=Y),f.baseState=M,f.firstBaseUpdate=B,f.lastBaseUpdate=O,g===null&&(f.shared.lanes=0),Yn|=S,t.lanes=S,t.memoizedState=Y}}function rh(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function uh(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)rh(a[t],i)}var no=Q(null),Ns=Q(0);function ch(t,i){t=An,W(Ns,t),W(no,i),An=t|i.baseLanes}function Zr(){W(Ns,An),W(no,no.current)}function Jr(){An=Ns.current,nt(no),nt(Ns)}var zn=0,St=null,Lt=null,Wt=null,Ls=!1,io=!1,bi=!1,Vs=0,sa=0,oo=null,NS=0;function Xt(){throw Error(s(321))}function $r(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!we(t[a],i[a]))return!1;return!0}function Wr(t,i,a,r,f,g){return zn=g,St=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,P.H=t===null||t.memoizedState===null?Qh:Xh,bi=!1,g=a(r,f),bi=!1,io&&(g=dh(i,a,r,f)),fh(t),g}function fh(t){P.H=ks;var i=Lt!==null&&Lt.next!==null;if(zn=0,Wt=Lt=St=null,Ls=!1,sa=0,oo=null,i)throw Error(s(300));t===null||oe||(t=t.dependencies,t!==null&&xs(t)&&(oe=!0))}function dh(t,i,a,r){St=t;var f=0;do{if(io&&(oo=null),sa=0,io=!1,25<=f)throw Error(s(301));if(f+=1,Wt=Lt=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}P.H=zS,g=i(a,r)}while(io);return g}function LS(){var t=P.H,i=t.useState()[0];return i=typeof i.then=="function"?la(i):i,t=t.useState()[0],(Lt!==null?Lt.memoizedState:null)!==t&&(St.flags|=1024),i}function jr(){var t=Vs!==0;return Vs=0,t}function tu(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function eu(t){if(Ls){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ls=!1}zn=0,Wt=Lt=St=null,io=!1,sa=Vs=0,oo=null}function be(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?St.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function jt(){if(Lt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var i=Wt===null?St.memoizedState:Wt.next;if(i!==null)Wt=i,Lt=t;else{if(t===null)throw St.alternate===null?Error(s(467)):Error(s(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Wt===null?St.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function nu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function la(t){var i=sa;return sa+=1,oo===null&&(oo=[]),t=ah(oo,t,i),i=St,(Wt===null?i.memoizedState:Wt.next)===null&&(i=i.alternate,P.H=i===null||i.memoizedState===null?Qh:Xh),t}function Ps(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return la(t);if(t.$$typeof===N)return de(t)}throw Error(s(438,String(t)))}function iu(t){var i=null,a=St.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var r=St.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=nu(),St.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),r=0;r<t;r++)a[r]=lt;return i.index++,a}function vn(t,i){return typeof i=="function"?i(t):i}function Bs(t){var i=jt();return ou(i,Lt,t)}function ou(t,i,a){var r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=a;var f=t.baseQueue,g=r.pending;if(g!==null){if(f!==null){var S=f.next;f.next=g.next,g.next=S}i.baseQueue=f=g,r.pending=null}if(g=t.baseState,f===null)t.memoizedState=g;else{i=f.next;var b=S=null,M=null,B=i,O=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(At&Y)===Y:(zn&Y)===Y){var U=B.revertLane;if(U===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===to&&(O=!0);else if((zn&U)===U){B=B.next,U===to&&(O=!0);continue}else Y={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(b=M=Y,S=g):M=M.next=Y,St.lanes|=U,Yn|=U;Y=B.action,bi&&a(g,Y),g=B.hasEagerState?B.eagerState:a(g,Y)}else U={lane:Y,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(b=M=U,S=g):M=M.next=U,St.lanes|=Y,Yn|=Y;B=B.next}while(B!==null&&B!==i);if(M===null?S=g:M.next=b,!we(g,t.memoizedState)&&(oe=!0,O&&(a=eo,a!==null)))throw a;t.memoizedState=g,t.baseState=S,t.baseQueue=M,r.lastRenderedState=g}return f===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function au(t){var i=jt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var r=a.dispatch,f=a.pending,g=i.memoizedState;if(f!==null){a.pending=null;var S=f=f.next;do g=t(g,S.action),S=S.next;while(S!==f);we(g,i.memoizedState)||(oe=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,r]}function hh(t,i,a){var r=St,f=jt(),g=Rt;if(g){if(a===void 0)throw Error(s(407));a=a()}else a=i();var S=!we((Lt||f).memoizedState,a);S&&(f.memoizedState=a,oe=!0),f=f.queue;var b=gh.bind(null,r,f,t);if(ra(2048,8,b,[t]),f.getSnapshot!==i||S||Wt!==null&&Wt.memoizedState.tag&1){if(r.flags|=2048,ao(9,Us(),mh.bind(null,r,f,a,i),null),It===null)throw Error(s(349));g||(zn&124)!==0||ph(r,i,a)}return a}function ph(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=St.updateQueue,i===null?(i=nu(),St.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function mh(t,i,a,r){i.value=a,i.getSnapshot=r,yh(i)&&vh(t)}function gh(t,i,a){return a(function(){yh(i)&&vh(t)})}function yh(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!we(t,a)}catch{return!0}}function vh(t){var i=Ji(t,2);i!==null&&Ue(i,t,2)}function su(t){var i=be();if(typeof t=="function"){var a=t;if(t=a(),bi){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:t},i}function Th(t,i,a,r){return t.baseState=a,ou(t,Lt,typeof r=="function"?r:vn)}function VS(t,i,a,r,f){if(zs(t))throw Error(s(485));if(t=i.action,t!==null){var g={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};P.T!==null?a(!0):g.isTransition=!1,r(g),a=i.pending,a===null?(g.next=i.pending=g,Sh(i,g)):(g.next=a.next,i.pending=a.next=g)}}function Sh(t,i){var a=i.action,r=i.payload,f=t.state;if(i.isTransition){var g=P.T,S={};P.T=S;try{var b=a(f,r),M=P.S;M!==null&&M(S,b),Eh(t,i,b)}catch(B){lu(t,i,B)}finally{P.T=g}}else try{g=a(f,r),Eh(t,i,g)}catch(B){lu(t,i,B)}}function Eh(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){bh(t,i,r)},function(r){return lu(t,i,r)}):bh(t,i,a)}function bh(t,i,a){i.status="fulfilled",i.value=a,Ch(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Sh(t,a)))}function lu(t,i,a){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=a,Ch(i),i=i.next;while(i!==r)}t.action=null}function Ch(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ah(t,i){return i}function Mh(t,i){if(Rt){var a=It.formState;if(a!==null){t:{var r=St;if(Rt){if(Ft){e:{for(var f=Ft,g=en;f.nodeType!==8;){if(!g){f=null;break e}if(f=$e(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Ft=$e(f.nextSibling),r=f.data==="F!";break t}}vi(r)}r=!1}r&&(i=a[0])}}return a=be(),a.memoizedState=a.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ah,lastRenderedState:i},a.queue=r,a=Fh.bind(null,St,r),r.dispatch=a,r=su(!1),g=du.bind(null,St,!1,r.queue),r=be(),f={state:i,dispatch:null,action:t,pending:null},r.queue=f,a=VS.bind(null,St,f,g,a),f.dispatch=a,r.memoizedState=t,[i,a,!1]}function xh(t){var i=jt();return _h(i,Lt,t)}function _h(t,i,a){if(i=ou(t,i,Ah)[0],t=Bs(vn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=la(i)}catch(S){throw S===ea?Ds:S}else r=i;i=jt();var f=i.queue,g=f.dispatch;return a!==i.memoizedState&&(St.flags|=2048,ao(9,Us(),PS.bind(null,f,a),null)),[r,g,t]}function PS(t,i){t.action=i}function Rh(t){var i=jt(),a=Lt;if(a!==null)return _h(i,a,t);jt(),i=i.memoizedState,a=jt();var r=a.queue.dispatch;return a.memoizedState=t,[i,r,!1]}function ao(t,i,a,r){return t={tag:t,create:a,deps:r,inst:i,next:null},i=St.updateQueue,i===null&&(i=nu(),St.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(r=a.next,a.next=t,t.next=r,i.lastEffect=t),t}function Us(){return{destroy:void 0,resource:void 0}}function Dh(){return jt().memoizedState}function Is(t,i,a,r){var f=be();r=r===void 0?null:r,St.flags|=t,f.memoizedState=ao(1|i,Us(),a,r)}function ra(t,i,a,r){var f=jt();r=r===void 0?null:r;var g=f.memoizedState.inst;Lt!==null&&r!==null&&$r(r,Lt.memoizedState.deps)?f.memoizedState=ao(i,g,a,r):(St.flags|=t,f.memoizedState=ao(1|i,g,a,r))}function wh(t,i){Is(8390656,8,t,i)}function Nh(t,i){ra(2048,8,t,i)}function Lh(t,i){return ra(4,2,t,i)}function Vh(t,i){return ra(4,4,t,i)}function Ph(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Bh(t,i,a){a=a!=null?a.concat([t]):null,ra(4,4,Ph.bind(null,i,t),a)}function ru(){}function Uh(t,i){var a=jt();i=i===void 0?null:i;var r=a.memoizedState;return i!==null&&$r(i,r[1])?r[0]:(a.memoizedState=[t,i],t)}function Ih(t,i){var a=jt();i=i===void 0?null:i;var r=a.memoizedState;if(i!==null&&$r(i,r[1]))return r[0];if(r=t(),bi){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[r,i],r}function uu(t,i,a){return a===void 0||(zn&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Op(),St.lanes|=t,Yn|=t,a)}function zh(t,i,a,r){return we(a,i)?a:no.current!==null?(t=uu(t,a,r),we(t,i)||(oe=!0),t):(zn&42)===0?(oe=!0,t.memoizedState=a):(t=Op(),St.lanes|=t,Yn|=t,i)}function kh(t,i,a,r,f){var g=q.p;q.p=g!==0&&8>g?g:8;var S=P.T,b={};P.T=b,du(t,!1,i,a);try{var M=f(),B=P.S;if(B!==null&&B(b,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var O=wS(M,r);ua(t,i,O,Be(t))}else ua(t,i,r,Be(t))}catch(Y){ua(t,i,{then:function(){},status:"rejected",reason:Y},Be())}finally{q.p=g,P.T=S}}function BS(){}function cu(t,i,a,r){if(t.tag!==5)throw Error(s(476));var f=Oh(t).queue;kh(t,f,i,$,a===null?BS:function(){return qh(t),a(r)})}function Oh(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:$},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function qh(t){var i=Oh(t).next.queue;ua(t,i,{},Be())}function fu(){return de(_a)}function Gh(){return jt().memoizedState}function Hh(){return jt().memoizedState}function US(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Be();t=Un(a);var r=In(i,t,a);r!==null&&(Ue(r,i,a),ia(r,i,a)),i={cache:qr()},t.payload=i;return}i=i.return}}function IS(t,i,a){var r=Be();a={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},zs(t)?Yh(i,a):(a=Nr(t,i,a,r),a!==null&&(Ue(a,t,r),Kh(a,i,r)))}function Fh(t,i,a){var r=Be();ua(t,i,a,r)}function ua(t,i,a,r){var f={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(zs(t))Yh(i,f);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var S=i.lastRenderedState,b=g(S,a);if(f.hasEagerState=!0,f.eagerState=b,we(b,S))return Es(t,i,f,0),It===null&&Ss(),!1}catch{}finally{}if(a=Nr(t,i,f,r),a!==null)return Ue(a,t,r),Kh(a,i,r),!0}return!1}function du(t,i,a,r){if(r={lane:2,revertLane:Fu(),action:r,hasEagerState:!1,eagerState:null,next:null},zs(t)){if(i)throw Error(s(479))}else i=Nr(t,a,r,2),i!==null&&Ue(i,t,2)}function zs(t){var i=t.alternate;return t===St||i!==null&&i===St}function Yh(t,i){io=Ls=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Kh(t,i,a){if((a&4194048)!==0){var r=i.lanes;r&=t.pendingLanes,a|=r,i.lanes=a,td(t,a)}}var ks={readContext:de,use:Ps,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt},Qh={readContext:de,use:Ps,useCallback:function(t,i){return be().memoizedState=[t,i===void 0?null:i],t},useContext:de,useEffect:wh,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Is(4194308,4,Ph.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Is(4194308,4,t,i)},useInsertionEffect:function(t,i){Is(4,2,t,i)},useMemo:function(t,i){var a=be();i=i===void 0?null:i;var r=t();if(bi){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[r,i],r},useReducer:function(t,i,a){var r=be();if(a!==void 0){var f=a(i);if(bi){Nn(!0);try{a(i)}finally{Nn(!1)}}}else f=i;return r.memoizedState=r.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},r.queue=t,t=t.dispatch=IS.bind(null,St,t),[r.memoizedState,t]},useRef:function(t){var i=be();return t={current:t},i.memoizedState=t},useState:function(t){t=su(t);var i=t.queue,a=Fh.bind(null,St,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ru,useDeferredValue:function(t,i){var a=be();return uu(a,t,i)},useTransition:function(){var t=su(!1);return t=kh.bind(null,St,t.queue,!0,!1),be().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var r=St,f=be();if(Rt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),It===null)throw Error(s(349));(At&124)!==0||ph(r,i,a)}f.memoizedState=a;var g={value:a,getSnapshot:i};return f.queue=g,wh(gh.bind(null,r,g,t),[t]),r.flags|=2048,ao(9,Us(),mh.bind(null,r,g,a,i),null),a},useId:function(){var t=be(),i=It.identifierPrefix;if(Rt){var a=mn,r=pn;a=(r&~(1<<32-De(r)-1)).toString(32)+a,i=""+i+"R"+a,a=Vs++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=NS++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:fu,useFormState:Mh,useActionState:Mh,useOptimistic:function(t){var i=be();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=du.bind(null,St,!0,a),a.dispatch=i,[t,i]},useMemoCache:iu,useCacheRefresh:function(){return be().memoizedState=US.bind(null,St)}},Xh={readContext:de,use:Ps,useCallback:Uh,useContext:de,useEffect:Nh,useImperativeHandle:Bh,useInsertionEffect:Lh,useLayoutEffect:Vh,useMemo:Ih,useReducer:Bs,useRef:Dh,useState:function(){return Bs(vn)},useDebugValue:ru,useDeferredValue:function(t,i){var a=jt();return zh(a,Lt.memoizedState,t,i)},useTransition:function(){var t=Bs(vn)[0],i=jt().memoizedState;return[typeof t=="boolean"?t:la(t),i]},useSyncExternalStore:hh,useId:Gh,useHostTransitionStatus:fu,useFormState:xh,useActionState:xh,useOptimistic:function(t,i){var a=jt();return Th(a,Lt,t,i)},useMemoCache:iu,useCacheRefresh:Hh},zS={readContext:de,use:Ps,useCallback:Uh,useContext:de,useEffect:Nh,useImperativeHandle:Bh,useInsertionEffect:Lh,useLayoutEffect:Vh,useMemo:Ih,useReducer:au,useRef:Dh,useState:function(){return au(vn)},useDebugValue:ru,useDeferredValue:function(t,i){var a=jt();return Lt===null?uu(a,t,i):zh(a,Lt.memoizedState,t,i)},useTransition:function(){var t=au(vn)[0],i=jt().memoizedState;return[typeof t=="boolean"?t:la(t),i]},useSyncExternalStore:hh,useId:Gh,useHostTransitionStatus:fu,useFormState:Rh,useActionState:Rh,useOptimistic:function(t,i){var a=jt();return Lt!==null?Th(a,Lt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:iu,useCacheRefresh:Hh},so=null,ca=0;function Os(t){var i=ca;return ca+=1,so===null&&(so=[]),ah(so,t,i)}function fa(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function qs(t,i){throw i.$$typeof===T?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Zh(t){var i=t._init;return i(t._payload)}function Jh(t){function i(R,_){if(t){var V=R.deletions;V===null?(R.deletions=[_],R.flags|=16):V.push(_)}}function a(R,_){if(!t)return null;for(;_!==null;)i(R,_),_=_.sibling;return null}function r(R){for(var _=new Map;R!==null;)R.key!==null?_.set(R.key,R):_.set(R.index,R),R=R.sibling;return _}function f(R,_){return R=hn(R,_),R.index=0,R.sibling=null,R}function g(R,_,V){return R.index=V,t?(V=R.alternate,V!==null?(V=V.index,V<_?(R.flags|=67108866,_):V):(R.flags|=67108866,_)):(R.flags|=1048576,_)}function S(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function b(R,_,V,G){return _===null||_.tag!==6?(_=Vr(V,R.mode,G),_.return=R,_):(_=f(_,V),_.return=R,_)}function M(R,_,V,G){var at=V.type;return at===A?O(R,_,V.props.children,G,V.key):_!==null&&(_.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===H&&Zh(at)===_.type)?(_=f(_,V.props),fa(_,V),_.return=R,_):(_=Cs(V.type,V.key,V.props,null,R.mode,G),fa(_,V),_.return=R,_)}function B(R,_,V,G){return _===null||_.tag!==4||_.stateNode.containerInfo!==V.containerInfo||_.stateNode.implementation!==V.implementation?(_=Pr(V,R.mode,G),_.return=R,_):(_=f(_,V.children||[]),_.return=R,_)}function O(R,_,V,G,at){return _===null||_.tag!==7?(_=pi(V,R.mode,G,at),_.return=R,_):(_=f(_,V),_.return=R,_)}function Y(R,_,V){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Vr(""+_,R.mode,V),_.return=R,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case E:return V=Cs(_.type,_.key,_.props,null,R.mode,V),fa(V,_),V.return=R,V;case C:return _=Pr(_,R.mode,V),_.return=R,_;case H:var G=_._init;return _=G(_._payload),Y(R,_,V)}if(j(_)||Tt(_))return _=pi(_,R.mode,V,null),_.return=R,_;if(typeof _.then=="function")return Y(R,Os(_),V);if(_.$$typeof===N)return Y(R,_s(R,_),V);qs(R,_)}return null}function U(R,_,V,G){var at=_!==null?_.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return at!==null?null:b(R,_,""+V,G);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case E:return V.key===at?M(R,_,V,G):null;case C:return V.key===at?B(R,_,V,G):null;case H:return at=V._init,V=at(V._payload),U(R,_,V,G)}if(j(V)||Tt(V))return at!==null?null:O(R,_,V,G,null);if(typeof V.then=="function")return U(R,_,Os(V),G);if(V.$$typeof===N)return U(R,_,_s(R,V),G);qs(R,V)}return null}function I(R,_,V,G,at){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return R=R.get(V)||null,b(_,R,""+G,at);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return R=R.get(G.key===null?V:G.key)||null,M(_,R,G,at);case C:return R=R.get(G.key===null?V:G.key)||null,B(_,R,G,at);case H:var Et=G._init;return G=Et(G._payload),I(R,_,V,G,at)}if(j(G)||Tt(G))return R=R.get(V)||null,O(_,R,G,at,null);if(typeof G.then=="function")return I(R,_,V,Os(G),at);if(G.$$typeof===N)return I(R,_,V,_s(_,G),at);qs(_,G)}return null}function ht(R,_,V,G){for(var at=null,Et=null,st=_,ft=_=0,se=null;st!==null&&ft<V.length;ft++){st.index>ft?(se=st,st=null):se=st.sibling;var _t=U(R,st,V[ft],G);if(_t===null){st===null&&(st=se);break}t&&st&&_t.alternate===null&&i(R,st),_=g(_t,_,ft),Et===null?at=_t:Et.sibling=_t,Et=_t,st=se}if(ft===V.length)return a(R,st),Rt&&gi(R,ft),at;if(st===null){for(;ft<V.length;ft++)st=Y(R,V[ft],G),st!==null&&(_=g(st,_,ft),Et===null?at=st:Et.sibling=st,Et=st);return Rt&&gi(R,ft),at}for(st=r(st);ft<V.length;ft++)se=I(st,R,ft,V[ft],G),se!==null&&(t&&se.alternate!==null&&st.delete(se.key===null?ft:se.key),_=g(se,_,ft),Et===null?at=se:Et.sibling=se,Et=se);return t&&st.forEach(function(ti){return i(R,ti)}),Rt&&gi(R,ft),at}function ct(R,_,V,G){if(V==null)throw Error(s(151));for(var at=null,Et=null,st=_,ft=_=0,se=null,_t=V.next();st!==null&&!_t.done;ft++,_t=V.next()){st.index>ft?(se=st,st=null):se=st.sibling;var ti=U(R,st,_t.value,G);if(ti===null){st===null&&(st=se);break}t&&st&&ti.alternate===null&&i(R,st),_=g(ti,_,ft),Et===null?at=ti:Et.sibling=ti,Et=ti,st=se}if(_t.done)return a(R,st),Rt&&gi(R,ft),at;if(st===null){for(;!_t.done;ft++,_t=V.next())_t=Y(R,_t.value,G),_t!==null&&(_=g(_t,_,ft),Et===null?at=_t:Et.sibling=_t,Et=_t);return Rt&&gi(R,ft),at}for(st=r(st);!_t.done;ft++,_t=V.next())_t=I(st,R,ft,_t.value,G),_t!==null&&(t&&_t.alternate!==null&&st.delete(_t.key===null?ft:_t.key),_=g(_t,_,ft),Et===null?at=_t:Et.sibling=_t,Et=_t);return t&&st.forEach(function(kE){return i(R,kE)}),Rt&&gi(R,ft),at}function Pt(R,_,V,G){if(typeof V=="object"&&V!==null&&V.type===A&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case E:t:{for(var at=V.key;_!==null;){if(_.key===at){if(at=V.type,at===A){if(_.tag===7){a(R,_.sibling),G=f(_,V.props.children),G.return=R,R=G;break t}}else if(_.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===H&&Zh(at)===_.type){a(R,_.sibling),G=f(_,V.props),fa(G,V),G.return=R,R=G;break t}a(R,_);break}else i(R,_);_=_.sibling}V.type===A?(G=pi(V.props.children,R.mode,G,V.key),G.return=R,R=G):(G=Cs(V.type,V.key,V.props,null,R.mode,G),fa(G,V),G.return=R,R=G)}return S(R);case C:t:{for(at=V.key;_!==null;){if(_.key===at)if(_.tag===4&&_.stateNode.containerInfo===V.containerInfo&&_.stateNode.implementation===V.implementation){a(R,_.sibling),G=f(_,V.children||[]),G.return=R,R=G;break t}else{a(R,_);break}else i(R,_);_=_.sibling}G=Pr(V,R.mode,G),G.return=R,R=G}return S(R);case H:return at=V._init,V=at(V._payload),Pt(R,_,V,G)}if(j(V))return ht(R,_,V,G);if(Tt(V)){if(at=Tt(V),typeof at!="function")throw Error(s(150));return V=at.call(V),ct(R,_,V,G)}if(typeof V.then=="function")return Pt(R,_,Os(V),G);if(V.$$typeof===N)return Pt(R,_,_s(R,V),G);qs(R,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,_!==null&&_.tag===6?(a(R,_.sibling),G=f(_,V),G.return=R,R=G):(a(R,_),G=Vr(V,R.mode,G),G.return=R,R=G),S(R)):a(R,_)}return function(R,_,V,G){try{ca=0;var at=Pt(R,_,V,G);return so=null,at}catch(st){if(st===ea||st===Ds)throw st;var Et=Ne(29,st,null,R.mode);return Et.lanes=G,Et.return=R,Et}finally{}}}var lo=Jh(!0),$h=Jh(!1),He=Q(null),nn=null;function kn(t){var i=t.alternate;W(ne,ne.current&1),W(He,t),nn===null&&(i===null||no.current!==null||i.memoizedState!==null)&&(nn=t)}function Wh(t){if(t.tag===22){if(W(ne,ne.current),W(He,t),nn===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(nn=t)}}else On()}function On(){W(ne,ne.current),W(He,He.current)}function Tn(t){nt(He),nn===t&&(nn=null),nt(ne)}var ne=Q(0);function Gs(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||nc(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function hu(t,i,a,r){i=t.memoizedState,a=a(r,i),a=a==null?i:v({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var pu={enqueueSetState:function(t,i,a){t=t._reactInternals;var r=Be(),f=Un(r);f.payload=i,a!=null&&(f.callback=a),i=In(t,f,r),i!==null&&(Ue(i,t,r),ia(i,t,r))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var r=Be(),f=Un(r);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=In(t,f,r),i!==null&&(Ue(i,t,r),ia(i,t,r))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Be(),r=Un(a);r.tag=2,i!=null&&(r.callback=i),i=In(t,r,a),i!==null&&(Ue(i,t,a),ia(i,t,a))}};function jh(t,i,a,r,f,g,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,g,S):i.prototype&&i.prototype.isPureReactComponent?!Qo(a,r)||!Qo(f,g):!0}function tp(t,i,a,r){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,r),i.state!==t&&pu.enqueueReplaceState(i,i.state,null)}function Ci(t,i){var a=i;if("ref"in i){a={};for(var r in i)r!=="ref"&&(a[r]=i[r])}if(t=t.defaultProps){a===i&&(a=v({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var Hs=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ep(t){Hs(t)}function np(t){console.error(t)}function ip(t){Hs(t)}function Fs(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function op(t,i,a){try{var r=t.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function mu(t,i,a){return a=Un(a),a.tag=3,a.payload={element:null},a.callback=function(){Fs(t,i)},a}function ap(t){return t=Un(t),t.tag=3,t}function sp(t,i,a,r){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var g=r.value;t.payload=function(){return f(g)},t.callback=function(){op(i,a,r)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){op(i,a,r),typeof f!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var b=r.stack;this.componentDidCatch(r.value,{componentStack:b!==null?b:""})})}function kS(t,i,a,r,f){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=a.alternate,i!==null&&Wo(i,a,f,!0),a=He.current,a!==null){switch(a.tag){case 13:return nn===null?ku():a.alternate===null&&Yt===0&&(Yt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,r===Fr?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([r]):i.add(r),qu(t,r,f)),!1;case 22:return a.flags|=65536,r===Fr?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([r]):a.add(r)),qu(t,r,f)),!1}throw Error(s(435,a.tag))}return qu(t,r,f),ku(),!1}if(Rt)return i=He.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,r!==Ir&&(t=Error(s(422),{cause:r}),$o(ke(t,a)))):(r!==Ir&&(i=Error(s(423),{cause:r}),$o(ke(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,r=ke(r,a),f=mu(t.stateNode,r,f),Qr(t,f),Yt!==4&&(Yt=2)),!1;var g=Error(s(520),{cause:r});if(g=ke(g,a),va===null?va=[g]:va.push(g),Yt!==4&&(Yt=2),i===null)return!0;r=ke(r,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=mu(a.stateNode,r,t),Qr(a,t),!1;case 1:if(i=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Kn===null||!Kn.has(g))))return a.flags|=65536,f&=-f,a.lanes|=f,f=ap(f),sp(f,t,a,r),Qr(a,f),!1}a=a.return}while(a!==null);return!1}var lp=Error(s(461)),oe=!1;function le(t,i,a,r){i.child=t===null?$h(i,null,a,r):lo(i,t.child,a,r)}function rp(t,i,a,r,f){a=a.render;var g=i.ref;if("ref"in r){var S={};for(var b in r)b!=="ref"&&(S[b]=r[b])}else S=r;return Si(i),r=Wr(t,i,a,S,g,f),b=jr(),t!==null&&!oe?(tu(t,i,f),Sn(t,i,f)):(Rt&&b&&Br(i),i.flags|=1,le(t,i,r,f),i.child)}function up(t,i,a,r,f){if(t===null){var g=a.type;return typeof g=="function"&&!Lr(g)&&g.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=g,cp(t,i,g,r,f)):(t=Cs(a.type,null,r,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(g=t.child,!Cu(t,f)){var S=g.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(S,r)&&t.ref===i.ref)return Sn(t,i,f)}return i.flags|=1,t=hn(g,r),t.ref=i.ref,t.return=i,i.child=t}function cp(t,i,a,r,f){if(t!==null){var g=t.memoizedProps;if(Qo(g,r)&&t.ref===i.ref)if(oe=!1,i.pendingProps=r=g,Cu(t,f))(t.flags&131072)!==0&&(oe=!0);else return i.lanes=t.lanes,Sn(t,i,f)}return gu(t,i,a,r,f)}function fp(t,i,a){var r=i.pendingProps,f=r.children,g=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if((i.flags&128)!==0){if(r=g!==null?g.baseLanes|a:a,t!==null){for(f=i.child=t.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;i.childLanes=g&~r}else i.childLanes=0,i.child=null;return dp(t,i,r,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Rs(i,g!==null?g.cachePool:null),g!==null?ch(i,g):Zr(),Wh(i);else return i.lanes=i.childLanes=536870912,dp(t,i,g!==null?g.baseLanes|a:a,a)}else g!==null?(Rs(i,g.cachePool),ch(i,g),On(),i.memoizedState=null):(t!==null&&Rs(i,null),Zr(),On());return le(t,i,f,a),i.child}function dp(t,i,a,r){var f=Hr();return f=f===null?null:{parent:ee._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Rs(i,null),Zr(),Wh(i),t!==null&&Wo(t,i,r,!0),null}function Ys(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function gu(t,i,a,r,f){return Si(i),a=Wr(t,i,a,r,void 0,f),r=jr(),t!==null&&!oe?(tu(t,i,f),Sn(t,i,f)):(Rt&&r&&Br(i),i.flags|=1,le(t,i,a,f),i.child)}function hp(t,i,a,r,f,g){return Si(i),i.updateQueue=null,a=dh(i,r,a,f),fh(t),r=jr(),t!==null&&!oe?(tu(t,i,g),Sn(t,i,g)):(Rt&&r&&Br(i),i.flags|=1,le(t,i,a,g),i.child)}function pp(t,i,a,r,f){if(Si(i),i.stateNode===null){var g=$i,S=a.contextType;typeof S=="object"&&S!==null&&(g=de(S)),g=new a(r,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=pu,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=r,g.state=i.memoizedState,g.refs={},Yr(i),S=a.contextType,g.context=typeof S=="object"&&S!==null?de(S):$i,g.state=i.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(hu(i,a,S,r),g.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&pu.enqueueReplaceState(g,g.state,null),aa(i,r,g,f),oa(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(t===null){g=i.stateNode;var b=i.memoizedProps,M=Ci(a,b);g.props=M;var B=g.context,O=a.contextType;S=$i,typeof O=="object"&&O!==null&&(S=de(O));var Y=a.getDerivedStateFromProps;O=typeof Y=="function"||typeof g.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,O||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b||B!==S)&&tp(i,g,r,S),Bn=!1;var U=i.memoizedState;g.state=U,aa(i,r,g,f),oa(),B=i.memoizedState,b||U!==B||Bn?(typeof Y=="function"&&(hu(i,a,Y,r),B=i.memoizedState),(M=Bn||jh(i,a,M,r,U,B,S))?(O||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=B),g.props=r,g.state=B,g.context=S,r=M):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{g=i.stateNode,Kr(t,i),S=i.memoizedProps,O=Ci(a,S),g.props=O,Y=i.pendingProps,U=g.context,B=a.contextType,M=$i,typeof B=="object"&&B!==null&&(M=de(B)),b=a.getDerivedStateFromProps,(B=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==Y||U!==M)&&tp(i,g,r,M),Bn=!1,U=i.memoizedState,g.state=U,aa(i,r,g,f),oa();var I=i.memoizedState;S!==Y||U!==I||Bn||t!==null&&t.dependencies!==null&&xs(t.dependencies)?(typeof b=="function"&&(hu(i,a,b,r),I=i.memoizedState),(O=Bn||jh(i,a,O,r,U,I,M)||t!==null&&t.dependencies!==null&&xs(t.dependencies))?(B||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(r,I,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(r,I,M)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=I),g.props=r,g.state=I,g.context=M,r=O):(typeof g.componentDidUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(i.flags|=1024),r=!1)}return g=r,Ys(t,i),r=(i.flags&128)!==0,g||r?(g=i.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,t!==null&&r?(i.child=lo(i,t.child,null,f),i.child=lo(i,null,a,f)):le(t,i,a,f),i.memoizedState=g.state,t=i.child):t=Sn(t,i,f),t}function mp(t,i,a,r){return Jo(),i.flags|=256,le(t,i,a,r),i.child}var yu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vu(t){return{baseLanes:t,cachePool:nh()}}function Tu(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Fe),t}function gp(t,i,a){var r=i.pendingProps,f=!1,g=(i.flags&128)!==0,S;if((S=g)||(S=t!==null&&t.memoizedState===null?!1:(ne.current&2)!==0),S&&(f=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,t===null){if(Rt){if(f?kn(i):On(),Rt){var b=Ft,M;if(M=b){t:{for(M=b,b=en;M.nodeType!==8;){if(!b){b=null;break t}if(M=$e(M.nextSibling),M===null){b=null;break t}}b=M}b!==null?(i.memoizedState={dehydrated:b,treeContext:mi!==null?{id:pn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},M=Ne(18,null,null,0),M.stateNode=b,M.return=i,i.child=M,ge=i,Ft=null,M=!0):M=!1}M||vi(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return nc(b)?i.lanes=32:i.lanes=536870912,null;Tn(i)}return b=r.children,r=r.fallback,f?(On(),f=i.mode,b=Ks({mode:"hidden",children:b},f),r=pi(r,f,a,null),b.return=i,r.return=i,b.sibling=r,i.child=b,f=i.child,f.memoizedState=vu(a),f.childLanes=Tu(t,S,a),i.memoizedState=yu,r):(kn(i),Su(i,b))}if(M=t.memoizedState,M!==null&&(b=M.dehydrated,b!==null)){if(g)i.flags&256?(kn(i),i.flags&=-257,i=Eu(t,i,a)):i.memoizedState!==null?(On(),i.child=t.child,i.flags|=128,i=null):(On(),f=r.fallback,b=i.mode,r=Ks({mode:"visible",children:r.children},b),f=pi(f,b,a,null),f.flags|=2,r.return=i,f.return=i,r.sibling=f,i.child=r,lo(i,t.child,null,a),r=i.child,r.memoizedState=vu(a),r.childLanes=Tu(t,S,a),i.memoizedState=yu,i=f);else if(kn(i),nc(b)){if(S=b.nextSibling&&b.nextSibling.dataset,S)var B=S.dgst;S=B,r=Error(s(419)),r.stack="",r.digest=S,$o({value:r,source:null,stack:null}),i=Eu(t,i,a)}else if(oe||Wo(t,i,a,!1),S=(a&t.childLanes)!==0,oe||S){if(S=It,S!==null&&(r=a&-a,r=(r&42)!==0?1:ir(r),r=(r&(S.suspendedLanes|a))!==0?0:r,r!==0&&r!==M.retryLane))throw M.retryLane=r,Ji(t,r),Ue(S,t,r),lp;b.data==="$?"||ku(),i=Eu(t,i,a)}else b.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=M.treeContext,Ft=$e(b.nextSibling),ge=i,Rt=!0,yi=null,en=!1,t!==null&&(qe[Ge++]=pn,qe[Ge++]=mn,qe[Ge++]=mi,pn=t.id,mn=t.overflow,mi=i),i=Su(i,r.children),i.flags|=4096);return i}return f?(On(),f=r.fallback,b=i.mode,M=t.child,B=M.sibling,r=hn(M,{mode:"hidden",children:r.children}),r.subtreeFlags=M.subtreeFlags&65011712,B!==null?f=hn(B,f):(f=pi(f,b,a,null),f.flags|=2),f.return=i,r.return=i,r.sibling=f,i.child=r,r=f,f=i.child,b=t.child.memoizedState,b===null?b=vu(a):(M=b.cachePool,M!==null?(B=ee._currentValue,M=M.parent!==B?{parent:B,pool:B}:M):M=nh(),b={baseLanes:b.baseLanes|a,cachePool:M}),f.memoizedState=b,f.childLanes=Tu(t,S,a),i.memoizedState=yu,r):(kn(i),a=t.child,t=a.sibling,a=hn(a,{mode:"visible",children:r.children}),a.return=i,a.sibling=null,t!==null&&(S=i.deletions,S===null?(i.deletions=[t],i.flags|=16):S.push(t)),i.child=a,i.memoizedState=null,a)}function Su(t,i){return i=Ks({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ks(t,i){return t=Ne(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Eu(t,i,a){return lo(i,t.child,null,a),t=Su(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function yp(t,i,a){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i),kr(t.return,i,a)}function bu(t,i,a,r,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=r,g.tail=a,g.tailMode=f)}function vp(t,i,a){var r=i.pendingProps,f=r.revealOrder,g=r.tail;if(le(t,i,r.children,a),r=ne.current,(r&2)!==0)r=r&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yp(t,a,i);else if(t.tag===19)yp(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break t;for(;t.sibling===null;){if(t.return===null||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(W(ne,r),f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&Gs(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),bu(i,!1,f,a,g);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Gs(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}bu(i,!0,a,null,g);break;case"together":bu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Sn(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Yn|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Wo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=hn(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=hn(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Cu(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&xs(t)))}function OS(t,i,a){switch(i.tag){case 3:kt(i,i.stateNode.containerInfo),Pn(i,ee,t.memoizedState.cache),Jo();break;case 27:case 5:Wl(i);break;case 4:kt(i,i.stateNode.containerInfo);break;case 10:Pn(i,i.type,i.memoizedProps.value);break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(kn(i),i.flags|=128,null):(a&i.child.childLanes)!==0?gp(t,i,a):(kn(i),t=Sn(t,i,a),t!==null?t.sibling:null);kn(i);break;case 19:var f=(t.flags&128)!==0;if(r=(a&i.childLanes)!==0,r||(Wo(t,i,a,!1),r=(a&i.childLanes)!==0),f){if(r)return vp(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),W(ne,ne.current),r)break;return null;case 22:case 23:return i.lanes=0,fp(t,i,a);case 24:Pn(i,ee,t.memoizedState.cache)}return Sn(t,i,a)}function Tp(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)oe=!0;else{if(!Cu(t,a)&&(i.flags&128)===0)return oe=!1,OS(t,i,a);oe=(t.flags&131072)!==0}else oe=!1,Rt&&(i.flags&1048576)!==0&&Zd(i,Ms,i.index);switch(i.lanes=0,i.tag){case 16:t:{t=i.pendingProps;var r=i.elementType,f=r._init;if(r=f(r._payload),i.type=r,typeof r=="function")Lr(r)?(t=Ci(r,t),i.tag=1,i=pp(null,i,r,t,a)):(i.tag=0,i=gu(null,i,r,t,a));else{if(r!=null){if(f=r.$$typeof,f===K){i.tag=11,i=rp(null,i,r,t,a);break t}else if(f===Z){i.tag=14,i=up(null,i,r,t,a);break t}}throw i=J(r)||r,Error(s(306,i,""))}}return i;case 0:return gu(t,i,i.type,i.pendingProps,a);case 1:return r=i.type,f=Ci(r,i.pendingProps),pp(t,i,r,f,a);case 3:t:{if(kt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));r=i.pendingProps;var g=i.memoizedState;f=g.element,Kr(t,i),aa(i,r,null,a);var S=i.memoizedState;if(r=S.cache,Pn(i,ee,r),r!==g.cache&&Or(i,[ee],a,!0),oa(),r=S.element,g.isDehydrated)if(g={element:r,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=mp(t,i,r,a);break t}else if(r!==f){f=ke(Error(s(424)),i),$o(f),i=mp(t,i,r,a);break t}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ft=$e(t.firstChild),ge=i,Rt=!0,yi=null,en=!0,a=$h(i,null,r,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Jo(),r===f){i=Sn(t,i,a);break t}le(t,i,r,a)}i=i.child}return i;case 26:return Ys(t,i),t===null?(a=Cm(i.type,null,i.pendingProps,null))?i.memoizedState=a:Rt||(a=i.type,t=i.pendingProps,r=sl(mt.current).createElement(a),r[fe]=i,r[Se]=t,ue(r,a,t),ie(r),i.stateNode=r):i.memoizedState=Cm(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Wl(i),t===null&&Rt&&(r=i.stateNode=Sm(i.type,i.pendingProps,mt.current),ge=i,en=!0,f=Ft,Zn(i.type)?(ic=f,Ft=$e(r.firstChild)):Ft=f),le(t,i,i.pendingProps.children,a),Ys(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Rt&&((f=r=Ft)&&(r=pE(r,i.type,i.pendingProps,en),r!==null?(i.stateNode=r,ge=i,Ft=$e(r.firstChild),en=!1,f=!0):f=!1),f||vi(i)),Wl(i),f=i.type,g=i.pendingProps,S=t!==null?t.memoizedProps:null,r=g.children,ju(f,g)?r=null:S!==null&&ju(f,S)&&(i.flags|=32),i.memoizedState!==null&&(f=Wr(t,i,LS,null,null,a),_a._currentValue=f),Ys(t,i),le(t,i,r,a),i.child;case 6:return t===null&&Rt&&((t=a=Ft)&&(a=mE(a,i.pendingProps,en),a!==null?(i.stateNode=a,ge=i,Ft=null,t=!0):t=!1),t||vi(i)),null;case 13:return gp(t,i,a);case 4:return kt(i,i.stateNode.containerInfo),r=i.pendingProps,t===null?i.child=lo(i,null,r,a):le(t,i,r,a),i.child;case 11:return rp(t,i,i.type,i.pendingProps,a);case 7:return le(t,i,i.pendingProps,a),i.child;case 8:return le(t,i,i.pendingProps.children,a),i.child;case 12:return le(t,i,i.pendingProps.children,a),i.child;case 10:return r=i.pendingProps,Pn(i,i.type,r.value),le(t,i,r.children,a),i.child;case 9:return f=i.type._context,r=i.pendingProps.children,Si(i),f=de(f),r=r(f),i.flags|=1,le(t,i,r,a),i.child;case 14:return up(t,i,i.type,i.pendingProps,a);case 15:return cp(t,i,i.type,i.pendingProps,a);case 19:return vp(t,i,a);case 31:return r=i.pendingProps,a=i.mode,r={mode:r.mode,children:r.children},t===null?(a=Ks(r,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=hn(t.child,r),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return fp(t,i,a);case 24:return Si(i),r=de(ee),t===null?(f=Hr(),f===null&&(f=It,g=qr(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=a),f=g),i.memoizedState={parent:r,cache:f},Yr(i),Pn(i,ee,f)):((t.lanes&a)!==0&&(Kr(t,i),aa(i,null,null,a),oa()),f=t.memoizedState,g=i.memoizedState,f.parent!==r?(f={parent:r,cache:r},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Pn(i,ee,r)):(r=g.cache,Pn(i,ee,r),r!==f.cache&&Or(i,[ee],a,!0))),le(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function En(t){t.flags|=4}function Sp(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Rm(i)){if(i=He.current,i!==null&&((At&4194048)===At?nn!==null:(At&62914560)!==At&&(At&536870912)===0||i!==nn))throw na=Fr,ih;t.flags|=8192}}function Qs(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Wf():536870912,t.lanes|=i,fo|=i)}function da(t,i){if(!Rt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,r=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,r|=f.subtreeFlags&65011712,r|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,r|=f.subtreeFlags,r|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=r,t.childLanes=a,i}function qS(t,i,a){var r=i.pendingProps;switch(Ur(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(i),null;case 1:return Gt(i),null;case 3:return a=i.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),yn(ee),wn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Zo(i)?En(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Wd())),Gt(i),null;case 26:return a=i.memoizedState,t===null?(En(i),a!==null?(Gt(i),Sp(i,a)):(Gt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(En(i),Gt(i),Sp(i,a)):(Gt(i),i.flags&=-16777217):(t.memoizedProps!==r&&En(i),Gt(i),i.flags&=-16777217),null;case 27:os(i),a=mt.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==r&&En(i);else{if(!r){if(i.stateNode===null)throw Error(s(166));return Gt(i),null}t=ut.current,Zo(i)?Jd(i):(t=Sm(f,r,a),i.stateNode=t,En(i))}return Gt(i),null;case 5:if(os(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==r&&En(i);else{if(!r){if(i.stateNode===null)throw Error(s(166));return Gt(i),null}if(t=ut.current,Zo(i))Jd(i);else{switch(f=sl(mt.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?f.createElement("select",{is:r.is}):f.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?f.createElement(a,{is:r.is}):f.createElement(a)}}t[fe]=i,t[Se]=r;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;t:switch(ue(t,a,r),a){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&En(i)}}return Gt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==r&&En(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(s(166));if(t=mt.current,Zo(i)){if(t=i.stateNode,a=i.memoizedProps,r=null,f=ge,f!==null)switch(f.tag){case 27:case 5:r=f.memoizedProps}t[fe]=i,t=!!(t.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||hm(t.nodeValue,a)),t||vi(i)}else t=sl(t).createTextNode(r),t[fe]=i,i.stateNode=t}return Gt(i),null;case 13:if(r=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Zo(i),r!==null&&r.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[fe]=i}else Jo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Gt(i),f=!1}else f=Wd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Tn(i),i):(Tn(i),null)}if(Tn(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=r!==null,t=t!==null&&t.memoizedState!==null,a){r=i.child,f=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(f=r.alternate.memoizedState.cachePool.pool);var g=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(g=r.memoizedState.cachePool.pool),g!==f&&(r.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Qs(i,i.updateQueue),Gt(i),null;case 4:return wn(),t===null&&Xu(i.stateNode.containerInfo),Gt(i),null;case 10:return yn(i.type),Gt(i),null;case 19:if(nt(ne),f=i.memoizedState,f===null)return Gt(i),null;if(r=(i.flags&128)!==0,g=f.rendering,g===null)if(r)da(f,!1);else{if(Yt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(g=Gs(t),g!==null){for(i.flags|=128,da(f,!1),t=g.updateQueue,i.updateQueue=t,Qs(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Xd(a,t),a=a.sibling;return W(ne,ne.current&1|2),i.child}t=t.sibling}f.tail!==null&&tn()>Js&&(i.flags|=128,r=!0,da(f,!1),i.lanes=4194304)}else{if(!r)if(t=Gs(g),t!==null){if(i.flags|=128,r=!0,t=t.updateQueue,i.updateQueue=t,Qs(i,t),da(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Rt)return Gt(i),null}else 2*tn()-f.renderingStartTime>Js&&a!==536870912&&(i.flags|=128,r=!0,da(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(t=f.last,t!==null?t.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=tn(),i.sibling=null,t=ne.current,W(ne,r?t&1|2:t&1),i):(Gt(i),null);case 22:case 23:return Tn(i),Jr(),r=i.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(a&536870912)!==0&&(i.flags&128)===0&&(Gt(i),i.subtreeFlags&6&&(i.flags|=8192)):Gt(i),a=i.updateQueue,a!==null&&Qs(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(i.flags|=2048),t!==null&&nt(Ei),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),yn(ee),Gt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function GS(t,i){switch(Ur(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return yn(ee),wn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return os(i),null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Jo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return nt(ne),null;case 4:return wn(),null;case 10:return yn(i.type),null;case 22:case 23:return Tn(i),Jr(),t!==null&&nt(Ei),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return yn(ee),null;case 25:return null;default:return null}}function Ep(t,i){switch(Ur(i),i.tag){case 3:yn(ee),wn();break;case 26:case 27:case 5:os(i);break;case 4:wn();break;case 13:Tn(i);break;case 19:nt(ne);break;case 10:yn(i.type);break;case 22:case 23:Tn(i),Jr(),t!==null&&nt(Ei);break;case 24:yn(ee)}}function ha(t,i){try{var a=i.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var f=r.next;a=f;do{if((a.tag&t)===t){r=void 0;var g=a.create,S=a.inst;r=g(),S.destroy=r}a=a.next}while(a!==f)}}catch(b){Ut(i,i.return,b)}}function qn(t,i,a){try{var r=i.updateQueue,f=r!==null?r.lastEffect:null;if(f!==null){var g=f.next;r=g;do{if((r.tag&t)===t){var S=r.inst,b=S.destroy;if(b!==void 0){S.destroy=void 0,f=i;var M=a,B=b;try{B()}catch(O){Ut(f,M,O)}}}r=r.next}while(r!==g)}}catch(O){Ut(i,i.return,O)}}function bp(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{uh(i,a)}catch(r){Ut(t,t.return,r)}}}function Cp(t,i,a){a.props=Ci(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(r){Ut(t,i,r)}}function pa(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof a=="function"?t.refCleanup=a(r):a.current=r}}catch(f){Ut(t,i,f)}}function on(t,i){var a=t.ref,r=t.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(f){Ut(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ut(t,i,f)}else a.current=null}function Ap(t){var i=t.type,a=t.memoizedProps,r=t.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break t;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(f){Ut(t,t.return,f)}}function Au(t,i,a){try{var r=t.stateNode;uE(r,t.type,a,i),r[Se]=i}catch(f){Ut(t,t.return,f)}}function Mp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zn(t.type)||t.tag===4}function Mu(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Mp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zn(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xu(t,i,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=al));else if(r!==4&&(r===27&&Zn(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(xu(t,i,a),t=t.sibling;t!==null;)xu(t,i,a),t=t.sibling}function Xs(t,i,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(r!==4&&(r===27&&Zn(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Xs(t,i,a),t=t.sibling;t!==null;)Xs(t,i,a),t=t.sibling}function xp(t){var i=t.stateNode,a=t.memoizedProps;try{for(var r=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);ue(i,r,a),i[fe]=t,i[Se]=a}catch(g){Ut(t,t.return,g)}}var bn=!1,Zt=!1,_u=!1,_p=typeof WeakSet=="function"?WeakSet:Set,ae=null;function HS(t,i){if(t=t.containerInfo,$u=dl,t=zd(t),Mr(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var f=r.anchorOffset,g=r.focusNode;r=r.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break t}var S=0,b=-1,M=-1,B=0,O=0,Y=t,U=null;e:for(;;){for(var I;Y!==a||f!==0&&Y.nodeType!==3||(b=S+f),Y!==g||r!==0&&Y.nodeType!==3||(M=S+r),Y.nodeType===3&&(S+=Y.nodeValue.length),(I=Y.firstChild)!==null;)U=Y,Y=I;for(;;){if(Y===t)break e;if(U===a&&++B===f&&(b=S),U===g&&++O===r&&(M=S),(I=Y.nextSibling)!==null)break;Y=U,U=Y.parentNode}Y=I}a=b===-1||M===-1?null:{start:b,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wu={focusedElem:t,selectionRange:a},dl=!1,ae=i;ae!==null;)if(i=ae,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,ae=t;else for(;ae!==null;){switch(i=ae,g=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,a=i,f=g.memoizedProps,g=g.memoizedState,r=a.stateNode;try{var ht=Ci(a.type,f,a.elementType===a.type);t=r.getSnapshotBeforeUpdate(ht,g),r.__reactInternalSnapshotBeforeUpdate=t}catch(ct){Ut(a,a.return,ct)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)ec(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ec(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,ae=t;break}ae=i.return}}function Rp(t,i,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:Gn(t,a),r&4&&ha(5,a);break;case 1:if(Gn(t,a),r&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(S){Ut(a,a.return,S)}else{var f=Ci(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Ut(a,a.return,S)}}r&64&&bp(a),r&512&&pa(a,a.return);break;case 3:if(Gn(t,a),r&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{uh(t,i)}catch(S){Ut(a,a.return,S)}}break;case 27:i===null&&r&4&&xp(a);case 26:case 5:Gn(t,a),i===null&&r&4&&Ap(a),r&512&&pa(a,a.return);break;case 12:Gn(t,a);break;case 13:Gn(t,a),r&4&&Np(t,a),r&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=WS.bind(null,a),gE(t,a))));break;case 22:if(r=a.memoizedState!==null||bn,!r){i=i!==null&&i.memoizedState!==null||Zt,f=bn;var g=Zt;bn=r,(Zt=i)&&!g?Hn(t,a,(a.subtreeFlags&8772)!==0):Gn(t,a),bn=f,Zt=g}break;case 30:break;default:Gn(t,a)}}function Dp(t){var i=t.alternate;i!==null&&(t.alternate=null,Dp(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&sr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ot=null,Ce=!1;function Cn(t,i,a){for(a=a.child;a!==null;)wp(t,i,a),a=a.sibling}function wp(t,i,a){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(Bo,a)}catch{}switch(a.tag){case 26:Zt||on(a,i),Cn(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Zt||on(a,i);var r=Ot,f=Ce;Zn(a.type)&&(Ot=a.stateNode,Ce=!1),Cn(t,i,a),Ca(a.stateNode),Ot=r,Ce=f;break;case 5:Zt||on(a,i);case 6:if(r=Ot,f=Ce,Ot=null,Cn(t,i,a),Ot=r,Ce=f,Ot!==null)if(Ce)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(a.stateNode)}catch(g){Ut(a,i,g)}else try{Ot.removeChild(a.stateNode)}catch(g){Ut(a,i,g)}break;case 18:Ot!==null&&(Ce?(t=Ot,vm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Na(t)):vm(Ot,a.stateNode));break;case 4:r=Ot,f=Ce,Ot=a.stateNode.containerInfo,Ce=!0,Cn(t,i,a),Ot=r,Ce=f;break;case 0:case 11:case 14:case 15:Zt||qn(2,a,i),Zt||qn(4,a,i),Cn(t,i,a);break;case 1:Zt||(on(a,i),r=a.stateNode,typeof r.componentWillUnmount=="function"&&Cp(a,i,r)),Cn(t,i,a);break;case 21:Cn(t,i,a);break;case 22:Zt=(r=Zt)||a.memoizedState!==null,Cn(t,i,a),Zt=r;break;default:Cn(t,i,a)}}function Np(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Na(t)}catch(a){Ut(i,i.return,a)}}function FS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new _p),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new _p),i;default:throw Error(s(435,t.tag))}}function Ru(t,i){var a=FS(t);i.forEach(function(r){var f=jS.bind(null,t,r);a.has(r)||(a.add(r),r.then(f,f))})}function Le(t,i){var a=i.deletions;if(a!==null)for(var r=0;r<a.length;r++){var f=a[r],g=t,S=i,b=S;t:for(;b!==null;){switch(b.tag){case 27:if(Zn(b.type)){Ot=b.stateNode,Ce=!1;break t}break;case 5:Ot=b.stateNode,Ce=!1;break t;case 3:case 4:Ot=b.stateNode.containerInfo,Ce=!0;break t}b=b.return}if(Ot===null)throw Error(s(160));wp(g,S,f),Ot=null,Ce=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Lp(i,t),i=i.sibling}var Je=null;function Lp(t,i){var a=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Le(i,t),Ve(t),r&4&&(qn(3,t,t.return),ha(3,t),qn(5,t,t.return));break;case 1:Le(i,t),Ve(t),r&512&&(Zt||a===null||on(a,a.return)),r&64&&bn&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var f=Je;if(Le(i,t),Ve(t),r&512&&(Zt||a===null||on(a,a.return)),r&4){var g=a!==null?a.memoizedState:null;if(r=t.memoizedState,a===null)if(r===null)if(t.stateNode===null){t:{r=t.type,a=t.memoizedProps,f=f.ownerDocument||f;e:switch(r){case"title":g=f.getElementsByTagName("title")[0],(!g||g[zo]||g[fe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(r),f.head.insertBefore(g,f.querySelector("head > title"))),ue(g,r,a),g[fe]=t,ie(g),r=g;break t;case"link":var S=xm("link","href",f).get(r+(a.href||""));if(S){for(var b=0;b<S.length;b++)if(g=S[b],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(b,1);break e}}g=f.createElement(r),ue(g,r,a),f.head.appendChild(g);break;case"meta":if(S=xm("meta","content",f).get(r+(a.content||""))){for(b=0;b<S.length;b++)if(g=S[b],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(b,1);break e}}g=f.createElement(r),ue(g,r,a),f.head.appendChild(g);break;default:throw Error(s(468,r))}g[fe]=t,ie(g),r=g}t.stateNode=r}else _m(f,t.type,t.stateNode);else t.stateNode=Mm(f,r,t.memoizedProps);else g!==r?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,r===null?_m(f,t.type,t.stateNode):Mm(f,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Au(t,t.memoizedProps,a.memoizedProps)}break;case 27:Le(i,t),Ve(t),r&512&&(Zt||a===null||on(a,a.return)),a!==null&&r&4&&Au(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Le(i,t),Ve(t),r&512&&(Zt||a===null||on(a,a.return)),t.flags&32){f=t.stateNode;try{Hi(f,"")}catch(I){Ut(t,t.return,I)}}r&4&&t.stateNode!=null&&(f=t.memoizedProps,Au(t,f,a!==null?a.memoizedProps:f)),r&1024&&(_u=!0);break;case 6:if(Le(i,t),Ve(t),r&4){if(t.stateNode===null)throw Error(s(162));r=t.memoizedProps,a=t.stateNode;try{a.nodeValue=r}catch(I){Ut(t,t.return,I)}}break;case 3:if(ul=null,f=Je,Je=ll(i.containerInfo),Le(i,t),Je=f,Ve(t),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Na(i.containerInfo)}catch(I){Ut(t,t.return,I)}_u&&(_u=!1,Vp(t));break;case 4:r=Je,Je=ll(t.stateNode.containerInfo),Le(i,t),Ve(t),Je=r;break;case 12:Le(i,t),Ve(t);break;case 13:Le(i,t),Ve(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pu=tn()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ru(t,r)));break;case 22:f=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,B=bn,O=Zt;if(bn=B||f,Zt=O||M,Le(i,t),Zt=O,bn=B,Ve(t),r&8192)t:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||M||bn||Zt||Ai(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){M=a=i;try{if(g=M.stateNode,f)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{b=M.stateNode;var Y=M.memoizedProps.style,U=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;b.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(I){Ut(M,M.return,I)}}}else if(i.tag===6){if(a===null){M=i;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(I){Ut(M,M.return,I)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=t.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Ru(t,a))));break;case 19:Le(i,t),Ve(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ru(t,r)));break;case 30:break;case 21:break;default:Le(i,t),Ve(t)}}function Ve(t){var i=t.flags;if(i&2){try{for(var a,r=t.return;r!==null;){if(Mp(r)){a=r;break}r=r.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,g=Mu(t);Xs(t,g,f);break;case 5:var S=a.stateNode;a.flags&32&&(Hi(S,""),a.flags&=-33);var b=Mu(t);Xs(t,b,S);break;case 3:case 4:var M=a.stateNode.containerInfo,B=Mu(t);xu(t,B,M);break;default:throw Error(s(161))}}catch(O){Ut(t,t.return,O)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Vp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Vp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Gn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Rp(t,i.alternate,i),i=i.sibling}function Ai(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:qn(4,i,i.return),Ai(i);break;case 1:on(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Cp(i,i.return,a),Ai(i);break;case 27:Ca(i.stateNode);case 26:case 5:on(i,i.return),Ai(i);break;case 22:i.memoizedState===null&&Ai(i);break;case 30:Ai(i);break;default:Ai(i)}t=t.sibling}}function Hn(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,f=t,g=i,S=g.flags;switch(g.tag){case 0:case 11:case 15:Hn(f,g,a),ha(4,g);break;case 1:if(Hn(f,g,a),r=g,f=r.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Ut(r,r.return,B)}if(r=g,f=r.updateQueue,f!==null){var b=r.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)rh(M[f],b)}catch(B){Ut(r,r.return,B)}}a&&S&64&&bp(g),pa(g,g.return);break;case 27:xp(g);case 26:case 5:Hn(f,g,a),a&&r===null&&S&4&&Ap(g),pa(g,g.return);break;case 12:Hn(f,g,a);break;case 13:Hn(f,g,a),a&&S&4&&Np(f,g);break;case 22:g.memoizedState===null&&Hn(f,g,a),pa(g,g.return);break;case 30:break;default:Hn(f,g,a)}i=i.sibling}}function Du(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&jo(a))}function wu(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&jo(t))}function an(t,i,a,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Pp(t,i,a,r),i=i.sibling}function Pp(t,i,a,r){var f=i.flags;switch(i.tag){case 0:case 11:case 15:an(t,i,a,r),f&2048&&ha(9,i);break;case 1:an(t,i,a,r);break;case 3:an(t,i,a,r),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&jo(t)));break;case 12:if(f&2048){an(t,i,a,r),t=i.stateNode;try{var g=i.memoizedProps,S=g.id,b=g.onPostCommit;typeof b=="function"&&b(S,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Ut(i,i.return,M)}}else an(t,i,a,r);break;case 13:an(t,i,a,r);break;case 23:break;case 22:g=i.stateNode,S=i.alternate,i.memoizedState!==null?g._visibility&2?an(t,i,a,r):ma(t,i):g._visibility&2?an(t,i,a,r):(g._visibility|=2,ro(t,i,a,r,(i.subtreeFlags&10256)!==0)),f&2048&&Du(S,i);break;case 24:an(t,i,a,r),f&2048&&wu(i.alternate,i);break;default:an(t,i,a,r)}}function ro(t,i,a,r,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=t,S=i,b=a,M=r,B=S.flags;switch(S.tag){case 0:case 11:case 15:ro(g,S,b,M,f),ha(8,S);break;case 23:break;case 22:var O=S.stateNode;S.memoizedState!==null?O._visibility&2?ro(g,S,b,M,f):ma(g,S):(O._visibility|=2,ro(g,S,b,M,f)),f&&B&2048&&Du(S.alternate,S);break;case 24:ro(g,S,b,M,f),f&&B&2048&&wu(S.alternate,S);break;default:ro(g,S,b,M,f)}i=i.sibling}}function ma(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,r=i,f=r.flags;switch(r.tag){case 22:ma(a,r),f&2048&&Du(r.alternate,r);break;case 24:ma(a,r),f&2048&&wu(r.alternate,r);break;default:ma(a,r)}i=i.sibling}}var ga=8192;function uo(t){if(t.subtreeFlags&ga)for(t=t.child;t!==null;)Bp(t),t=t.sibling}function Bp(t){switch(t.tag){case 26:uo(t),t.flags&ga&&t.memoizedState!==null&&DE(Je,t.memoizedState,t.memoizedProps);break;case 5:uo(t);break;case 3:case 4:var i=Je;Je=ll(t.stateNode.containerInfo),uo(t),Je=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ga,ga=16777216,uo(t),ga=i):uo(t));break;default:uo(t)}}function Up(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ya(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var r=i[a];ae=r,zp(r,t)}Up(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ip(t),t=t.sibling}function Ip(t){switch(t.tag){case 0:case 11:case 15:ya(t),t.flags&2048&&qn(9,t,t.return);break;case 3:ya(t);break;case 12:ya(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Zs(t)):ya(t);break;default:ya(t)}}function Zs(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var r=i[a];ae=r,zp(r,t)}Up(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:qn(8,i,i.return),Zs(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Zs(i));break;default:Zs(i)}t=t.sibling}}function zp(t,i){for(;ae!==null;){var a=ae;switch(a.tag){case 0:case 11:case 15:qn(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:jo(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,ae=r;else t:for(a=t;ae!==null;){r=ae;var f=r.sibling,g=r.return;if(Dp(r),r===a){ae=null;break t}if(f!==null){f.return=g,ae=f;break t}ae=g}}}var YS={getCacheForType:function(t){var i=de(ee),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},KS=typeof WeakMap=="function"?WeakMap:Map,Dt=0,It=null,bt=null,At=0,wt=0,Pe=null,Fn=!1,co=!1,Nu=!1,An=0,Yt=0,Yn=0,Mi=0,Lu=0,Fe=0,fo=0,va=null,Ae=null,Vu=!1,Pu=0,Js=1/0,$s=null,Kn=null,re=0,Qn=null,ho=null,po=0,Bu=0,Uu=null,kp=null,Ta=0,Iu=null;function Be(){if((Dt&2)!==0&&At!==0)return At&-At;if(P.T!==null){var t=to;return t!==0?t:Fu()}return ed()}function Op(){Fe===0&&(Fe=(At&536870912)===0||Rt?$f():536870912);var t=He.current;return t!==null&&(t.flags|=32),Fe}function Ue(t,i,a){(t===It&&(wt===2||wt===9)||t.cancelPendingCommit!==null)&&(mo(t,0),Xn(t,At,Fe,!1)),Io(t,a),((Dt&2)===0||t!==It)&&(t===It&&((Dt&2)===0&&(Mi|=a),Yt===4&&Xn(t,At,Fe,!1)),sn(t))}function qp(t,i,a){if((Dt&6)!==0)throw Error(s(327));var r=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Uo(t,i),f=r?ZS(t,i):Ou(t,i,!0),g=r;do{if(f===0){co&&!r&&Xn(t,i,0,!1);break}else{if(a=t.current.alternate,g&&!QS(a)){f=Ou(t,i,!1),g=!1;continue}if(f===2){if(g=i,t.errorRecoveryDisabledLanes&g)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;t:{var b=t;f=va;var M=b.current.memoizedState.isDehydrated;if(M&&(mo(b,S).flags|=256),S=Ou(b,S,!1),S!==2){if(Nu&&!M){b.errorRecoveryDisabledLanes|=g,Mi|=g,f=4;break t}g=Ae,Ae=f,g!==null&&(Ae===null?Ae=g:Ae.push.apply(Ae,g))}f=S}if(g=!1,f!==2)continue}}if(f===1){mo(t,0),Xn(t,i,0,!0);break}t:{switch(r=t,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Xn(r,i,Fe,!Fn);break t;case 2:Ae=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Pu+300-tn(),10<f)){if(Xn(r,i,Fe,!Fn),rs(r,0,!0)!==0)break t;r.timeoutHandle=gm(Gp.bind(null,r,a,Ae,$s,Vu,i,Fe,Mi,fo,Fn,g,2,-0,0),f);break t}Gp(r,a,Ae,$s,Vu,i,Fe,Mi,fo,Fn,g,0,-0,0)}}break}while(!0);sn(t)}function Gp(t,i,a,r,f,g,S,b,M,B,O,Y,U,I){if(t.timeoutHandle=-1,Y=i.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(xa={stylesheets:null,count:0,unsuspend:RE},Bp(i),Y=wE(),Y!==null)){t.cancelPendingCommit=Y(Zp.bind(null,t,i,g,a,r,f,S,b,M,O,1,U,I)),Xn(t,g,S,!B);return}Zp(t,i,g,a,r,f,S,b,M)}function QS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var f=a[r],g=f.getSnapshot;f=f.value;try{if(!we(g(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xn(t,i,a,r){i&=~Lu,i&=~Mi,t.suspendedLanes|=i,t.pingedLanes&=~i,r&&(t.warmLanes|=i),r=t.expirationTimes;for(var f=i;0<f;){var g=31-De(f),S=1<<g;r[g]=-1,f&=~S}a!==0&&jf(t,a,i)}function Ws(){return(Dt&6)===0?(Sa(0),!1):!0}function zu(){if(bt!==null){if(wt===0)var t=bt.return;else t=bt,gn=Ti=null,eu(t),so=null,ca=0,t=bt;for(;t!==null;)Ep(t.alternate,t),t=t.return;bt=null}}function mo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,fE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),zu(),It=t,bt=a=hn(t.current,null),At=i,wt=0,Pe=null,Fn=!1,co=Uo(t,i),Nu=!1,fo=Fe=Lu=Mi=Yn=Yt=0,Ae=va=null,Vu=!1,(i&8)!==0&&(i|=i&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=i;0<r;){var f=31-De(r),g=1<<f;i|=t[f],r&=~g}return An=i,Ss(),a}function Hp(t,i){St=null,P.H=ks,i===ea||i===Ds?(i=sh(),wt=3):i===ih?(i=sh(),wt=4):wt=i===lp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Pe=i,bt===null&&(Yt=1,Fs(t,ke(i,t.current)))}function Fp(){var t=P.H;return P.H=ks,t===null?ks:t}function Yp(){var t=P.A;return P.A=YS,t}function ku(){Yt=4,Fn||(At&4194048)!==At&&He.current!==null||(co=!0),(Yn&134217727)===0&&(Mi&134217727)===0||It===null||Xn(It,At,Fe,!1)}function Ou(t,i,a){var r=Dt;Dt|=2;var f=Fp(),g=Yp();(It!==t||At!==i)&&($s=null,mo(t,i)),i=!1;var S=Yt;t:do try{if(wt!==0&&bt!==null){var b=bt,M=Pe;switch(wt){case 8:zu(),S=6;break t;case 3:case 2:case 9:case 6:He.current===null&&(i=!0);var B=wt;if(wt=0,Pe=null,go(t,b,M,B),a&&co){S=0;break t}break;default:B=wt,wt=0,Pe=null,go(t,b,M,B)}}XS(),S=Yt;break}catch(O){Hp(t,O)}while(!0);return i&&t.shellSuspendCounter++,gn=Ti=null,Dt=r,P.H=f,P.A=g,bt===null&&(It=null,At=0,Ss()),S}function XS(){for(;bt!==null;)Kp(bt)}function ZS(t,i){var a=Dt;Dt|=2;var r=Fp(),f=Yp();It!==t||At!==i?($s=null,Js=tn()+500,mo(t,i)):co=Uo(t,i);t:do try{if(wt!==0&&bt!==null){i=bt;var g=Pe;e:switch(wt){case 1:wt=0,Pe=null,go(t,i,g,1);break;case 2:case 9:if(oh(g)){wt=0,Pe=null,Qp(i);break}i=function(){wt!==2&&wt!==9||It!==t||(wt=7),sn(t)},g.then(i,i);break t;case 3:wt=7;break t;case 4:wt=5;break t;case 7:oh(g)?(wt=0,Pe=null,Qp(i)):(wt=0,Pe=null,go(t,i,g,7));break;case 5:var S=null;switch(bt.tag){case 26:S=bt.memoizedState;case 5:case 27:var b=bt;if(!S||Rm(S)){wt=0,Pe=null;var M=b.sibling;if(M!==null)bt=M;else{var B=b.return;B!==null?(bt=B,js(B)):bt=null}break e}}wt=0,Pe=null,go(t,i,g,5);break;case 6:wt=0,Pe=null,go(t,i,g,6);break;case 8:zu(),Yt=6;break t;default:throw Error(s(462))}}JS();break}catch(O){Hp(t,O)}while(!0);return gn=Ti=null,P.H=r,P.A=f,Dt=a,bt!==null?0:(It=null,At=0,Ss(),Yt)}function JS(){for(;bt!==null&&!v0();)Kp(bt)}function Kp(t){var i=Tp(t.alternate,t,An);t.memoizedProps=t.pendingProps,i===null?js(t):bt=i}function Qp(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=hp(a,i,i.pendingProps,i.type,void 0,At);break;case 11:i=hp(a,i,i.pendingProps,i.type.render,i.ref,At);break;case 5:eu(i);default:Ep(a,i),i=bt=Xd(i,An),i=Tp(a,i,An)}t.memoizedProps=t.pendingProps,i===null?js(t):bt=i}function go(t,i,a,r){gn=Ti=null,eu(i),so=null,ca=0;var f=i.return;try{if(kS(t,f,i,a,At)){Yt=1,Fs(t,ke(a,t.current)),bt=null;return}}catch(g){if(f!==null)throw bt=f,g;Yt=1,Fs(t,ke(a,t.current)),bt=null;return}i.flags&32768?(Rt||r===1?t=!0:co||(At&536870912)!==0?t=!1:(Fn=t=!0,(r===2||r===9||r===3||r===6)&&(r=He.current,r!==null&&r.tag===13&&(r.flags|=16384))),Xp(i,t)):js(i)}function js(t){var i=t;do{if((i.flags&32768)!==0){Xp(i,Fn);return}t=i.return;var a=qS(i.alternate,i,An);if(a!==null){bt=a;return}if(i=i.sibling,i!==null){bt=i;return}bt=i=t}while(i!==null);Yt===0&&(Yt=5)}function Xp(t,i){do{var a=GS(t.alternate,t);if(a!==null){a.flags&=32767,bt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){bt=t;return}bt=t=a}while(t!==null);Yt=6,bt=null}function Zp(t,i,a,r,f,g,S,b,M){t.cancelPendingCommit=null;do tl();while(re!==0);if((Dt&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=wr,R0(t,a,g,S,b,M),t===It&&(bt=It=null,At=0),ho=i,Qn=t,po=a,Bu=g,Uu=f,kp=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tE(as,function(){return tm(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=P.T,P.T=null,f=q.p,q.p=2,S=Dt,Dt|=4;try{HS(t,i,a)}finally{Dt=S,q.p=f,P.T=r}}re=1,Jp(),$p(),Wp()}}function Jp(){if(re===1){re=0;var t=Qn,i=ho,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=P.T,P.T=null;var r=q.p;q.p=2;var f=Dt;Dt|=4;try{Lp(i,t);var g=Wu,S=zd(t.containerInfo),b=g.focusedElem,M=g.selectionRange;if(S!==b&&b&&b.ownerDocument&&Id(b.ownerDocument.documentElement,b)){if(M!==null&&Mr(b)){var B=M.start,O=M.end;if(O===void 0&&(O=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min(O,b.value.length);else{var Y=b.ownerDocument||document,U=Y&&Y.defaultView||window;if(U.getSelection){var I=U.getSelection(),ht=b.textContent.length,ct=Math.min(M.start,ht),Pt=M.end===void 0?ct:Math.min(M.end,ht);!I.extend&&ct>Pt&&(S=Pt,Pt=ct,ct=S);var R=Ud(b,ct),_=Ud(b,Pt);if(R&&_&&(I.rangeCount!==1||I.anchorNode!==R.node||I.anchorOffset!==R.offset||I.focusNode!==_.node||I.focusOffset!==_.offset)){var V=Y.createRange();V.setStart(R.node,R.offset),I.removeAllRanges(),ct>Pt?(I.addRange(V),I.extend(_.node,_.offset)):(V.setEnd(_.node,_.offset),I.addRange(V))}}}}for(Y=[],I=b;I=I.parentNode;)I.nodeType===1&&Y.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Y.length;b++){var G=Y[b];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}dl=!!$u,Wu=$u=null}finally{Dt=f,q.p=r,P.T=a}}t.current=i,re=2}}function $p(){if(re===2){re=0;var t=Qn,i=ho,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=P.T,P.T=null;var r=q.p;q.p=2;var f=Dt;Dt|=4;try{Rp(t,i.alternate,i)}finally{Dt=f,q.p=r,P.T=a}}re=3}}function Wp(){if(re===4||re===3){re=0,T0();var t=Qn,i=ho,a=po,r=kp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?re=5:(re=0,ho=Qn=null,jp(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Kn=null),or(a),i=i.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(Bo,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=P.T,f=q.p,q.p=2,P.T=null;try{for(var g=t.onRecoverableError,S=0;S<r.length;S++){var b=r[S];g(b.value,{componentStack:b.stack})}}finally{P.T=i,q.p=f}}(po&3)!==0&&tl(),sn(t),f=t.pendingLanes,(a&4194090)!==0&&(f&42)!==0?t===Iu?Ta++:(Ta=0,Iu=t):Ta=0,Sa(0)}}function jp(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,jo(i)))}function tl(t){return Jp(),$p(),Wp(),tm()}function tm(){if(re!==5)return!1;var t=Qn,i=Bu;Bu=0;var a=or(po),r=P.T,f=q.p;try{q.p=32>a?32:a,P.T=null,a=Uu,Uu=null;var g=Qn,S=po;if(re=0,ho=Qn=null,po=0,(Dt&6)!==0)throw Error(s(331));var b=Dt;if(Dt|=4,Ip(g.current),Pp(g,g.current,S,a),Dt=b,Sa(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(Bo,g)}catch{}return!0}finally{q.p=f,P.T=r,jp(t,i)}}function em(t,i,a){i=ke(a,i),i=mu(t.stateNode,i,2),t=In(t,i,2),t!==null&&(Io(t,2),sn(t))}function Ut(t,i,a){if(t.tag===3)em(t,t,a);else for(;i!==null;){if(i.tag===3){em(i,t,a);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kn===null||!Kn.has(r))){t=ke(a,t),a=ap(2),r=In(i,a,2),r!==null&&(sp(a,r,i,t),Io(r,2),sn(r));break}}i=i.return}}function qu(t,i,a){var r=t.pingCache;if(r===null){r=t.pingCache=new KS;var f=new Set;r.set(i,f)}else f=r.get(i),f===void 0&&(f=new Set,r.set(i,f));f.has(a)||(Nu=!0,f.add(a),t=$S.bind(null,t,i,a),i.then(t,t))}function $S(t,i,a){var r=t.pingCache;r!==null&&r.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,It===t&&(At&a)===a&&(Yt===4||Yt===3&&(At&62914560)===At&&300>tn()-Pu?(Dt&2)===0&&mo(t,0):Lu|=a,fo===At&&(fo=0)),sn(t)}function nm(t,i){i===0&&(i=Wf()),t=Ji(t,i),t!==null&&(Io(t,i),sn(t))}function WS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),nm(t,a)}function jS(t,i){var a=0;switch(t.tag){case 13:var r=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(i),nm(t,a)}function tE(t,i){return tr(t,i)}var el=null,yo=null,Gu=!1,nl=!1,Hu=!1,xi=0;function sn(t){t!==yo&&t.next===null&&(yo===null?el=yo=t:yo=yo.next=t),nl=!0,Gu||(Gu=!0,nE())}function Sa(t,i){if(!Hu&&nl){Hu=!0;do for(var a=!1,r=el;r!==null;){if(t!==0){var f=r.pendingLanes;if(f===0)var g=0;else{var S=r.suspendedLanes,b=r.pingedLanes;g=(1<<31-De(42|t)+1)-1,g&=f&~(S&~b),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,sm(r,g))}else g=At,g=rs(r,r===It?g:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(g&3)===0||Uo(r,g)||(a=!0,sm(r,g));r=r.next}while(a);Hu=!1}}function eE(){im()}function im(){nl=Gu=!1;var t=0;xi!==0&&(cE()&&(t=xi),xi=0);for(var i=tn(),a=null,r=el;r!==null;){var f=r.next,g=om(r,i);g===0?(r.next=null,a===null?el=f:a.next=f,f===null&&(yo=a)):(a=r,(t!==0||(g&3)!==0)&&(nl=!0)),r=f}Sa(t)}function om(t,i){for(var a=t.suspendedLanes,r=t.pingedLanes,f=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var S=31-De(g),b=1<<S,M=f[S];M===-1?((b&a)===0||(b&r)!==0)&&(f[S]=_0(b,i)):M<=i&&(t.expiredLanes|=b),g&=~b}if(i=It,a=At,a=rs(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,a===0||t===i&&(wt===2||wt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&er(r),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Uo(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(r!==null&&er(r),or(a)){case 2:case 8:a=Zf;break;case 32:a=as;break;case 268435456:a=Jf;break;default:a=as}return r=am.bind(null,t),a=tr(a,r),t.callbackPriority=i,t.callbackNode=a,i}return r!==null&&r!==null&&er(r),t.callbackPriority=2,t.callbackNode=null,2}function am(t,i){if(re!==0&&re!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(tl()&&t.callbackNode!==a)return null;var r=At;return r=rs(t,t===It?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(qp(t,r,i),om(t,tn()),t.callbackNode!=null&&t.callbackNode===a?am.bind(null,t):null)}function sm(t,i){if(tl())return null;qp(t,i,!0)}function nE(){dE(function(){(Dt&6)!==0?tr(Xf,eE):im()})}function Fu(){return xi===0&&(xi=$f()),xi}function lm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:hs(""+t)}function rm(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function iE(t,i,a,r,f){if(i==="submit"&&a&&a.stateNode===f){var g=lm((f[Se]||null).action),S=r.submitter;S&&(i=(i=S[Se]||null)?lm(i.formAction):S.getAttribute("formAction"),i!==null&&(g=i,S=null));var b=new ys("action","action",null,r,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(xi!==0){var M=S?rm(f,S):new FormData(f);cu(a,{pending:!0,data:M,method:f.method,action:g},null,M)}}else typeof g=="function"&&(b.preventDefault(),M=S?rm(f,S):new FormData(f),cu(a,{pending:!0,data:M,method:f.method,action:g},g,M))},currentTarget:f}]})}}for(var Yu=0;Yu<Dr.length;Yu++){var Ku=Dr[Yu],oE=Ku.toLowerCase(),aE=Ku[0].toUpperCase()+Ku.slice(1);Ze(oE,"on"+aE)}Ze(qd,"onAnimationEnd"),Ze(Gd,"onAnimationIteration"),Ze(Hd,"onAnimationStart"),Ze("dblclick","onDoubleClick"),Ze("focusin","onFocus"),Ze("focusout","onBlur"),Ze(bS,"onTransitionRun"),Ze(CS,"onTransitionStart"),Ze(AS,"onTransitionCancel"),Ze(Fd,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ea));function um(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var r=t[a],f=r.event;r=r.listeners;t:{var g=void 0;if(i)for(var S=r.length-1;0<=S;S--){var b=r[S],M=b.instance,B=b.currentTarget;if(b=b.listener,M!==g&&f.isPropagationStopped())break t;g=b,f.currentTarget=B;try{g(f)}catch(O){Hs(O)}f.currentTarget=null,g=M}else for(S=0;S<r.length;S++){if(b=r[S],M=b.instance,B=b.currentTarget,b=b.listener,M!==g&&f.isPropagationStopped())break t;g=b,f.currentTarget=B;try{g(f)}catch(O){Hs(O)}f.currentTarget=null,g=M}}}}function Ct(t,i){var a=i[ar];a===void 0&&(a=i[ar]=new Set);var r=t+"__bubble";a.has(r)||(cm(i,t,2,!1),a.add(r))}function Qu(t,i,a){var r=0;i&&(r|=4),cm(a,t,r,i)}var il="_reactListening"+Math.random().toString(36).slice(2);function Xu(t){if(!t[il]){t[il]=!0,id.forEach(function(a){a!=="selectionchange"&&(sE.has(a)||Qu(a,!1,t),Qu(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[il]||(i[il]=!0,Qu("selectionchange",!1,i))}}function cm(t,i,a,r){switch(Pm(i)){case 2:var f=VE;break;case 8:f=PE;break;default:f=rc}a=f.bind(null,i,a,t),f=void 0,!gr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),r?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Zu(t,i,a,r,f){var g=r;if((i&1)===0&&(i&2)===0&&r!==null)t:for(;;){if(r===null)return;var S=r.tag;if(S===3||S===4){var b=r.stateNode.containerInfo;if(b===f)break;if(S===4)for(S=r.return;S!==null;){var M=S.tag;if((M===3||M===4)&&S.stateNode.containerInfo===f)return;S=S.return}for(;b!==null;){if(S=Ii(b),S===null)return;if(M=S.tag,M===5||M===6||M===26||M===27){r=g=S;continue t}b=b.parentNode}}r=r.return}yd(function(){var B=g,O=pr(a),Y=[];t:{var U=Yd.get(t);if(U!==void 0){var I=ys,ht=t;switch(t){case"keypress":if(ms(a)===0)break t;case"keydown":case"keyup":I=tS;break;case"focusin":ht="focus",I=Sr;break;case"focusout":ht="blur",I=Sr;break;case"beforeblur":case"afterblur":I=Sr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=G0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=iS;break;case qd:case Gd:case Hd:I=Y0;break;case Fd:I=aS;break;case"scroll":case"scrollend":I=O0;break;case"wheel":I=lS;break;case"copy":case"cut":case"paste":I=Q0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=bd;break;case"toggle":case"beforetoggle":I=uS}var ct=(i&4)!==0,Pt=!ct&&(t==="scroll"||t==="scrollend"),R=ct?U!==null?U+"Capture":null:U;ct=[];for(var _=B,V;_!==null;){var G=_;if(V=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||V===null||R===null||(G=Oo(_,R),G!=null&&ct.push(ba(_,G,V))),Pt)break;_=_.return}0<ct.length&&(U=new I(U,ht,null,a,O),Y.push({event:U,listeners:ct}))}}if((i&7)===0){t:{if(U=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",U&&a!==hr&&(ht=a.relatedTarget||a.fromElement)&&(Ii(ht)||ht[Ui]))break t;if((I||U)&&(U=O.window===O?O:(U=O.ownerDocument)?U.defaultView||U.parentWindow:window,I?(ht=a.relatedTarget||a.toElement,I=B,ht=ht?Ii(ht):null,ht!==null&&(Pt=u(ht),ct=ht.tag,ht!==Pt||ct!==5&&ct!==27&&ct!==6)&&(ht=null)):(I=null,ht=B),I!==ht)){if(ct=Sd,G="onMouseLeave",R="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(ct=bd,G="onPointerLeave",R="onPointerEnter",_="pointer"),Pt=I==null?U:ko(I),V=ht==null?U:ko(ht),U=new ct(G,_+"leave",I,a,O),U.target=Pt,U.relatedTarget=V,G=null,Ii(O)===B&&(ct=new ct(R,_+"enter",ht,a,O),ct.target=V,ct.relatedTarget=Pt,G=ct),Pt=G,I&&ht)e:{for(ct=I,R=ht,_=0,V=ct;V;V=vo(V))_++;for(V=0,G=R;G;G=vo(G))V++;for(;0<_-V;)ct=vo(ct),_--;for(;0<V-_;)R=vo(R),V--;for(;_--;){if(ct===R||R!==null&&ct===R.alternate)break e;ct=vo(ct),R=vo(R)}ct=null}else ct=null;I!==null&&fm(Y,U,I,ct,!1),ht!==null&&Pt!==null&&fm(Y,Pt,ht,ct,!0)}}t:{if(U=B?ko(B):window,I=U.nodeName&&U.nodeName.toLowerCase(),I==="select"||I==="input"&&U.type==="file")var at=wd;else if(Rd(U))if(Nd)at=TS;else{at=yS;var Et=gS}else I=U.nodeName,!I||I.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?B&&dr(B.elementType)&&(at=wd):at=vS;if(at&&(at=at(t,B))){Dd(Y,at,a,O);break t}Et&&Et(t,U,B),t==="focusout"&&B&&U.type==="number"&&B.memoizedProps.value!=null&&fr(U,"number",U.value)}switch(Et=B?ko(B):window,t){case"focusin":(Rd(Et)||Et.contentEditable==="true")&&(Qi=Et,xr=B,Xo=null);break;case"focusout":Xo=xr=Qi=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,kd(Y,a,O);break;case"selectionchange":if(ES)break;case"keydown":case"keyup":kd(Y,a,O)}var st;if(br)t:{switch(t){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else Ki?xd(t,a)&&(ft="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ft="onCompositionStart");ft&&(Cd&&a.locale!=="ko"&&(Ki||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Ki&&(st=vd()):(Vn=O,yr="value"in Vn?Vn.value:Vn.textContent,Ki=!0)),Et=ol(B,ft),0<Et.length&&(ft=new Ed(ft,t,null,a,O),Y.push({event:ft,listeners:Et}),st?ft.data=st:(st=_d(a),st!==null&&(ft.data=st)))),(st=fS?dS(t,a):hS(t,a))&&(ft=ol(B,"onBeforeInput"),0<ft.length&&(Et=new Ed("onBeforeInput","beforeinput",null,a,O),Y.push({event:Et,listeners:ft}),Et.data=st)),iE(Y,t,B,a,O)}um(Y,i)})}function ba(t,i,a){return{instance:t,listener:i,currentTarget:a}}function ol(t,i){for(var a=i+"Capture",r=[];t!==null;){var f=t,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Oo(t,a),f!=null&&r.unshift(ba(t,f,g)),f=Oo(t,i),f!=null&&r.push(ba(t,f,g))),t.tag===3)return r;t=t.return}return[]}function vo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fm(t,i,a,r,f){for(var g=i._reactName,S=[];a!==null&&a!==r;){var b=a,M=b.alternate,B=b.stateNode;if(b=b.tag,M!==null&&M===r)break;b!==5&&b!==26&&b!==27||B===null||(M=B,f?(B=Oo(a,g),B!=null&&S.unshift(ba(a,B,M))):f||(B=Oo(a,g),B!=null&&S.push(ba(a,B,M)))),a=a.return}S.length!==0&&t.push({event:i,listeners:S})}var lE=/\r\n?/g,rE=/\u0000|\uFFFD/g;function dm(t){return(typeof t=="string"?t:""+t).replace(lE,`
`).replace(rE,"")}function hm(t,i){return i=dm(i),dm(t)===i}function al(){}function Vt(t,i,a,r,f,g){switch(a){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||Hi(t,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&Hi(t,""+r);break;case"className":cs(t,"class",r);break;case"tabIndex":cs(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":cs(t,a,r);break;case"style":md(t,r,g);break;case"data":if(i!=="object"){cs(t,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=hs(""+r),t.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(i!=="input"&&Vt(t,i,"name",f.name,f,null),Vt(t,i,"formEncType",f.formEncType,f,null),Vt(t,i,"formMethod",f.formMethod,f,null),Vt(t,i,"formTarget",f.formTarget,f,null)):(Vt(t,i,"encType",f.encType,f,null),Vt(t,i,"method",f.method,f,null),Vt(t,i,"target",f.target,f,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=hs(""+r),t.setAttribute(a,r);break;case"onClick":r!=null&&(t.onclick=al);break;case"onScroll":r!=null&&Ct("scroll",t);break;case"onScrollEnd":r!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(a=r.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}a=hs(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""+r):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":r===!0?t.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,r):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(a,r):t.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(a):t.setAttribute(a,r);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),us(t,"popover",r);break;case"xlinkActuate":fn(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":fn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":fn(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":fn(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":fn(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":fn(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":fn(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":fn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":fn(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":us(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=z0.get(a)||a,us(t,a,r))}}function Ju(t,i,a,r,f,g){switch(a){case"style":md(t,r,g);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(a=r.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof r=="string"?Hi(t,r):(typeof r=="number"||typeof r=="bigint")&&Hi(t,""+r);break;case"onScroll":r!=null&&Ct("scroll",t);break;case"onScrollEnd":r!=null&&Ct("scrollend",t);break;case"onClick":r!=null&&(t.onclick=al);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!od.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),g=t[Se]||null,g=g!=null?g[a]:null,typeof g=="function"&&t.removeEventListener(i,g,f),typeof r=="function")){typeof g!="function"&&g!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,r,f);break t}a in t?t[a]=r:r===!0?t.setAttribute(a,""):us(t,a,r)}}}function ue(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var r=!1,f=!1,g;for(g in a)if(a.hasOwnProperty(g)){var S=a[g];if(S!=null)switch(g){case"src":r=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Vt(t,i,g,S,a,null)}}f&&Vt(t,i,"srcSet",a.srcSet,a,null),r&&Vt(t,i,"src",a.src,a,null);return;case"input":Ct("invalid",t);var b=g=S=f=null,M=null,B=null;for(r in a)if(a.hasOwnProperty(r)){var O=a[r];if(O!=null)switch(r){case"name":f=O;break;case"type":S=O;break;case"checked":M=O;break;case"defaultChecked":B=O;break;case"value":g=O;break;case"defaultValue":b=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,i));break;default:Vt(t,i,r,O,a,null)}}fd(t,g,b,M,B,S,f,!1),fs(t);return;case"select":Ct("invalid",t),r=S=g=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":g=b;break;case"defaultValue":S=b;break;case"multiple":r=b;default:Vt(t,i,f,b,a,null)}i=g,a=S,t.multiple=!!r,i!=null?Gi(t,!!r,i,!1):a!=null&&Gi(t,!!r,a,!0);return;case"textarea":Ct("invalid",t),g=f=r=null;for(S in a)if(a.hasOwnProperty(S)&&(b=a[S],b!=null))switch(S){case"value":r=b;break;case"defaultValue":f=b;break;case"children":g=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Vt(t,i,S,b,a,null)}hd(t,r,f,g),fs(t);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(r=a[M],r!=null))switch(M){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Vt(t,i,M,r,a,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(r=0;r<Ea.length;r++)Ct(Ea[r],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(r=a[B],r!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Vt(t,i,B,r,a,null)}return;default:if(dr(i)){for(O in a)a.hasOwnProperty(O)&&(r=a[O],r!==void 0&&Ju(t,i,O,r,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(r=a[b],r!=null&&Vt(t,i,b,r,a,null))}function uE(t,i,a,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,S=null,b=null,M=null,B=null,O=null;for(I in a){var Y=a[I];if(a.hasOwnProperty(I)&&Y!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":M=Y;default:r.hasOwnProperty(I)||Vt(t,i,I,null,r,Y)}}for(var U in r){var I=r[U];if(Y=a[U],r.hasOwnProperty(U)&&(I!=null||Y!=null))switch(U){case"type":g=I;break;case"name":f=I;break;case"checked":B=I;break;case"defaultChecked":O=I;break;case"value":S=I;break;case"defaultValue":b=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,i));break;default:I!==Y&&Vt(t,i,U,I,r,Y)}}cr(t,S,b,M,B,O,g,f);return;case"select":I=S=b=U=null;for(g in a)if(M=a[g],a.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":I=M;default:r.hasOwnProperty(g)||Vt(t,i,g,null,r,M)}for(f in r)if(g=r[f],M=a[f],r.hasOwnProperty(f)&&(g!=null||M!=null))switch(f){case"value":U=g;break;case"defaultValue":b=g;break;case"multiple":S=g;default:g!==M&&Vt(t,i,f,g,r,M)}i=b,a=S,r=I,U!=null?Gi(t,!!a,U,!1):!!r!=!!a&&(i!=null?Gi(t,!!a,i,!0):Gi(t,!!a,a?[]:"",!1));return;case"textarea":I=U=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!r.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Vt(t,i,b,null,r,f)}for(S in r)if(f=r[S],g=a[S],r.hasOwnProperty(S)&&(f!=null||g!=null))switch(S){case"value":U=f;break;case"defaultValue":I=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Vt(t,i,S,f,r,g)}dd(t,U,I);return;case"option":for(var ht in a)if(U=a[ht],a.hasOwnProperty(ht)&&U!=null&&!r.hasOwnProperty(ht))switch(ht){case"selected":t.selected=!1;break;default:Vt(t,i,ht,null,r,U)}for(M in r)if(U=r[M],I=a[M],r.hasOwnProperty(M)&&U!==I&&(U!=null||I!=null))switch(M){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Vt(t,i,M,U,r,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in a)U=a[ct],a.hasOwnProperty(ct)&&U!=null&&!r.hasOwnProperty(ct)&&Vt(t,i,ct,null,r,U);for(B in r)if(U=r[B],I=a[B],r.hasOwnProperty(B)&&U!==I&&(U!=null||I!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,i));break;default:Vt(t,i,B,U,r,I)}return;default:if(dr(i)){for(var Pt in a)U=a[Pt],a.hasOwnProperty(Pt)&&U!==void 0&&!r.hasOwnProperty(Pt)&&Ju(t,i,Pt,void 0,r,U);for(O in r)U=r[O],I=a[O],!r.hasOwnProperty(O)||U===I||U===void 0&&I===void 0||Ju(t,i,O,U,r,I);return}}for(var R in a)U=a[R],a.hasOwnProperty(R)&&U!=null&&!r.hasOwnProperty(R)&&Vt(t,i,R,null,r,U);for(Y in r)U=r[Y],I=a[Y],!r.hasOwnProperty(Y)||U===I||U==null&&I==null||Vt(t,i,Y,U,r,I)}var $u=null,Wu=null;function sl(t){return t.nodeType===9?t:t.ownerDocument}function pm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mm(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function ju(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var tc=null;function cE(){var t=window.event;return t&&t.type==="popstate"?t===tc?!1:(tc=t,!0):(tc=null,!1)}var gm=typeof setTimeout=="function"?setTimeout:void 0,fE=typeof clearTimeout=="function"?clearTimeout:void 0,ym=typeof Promise=="function"?Promise:void 0,dE=typeof queueMicrotask=="function"?queueMicrotask:typeof ym<"u"?function(t){return ym.resolve(null).then(t).catch(hE)}:gm;function hE(t){setTimeout(function(){throw t})}function Zn(t){return t==="head"}function vm(t,i){var a=i,r=0,f=0;do{var g=a.nextSibling;if(t.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<r&&8>r){a=r;var S=t.ownerDocument;if(a&1&&Ca(S.documentElement),a&2&&Ca(S.body),a&4)for(a=S.head,Ca(a),S=a.firstChild;S;){var b=S.nextSibling,M=S.nodeName;S[zo]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&S.rel.toLowerCase()==="stylesheet"||a.removeChild(S),S=b}}if(f===0){t.removeChild(g),Na(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:r=a.charCodeAt(0)-48;else r=0;a=g}while(a);Na(i)}function ec(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ec(a),sr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function pE(t,i,a,r){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[zo])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=$e(t.nextSibling),t===null)break}return null}function mE(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=$e(t.nextSibling),t===null))return null;return t}function nc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function gE(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var r=function(){i(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function $e(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var ic=null;function Tm(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Sm(t,i,a){switch(i=sl(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ca(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);sr(t)}var Ye=new Map,Em=new Set;function ll(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mn=q.d;q.d={f:yE,r:vE,D:TE,C:SE,L:EE,m:bE,X:AE,S:CE,M:ME};function yE(){var t=Mn.f(),i=Ws();return t||i}function vE(t){var i=zi(t);i!==null&&i.tag===5&&i.type==="form"?qh(i):Mn.r(t)}var To=typeof document>"u"?null:document;function bm(t,i,a){var r=To;if(r&&typeof i=="string"&&i){var f=ze(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Em.has(f)||(Em.add(f),t={rel:t,crossOrigin:a,href:i},r.querySelector(f)===null&&(i=r.createElement("link"),ue(i,"link",t),ie(i),r.head.appendChild(i)))}}function TE(t){Mn.D(t),bm("dns-prefetch",t,null)}function SE(t,i){Mn.C(t,i),bm("preconnect",t,i)}function EE(t,i,a){Mn.L(t,i,a);var r=To;if(r&&t&&i){var f='link[rel="preload"][as="'+ze(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ze(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ze(a.imageSizes)+'"]')):f+='[href="'+ze(t)+'"]';var g=f;switch(i){case"style":g=So(t);break;case"script":g=Eo(t)}Ye.has(g)||(t=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ye.set(g,t),r.querySelector(f)!==null||i==="style"&&r.querySelector(Aa(g))||i==="script"&&r.querySelector(Ma(g))||(i=r.createElement("link"),ue(i,"link",t),ie(i),r.head.appendChild(i)))}}function bE(t,i){Mn.m(t,i);var a=To;if(a&&t){var r=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ze(r)+'"][href="'+ze(t)+'"]',g=f;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Eo(t)}if(!Ye.has(g)&&(t=v({rel:"modulepreload",href:t},i),Ye.set(g,t),a.querySelector(f)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ma(g)))return}r=a.createElement("link"),ue(r,"link",t),ie(r),a.head.appendChild(r)}}}function CE(t,i,a){Mn.S(t,i,a);var r=To;if(r&&t){var f=ki(r).hoistableStyles,g=So(t);i=i||"default";var S=f.get(g);if(!S){var b={loading:0,preload:null};if(S=r.querySelector(Aa(g)))b.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ye.get(g))&&oc(t,a);var M=S=r.createElement("link");ie(M),ue(M,"link",t),M._p=new Promise(function(B,O){M.onload=B,M.onerror=O}),M.addEventListener("load",function(){b.loading|=1}),M.addEventListener("error",function(){b.loading|=2}),b.loading|=4,rl(S,i,r)}S={type:"stylesheet",instance:S,count:1,state:b},f.set(g,S)}}}function AE(t,i){Mn.X(t,i);var a=To;if(a&&t){var r=ki(a).hoistableScripts,f=Eo(t),g=r.get(f);g||(g=a.querySelector(Ma(f)),g||(t=v({src:t,async:!0},i),(i=Ye.get(f))&&ac(t,i),g=a.createElement("script"),ie(g),ue(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},r.set(f,g))}}function ME(t,i){Mn.M(t,i);var a=To;if(a&&t){var r=ki(a).hoistableScripts,f=Eo(t),g=r.get(f);g||(g=a.querySelector(Ma(f)),g||(t=v({src:t,async:!0,type:"module"},i),(i=Ye.get(f))&&ac(t,i),g=a.createElement("script"),ie(g),ue(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},r.set(f,g))}}function Cm(t,i,a,r){var f=(f=mt.current)?ll(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=So(a.href),a=ki(f).hoistableStyles,r=a.get(i),r||(r={type:"style",instance:null,count:0,state:null},a.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=So(a.href);var g=ki(f).hoistableStyles,S=g.get(t);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,S),(g=f.querySelector(Aa(t)))&&!g._p&&(S.instance=g,S.state.loading=5),Ye.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ye.set(t,a),g||xE(f,t,a,S.state))),i&&r===null)throw Error(s(528,""));return S}if(i&&r!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Eo(a),a=ki(f).hoistableScripts,r=a.get(i),r||(r={type:"script",instance:null,count:0,state:null},a.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function So(t){return'href="'+ze(t)+'"'}function Aa(t){return'link[rel="stylesheet"]['+t+"]"}function Am(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function xE(t,i,a,r){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=t.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),ue(i,"link",a),ie(i),t.head.appendChild(i))}function Eo(t){return'[src="'+ze(t)+'"]'}function Ma(t){return"script[async]"+t}function Mm(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var r=t.querySelector('style[data-href~="'+ze(a.href)+'"]');if(r)return i.instance=r,ie(r),r;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),ie(r),ue(r,"style",f),rl(r,a.precedence,t),i.instance=r;case"stylesheet":f=So(a.href);var g=t.querySelector(Aa(f));if(g)return i.state.loading|=4,i.instance=g,ie(g),g;r=Am(a),(f=Ye.get(f))&&oc(r,f),g=(t.ownerDocument||t).createElement("link"),ie(g);var S=g;return S._p=new Promise(function(b,M){S.onload=b,S.onerror=M}),ue(g,"link",r),i.state.loading|=4,rl(g,a.precedence,t),i.instance=g;case"script":return g=Eo(a.src),(f=t.querySelector(Ma(g)))?(i.instance=f,ie(f),f):(r=a,(f=Ye.get(g))&&(r=v({},a),ac(r,f)),t=t.ownerDocument||t,f=t.createElement("script"),ie(f),ue(f,"link",r),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,rl(r,a.precedence,t));return i.instance}function rl(t,i,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=r.length?r[r.length-1]:null,g=f,S=0;S<r.length;S++){var b=r[S];if(b.dataset.precedence===i)g=b;else if(g!==f)break}g?g.parentNode.insertBefore(t,g.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function oc(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function ac(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ul=null;function xm(t,i,a){if(ul===null){var r=new Map,f=ul=new Map;f.set(a,r)}else f=ul,r=f.get(a),r||(r=new Map,f.set(a,r));if(r.has(t))return r;for(r.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var g=a[f];if(!(g[zo]||g[fe]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(i)||"";S=t+S;var b=r.get(S);b?b.push(g):r.set(S,[g])}}return r}function _m(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function _E(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Rm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var xa=null;function RE(){}function DE(t,i,a){if(xa===null)throw Error(s(475));var r=xa;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=So(a.href),g=t.querySelector(Aa(f));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=cl.bind(r),t.then(r,r)),i.state.loading|=4,i.instance=g,ie(g);return}g=t.ownerDocument||t,a=Am(a),(f=Ye.get(f))&&oc(a,f),g=g.createElement("link"),ie(g);var S=g;S._p=new Promise(function(b,M){S.onload=b,S.onerror=M}),ue(g,"link",a),i.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(r.count++,i=cl.bind(r),t.addEventListener("load",i),t.addEventListener("error",i))}}function wE(){if(xa===null)throw Error(s(475));var t=xa;return t.stylesheets&&t.count===0&&sc(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&sc(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function cl(){if(this.count--,this.count===0){if(this.stylesheets)sc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var fl=null;function sc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,fl=new Map,i.forEach(NE,t),fl=null,cl.call(t))}function NE(t,i){if(!(i.state.loading&4)){var a=fl.get(t);if(a)var r=a.get(null);else{a=new Map,fl.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var S=f[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),r=S)}r&&a.set(null,r)}f=i.instance,S=f.getAttribute("data-precedence"),g=a.get(S)||r,g===r&&a.set(null,f),a.set(S,f),this.count++,r=cl.bind(this),f.addEventListener("load",r),f.addEventListener("error",r),g?g.parentNode.insertBefore(f,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var _a={$$typeof:N,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function LE(t,i,a,r,f,g,S,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nr(0),this.hiddenUpdates=nr(null),this.identifierPrefix=r,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Dm(t,i,a,r,f,g,S,b,M,B,O,Y){return t=new LE(t,i,a,S,b,M,B,Y),i=1,g===!0&&(i|=24),g=Ne(3,null,null,i),t.current=g,g.stateNode=t,i=qr(),i.refCount++,t.pooledCache=i,i.refCount++,g.memoizedState={element:r,isDehydrated:a,cache:i},Yr(g),t}function wm(t){return t?(t=$i,t):$i}function Nm(t,i,a,r,f,g){f=wm(f),r.context===null?r.context=f:r.pendingContext=f,r=Un(i),r.payload={element:a},g=g===void 0?null:g,g!==null&&(r.callback=g),a=In(t,r,i),a!==null&&(Ue(a,t,i),ia(a,t,i))}function Lm(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function lc(t,i){Lm(t,i),(t=t.alternate)&&Lm(t,i)}function Vm(t){if(t.tag===13){var i=Ji(t,67108864);i!==null&&Ue(i,t,67108864),lc(t,67108864)}}var dl=!0;function VE(t,i,a,r){var f=P.T;P.T=null;var g=q.p;try{q.p=2,rc(t,i,a,r)}finally{q.p=g,P.T=f}}function PE(t,i,a,r){var f=P.T;P.T=null;var g=q.p;try{q.p=8,rc(t,i,a,r)}finally{q.p=g,P.T=f}}function rc(t,i,a,r){if(dl){var f=uc(r);if(f===null)Zu(t,i,r,hl,a),Bm(t,r);else if(UE(f,t,i,a,r))r.stopPropagation();else if(Bm(t,r),i&4&&-1<BE.indexOf(t)){for(;f!==null;){var g=zi(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=ui(g.pendingLanes);if(S!==0){var b=g;for(b.pendingLanes|=2,b.entangledLanes|=2;S;){var M=1<<31-De(S);b.entanglements[1]|=M,S&=~M}sn(g),(Dt&6)===0&&(Js=tn()+500,Sa(0))}}break;case 13:b=Ji(g,2),b!==null&&Ue(b,g,2),Ws(),lc(g,2)}if(g=uc(r),g===null&&Zu(t,i,r,hl,a),g===f)break;f=g}f!==null&&r.stopPropagation()}else Zu(t,i,r,null,a)}}function uc(t){return t=pr(t),cc(t)}var hl=null;function cc(t){if(hl=null,t=Ii(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=c(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return hl=t,null}function Pm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(S0()){case Xf:return 2;case Zf:return 8;case as:case E0:return 32;case Jf:return 268435456;default:return 32}default:return 32}}var fc=!1,Jn=null,$n=null,Wn=null,Ra=new Map,Da=new Map,jn=[],BE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bm(t,i){switch(t){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Ra.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Da.delete(i.pointerId)}}function wa(t,i,a,r,f,g){return t===null||t.nativeEvent!==g?(t={blockedOn:i,domEventName:a,eventSystemFlags:r,nativeEvent:g,targetContainers:[f]},i!==null&&(i=zi(i),i!==null&&Vm(i)),t):(t.eventSystemFlags|=r,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function UE(t,i,a,r,f){switch(i){case"focusin":return Jn=wa(Jn,t,i,a,r,f),!0;case"dragenter":return $n=wa($n,t,i,a,r,f),!0;case"mouseover":return Wn=wa(Wn,t,i,a,r,f),!0;case"pointerover":var g=f.pointerId;return Ra.set(g,wa(Ra.get(g)||null,t,i,a,r,f)),!0;case"gotpointercapture":return g=f.pointerId,Da.set(g,wa(Da.get(g)||null,t,i,a,r,f)),!0}return!1}function Um(t){var i=Ii(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){t.blockedOn=i,D0(t.priority,function(){if(a.tag===13){var r=Be();r=ir(r);var f=Ji(a,r);f!==null&&Ue(f,a,r),lc(a,r)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pl(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=uc(t.nativeEvent);if(a===null){a=t.nativeEvent;var r=new a.constructor(a.type,a);hr=r,a.target.dispatchEvent(r),hr=null}else return i=zi(a),i!==null&&Vm(i),t.blockedOn=a,!1;i.shift()}return!0}function Im(t,i,a){pl(t)&&a.delete(i)}function IE(){fc=!1,Jn!==null&&pl(Jn)&&(Jn=null),$n!==null&&pl($n)&&($n=null),Wn!==null&&pl(Wn)&&(Wn=null),Ra.forEach(Im),Da.forEach(Im)}function ml(t,i){t.blockedOn===i&&(t.blockedOn=null,fc||(fc=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,IE)))}var gl=null;function zm(t){gl!==t&&(gl=t,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){gl===t&&(gl=null);for(var i=0;i<t.length;i+=3){var a=t[i],r=t[i+1],f=t[i+2];if(typeof r!="function"){if(cc(r||a)===null)continue;break}var g=zi(a);g!==null&&(t.splice(i,3),i-=3,cu(g,{pending:!0,data:f,method:a.method,action:r},r,f))}}))}function Na(t){function i(M){return ml(M,t)}Jn!==null&&ml(Jn,t),$n!==null&&ml($n,t),Wn!==null&&ml(Wn,t),Ra.forEach(i),Da.forEach(i);for(var a=0;a<jn.length;a++){var r=jn[a];r.blockedOn===t&&(r.blockedOn=null)}for(;0<jn.length&&(a=jn[0],a.blockedOn===null);)Um(a),a.blockedOn===null&&jn.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var f=a[r],g=a[r+1],S=f[Se]||null;if(typeof g=="function")S||zm(a);else if(S){var b=null;if(g&&g.hasAttribute("formAction")){if(f=g,S=g[Se]||null)b=S.formAction;else if(cc(f)!==null)continue}else b=S.action;typeof b=="function"?a[r+1]=b:(a.splice(r,3),r-=3),zm(a)}}}function dc(t){this._internalRoot=t}yl.prototype.render=dc.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,r=Be();Nm(a,r,t,i,null,null)},yl.prototype.unmount=dc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Nm(t.current,2,null,t,null,null),Ws(),i[Ui]=null}};function yl(t){this._internalRoot=t}yl.prototype.unstable_scheduleHydration=function(t){if(t){var i=ed();t={blockedOn:null,target:t,priority:i};for(var a=0;a<jn.length&&i!==0&&i<jn[a].priority;a++);jn.splice(a,0,t),a===0&&Um(t)}};var km=e.version;if(km!=="19.1.1")throw Error(s(527,km,"19.1.1"));q.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?h(t):null,t=t===null?null:t.stateNode,t};var zE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{Bo=vl.inject(zE),Re=vl}catch{}}return Pa.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,r="",f=ep,g=np,S=ip,b=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=Dm(t,1,!1,null,null,a,r,f,g,S,b,null),t[Ui]=i.current,Xu(t),new dc(i)},Pa.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var r=!1,f="",g=ep,S=np,b=ip,M=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(M=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=Dm(t,1,!0,i,a??null,r,f,g,S,b,M,B),i.context=wm(null),a=i.current,r=Be(),r=ir(r),f=Un(r),f.callback=null,In(a,f,r),a=r,i.current.lanes=a,Io(i,a),sn(i),t[Ui]=i.current,Xu(t),new yl(i)},Pa.version="19.1.1",Pa}var cv;function Rw(){if(cv)return wc.exports;cv=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),wc.exports=_w(),wc.exports}var Dw=Rw();let it,f0,ln=null,Ri=null,bo=!1,ye=[],wi=[],je=null,Nt=null,Vi=null,ql=new Map,Te=new Map,_n=null,xl=null,ni=[],Bt="de",$t={};const $a={de:{header:{planning:"Planung",manufacturer:"Hersteller"},nav:{paramInput:"Parameter",markingArea:"Sicherheitsbereich",threatAnalysis:"Gefahrenanalyse",riskReport:"Risikobericht",productSelection:"Produktauswahl",projectDescription:"Ausschreibung",publishProject:"Projektausschreibung verffentlichen"},aria:{search:"Suche",email:"E-Mail",settings:"Einstellungen"},user:{loggedIn:"Angemeldet: BarricadiX Admin"},sidebar:{trafficData:"Verkehrsdaten",vehicleSelect:"Fahrzeugauswahl",accessRoads:"Zufahrten",curbs:"Bordsteinkanten",obstacles:"Hindernisse",protectionSelection:"Schutzauswahl",protectionPeriod:"Schutzzeitraum",protectionProducts:"Schutzprodukte",productProperty:"Produkteigenschaft",riskAssessment:"Risikobewertung",assetToProtect:"Was geschtzt werden soll",securityRisk:"Sicherheitsrisiko",recommendedProductClass:"Empfohlene Produktklasse",low:"niedrig",high:"hoch",options:{vehicle:{all:"alle",motorcycle:"Motorrad",car_light:"KFZ <3.5t",truck_light:"LKW <7.5t",truck_medium:"LKW <12t",truck_heavy:"LKW <40t"},access:{all:"alle",meadow:"Wiese",forest_path:"Waldweg",pedestrian_path:"Fugngerweg",one_way:"Einbahnstrae",two_lane:"Zweispur",three_lane:"Dreispur",four_lane:"Vierspur"},curbs:{yes:"ja",no:"nein"},obstacles:{none:"keine",trees:"Bume",posts:"Pfosten",bins:"Mlltonnen"},period:{permanent:"dauerhaft",temporary:"temporr",eventual:"eventuell"},products:{bollard:"Poller",barrier:"Barriere",post:"Pfosten",ditch:"Graben"},property:{automatic_rigid:"aut./starr",retractable:"versenkbar",removable:"entfernbar"}}},products:{resistanceMedium:"Widerstandsmedium",resistanceHigh:"Hoher Widerstand",resistanceLow:"Niedriger Widerstand"},ai:{reportPrompt:"Erstellen Sie einen detaillierten Risikobericht basierend auf den gesammelten Daten.",chatbot:{title:"Zufahrtsschutz-Assistent",welcome:"Willkommen zum Zufahrtsschutz-Assistenten. Ich stelle nur Fragen, die noch fehlen oder unsicher sind. Bereit?",assetQuestion:"Welche Schutzgter mchten Sie absichern? Hinweis: Grundlage fr Schutzziel & Schutzklasse (DIN SPEC 91414-2 / ISO 22343-2)",inputPlaceholder:"Antwort eingeben...",sendButton:"Senden",stakeholderQuestion:"Wer sind die relevanten Stakeholder (Behrden, Veranstalter, Betreiber)?",restRiskQuestion:"Welches akzeptable Restrisiko gilt?",operationalQuestion:"Betriebsanforderungen (mehrfach whlbar)",threatQuestion:"Welche Art fahrzeuggesttzter Bedrohung ist zu erwarten?",vehicleTypesQuestion:"Welche Fahrzeugtypen sind relevant?",accessCorridorsQuestion:"Wo knnten Fahrzeuge eindringen? (Karte markieren oder beschreiben)",speedQuestion:"Maximale Zufahrtsgeschwindigkeit (km/h)",angleQuestion:"Wahrscheinlicher Anprallwinkel ()",groundQuestion:"Untergrund/Fundamente am Standort",riskMatrixQuestion:"Risikobewertung: Eintrittswahrscheinlichkeit & Schadensausma",completionMessage:"Danke! Alle erforderlichen Angaben sind vorhanden. Mchten Sie den normkonformen PDF-Plan erzeugen?"}},manufacturer:{title:"Hersteller-Ansicht",subtitle:"Verwalten Sie Ihren Produktkatalog und Kundenanfragen",products:"Produkte",quotations:"Angebote",customers:"Kunden",analytics:"Analysen",manageCatalog:"Verwalten Sie Ihren Produktkatalog",createQuotations:"Erstellen und verwalten Sie Angebote",manageContacts:"Verwalten Sie Ihre Kundenkontakte",businessAnalytics:"Betriebs- und Verkaufsanalysen",open:"ffnen",nav:{products:"Produkte",quotations:"Angebote",customers:"Kunden",analytics:"Analysen",settings:"Einstellungen"},sidebar:{productManagement:"Produktverwaltung",productCategory:"Produktkategorie",productStatus:"Produktstatus",customerManagement:"Kundenverwaltung",customerType:"Kundentyp",customerRegion:"Region",analytics:"Analysen",dateRange:"Zeitraum",options:{category:{all:"Alle Kategorien",bollards:"Poller",barriers:"Barrieren",posts:"Pfosten",ditches:"Grben"},status:{all:"Alle Status",active:"Aktiv",inactive:"Inaktiv",draft:"Entwurf"},customerType:{all:"Alle Typen",private:"Privat",business:"Geschft",government:"Behrde"},region:{all:"Alle Regionen",north:"Nord",south:"Sd",east:"Ost",west:"West"},dateRange:{"7days":"Letzte 7 Tage","30days":"Letzte 30 Tage","90days":"Letzte 90 Tage","1year":"Letztes Jahr"}}}},report:{mainTitle:"Risikobewertung fr Zufahrtsschutz",watermark:"VERTRAULICH",undefinedAsset:"Nicht definiertes Schutzgut",undefinedValue:"Nicht definierter Wert",noThreatAnalysis:"Keine Gefahrenanalyse verfgbar",generating:"Bericht wird generiert...",status:{draft:"Entwurf",final:"Final",approved:"Genehmigt"},metadata:{date:"Datum",author:"Autor",version:"Version",classification:"Klassifizierung"},sections:{purpose:{title:"Zweck und Zielsetzung",description:"Dieser Bericht dient der Bewertung der Sicherheitsrisiken fr die zu schtzenden Zufahrten und der Empfehlung geeigneter Schutzmanahmen."},threatAnalysis:{title:"Gefahrenanalyse",description:"Analyse der identifizierten Bedrohungen und deren potenzielle Auswirkungen."},riskAssessment:{title:"Risikobewertung",description:"Bewertung der identifizierten Risiken und deren Klassifizierung."},recommendations:{title:"Empfehlungen",description:"Konkrete Handlungsempfehlungen fr die Implementierung von Schutzmanahmen."},vulnerabilities:{title:"Schwachstellenanalyse",description:"Identifizierung und Bewertung von Sicherheitsschwachstellen."},hvmMeasures:{title:"HVM-Schutzmanahmen",description:"Spezifische Schutzmanahmen gegen High-Velocity Missile Angriffe."},siteConsiderations:{title:"Standortbetrachtungen",description:"Besondere Aspekte des Standorts und der Umgebung."},operationalImpact:{title:"Betriebliche Auswirkungen",description:"Auswirkungen der Schutzmanahmen auf den laufenden Betrieb."}},threatsTable:{title:"Identifizierte Bedrohungen",street:"Strae",distance:"Strecke",maxSpeed:"Max. erreichbare Geschw."},identifiedCorridors:"{count} identifizierte Korridore",noChatGeometry:"keine Geometrie aus Chatbot bergeben",actions:{save:"Speichern",print:"Drucken",export:"Exportieren",share:"Teilen"}},threats:{title:"Gefahrenanalyse",speed:"Geschwindigkeit",analysisFailed:"Gefahrenanalyse fehlgeschlagen",noCrossingWaysBoundary:"Keine kreuzenden Wege an der Grenze gefunden",popupHeader:"Gefahreninformationen",loading:"Lade Gefahrenanalyse..."},map:{createReport:"Bericht erstellen",downloadReport:"Bericht herunterladen",searchPlaceholder:"Paderborn, Domplatz",searchButton:"Suchen",setWaypoints:"Wegpunkte setzen",setWaypointsActive:"Zeichnen aktiv",reset:"Zurcksetzen",securityAreaLabel:"Sicherheitsbereich",analyzeAccess:"Zugang analysieren"},alerts:{noPolygon:"Bitte zeichnen Sie zuerst einen Sicherheitsbereich auf der Karte.",overpassError:"Fehler beim Laden der Straendaten (Status: {status}).",analysisError:"Fehler bei der Gefahrenanalyse. Bitte versuchen Sie es erneut.",invalidPolygon:"Ungltiges Polygon. Bitte zeichnen Sie den Sicherheitsbereich neu.",emptyPolygon:"Das gezeichnete Polygon hat keine gltigen Koordinaten.",polygonCoordinateError:"Fehler beim Verarbeiten der Polygon-Koordinaten.",locationNotFound:"Standort nicht gefunden. Bitte berprfen Sie die Eingabe.",noThreatsFound:"Keine Bedrohungen in diesem Bereich gefunden.",reportGenerationError:"Fehler beim Erstellen des Berichts. Bitte versuchen Sie es erneut."}},en:{header:{planning:"Planning",manufacturer:"Manufacturer"},nav:{paramInput:"Parameters",markingArea:"Security Area",threatAnalysis:"Threat Analysis",riskReport:"Risk Report",productSelection:"Product Selection",projectDescription:"Specification",publishProject:"Publish Project Specification"},aria:{search:"Search",email:"Email",settings:"Settings"},user:{loggedIn:"Logged in: BarricadiX Admin"},sidebar:{trafficData:"Traffic Data",vehicleSelect:"Vehicle Selection",accessRoads:"Access Roads",curbs:"Curbs",obstacles:"Obstacles",protectionSelection:"Protection Selection",protectionPeriod:"Protection Period",protectionProducts:"Protection Products",productProperty:"Product Property",riskAssessment:"Risk Assessment",assetToProtect:"What to Protect",securityRisk:"Security Risk",recommendedProductClass:"Recommended Product Class",low:"low",high:"high",options:{vehicle:{all:"all",motorcycle:"Motorcycle",car_light:"Car <3.5t",truck_light:"Truck <7.5t",truck_medium:"Truck <12t",truck_heavy:"Truck <40t"},access:{all:"all",meadow:"Meadow",forest_path:"Forest Path",pedestrian_path:"Pedestrian Path",one_way:"One Way",two_lane:"Two Lane",three_lane:"Three Lane",four_lane:"Four Lane"},curbs:{yes:"yes",no:"no"},obstacles:{none:"none",trees:"Trees",posts:"Posts",bins:"Bins"},period:{permanent:"permanent",temporary:"temporary",eventual:"eventual"},products:{bollard:"Bollard",barrier:"Barrier",post:"Post",ditch:"Ditch"},property:{automatic_rigid:"auto/rigid",retractable:"retractable",removable:"removable"}}},products:{resistanceMedium:"Resistance Medium",resistanceHigh:"High Resistance",resistanceLow:"Low Resistance"},ai:{reportPrompt:"Create a detailed risk report based on the collected data.",chatbot:{title:"Access Protection Assistant",welcome:"Welcome to the Access Protection Assistant. I only ask questions that are still missing or uncertain. Ready?",assetQuestion:"Which protective assets would you like to secure? Note: Basis for Protection Goal & Protection Class (DIN SPEC 91414-2 / ISO 22343-2)",inputPlaceholder:"Enter answer...",sendButton:"Send",stakeholderQuestion:"Who are the relevant stakeholders (authorities, organizers, operators)?",restRiskQuestion:"What acceptable residual risk applies?",operationalQuestion:"Operational requirements (multiple choice)",threatQuestion:"What type of vehicle-based threat is expected?",vehicleTypesQuestion:"Which vehicle types are relevant?",accessCorridorsQuestion:"Where could vehicles penetrate? (Mark on map or describe)",speedQuestion:"Maximum access speed (km/h)",angleQuestion:"Probable impact angle ()",groundQuestion:"Ground/foundations at the site",riskMatrixQuestion:"Risk assessment: probability of occurrence & extent of damage",completionMessage:"Thank you! All required information is available. Would you like to generate the standards-compliant PDF plan?"}},manufacturer:{title:"Manufacturer View",subtitle:"Manage your product catalog and customer inquiries",products:"Products",quotations:"Quotations",customers:"Customers",analytics:"Analytics",manageCatalog:"Manage your product catalog",createQuotations:"Create and manage quotations",manageContacts:"Manage your customer contacts",businessAnalytics:"Business and sales analytics",open:"Open",nav:{products:"Products",quotations:"Quotations",customers:"Customers",analytics:"Analytics",settings:"Settings"},sidebar:{productManagement:"Product Management",productCategory:"Product Category",productStatus:"Product Status",customerManagement:"Customer Management",customerType:"Customer Type",customerRegion:"Region",analytics:"Analytics",dateRange:"Date Range",options:{category:{all:"All Categories",bollards:"Bollards",barriers:"Barriers",posts:"Posts",ditches:"Ditches"},status:{all:"All Status",active:"Active",inactive:"Inactive",draft:"Draft"},customerType:{all:"All Types",private:"Private",business:"Business",government:"Government"},region:{all:"All Regions",north:"North",south:"South",east:"East",west:"West"},dateRange:{"7days":"Last 7 Days","30days":"Last 30 Days","90days":"Last 90 Days","1year":"Last Year"}}}},report:{mainTitle:"Risk Assessment for Access Protection",watermark:"CONFIDENTIAL",undefinedAsset:"Undefined asset",undefinedValue:"Undefined value",noThreatAnalysis:"No threat analysis available",generating:"Generating report...",identifiedCorridors:"{count} identified corridors",noChatGeometry:"no geometry from chatbot",status:{draft:"Draft",final:"Final",approved:"Approved"},metadata:{date:"Date",author:"Author",version:"Version",classification:"Classification"},sections:{purpose:{title:"Purpose and Objectives",description:"This report serves to assess security risks for the access routes to be protected and to recommend appropriate protective measures."},threatAnalysis:{title:"Threat Analysis",description:"Analysis of identified threats and their potential impacts."},riskAssessment:{title:"Risk Assessment",description:"Assessment of identified risks and their classification."},recommendations:{title:"Recommendations",description:"Concrete action recommendations for implementing protective measures."},vulnerabilities:{title:"Vulnerability Analysis",description:"Identification and assessment of security vulnerabilities."},hvmMeasures:{title:"HVM Protection Measures",description:"Specific protection measures against High-Velocity Missile attacks."},siteConsiderations:{title:"Site Considerations",description:"Special aspects of the site and environment."},operationalImpact:{title:"Operational Impact",description:"Impact of protection measures on ongoing operations."}},threatsTable:{title:"Identified Threats",street:"Street",distance:"Distance",maxSpeed:"Max. achievable speed"},actions:{save:"Save",print:"Print",export:"Export",share:"Share"}},threats:{title:"Threat Analysis",speed:"Speed",analysisFailed:"Threat analysis failed",noCrossingWaysBoundary:"No crossing ways found at boundary",popupHeader:"Threat Information",loading:"Loading threat analysis..."},map:{createReport:"Create Report",downloadReport:"Download Report",searchPlaceholder:"Paderborn, Domplatz",searchButton:"Search",setWaypoints:"Set Waypoints",setWaypointsActive:"Drawing Active",reset:"Reset",securityAreaLabel:"Security Area",analyzeAccess:"Analyze Access"},placeholders:{assetToProtect:"Please enter"}}};function fv(){console.log("Initializing view switcher..."),setTimeout(()=>{const o=document.getElementById("planning-view-btn"),e=document.getElementById("manufacturer-view-btn"),n=document.getElementById("close-manufacturer-view");console.log("Planning button:",o),console.log("Manufacturer button:",e),console.log("Close manufacturer button:",n),o&&e?(o.addEventListener("click",()=>{console.log("Planning button clicked"),dv()}),e.addEventListener("click",()=>{console.log("Manufacturer button clicked"),ww()}),console.log("View switcher initialized successfully")):console.error("View switcher buttons not found!"),n?(n.addEventListener("click",()=>{console.log("Close manufacturer button clicked"),dv()}),console.log("Close manufacturer button initialized")):console.error("Close manufacturer button not found!");const s=document.querySelectorAll(".manufacturer-tab");s.forEach(l=>{l.addEventListener("click",u=>{u.preventDefault();const c=u.target;s.forEach(h=>h.classList.remove("active")),c.classList.add("active");const m=c.id;console.log("Manufacturer tab clicked:",m);const y=c.textContent||"Tab";is(`${y} wird geladen...`,"info")})}),console.log("Manufacturer navigation tabs initialized"),setTimeout(()=>{d0()},500)},100)}function dv(){const o=document.getElementById("planning-view-btn"),e=document.getElementById("manufacturer-view-btn");o&&e&&(o.classList.add("active"),e.classList.remove("active")),Nw()}function ww(){const o=document.getElementById("planning-view-btn"),e=document.getElementById("manufacturer-view-btn");o&&e&&(e.classList.add("active"),o.classList.remove("active")),Lw()}function Nw(){console.log("Switching to planning view...");const o=document.getElementById("manufacturer-view");o&&(o.style.display="none",console.log("Manufacturer view hidden"));const e=document.getElementById("planning-view");if(e&&(e.style.display="block",console.log("Planning view shown")),Ww(),["map","map-area","sidebar","map-tabs","map-toolbar","chatbot-react-root"].forEach(s=>{const l=document.getElementById(s);l&&(l.classList.remove("view-hidden"),l.style.display="block",l.style.visibility="visible",l.style.opacity="1",console.log(`${s} restored and view-hidden removed`))}),it&&(console.log("Destroying existing map..."),it.remove(),it=null),setTimeout(()=>{if(console.log("Re-initializing map..."),g0(),window.savedMapState){const s=window.savedMapState;it&&(it.setView(s.center,s.zoom),console.log("Map state restored:",s.center,"zoom:",s.zoom),it.invalidateSize(),setTimeout(()=>it==null?void 0:it.invalidateSize(),100),setTimeout(()=>it==null?void 0:it.invalidateSize(),300))}},100),window.savedChatbotState&&window.savedChatbotState.open){console.log("Restoring chatbot state...");const s=document.querySelector('#chatbot-react-root [aria-label="Zufahrtsschutz-Assistent ffnen"]');s&&(s.click(),console.log("Chatbot button clicked"))}is("Planungs-Ansicht aktiviert - Map neu initialisiert","success"),console.log("Planning view switch completed with map re-initialization")}function Lw(){it&&(window.savedMapState={center:it.getCenter(),zoom:it.getZoom(),waypoints:ye,drawnPolygon:Nt?Nt.getLatLngs()[0]:null,waypointMarkers:wi.length>0,pathLine:je!==null});const o=document.querySelector('#chatbot-react-root aside[aria-label="Zufahrtsschutz-Assistent Panel"]');window.savedChatbotState={open:o&&!o.classList.contains("hidden")};const e=document.getElementById("planning-view");e&&(e.style.display="none");const n=document.getElementById("manufacturer-view");n&&(n.style.display="block",n.style.position="relative",n.style.width="100%",n.style.height="100%",n.style.zIndex="auto",n.style.backgroundColor="transparent");const s=document.querySelector(".sidebar");s&&(s.style.display="none");const l=document.getElementById("map-area");l&&(l.style.display="none",l.style.visibility="hidden",l.style.opacity="0",l.classList.add("view-hidden"));const u=document.getElementById("map");u&&(u.style.display="none",u.style.visibility="hidden",u.style.opacity="0",u.classList.add("view-hidden"));const c=document.getElementById("map-tabs"),m=document.getElementById("map-toolbar");c&&(c.style.display="none",c.classList.add("view-hidden")),m&&(m.style.display="none",m.classList.add("view-hidden")),setTimeout(()=>{$l()},50),is("Hersteller-Ansicht aktiviert","success")}function Vw(){if(!window.savedMapState)return;const o=window.savedMapState;return console.log("Restoring map state:",o),o}window.restoreMapState=Vw;function d0(){console.log("Initializing product database functionality...");try{Pw(),Bw(),Uw(),h0(ni),Qf(ni),console.log("Product database functionality initialized successfully");const o=document.getElementById("manufacturer-view");o&&o.style.display!=="none"&&(console.log("Manufacturer view is visible, translating product database"),$l())}catch(o){console.error("Error initializing product database:",o);const e=document.querySelector(".products-table-container");if(e){const n=document.createElement("div");n.className="error-message",n.innerHTML=`
                <div style="color: #dc2626; padding: 20px; text-align: center;">
                    <i class="fas fa-exclamation-triangle" style="font-size: 24px; margin-bottom: 10px;"></i>
                    <p><strong>Fehler beim Laden der Produktdatenbank</strong></p>
                    <p>Bitte laden Sie die Seite neu oder kontaktieren Sie den Support.</p>
                    <button onclick="location.reload()" style="background: #dc2626; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">
                        Seite neu laden
                    </button>
                </div>
            `,e.appendChild(n)}}}async function Pw(){try{const o=await fetch("/product-database.json");if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const e=await o.json();console.log("Product database loaded:",e.length,"products"),ni=e,h0(e),Qf(e);const n=document.getElementById("products-loading");n&&(n.style.display="none");const s=document.getElementById("products-table");s&&(s.style.display="table"),$l()}catch(o){console.error("Error loading product database:",o);const e=document.getElementById("no-products");e&&(e.style.display="block",e.textContent="Fehler beim Laden der Produktdatenbank");const n=document.getElementById("products-loading");throw n&&(n.style.display="none"),o}}function h0(o){const e=document.getElementById("manufacturer-filter");e&&[...new Set(o.map(u=>u.manufacturer).filter(Boolean))].forEach(u=>{const c=document.createElement("option");c.value=u,c.textContent=u,e.appendChild(c)});const n=document.getElementById("standard-filter");n&&[...new Set(o.map(u=>u.standard).filter(Boolean))].forEach(u=>{const c=document.createElement("option");c.value=u,c.textContent=u,n.appendChild(c)});const s=document.getElementById("vehicle-type-filter");s&&[...new Set(o.map(u=>u.vehicleType).filter(Boolean))].forEach(u=>{const c=document.createElement("option");c.value=u,c.textContent=u,s.appendChild(c)})}function Qf(o){const e=document.getElementById("products-tbody");if(!e)return;if(e.innerHTML="",o.length===0){const l=document.getElementById("no-products");l&&(l.style.display="block");return}const n=document.getElementById("no-products");n&&(n.style.display="none"),o.forEach((l,u)=>{const c=document.createElement("tr");c.innerHTML=`
            <td>${l.manufacturer||"N/A"}</td>
            <td>${l.type||"N/A"}</td>
            <td>${l.standard||"N/A"}</td>
            <td>${l.vehicleWeight||"N/A"}</td>
            <td>${l.vehicleType||"N/A"}</td>
            <td>${l.speed||"N/A"}</td>
            <td>${l.impactAngle||"N/A"}</td>
            <td>${l.penetration||"N/A"}</td>
            <td>${l.debrisDistance||"N/A"}</td>
            <td>
                <button class="view-details-btn" data-product-index="${u}">
                    Details anzeigen
                </button>
            </td>
        `,e.appendChild(c)}),e.querySelectorAll(".view-details-btn").forEach(l=>{l.addEventListener("click",u=>{const c=u.target,m=parseInt(c.getAttribute("data-product-index")||"0");Iw(m)})})}function Bw(){const o=document.getElementById("product-search"),e=document.getElementById("search-btn"),n=document.getElementById("manufacturer-filter"),s=document.getElementById("standard-filter"),l=document.getElementById("vehicle-type-filter");o&&o.addEventListener("input",Ba),e&&e.addEventListener("click",Ba),n&&n.addEventListener("change",Ba),s&&s.addEventListener("change",Ba),l&&l.addEventListener("change",Ba)}function Ba(){var c,m,y,h;const o=window.productDatabase||[],e=((c=document.getElementById("product-search"))==null?void 0:c.value.toLowerCase())||"",n=((m=document.getElementById("manufacturer-filter"))==null?void 0:m.value)||"",s=((y=document.getElementById("standard-filter"))==null?void 0:y.value)||"",l=((h=document.getElementById("vehicle-type-filter"))==null?void 0:h.value)||"",u=o.filter(v=>{var D,z,k;const T=!e||((D=v.manufacturer)==null?void 0:D.toLowerCase().includes(e))||((z=v.type)==null?void 0:z.toLowerCase().includes(e))||((k=v.standard)==null?void 0:k.toLowerCase().includes(e)),E=!n||v.manufacturer===n,C=!s||v.standard===s,A=!l||v.vehicleType===l;return T&&E&&C&&A});Qf(u)}function Uw(){const o=document.getElementById("close-modal"),e=document.getElementById("export-product"),n=document.getElementById("print-product");o&&o.addEventListener("click",()=>{const l=document.getElementById("product-modal");l&&(l.style.display="none")}),e&&e.addEventListener("click",zw),n&&n.addEventListener("click",kw);const s=document.getElementById("product-modal");s&&s.addEventListener("click",l=>{l.target===s&&(s.style.display="none")})}function Iw(o){const n=(window.productDatabase||[])[o];if(!n)return;const s=document.getElementById("modal-product-name");s&&(s.textContent=`${n.manufacturer} - ${n.type}`);const l=document.getElementById("modal-technical-specs");l&&(l.innerHTML=`
            <p><strong>Hersteller:</strong> ${n.manufacturer||"N/A"}</p>
            <p><strong>Typ:</strong> ${n.type||"N/A"}</p>
            <p><strong>Standard:</strong> ${n.standard||"N/A"}</p>
        `);const u=document.getElementById("modal-performance-data");u&&(u.innerHTML=`
            <p><strong>Fahrzeuggewicht:</strong> ${n.vehicleWeight||"N/A"} kg</p>
            <p><strong>Fahrzeugtyp:</strong> ${n.vehicleType||"N/A"}</p>
            <p><strong>Geschwindigkeit:</strong> ${n.speed||"N/A"} km/h</p>
            <p><strong>Anprallwinkel:</strong> ${n.impactAngle||"N/A"}</p>
            <p><strong>Penetration:</strong> ${n.penetration||"N/A"} m</p>
            <p><strong>Trmmerdistanz:</strong> ${n.debrisDistance||"N/A"} m</p>
        `);const c=document.getElementById("modal-certification");c&&(c.innerHTML=`
            <p><strong>Zertifizierungsstandard:</strong> ${n.standard||"N/A"}</p>
            <p><strong>Testbedingungen:</strong> ${n.vehicleWeight||"N/A"} kg bei ${n.speed||"N/A"} km/h</p>
        `);const m=document.getElementById("product-modal");m&&(m.style.display="flex")}function zw(){is("Export-Funktionalitt wird implementiert...","info")}function kw(){is("Druck-Funktionalitt wird implementiert...","info")}function is(o,e="info"){document.querySelectorAll(".custom-notification").forEach(u=>u.remove());const s=document.createElement("div");s.className=`custom-notification custom-notification-${e}`,s.innerHTML=`
        <div class="notification-content">
            <span class="notification-message">${o}</span>
            <button class="notification-close">&times;</button>
        </div>
    `,s.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${e==="info"?"#2563eb":e==="success"?"#22c55e":e==="warning"?"#f59e0b":"#ef4444"};
        color: white;
        padding: 16px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 10000;
        max-width: 400px;
        font-family: 'Open Sans', sans-serif;
        font-size: 14px;
        line-height: 1.4;
    `,document.body.appendChild(s);const l=s.querySelector(".notification-close");l&&l.addEventListener("click",()=>s.remove()),setTimeout(()=>{s.parentNode&&s.remove()},5e3)}function hv(o,e){return e.split(".").reduce((n,s)=>n?n[s]:void 0,o)}function et(o,e){(!$t||!$t[Bt])&&(console.warn(`No translations loaded for language: ${Bt}, using embedded`),$t=$a);let n=hv($t[Bt],o);if(typeof n!="string"&&(console.warn(`Translation key not found in main translations for language '${Bt}': ${o}`),n=hv($a[Bt],o),typeof n!="string"))return console.warn(`Translation key not found in embedded translations for language '${Bt}': ${o}`),Ow(o)||o;if(e)for(const s in e)n=n.replace(`{${s}}`,String(e[s]));return n}function Ow(o){return{"sidebar.trafficData":"Verkehrsdaten","sidebar.vehicleSelect":"Fahrzeugauswahl","sidebar.accessRoads":"Zufahrten","sidebar.curbs":"Bordsteinkanten","sidebar.obstacles":"Hindernisse","sidebar.protectionSelection":"Schutzauswahl","sidebar.protectionPeriod":"Schutzzeitraum","sidebar.protectionProducts":"Schutzprodukte","sidebar.productProperty":"Produkteigenschaft","sidebar.riskAssessment":"Risikobewertung","sidebar.assetToProtect":"Was geschtzt werden soll","sidebar.securityRisk":"Sicherheitsrisiko","sidebar.recommendedProductClass":"Empfohlene Produktklasse","sidebar.low":"niedrig","sidebar.high":"hoch","nav.paramInput":"Parameter","nav.markingArea":"Sicherheitsbereich","nav.threatAnalysis":"Gefahrenanalyse","nav.riskReport":"Risikobericht","nav.productSelection":"Produktauswahl","nav.projectDescription":"Ausschreibung","header.planning":"Planung","header.manufacturer":"Hersteller"}[o]||null}async function p0(){console.log("Translating UI to language:",Bt);let o=0,e=0;if(!$t[Bt]&&(console.warn(`No translations for language '${Bt}', attempting to load...`),await m0(),!$t[Bt])){console.error(`Failed to load translations for language '${Bt}'`);return}document.querySelectorAll("[data-translate-key]").forEach(s=>{try{const l=s.getAttribute("data-translate-key");if(l){const u=et(l);u&&u!==l?(s.textContent=u,o++):(console.warn(`Translation failed for key: ${l}`),e++)}}catch(l){console.error("Error translating element:",l),e++}}),document.querySelectorAll("[data-translate-key-placeholder]").forEach(s=>{try{const l=s.getAttribute("data-translate-key-placeholder");if(l&&s instanceof HTMLInputElement){const u=et(l);u&&u!==l?(s.placeholder=u,o++):(console.warn(`Placeholder translation failed for key: ${l}`),e++)}}catch(l){console.error("Error translating placeholder:",l),e++}}),document.querySelectorAll("[data-translate-key-aria]").forEach(s=>{try{const l=s.getAttribute("data-translate-key-aria"),u=et(l);u&&u!==l&&(s.setAttribute("aria-label",u),o++)}catch(l){console.error("Error translating aria-label:",l),e++}}),document.querySelectorAll("[data-translate-key-tooltip]").forEach(s=>{try{const l=s.getAttribute("data-translate-key-tooltip"),u=et(l);u&&u!==l&&(s.dataset.tooltip=u,o++)}catch(l){console.error("Error translating tooltip:",l),e++}});const n=document.getElementById("toggle-draw-mode");if(n){const s=n.querySelector("span");if(s){const l=et(bo?"map.setWaypointsActive":"map.setWaypoints");l&&l!=="map.setWaypointsActive"&&l!=="map.setWaypoints"&&(s.textContent=l,o++)}}console.log(`UI translation completed: ${translatedElements} elements translated, ${e} failed`),setTimeout(()=>{let s=0;document.querySelectorAll("[data-translate-key]").forEach(l=>{try{const u=l.getAttribute("data-translate-key"),c=et(u);c&&c!==u&&l.textContent!==c&&(l.textContent=c,s++)}catch(u){console.error("Error in refresh translation:",u)}}),s>0&&console.log(`Refreshed ${s} elements`)},200)}async function m0(){try{const o=["/Barricadix_MWP/translations.json","/translations.json","./translations.json","../translations.json"];let e=!1;for(const n of o)try{console.log(`Trying to load translations from: ${n}`);const s=await fetch(n);if(s.ok){$t=await s.json(),console.log(`Translations loaded successfully from: ${n}`),e=!0;break}}catch(s){console.log(`Failed to load from ${n}:`,s)}if(!e)throw new Error("All translation file paths failed")}catch(o){console.error("Could not load translations from any file path:",o);try{const e=await fetch("/translations.json");e.ok&&($t=await e.json())}catch(e){console.error("Fallback translation loading also failed:",e)}}!$t.de&&!$t.en?(console.log("No translations loaded from file, using embedded translations"),$t=$a):console.log("Translations loaded successfully from file"),(!$t.de||!$t.en)&&(console.warn("Incomplete translations, falling back to embedded"),$t=$a)}async function pv(o){var s;console.log(`Setting language to: ${o}`);const e={center:it?it.getCenter():null,zoom:it?it.getZoom():null,drawnPolygon:Nt?Nt.getLatLngs():null,threatsMap:new Map(Te),waypoints:[...ye]};console.log("Current map state:",e),Bt=o,localStorage.setItem("language",o),document.documentElement.lang=o,document.querySelectorAll(".lang-btn").forEach(l=>{l.classList.toggle("active",l.getAttribute("data-lang")===o)}),await p0();const n=document.getElementById("manufacturer-view");if(n&&n.style.display!=="none"&&(console.log("Manufacturer view is visible, translating immediately"),$l()),y0(),window.dispatchEvent(new Event("languageChanged")),it&&e.center&&e.zoom){console.log("Restoring map state after language change"),await new Promise(l=>setTimeout(l,500));try{if(it.setView(e.center,e.zoom,{animate:!1}),e.drawnPolygon&&e.drawnPolygon.length>0){console.log("Restoring drawn polygon"),Nt&&it.removeLayer(Nt),Nt=L.polygon(e.drawnPolygon,{color:"#ff7800",weight:3,opacity:.8,fillColor:"#ff7800",fillOpacity:.2}).addTo(it),Vi&&it.removeLayer(Vi);const l=Nt.getBounds().getCenter();Vi=L.marker(l,{icon:L.divIcon({className:"polygon-label",html:`<div style="background: white; padding: 5px; border: 2px solid #ff7800; border-radius: 5px; font-weight: bold; color: #ff7800;">${et("map.securityArea")}</div>`,iconSize:[120,40],iconAnchor:[60,20]})}).addTo(it)}e.threatsMap.size>0&&(console.log("Restoring threats map"),Te=e.threatsMap,Te.size>0&&cf()),e.waypoints.length>0&&(console.log("Restoring waypoints"),ye=e.waypoints,ye.forEach((l,u)=>{const c=L.marker(l,{icon:L.divIcon({className:"waypoint-marker",html:`<div style="background: #ff7800; color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: bold;">${u+1}</div>`,iconSize:[20,20],iconAnchor:[10,10]})}).addTo(it);wi.push(c)}),ye.length>1&&(je=L.polyline(ye,{color:"#ff7800",weight:3,opacity:.8,dashArray:"10, 10"}).addTo(it))),it.invalidateSize(),console.log("Map state restored successfully")}catch(l){console.error("Error restoring map state:",l)}}Te.size>0&&cf(),((s=document.querySelector(".product-recommendations-container"))==null?void 0:s.classList.contains("hidden"))===!1&&await Hl(),console.log(`Language change to ${o} completed`)}function g0(){const o=document.getElementById("map");if(!o){console.error("Map container element not found.");return}o.style.display="block",o.style.visibility="visible",o.style.opacity="1",o.classList.remove("view-hidden"),console.log("Map container prepared for initialization");const e=[51.7189,8.7575];it=L.map(o,{zoomControl:!1,preferCanvas:!0}).setView(e,16),L.control.zoom({position:"bottomright"}).addTo(it),f0=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(it),console.log("Map initialized successfully")}const Ia=()=>{if(ln){try{ln.clearLayers(),it.removeLayer(ln)}catch{}ln=null}ql.forEach(s=>{s.forEach(l=>it.removeLayer(l))}),ql.clear(),Te.clear();const o=document.querySelector(".threat-list");o&&(o.innerHTML="");const e=document.getElementById("floating-threats");e&&e.classList.add("view-hidden");const n=document.querySelector(".product-recommendations-container");n&&n.classList.add("hidden")};function qw(o,e,n,s){const l=o.lon,u=o.lat,c=e.lon,m=e.lat,y=n.lon,h=n.lat,v=s.lon,T=s.lat,E=(l-c)*(h-T)-(u-m)*(y-v);if(E===0)return null;const C=((l-y)*(h-T)-(u-h)*(y-v))/E,A=-((l-c)*(u-h)-(u-m)*(l-y))/E;return C>0&&C<1&&A>0&&A<1?{lat:u+C*(m-u),lon:l+C*(c-l)}:null}const mv=(o,e)=>{let n=!1;for(let s=0,l=e.length-1;s<e.length;l=s++){const u=e[s].lon,c=e[s].lat,m=e[l].lon,y=e[l].lat;c>o.lat!=y>o.lat&&o.lon<(m-u)*(o.lat-c)/(y-c)+u&&(n=!n)}return n};function gv(o,e){const s=o.lat*Math.PI/180,l=e.lat*Math.PI/180,u=(e.lat-o.lat)*Math.PI/180,c=(e.lon-o.lon)*Math.PI/180,m=Math.sin(u/2)*Math.sin(u/2)+Math.cos(s)*Math.cos(l)*Math.sin(c/2)*Math.sin(c/2);return 6371e3*(2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)))}function Gw(o,e,n){const s={x:o.lon-e.lon,y:o.lat-e.lat},l={x:n.lon-e.lon,y:n.lat-e.lat},u=s.x*l.x+s.y*l.y,c=Math.sqrt(s.x*s.x+s.y*s.y),m=Math.sqrt(l.x*l.x+l.y*l.y);if(c===0||m===0)return 180;const y=u/(c*m),h=Math.max(-1,Math.min(1,y));return Math.acos(h)*(180/Math.PI)}function Gl(o){switch(o){case"500":return[4,6];case"3500":return[3,4];case"7500":return[1.5,2.5];case"12000":return[1,1.5];case"40000":return[.5,1];default:return null}}function Ha(o,e){return e<=0?0:Math.sqrt(2*o*e)*3.6}function cf(){const o=document.querySelector(".threat-list");if(!o||(o.innerHTML="",Te.size===0))return;const n=document.getElementById("vehicle-select").value,s=Gl(n),l=Array.from(Te.entries()).map(([u,c])=>{if(c.entryPoints.length===0)return null;const m=Math.round(c.totalLength);let y=0;if(s&&m>0){const[,h]=s;y=Math.round(Ha(h,m))}return{name:u,data:c,maxSpeed:y,lengthInMeters:m}}).filter(u=>u!==null);if(l.sort((u,c)=>c.maxSpeed-u.maxSpeed),l.forEach(({name:u,maxSpeed:c,lengthInMeters:m})=>{const y=document.createElement("li");let h="";c>0&&(h=` | ${et("threats.speed")}: ${c} km/h`),y.textContent=`${u} (${m} m)${h}`,y.setAttribute("role","button"),y.setAttribute("tabindex","0"),y.addEventListener("click",()=>{o.querySelectorAll("li").forEach(T=>T.classList.remove("active")),y.classList.add("active");const v=ql.get(u);if(v&&v.length>0){const T=L.featureGroup(v);it.fitBounds(T.getBounds().pad(.5))}}),y.addEventListener("keydown",v=>{(v.key==="Enter"||v.key===" ")&&y.click()}),o.appendChild(y)}),o.children.length===0){const u=document.createElement("li");u.textContent=et("threats.noCrossingWaysBoundary"),o.appendChild(u)}}const yv=async()=>{if(!Nt){alert(et("alerts.noPolygon"));return}if(!Nt.getLatLngs||typeof Nt.getLatLngs!="function"){console.error("Invalid polygon object - missing getLatLngs method"),alert(et("alerts.invalidPolygon"));return}const o=Nt.getLatLngs();if(!o||o.length===0){console.error("Polygon has no coordinates"),alert(et("alerts.emptyPolygon"));return}console.log(`Analyzing threats for polygon with ${o.length} coordinate sets`),console.log("Polygon coordinates:",o);const e=document.querySelector(".loading-indicator");if(e){Ia(),e.classList.remove("hidden");try{const n=Nt.getBounds();if(!n||!n.isValid())throw new Error("Invalid polygon bounds");const s=.002,l=n.getSouthWest(),u=n.getNorthEast(),c=`${l.lat-s},${l.lng-s},${u.lat+s},${u.lng+s}`;console.log("Analysis bounds:",c);const m=`
            [out:json][timeout:25];
            (
              way["highway"](bbox:${c});
              way["railway"="tram"](bbox:${c});
            );
            (._;>;);
            out;
        `,y=`https://overpass-api.de/api/interpreter?data=${encodeURIComponent(m)}`;let h;try{const A=await fetch(y);if(!A.ok)throw new Error(et("alerts.overpassError",{status:A.status}));h=await A.json()}catch(A){console.error("Overpass API error:",A),alert(et("alerts.analysisError")),e.classList.add("hidden");return}const v={},T={};h.elements.forEach(A=>{A.type==="node"?v[A.id]={lat:A.lat,lon:A.lon}:A.type==="way"&&A.tags&&(A.tags.highway||A.tags.railway)&&A.tags.name&&(T[A.id]={name:A.tags.name,nodes:A.nodes,id:A.id})});const E=new Map;let C=[];try{if(Array.isArray(o[0])?Array.isArray(o[0][0])?C=o[0][0].map(A=>({lat:A.lat||A.lat,lon:A.lng||A.lon})):C=o[0].map(A=>({lat:A.lat||A.lat,lon:A.lng||A.lon})):C=o.map(A=>({lat:A.lat||A.lat,lon:A.lng||A.lon})),C.length<3)throw new Error("Invalid polygon: insufficient vertices");if(C=C.filter(A=>typeof A.lat=="number"&&typeof A.lon=="number"&&!isNaN(A.lat)&&!isNaN(A.lon)),C.length<3)throw new Error("Invalid polygon: insufficient valid coordinates");console.log(`Extracted ${C.length} valid polygon vertices:`,C)}catch(A){console.error("Error extracting polygon coordinates:",A),alert(et("alerts.polygonCoordinateError")),e.classList.add("hidden");return}for(const A in T){const D=T[A],z=D.nodes.map(N=>({id:N,...v[N]})).filter(N=>N.lat&&N.lon);if(z.length<2)continue;const k=[],F=[];for(let N=0;N<z.length-1;N++){const K=z[N],w=z[N+1],X=mv(K,C),Z=mv(w,C);if(X!==Z){let H=null;for(let ot=0;ot<C.length;ot++){const lt=C[ot],yt=C[(ot+1)%C.length],Tt=qw(K,w,lt,yt);if(Tt){H=Tt;break}}if(H){F.push(H);const ot=[H];let lt,yt;Z?(ot.push({lat:K.lat,lon:K.lon}),lt=N-1,yt=-1):(ot.push({lat:w.lat,lon:w.lon}),lt=N+1,yt=1);for(let Tt=lt;Tt>=0&&Tt<z.length;Tt+=yt){const dt=z[Tt];if(ot.length>=2){const J=ot[ot.length-2],j=ot[ot.length-1],P={lat:dt.lat,lon:dt.lon};if(Gw(J,j,P)<150)break}ot.push({lat:dt.lat,lon:dt.lon})}k.push(ot)}}}if(F.length>0){E.has(D.name)||E.set(D.name,{entryPoints:[],pathSegments:[],totalLength:0});const N=E.get(D.name);N.entryPoints.push(...F),N.pathSegments.push(...k);let K=0;k.forEach(w=>{for(let X=0;X<w.length-1;X++)K+=gv(w[X],w[X+1])}),N.totalLength+=K}}if(Te=E,Te.size>0){if(ln)try{ln.clearLayers(),it.removeLayer(ln)}catch{}ln=L.layerGroup().addTo(it);const A=document.getElementById("vehicle-select"),D=(A==null?void 0:A.value)||"alle",z=Gl(D),k=z?z[1]:3;Te.forEach((K,w)=>{if(K.entryPoints.length===0)return;const X=[];K.entryPoints.forEach(Z=>{const H=L.circle([Z.lat,Z.lon],{radius:5,color:"red",fillColor:"#f03",fillOpacity:1,weight:2}).bindPopup(`<b>${et("threats.popupHeader")}</b><br>${w}`);ln.addLayer(H),X.push(H)}),K.pathSegments.forEach(Z=>{if(Z.length>1){const H=Z.map(dt=>[dt.lat,dt.lon]);let ot=0;for(let dt=0;dt<Z.length-1;dt++)ot+=gv(Z[dt],Z[dt+1]);const lt=Ha(k,ot);let yt="#e74c3c";lt<=30?yt="#39b54a":lt<=50&&(yt="#f1c40f");const Tt=L.polyline(H,{color:yt,weight:5,opacity:.9});ln.addLayer(Tt),X.push(Tt)}}),X.length>0&&ql.set(w,X)}),cf();const F=document.getElementById("floating-threats");F&&F.classList.remove("view-hidden");const N=document.querySelector(".product-recommendations-container");N&&(N.classList.remove("hidden"),await Hl())}else{const A=document.querySelector(".threat-list"),D=document.createElement("li");D.textContent=et("threats.noCrossingWaysArea"),A.appendChild(D);const z=document.getElementById("floating-threats");z&&z.classList.remove("view-hidden")}}catch(n){console.error("Fehler bei der Gefahrenanalyse:",n),alert(et("alerts.analysisError"));const s=document.querySelector(".threat-list"),l=document.createElement("li");l.textContent=et("threats.analysisFailed"),s.appendChild(l)}finally{e.classList.add("hidden")}}};async function Hw(o){try{const e=typeof window<"u"&&window.location.hostname.endsWith("github.io"),n="AIzaSyAu89J9B0b57XIao133a19Wd64T6oiCA9A";if(!n||e)return console.warn("AI disabled for public/demo build. Using placeholder report sections."),Kw(o);const s=new Px({apiKey:n}),l=et("ai.reportPrompt",{locationName:o.locationName,assetToProtect:o.assetToProtect,securityLevel:o.securityLevel,protectionGrade:o.protectionGrade,threatList:o.threatList,protectionPeriod:o.protectionPeriod,productType:o.productType,penetration:o.penetration,debrisDistance:o.debrisDistance,language:Bt==="de"?"German":"English"})+`

IMPORTANT: Generate the report in ${Bt==="de"?"German":"English"} language only. All text must be in ${Bt==="de"?"German":"English"}.`,c=((await s.models.generateContent({model:"gemini-2.5-flash",contents:l,config:{responseMimeType:"application/json",responseSchema:{type:xn.OBJECT,properties:{purpose:{type:xn.STRING},threatAnalysis:{type:xn.STRING},vulnerabilities:{type:xn.STRING},hvmMeasures:{type:xn.STRING},siteConsiderations:{type:xn.STRING},operationalImpact:{type:xn.STRING}},required:["purpose","threatAnalysis","vulnerabilities","hvmMeasures","siteConsiderations","operationalImpact"]}}})).text||"").trim(),m=JSON.parse(c);return Fw(m)}catch(e){return console.error("Fehler bei der Gemini-API-Anfrage fr den Bericht:",e),alert(et("alerts.geminiError")),null}}function Fw(o){const e=Bt==="de",n=o.purpose||o.threatAnalysis||"",s=["der","die","das","und","fr","von","mit","bei","auf","in","an","zu","zur","zum"],l=["the","and","for","of","with","at","on","in","to","from","by","as","is","are"],u=s.filter(v=>n.toLowerCase().includes(v)).length,c=l.filter(v=>n.toLowerCase().includes(v)).length,m=u>c;if(!(e&&!m||!e&&m))return console.log("AI text is already in correct language, no translation needed"),o;console.log("AI text needs translation. Current language:",Bt,"Text language:",m?"German":"English");const h={};for(const[v,T]of Object.entries(o))typeof T=="string"?h[v]=Yw(T,e):h[v]=T;return h}function Yw(o,e){return e?o.replace(/\bThis report\b/gi,"Dieser Bericht").replace(/\baims to\b/gi,"zielt darauf ab").replace(/\bidentify\b/gi,"zu identifizieren").replace(/\bassess\b/gi,"zu bewerten").replace(/\bmitigate\b/gi,"zu mindern").replace(/\bpotential\b/gi,"potenzielle").replace(/\brisks\b/gi,"Risiken").replace(/\bassets\b/gi,"Schutzgter").replace(/\bensuring\b/gi,"um sicherzustellen").replace(/\bbusiness continuity\b/gi,"Geschftskontinuitt").replace(/\bstrategic\b/gi,"strategische").replace(/\bsecurity\b/gi,"Sicherheits").replace(/\binvestments\b/gi,"Investitionen").replace(/\bThe primary threat\b/gi,"Die primre Bedrohung").replace(/\bis\b/gi,"ist").replace(/\buse of vehicles\b/gi,"die Nutzung von Fahrzeugen").replace(/\bas\b/gi,"als").replace(/\bweapon\b/gi,"Waffe").replace(/\bPotential\b/gi,"Potenzielle").replace(/\badversaries\b/gi,"Gegner").replace(/\binclude\b/gi,"umfassen").replace(/\bstate-sponsored\b/gi,"staatsgesttzte").replace(/\bterrorist\b/gi,"terroristische").replace(/\binsider threats\b/gi,"Innentter-Bedrohungen").replace(/\bmalicious software\b/gi,"schdliche Software").replace(/\bdistributed denial\b/gi,"verteilte Verweigerung").replace(/\battacks\b/gi,"Angriffe").replace(/\bGiven\b/gi,"Angesichts").replace(/\bglobal\b/gi,"globaler").replace(/\btrends\b/gi,"Trends").replace(/\band\b/gi,"und").replace(/\bthe\b/gi,"der").replace(/\bof\b/gi,"von").replace(/\bto\b/gi,"zu").replace(/\bin\b/gi,"in").replace(/\bon\b/gi,"auf").replace(/\bat\b/gi,"bei").replace(/\bwith\b/gi,"mit").replace(/\bfor\b/gi,"fr").replace(/\bfrom\b/gi,"von").replace(/\bby\b/gi,"durch").replace(/\bas\b/gi,"als").replace(/\bis\b/gi,"ist").replace(/\bare\b/gi,"sind").replace(/\bwas\b/gi,"war").replace(/\bwere\b/gi,"waren").replace(/\bwill\b/gi,"wird").replace(/\bwrde\b/gi,"wrde").replace(/\bknnte\b/gi,"knnte").replace(/\bsollte\b/gi,"sollte").replace(/\bmay\b/gi,"kann").replace(/\bmight\b/gi,"knnte").replace(/\bcan\b/gi,"kann"):o.replace(/\bDieser Bericht\b/gi,"This report").replace(/\bzielt darauf ab\b/gi,"aims to").replace(/\bzu identifizieren\b/gi,"identify").replace(/\bzu bewerten\b/gi,"assess").replace(/\bzu mindern\b/gi,"mitigate").replace(/\bpotenzielle\b/gi,"potential").replace(/\bRisiken\b/gi,"risks").replace(/\bSchutzgter\b/gi,"assets").replace(/\bum sicherzustellen\b/gi,"ensuring").replace(/\bGeschftskontinuitt\b/gi,"business continuity").replace(/\bstrategische\b/gi,"strategic").replace(/\bSicherheits\b/gi,"security").replace(/\bInvestitionen\b/gi,"investments").replace(/\bDie primre Bedrohung\b/gi,"The primary threat").replace(/\bist\b/gi,"is").replace(/\bdie Nutzung von Fahrzeugen\b/gi,"use of vehicles").replace(/\bals\b/gi,"as").replace(/\bWaffe\b/gi,"weapon").replace(/\bPotenzielle\b/gi,"Potential").replace(/\bGegner\b/gi,"adversaries").replace(/\bumfassen\b/gi,"include").replace(/\bstaatsgesttzte\b/gi,"state-sponsored").replace(/\bterroristische\b/gi,"terrorist").replace(/\bInnentter-Bedrohungen\b/gi,"insider threats").replace(/\bschdliche Software\b/gi,"malicious software").replace(/\bverteilte Verweigerung\b/gi,"distributed denial").replace(/\bAngriffe\b/gi,"attacks").replace(/\bAngesichts\b/gi,"Given").replace(/\bglobaler\b/gi,"global").replace(/\bTrends\b/gi,"trends").replace(/\bund\b/gi,"and").replace(/\bder\b/gi,"the").replace(/\bvon\b/gi,"of").replace(/\bzu\b/gi,"to").replace(/\bin\b/gi,"in").replace(/\bauf\b/gi,"on").replace(/\bbei\b/gi,"at").replace(/\bmit\b/gi,"with").replace(/\bfr\b/gi,"for").replace(/\bdurch\b/gi,"by").replace(/\bist\b/gi,"is").replace(/\bsind\b/gi,"are").replace(/\bwar\b/gi,"was").replace(/\bwaren\b/gi,"were").replace(/\bwird\b/gi,"will").replace(/\bwrde\b/gi,"would").replace(/\bknnte\b/gi,"could").replace(/\bsollte\b/gi,"should").replace(/\bkann\b/gi,"may")}function Kw(o){var e,n,s,l,u,c,m,y,h,v;try{const T=window.planningState||{},E=((e=T.schutzgter)==null?void 0:e.join(", "))||o.assetToProtect||et("report.undefinedAsset"),C=((s=(n=T.risiko)==null?void 0:n.bedrohung)==null?void 0:s.art)||et("report.undefinedValue"),A=((u=(l=T.risiko)==null?void 0:l.dynamik)==null?void 0:u.v_kmh)||o.estimatedSpeedKmH||et("report.undefinedValue"),D=((m=(c=T.risiko)==null?void 0:c.site)==null?void 0:m.untergrund)||et("report.undefinedValue"),z=((y=T.restrisiko)==null?void 0:y.klasse)||o.securityLevel||et("report.undefinedValue"),k=(v=(h=T.risiko)==null?void 0:h.site)!=null&&v.anfahrkorridore&&T.risiko.site.anfahrkorridore.length>0?et("report.identifiedCorridors",{count:T.risiko.site.anfahrkorridore.length}):et("report.noChatGeometry");return Bt==="de"?{purpose:`Schutzziel: Sicherung von ${E} am Standort ${o.locationName}. Der Assistent lieferte ergnzende Eingaben (Normbezug DIN SPEC 914142 / ISO 223432).`,threatAnalysis:`Bedrohungsannahme: ${C}. Aus der Karten-/Chat-Analyse ergibt sich eine Zufahrtsgeschwindigkeit von ca. ${A} km/h. Anfahrkorridore laut Chat: ${k}.`,vulnerabilities:`Untergrund/Fundamente: ${D}. Restrisiko (Chat/Slider): ${z}. Kritische Zufahrtswinkel bzw. Engstellen sind bei der Manahmendefinition zu bercksichtigen.`,hvmMeasures:`Empfohlene Manahmen orientieren sich an der erwarteten Geschwindigkeit und den Schutzzielen. Fr ${E} mit Geschwindigkeit ~${A} km/h sind FSB mit entsprechendem Leistungsniveau, geprften Fundamenten und Bercksichtigung des Anprallwinkels anzusetzen.`,siteConsiderations:`Betriebliche Rahmenbedingungen (z. B. Feuerwehrzufahrt, Fluchtwege) aus Chat sollten in die Detailplanung einflieen. Untergrund: ${D}.`,operationalImpact:"Manahmen sind so auszulegen, dass Betrieb, Rettungswege und Gestaltung bercksichtigt sind; temporre Anpassungen (Events) werden untersttzt."}:{purpose:`Protection objective: Securing ${E} at location ${o.locationName}. The assistant provided additional inputs (standard reference DIN SPEC 914142 / ISO 223432).`,threatAnalysis:`Threat assumption: ${C}. From the map/chat analysis, an access speed of approximately ${A} km/h results. Access corridors according to chat: ${k}.`,vulnerabilities:`Ground/foundations: ${D}. Residual risk (Chat/Slider): ${z}. Critical impact angles or bottlenecks must be considered in measure definition.`,hvmMeasures:`Recommended measures are oriented to expected speed and protection objectives. For ${E} with speed ~${A} km/h, FSB with corresponding performance level, tested foundations and consideration of impact angle should be applied.`,siteConsiderations:`Operational framework conditions (e.g., fire brigade access, escape routes) from chat should flow into detailed planning. Ground: ${D}.`,operationalImpact:"Measures are designed so that operations, rescue routes and design are considered; temporary adaptations (events) are supported."}}catch{return Bt==="de"?{purpose:`Schutzziel und Rahmenbedingungen fr ${o.locationName}.`,threatAnalysis:"Zusammenfassung der Gefahren basierend auf Karten-/Chat-Eingaben.",vulnerabilities:"Allgemeine Schwachstellen am Standort.",hvmMeasures:"Empfohlene HVMManahmen gem Annahmen.",siteConsiderations:"Standortspezifische Hinweise.",operationalImpact:"Betriebliche Auswirkungen und Gestaltung."}:{purpose:`Protection objective and framework conditions for ${o.locationName}.`,threatAnalysis:"Summary of hazards based on map/chat inputs.",vulnerabilities:"General vulnerabilities at the site.",hvmMeasures:"Recommended HVM measures according to assumptions.",siteConsiderations:"Site-specific notes.",operationalImpact:"Operational impacts and design."}}}async function Qw(o){const e=`https://nominatim.openstreetmap.org/reverse?format=json&lat=${o.lat}&lon=${o.lng}&zoom=18&addressdetails=1`;try{const n=await fetch(e,{headers:{"Accept-Language":Bt}});return n.ok&&(await n.json()).display_name||"Unknown Location"}catch(n){return console.error("Fehler beim Reverse Geocoding:",n),"Could not determine location"}}async function Hl(){if(ni.length===0)try{const y=await fetch("/Barricadix_MWP/product-database.json");if(!y.ok)throw new Error("Product database fetch failed");ni=await y.json()}catch(y){console.error(et("alerts.productDbError"),y);const h=document.querySelector("#poller-category-header small"),v=document.querySelector("#barrier-category-header small");h&&(h.textContent=et("products.dbError")),v&&(v.textContent=et("products.dbError"));return}const e=document.getElementById("vehicle-select").value,n=document.querySelector("#poller-category-header small"),s=document.querySelector("#barrier-category-header small");if(n&&(n.textContent=et("products.resistanceHigh")),s&&(s.textContent=et("products.resistanceMedium")),e==="alle")return;const l=["bollard","poller"],u=["barrier","barriere","gate"],c=ni.find(y=>y.vehicleWeight===e&&y.type&&l.some(h=>y.type.toLowerCase().includes(h))),m=ni.find(y=>y.vehicleWeight===e&&y.type&&u.some(h=>y.type.toLowerCase().includes(h)));n&&(n.textContent=c?`${et("products.recommendation")} ${c.type}`:et("products.noRecommendation")),s&&(s.textContent=m?`${et("products.recommendation")} ${m.type}`:et("products.noRecommendation"))}function vv(o){return o<33?et("sidebar.low"):o<66?et("products.resistanceMedium"):et("sidebar.high")}function Xw(){const o=document.getElementById("vehicle-select"),e=parseInt(o.value,10);if(isNaN(e))return null;let n=null,s=1/0;for(const l of ni){const u=parseInt(l.vehicleWeight,10),c=parseFloat(l.penetration);!isNaN(u)&&!isNaN(c)&&u>=e&&c<s&&(s=c,n=l)}return n}async function Zw(){var c;const o=document.getElementById("report-iframe"),e=document.querySelector(".report-loading-overlay"),n=document.getElementById("download-report-btn"),s=document.getElementById("map"),l=document.getElementById("report-preview-area");e.classList.remove("view-hidden"),n.disabled=!0;let u=null;try{if(Nt){if(console.log(`Generating report for language: ${Bt}`),console.log("Drawn polygon data:",Nt),!Nt.getLatLngs||typeof Nt.getLatLngs!="function")throw console.error("Invalid polygon object - missing getLatLngs method"),new Error("Invalid polygon data for map capture");const dt=Nt.getLatLngs();if(!dt||dt.length===0)throw console.error("Polygon has no coordinates"),new Error("Polygon has no valid coordinates");console.log(`Polygon coordinates: ${dt.length} points`),l.classList.add("view-hidden"),s.classList.remove("view-hidden"),await new Promise((J,j)=>{const P=setTimeout(()=>{j(new Error("Map rendering timeout"))},1e4),q=()=>{clearTimeout(P);const rt=Bt==="de"?1e3:500;requestAnimationFrame(()=>setTimeout(J,rt))};let $;it.invalidateSize(),f0.once("load",()=>{console.log("Tile layer loaded successfully"),clearTimeout($),q()}),it.once("moveend",()=>{console.log("Map movement ended"),$=window.setTimeout(q,1e3)});try{const rt=Nt.getBounds();rt&&rt.isValid()?(console.log("Fitting map to polygon bounds"),it.fitBounds(rt,{animate:!1,padding:[20,20]})):(console.warn("Invalid bounds, using default view"),it.setView(it.getCenter(),it.getZoom()))}catch(rt){console.error("Error fitting bounds:",rt)}}),await new Promise(J=>setTimeout(J,500)),console.log("Capturing map screenshot..."),u=await html2canvas(s,{useCORS:!0,logging:!0,allowTaint:!0,backgroundColor:"#ffffff",scale:2,width:s.offsetWidth,height:s.offsetHeight,onclone:J=>{console.log("Cloning document for screenshot"),J.querySelectorAll(".leaflet-popup-pane > *").forEach(q=>{q.style.display="none"});const j=J.getElementById("map");j&&(j.style.visibility="visible",j.style.opacity="1",j.style.display="block");const P=J.querySelector(".leaflet-container");P&&(P.style.visibility="visible",P.style.opacity="1")}}),console.log("Map screenshot captured successfully")}else console.log("No polygon drawn, skipping map capture");u&&u.width>0&&u.height>0?console.log(`Canvas dimensions: ${u.width}x${u.height}`):(console.warn("Invalid canvas generated, continuing without map image"),u=null);const m=Nt?await Qw(Nt.getBounds().getCenter()):et("report.undefinedLocation"),h=document.getElementById("asset-to-protect").value.trim()||et("report.undefinedAsset");let v=et("report.noThreatAnalysis");if(Te.size>0){const J=document.getElementById("vehicle-select").value,j=Gl(J),P=Array.from(Te.entries()).map(([q,$])=>{const rt=Math.round($.totalLength);let x=0;if(j&&rt>0){const[,Q]=j;x=Math.round(Ha(Q,rt))}return{name:q,lengthInMeters:rt,maxSpeed:x}});P.sort((q,$)=>$.maxSpeed-q.maxSpeed),v=`
                <table style="width: 100%; border-collapse: collapse; margin: 10px 0; font-size: 12px;">
                    <thead>
                        <tr style="background-color: #f0f0f0; font-weight: bold;">
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">${et("report.threatsTable.street")}</th>
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">${et("report.threatsTable.distance")}</th>
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">${et("report.threatsTable.maxSpeed")}</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${P.map(q=>`
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">${q.name}</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">${q.lengthInMeters} m</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">${q.maxSpeed} km/h</td>
                            </tr>
                        `).join("")}
                    </tbody>
                </table>
            `}const T=document.getElementById("security-risk-slider"),E=document.getElementById("product-class-slider"),C=document.getElementById("protection-period-select"),A=document.getElementById("protection-product-select"),D=Xw(),z={locationName:m,assetToProtect:h,securityLevel:vv(parseInt(T.value)),protectionGrade:vv(parseInt(E.value)),threatList:v,protectionPeriod:C.options[C.selectedIndex].text,productType:A.options[A.selectedIndex].text,penetration:D?D.penetration:et("report.undefinedValue"),debrisDistance:D&&D.debrisDistance||et("report.undefinedValue")},k=await Hw(z);if(!k)throw new Error("AI did not return report sections.");const{jsPDF:F}=window.jspdf,N=new F({orientation:"p",unit:"mm",format:"a4"}),K=()=>{const dt=N.internal.pageSize.getWidth(),J=N.internal.pageSize.getHeight();if(N.saveGraphicsState(),N.setFont("helvetica","bold"),N.setFontSize(120),N.setTextColor(200,200,200),F.GState){const j=new F.GState({opacity:.2});N.setGState(j)}N.text(et("report.watermark"),dt/2+50,J/2+50,{align:"center",angle:45}),N.restoreGraphicsState()},w=20,X=N.internal.pageSize.getWidth(),Z=X-w*2;let H=25;const ot=(dt,J)=>{H>250&&(N.addPage(),K(),H=25),N.setFont("helvetica","bold").setFontSize(14).text(et(dt),w,H),H+=7;const j=N.setFont("helvetica","normal").setFontSize(11).splitTextToSize(J,Z);H+j.length*5>280&&(N.addPage(),K(),H=25),N.text(j,w,H),H+=j.length*5+10};K();const lt=et("report.mainTitle",{locationName:m});N.setFont("helvetica","bold").setFontSize(18);const yt=N.splitTextToSize(lt,Z),Tt=8;if(H+yt.length*Tt>280&&(N.addPage(),K(),H=25),N.text(yt,w,H),H+=yt.length*Tt+5,N.setDrawColor(30,144,255).setLineWidth(.5).line(w,H,X-w,H),H+=15,ot("report.sections.purpose.title",k.purpose),ot("report.sections.threatAnalysis.title",k.threatAnalysis),Te.size>0){H-=5,N.setFont("helvetica","normal").setFontSize(11);const J=document.getElementById("vehicle-select").value,j=Gl(J);Te.forEach((P,q)=>{let $=` ${q} (${Math.round(P.totalLength)} m)`;if(j&&P.totalLength>0){const[x,Q]=j,nt=Math.round(Ha(x,P.totalLength)),W=Math.round(Ha(Q,P.totalLength));$+=` | ${et("threats.speed")}: ${nt}-${W} km/h`}const rt=N.splitTextToSize($,Z-5);H+rt.length*7>280&&(N.addPage(),K(),H=25),N.text(rt,w+5,H),H+=rt.length*6}),H+=10}if(ot("report.sections.vulnerabilities.title",k.vulnerabilities),ot("report.sections.hvmMeasures.title",k.hvmMeasures),ot("report.sections.siteConsiderations.title",k.siteConsiderations),u){const dt=u.height/u.width,J=Z*dt;H+J>280&&(N.addPage(),K(),H=25),N.addImage(u,"PNG",w,H,Z,J),H+=J+10}else{const dt=et("report.noMapAvailable"),J=N.setFont("helvetica","italic").setFontSize(10).splitTextToSize(dt,Z);H+J.length*5>280&&(N.addPage(),K(),H=25),N.text(J,w,H),H+=J.length*5+10}ot("report.sections.operationalImpact.title",k.operationalImpact);try{const dt=N.getNumberOfPages||((c=N.internal)==null?void 0:c.getNumberOfPages),J=typeof dt=="function"?dt.call(N):1;for(let j=1;j<=J;j++)N.setPage(j),K()}catch{K()}l.classList.remove("view-hidden"),s.classList.add("view-hidden"),await new Promise(requestAnimationFrame);try{const dt=N.output("blob");xl&&URL.revokeObjectURL(xl),xl=URL.createObjectURL(dt),o.src=xl}catch{o.src=N.output("datauristring")}_n=N,n.disabled=!1}catch(m){console.error("Fehler bei der Erstellung des Berichts:",m),alert(et("alerts.reportCreationError")),s.classList.add("view-hidden"),l.classList.remove("view-hidden")}finally{e.classList.add("view-hidden")}}function Jw(){_n?_n.save(et("report.reportFilename")):alert(et("alerts.noReportToDownload"))}document.addEventListener("DOMContentLoaded",async()=>{var dt;console.log("DOM Content Loaded - Starting initialization..."),fv(),g0();let o=0;const e=3;for(;o<e&&(!$t.de||!$t.en);)console.log(`Translation load attempt ${o+1}/${e}`),await m0(),o++,o<e&&(!$t.de||!$t.en)&&(console.log("Waiting 500ms before retry..."),await new Promise(J=>setTimeout(J,500)));(!$t.de||!$t.en)&&(console.warn("Failed to load translations from file, using embedded translations"),$t=$a),Bt="de",console.log("Translating UI..."),await p0(),y0(),console.log("Initializing product database..."),d0();const n=localStorage.getItem("language")||"de";n!==Bt&&(console.log(`Setting saved language: ${n}`),await pv(n)),document.querySelectorAll(".lang-btn").forEach(J=>{J.addEventListener("click",j=>{const P=j.currentTarget.dataset.lang;P&&P!==Bt&&pv(P)})}),console.log("Initialization completed successfully");const s=document.getElementById("tooltip");document.querySelectorAll(".info-icon").forEach(J=>{J.addEventListener("mouseover",j=>{const P=j.currentTarget,q=P.dataset.tooltip||"";s.textContent=q,s.style.opacity="1";const $=P.getBoundingClientRect();s.style.left=`${$.left+window.scrollX}px`,s.style.top=`${$.bottom+window.scrollY+5}px`}),J.addEventListener("mouseout",()=>{s.style.opacity="0"})});const u=document.getElementById("map-search-input"),c=document.getElementById("map-search-button"),m=document.getElementById("toggle-sidebar"),y=document.querySelector(".sidebar"),h=async()=>{const J=u.value.trim();if(!J)return;const j=`https://nominatim.openstreetmap.org/search?format=json&limit=1&q=${encodeURIComponent(J)}`;try{const P=await fetch(j,{headers:{"Accept-Language":Bt}});if(!P.ok)throw new Error(`API request failed with status ${P.status}`);const q=await P.json();if(q&&q.length>0){const{lat:$,lon:rt,display_name:x}=q[0];it.setView([$,rt],15),Ri&&it.removeLayer(Ri),Ri&&(it.removeLayer(Ri),Ri=null);const Q=L.divIcon({className:"search-marker",html:'<i class="fas fa-map-marker-alt" style="color: #dc2626; font-size: 20px;"></i>',iconSize:[25,41],iconAnchor:[12,41]});Ri=L.marker([$,rt],{icon:Q,zIndexOffset:1e3}).addTo(it),Ri.bindPopup(`<b>${x}</b>`).openPopup(),it.invalidateSize()}else alert(et("alerts.locationNotFound"))}catch(P){console.error("Fehler bei der Kartensuche:",P),alert(et("alerts.searchError"))}};c.addEventListener("click",h),u.addEventListener("keypress",J=>{J.key==="Enter"&&h()}),m&&y&&m.addEventListener("click",()=>{y.classList.toggle("open")});const v=document.getElementById("toggle-draw-mode"),T=document.getElementById("reset-drawing"),E=document.getElementById("map"),C=J=>{bo=J;const j=v.querySelector("span");J?(v.classList.add("active"),j&&(j.textContent=et("map.setWaypointsActive")),E==null||E.classList.add("drawing-mode")):(v.classList.remove("active"),j&&(j.textContent=et("map.setWaypoints")),E==null||E.classList.remove("drawing-mode"))},A=()=>{wi.forEach(J=>it.removeLayer(J)),wi=[],je&&it.removeLayer(je),je=null,Nt&&it.removeLayer(Nt),Nt=null,Vi&&it.removeLayer(Vi),Vi=null,ye=[],bo&&C(!1)},D=()=>{je&&it.removeLayer(je),ye.length>1&&(je=L.polyline(ye,{color:"var(--accent-color)",weight:3}).addTo(it))},z=()=>{if(ye.length<3)return;Nt&&it.removeLayer(Nt),Nt=L.polygon(ye,{color:"yellow",fillColor:"#FFFF00",fillOpacity:.3,weight:2}).addTo(it);const J=Nt.getBounds().getCenter();Vi=L.marker(J,{icon:L.divIcon({className:"polygon-label",html:et("map.securityAreaLabel"),iconSize:[150,24]})}).addTo(it),je&&it.removeLayer(je),je=null,wi.forEach(j=>it.removeLayer(j)),wi=[],ye=[],C(!1)},k=J=>{if(!bo)return;const j=J.latlng,P=L.marker(j).addTo(it);ye.length===0&&P.on("click",()=>{bo&&ye.length>=3&&z()}),ye.push(j),wi.push(P),D()};it.on("click",k);const F=document.querySelectorAll(".main-nav a"),N=document.querySelectorAll(".map-tabs a"),K=document.getElementById("analyze-threats"),w=document.getElementById("create-report-btn"),X=document.getElementById("download-report-btn"),Z=document.getElementById("report-iframe"),H=document.getElementById("map"),ot=document.getElementById("report-preview-area"),lt=document.getElementById("vehicle-select"),yt=async(J,j)=>{j&&(F.forEach(q=>q.classList.remove("active")),j.classList.add("active")),N.forEach(q=>{const $=q;$.classList.toggle("active",$.getAttribute("data-target")===J)}),J==="nav-param-input"&&(A(),Ia(),_n=null),J==="nav-marking-area"&&(Ia(),_n=null),J==="nav-threat-analysis"&&(_n=null),J==="nav-product-selection"&&await Hl(),J==="nav-project-description"&&(Ia(),_n=null),v.classList.add("hidden"),T.classList.add("hidden"),K.classList.add("hidden"),w.classList.add("hidden"),X.classList.add("hidden");const P=J==="nav-risk-report";H.classList.toggle("view-hidden",P),ot.classList.toggle("view-hidden",!P),it&&(P||it.invalidateSize()),_n||(Z.src="about:blank",X.disabled=!0),J==="nav-marking-area"?(v.classList.remove("hidden"),T.classList.remove("hidden")):J==="nav-threat-analysis"?K.classList.remove("hidden"):J==="nav-risk-report"&&(w.classList.remove("hidden"),X.classList.remove("hidden"),X.disabled=!_n)};F.forEach(J=>{J.addEventListener("click",async j=>{j.preventDefault();const P=j.currentTarget,q=P.id;await yt(q,P)})}),N.forEach(J=>{J.addEventListener("click",async j=>{j.preventDefault();const q=j.currentTarget.getAttribute("data-target"),$=document.getElementById(q);await yt(q,$??void 0)})}),lt.addEventListener("change",async()=>{var J;Te.size>0&&await yv(),((J=document.querySelector(".product-recommendations-container"))==null?void 0:J.classList.contains("hidden"))===!1&&await Hl()}),v.addEventListener("click",()=>{Nt&&A(),C(!bo)}),T.addEventListener("click",()=>{A(),Ia()}),K.addEventListener("click",yv),w.addEventListener("click",Zw),X.addEventListener("click",Jw),(dt=document.getElementById("nav-param-input"))==null||dt.click();const Tt=document.getElementById("chatbot-react-root");if(Tt)try{Dw.createRoot(Tt).render(tt.createElement(bw))}catch(J){console.error("Chatbot mount failed:",J)}fv()});function $w(){console.log("=== DEBUG: Current View State ==="),[{id:"planning-view",name:"Planning View"},{id:"manufacturer-view",name:"Manufacturer View"},{id:"map",name:"Map Container"},{id:"chatbot-react-root",name:"Chatbot Root"},{selector:".sidebar",name:"Sidebar"},{selector:".map-area",name:"Map Area"},{selector:".map-tabs",name:"Map Tabs"},{selector:".map-toolbar",name:"Map Toolbar"}].forEach(({id:e,selector:n,name:s})=>{const l=n?document.querySelector(n):document.getElementById(e||"");if(l){const u=window.getComputedStyle(l),c=l;console.log(`${s}:`,{display:u.display,visibility:u.visibility,opacity:u.opacity,visible:c.offsetWidth>0&&c.offsetHeight>0})}else console.log(`${s}: NOT FOUND`)}),console.log("Map object exists:",!!it),it&&(console.log("Map center:",it.getCenter()),console.log("Map zoom:",it.getZoom())),console.log("=== END DEBUG ===")}function Ww(){console.log("Restoring all planning view elements..."),[{selector:".map-area",display:"block"},{selector:"#map",display:"block",additionalStyles:{visibility:"visible",opacity:"1"}},{selector:".map-tabs",display:"flex"},{selector:".map-toolbar",display:"flex"},{selector:".sidebar",display:"block"},{selector:"#floating-threats",display:"none"},{selector:"#report-preview-area",display:"none"},{selector:".report-loading-overlay",display:"none"}].forEach(({selector:n,display:s,additionalStyles:l})=>{const u=document.querySelector(n);u?(u.style.display=s,l&&Object.entries(l).forEach(([c,m])=>{u.style[c]=m}),console.log(`Restored ${n} with display: ${s}`)):console.warn(`Element not found: ${n}`)});const e=document.getElementById("chatbot-react-root");e&&(e.style.display="block",e.style.visibility="visible",console.log("Chatbot root restored")),setTimeout(()=>{$w()},100)}function $l(){console.log("Translating manufacturer view for language:",Bt);const o=document.getElementById("manufacturer-view");if(!o){console.warn("Manufacturer view not found");return}const e=[{selector:"[data-translate-key]",attribute:"data-translate-key"},{selector:"[data-translate-key-placeholder]",attribute:"data-translate-key-placeholder"},{selector:"[data-translate-key-aria]",attribute:"data-translate-key-aria"},{selector:"[data-translate-key-tooltip]",attribute:"data-translate-key-tooltip"}];let n=0,s=0;e.forEach(({selector:m,attribute:y})=>{o.querySelectorAll(m).forEach(h=>{try{const v=h.getAttribute(y);if(v){const T=et(v);T&&T!==v?(y==="data-translate-key-placeholder"?h.placeholder=T:y==="data-translate-key-aria"?h.setAttribute("aria-label",T):y==="data-translate-key-tooltip"?h.dataset.tooltip=T:h.textContent=T,n++):(console.warn(`Translation failed for key: ${v}`),s++)}}catch(v){console.error(`Error translating element with ${y}:`,v),s++}})}),[{selector:".section-header h2",key:"manufacturer.productDatabase.title"},{selector:".section-header p",key:"manufacturer.productDatabase.subtitle"},{selector:"#product-search",key:"manufacturer.productDatabase.searchPlaceholder",isPlaceholder:!0},{selector:"#manufacturer-filter option:first-child",key:"manufacturer.productDatabase.filterBy.manufacturer"},{selector:"#standard-filter option:first-child",key:"manufacturer.productDatabase.filterBy.standard"},{selector:"#vehicle-type-filter option:first-child",key:"manufacturer.productDatabase.filterBy.vehicleType"},{selector:"#products-loading",key:"manufacturer.productDatabase.loading"},{selector:"#no-products",key:"manufacturer.productDatabase.noProducts"},{selector:"#modal-product-name",key:"manufacturer.productDatabase.productDetails"},{selector:".detail-section h4:first-of-type",key:"manufacturer.productDatabase.technicalSpecs"},{selector:".detail-section h4:nth-of-type(2)",key:"manufacturer.productDatabase.performanceData"},{selector:".detail-section h4:last-of-type",key:"manufacturer.productDatabase.certification"},{selector:"#export-product span",key:"manufacturer.productDatabase.exportData"},{selector:"#print-product span",key:"manufacturer.productDatabase.printSpecs"}].forEach(({selector:m,key:y,isPlaceholder:h})=>{try{const v=o.querySelector(m);if(v){const T=et(y);T&&T!==y&&(h?v.placeholder=T:v.textContent=T,n++)}}catch(v){console.error("Error translating product database element:",v),s++}});const u=[{selector:"th:nth-child(1)",key:"manufacturer.productDatabase.table.manufacturer"},{selector:"th:nth-child(2)",key:"manufacturer.productDatabase.table.type"},{selector:"th:nth-child(3)",key:"manufacturer.productDatabase.table.standard"},{selector:"th:nth-child(4)",key:"manufacturer.productDatabase.table.vehicleWeight"},{selector:"th:nth-child(5)",key:"manufacturer.productDatabase.table.vehicleType"},{selector:"th:nth-child(6)",key:"manufacturer.productDatabase.table.speed"},{selector:"th:nth-child(7)",key:"manufacturer.productDatabase.table.impactAngle"},{selector:"th:nth-child(8)",key:"manufacturer.productDatabase.table.penetration"},{selector:"th:nth-child(9)",key:"manufacturer.productDatabase.table.debrisDistance"},{selector:"th:nth-child(10)",key:"manufacturer.productDatabase.table.actions"}],c=o.querySelector("#products-table");c&&u.forEach(({selector:m,key:y})=>{try{const h=c.querySelector(m);if(h){const v=et(y);v&&v!==y&&(h.textContent=v,n++)}}catch(h){console.error("Error translating table header:",h),s++}}),console.log(`Manufacturer view translation completed: ${n} elements translated, ${s} failed`)}function y0(){console.log("Translating chatbot for language:",Bt);const o=document.querySelector("#chatbot-react-root h2");o&&(o.textContent=et("ai.chatbot.title"));const e=document.querySelector("#chatbot-react-root .message:first-child .message-content");e&&(e.textContent=et("ai.chatbot.welcome"));const n=document.querySelector("#chatbot-react-root .message:nth-child(2) .message-content");n&&(n.textContent=et("ai.chatbot.assetQuestion"));const s=document.querySelector('#chatbot-react-root input[type="text"]');s&&(s.placeholder=et("ai.chatbot.inputPlaceholder"));const l=document.querySelector('#chatbot-react-root button[type="submit"]');l&&(l.textContent=et("ai.chatbot.sendButton")),console.log("Chatbot translation completed")}

(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let QE,XE;function ZE(){return{geminiUrl:QE,vertexUrl:XE}}function $E(o,e,n){var s,l,u;if(!(!((s=o.httpOptions)===null||s===void 0)&&s.baseUrl)){const c=ZE();return o.vertexai?(l=c.vertexUrl)!==null&&l!==void 0?l:e:(u=c.geminiUrl)!==null&&u!==void 0?u:n}return o.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class es{}function gt(o,e){const n=/\{([^}]+)\}/g;return o.replace(n,(s,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const u=e[l];return u!=null?String(u):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function m(o,e,n){for(let u=0;u<e.length-1;u++){const c=e[u];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in o))if(Array.isArray(n))o[h]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(o[h])){const y=o[h];if(Array.isArray(n))for(let p=0;p<y.length;p++){const v=y[p];m(v,e.slice(u+1),n[p])}else for(const p of y)m(p,e.slice(u+1),n)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in o||(o[h]=[{}]);const y=o[h];m(y[0],e.slice(u+1),n);return}(!o[c]||typeof o[c]!="object")&&(o[c]={}),o=o[c]}const s=e[e.length-1],l=o[s];if(l!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===l)return;if(typeof l=="object"&&typeof n=="object"&&l!==null&&n!==null)Object.assign(l,n);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else o[s]=n}function d(o,e){try{if(e.length===1&&e[0]==="_self")return o;for(let n=0;n<e.length;n++){if(typeof o!="object"||o===null)return;const s=e[n];if(s.endsWith("[]")){const l=s.slice(0,-2);if(l in o){const u=o[l];return Array.isArray(u)?u.map(c=>d(c,e.slice(n+1))):void 0}else return}else o=o[s]}return o}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qt(o,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(o.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Cv(o,e){const n=Qt(o,e);return n?n.startsWith("publishers/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/${n}`:n.startsWith("models/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/publishers/google/${n}`:n:""}function Av(o,e){return Array.isArray(e)?e.map(n=>Bl(o,n)):[Bl(o,e)]}function Bl(o,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function JE(o,e){const n=Bl(o,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function WE(o,e){const n=Bl(o,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Fm(o,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Mv(o,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>Fm(o,n)):[Fm(o,e)]}function Bc(o){return o!=null&&typeof o=="object"&&"parts"in o&&Array.isArray(o.parts)}function Ym(o){return o!=null&&typeof o=="object"&&"functionCall"in o}function Km(o){return o!=null&&typeof o=="object"&&"functionResponse"in o}function Me(o,e){if(e==null)throw new Error("ContentUnion is required");return Bc(e)?e:{role:"user",parts:Mv(o,e)}}function xv(o,e){if(!e)return[];if(o.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const s=Me(o,n);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(o.isVertexAI()){const n=Me(o,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Me(o,n)):[Me(o,e)]}function oi(o,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Ym(e)||Km(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Me(o,e)]}const n=[],s=[],l=Bc(e[0]);for(const u of e){const c=Bc(u);if(c!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)n.push(u);else{if(Ym(u)||Km(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");s.push(u)}}return l||n.push({role:"user",parts:Mv(o,s)}),n}function _v(o,e){return e}function wv(o,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Yl(o,e){return e}function Kl(o,e){if(!Array.isArray(e))throw new Error("tool is required and must be an array of Tools");return e}function jE(o,e,n,s=1){const l=!e.startsWith(`${n}/`)&&e.split("/").length===s;return o.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${o.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${o.getProject()}/locations/${o.getLocation()}/${e}`:l?`projects/${o.getProject()}/locations/${o.getLocation()}/${n}/${e}`:e:l?`${n}/${e}`:e}function ai(o,e){if(typeof e!="string")throw new Error("name must be a string");return jE(o,e,"cachedContents")}function Rv(o,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function si(o,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function Dv(o,e){if(typeof e!="string")throw new Error("fromName must be a string");return e.startsWith("files/")?e.split("files/")[1]:e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tb(o,e){const n={};if(d(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const s=d(e,["thought"]);s!=null&&m(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&m(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&m(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&m(n,["fileData"],c);const h=d(e,["functionCall"]);h!=null&&m(n,["functionCall"],h);const y=d(e,["functionResponse"]);y!=null&&m(n,["functionResponse"],y);const p=d(e,["inlineData"]);p!=null&&m(n,["inlineData"],p);const v=d(e,["text"]);return v!=null&&m(n,["text"],v),n}function Qm(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>tb(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function eb(){return{}}function nb(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&m(n,["dynamicThreshold"],l),n}function ib(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&m(n,["dynamicRetrievalConfig"],nb(o,s)),n}function ob(o,e){const n={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(e,["googleSearch"])!=null&&m(n,["googleSearch"],eb());const l=d(e,["googleSearchRetrieval"]);l!=null&&m(n,["googleSearchRetrieval"],ib(o,l));const u=d(e,["codeExecution"]);u!=null&&m(n,["codeExecution"],u);const c=d(e,["functionDeclarations"]);return c!=null&&m(n,["functionDeclarations"],c),n}function ab(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&m(n,["allowedFunctionNames"],l),n}function sb(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&m(n,["functionCallingConfig"],ab(o,s)),n}function lb(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&m(n,["ttl"],l);const u=d(e,["expireTime"]);n!==void 0&&u!=null&&m(n,["expireTime"],u);const c=d(e,["displayName"]);n!==void 0&&c!=null&&m(n,["displayName"],c);const h=d(e,["contents"]);if(n!==void 0&&h!=null){let S=oi(o,h);Array.isArray(S)&&(S=S.map(E=>Qm(o,E))),m(n,["contents"],S)}const y=d(e,["systemInstruction"]);n!==void 0&&y!=null&&m(n,["systemInstruction"],Qm(o,Me(o,y)));const p=d(e,["tools"]);if(n!==void 0&&p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>ob(o,E))),m(n,["tools"],S)}const v=d(e,["toolConfig"]);return n!==void 0&&v!=null&&m(n,["toolConfig"],sb(o,v)),s}function rb(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["model"],Cv(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],lb(o,l,n)),n}function ub(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function cb(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function fb(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&m(n,["ttl"],l);const u=d(e,["expireTime"]);return n!==void 0&&u!=null&&m(n,["expireTime"],u),s}function db(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],fb(o,l,n)),n}function hb(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&m(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);return n!==void 0&&u!=null&&m(n,["_query","pageToken"],u),s}function pb(o,e){const n={},s=d(e,["config"]);return s!=null&&m(n,["config"],hb(o,s,n)),n}function mb(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&m(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&m(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&m(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&m(n,["executableCode"],c);const h=d(e,["fileData"]);h!=null&&m(n,["fileData"],h);const y=d(e,["functionCall"]);y!=null&&m(n,["functionCall"],y);const p=d(e,["functionResponse"]);p!=null&&m(n,["functionResponse"],p);const v=d(e,["inlineData"]);v!=null&&m(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&m(n,["text"],S),n}function Xm(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>mb(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function gb(){return{}}function yb(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&m(n,["dynamicThreshold"],l),n}function vb(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&m(n,["dynamicRetrievalConfig"],yb(o,s)),n}function Tb(o,e){const n={},s=d(e,["retrieval"]);s!=null&&m(n,["retrieval"],s),d(e,["googleSearch"])!=null&&m(n,["googleSearch"],gb());const u=d(e,["googleSearchRetrieval"]);u!=null&&m(n,["googleSearchRetrieval"],vb(o,u));const c=d(e,["codeExecution"]);c!=null&&m(n,["codeExecution"],c);const h=d(e,["functionDeclarations"]);return h!=null&&m(n,["functionDeclarations"],h),n}function Sb(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&m(n,["allowedFunctionNames"],l),n}function Eb(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&m(n,["functionCallingConfig"],Sb(o,s)),n}function bb(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&m(n,["ttl"],l);const u=d(e,["expireTime"]);n!==void 0&&u!=null&&m(n,["expireTime"],u);const c=d(e,["displayName"]);n!==void 0&&c!=null&&m(n,["displayName"],c);const h=d(e,["contents"]);if(n!==void 0&&h!=null){let S=oi(o,h);Array.isArray(S)&&(S=S.map(E=>Xm(o,E))),m(n,["contents"],S)}const y=d(e,["systemInstruction"]);n!==void 0&&y!=null&&m(n,["systemInstruction"],Xm(o,Me(o,y)));const p=d(e,["tools"]);if(n!==void 0&&p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>Tb(o,E))),m(n,["tools"],S)}const v=d(e,["toolConfig"]);return n!==void 0&&v!=null&&m(n,["toolConfig"],Eb(o,v)),s}function Cb(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["model"],Cv(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],bb(o,l,n)),n}function Ab(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function Mb(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function xb(o,e,n){const s={},l=d(e,["ttl"]);n!==void 0&&l!=null&&m(n,["ttl"],l);const u=d(e,["expireTime"]);return n!==void 0&&u!=null&&m(n,["expireTime"],u),s}function _b(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],ai(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],xb(o,l,n)),n}function wb(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&m(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);return n!==void 0&&u!=null&&m(n,["_query","pageToken"],u),s}function Rb(o,e){const n={},s=d(e,["config"]);return s!=null&&m(n,["config"],wb(o,s,n)),n}function Rl(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["displayName"]);l!=null&&m(n,["displayName"],l);const u=d(e,["model"]);u!=null&&m(n,["model"],u);const c=d(e,["createTime"]);c!=null&&m(n,["createTime"],c);const h=d(e,["updateTime"]);h!=null&&m(n,["updateTime"],h);const y=d(e,["expireTime"]);y!=null&&m(n,["expireTime"],y);const p=d(e,["usageMetadata"]);return p!=null&&m(n,["usageMetadata"],p),n}function Db(){return{}}function Nb(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&m(n,["nextPageToken"],s);const l=d(e,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Rl(o,c))),m(n,["cachedContents"],u)}return n}function Dl(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["displayName"]);l!=null&&m(n,["displayName"],l);const u=d(e,["model"]);u!=null&&m(n,["model"],u);const c=d(e,["createTime"]);c!=null&&m(n,["createTime"],c);const h=d(e,["updateTime"]);h!=null&&m(n,["updateTime"],h);const y=d(e,["expireTime"]);y!=null&&m(n,["expireTime"],y);const p=d(e,["usageMetadata"]);return p!=null&&m(n,["usageMetadata"],p),n}function Lb(){return{}}function Pb(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&m(n,["nextPageToken"],s);const l=d(e,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Dl(o,c))),m(n,["cachedContents"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ka;(function(o){o.PAGED_ITEM_BATCH_JOBS="batchJobs",o.PAGED_ITEM_MODELS="models",o.PAGED_ITEM_TUNING_JOBS="tuningJobs",o.PAGED_ITEM_FILES="files",o.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ka||(Ka={}));class pf{constructor(e,n,s,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,s,l)}init(e,n,s){var l,u;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let c={config:{}};s?typeof s=="object"?c=Object.assign({},s):c=s:c={config:{}},c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(u=(l=c.config)===null||l===void 0?void 0:l.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zm;(function(o){o.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",o.OUTCOME_OK="OUTCOME_OK",o.OUTCOME_FAILED="OUTCOME_FAILED",o.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Zm||(Zm={}));var $m;(function(o){o.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",o.PYTHON="PYTHON"})($m||($m={}));var Jm;(function(o){o.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",o.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",o.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",o.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",o.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Jm||(Jm={}));var Wm;(function(o){o.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",o.SEVERITY="SEVERITY",o.PROBABILITY="PROBABILITY"})(Wm||(Wm={}));var jm;(function(o){o.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE",o.OFF="OFF"})(jm||(jm={}));var tg;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(tg||(tg={}));var xn;(function(o){o.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",o.STRING="STRING",o.NUMBER="NUMBER",o.INTEGER="INTEGER",o.BOOLEAN="BOOLEAN",o.ARRAY="ARRAY",o.OBJECT="OBJECT"})(xn||(xn={}));var eg;(function(o){o.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",o.STOP="STOP",o.MAX_TOKENS="MAX_TOKENS",o.SAFETY="SAFETY",o.RECITATION="RECITATION",o.LANGUAGE="LANGUAGE",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.SPII="SPII",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.IMAGE_SAFETY="IMAGE_SAFETY"})(eg||(eg={}));var ng;(function(o){o.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",o.NEGLIGIBLE="NEGLIGIBLE",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH"})(ng||(ng={}));var ig;(function(o){o.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",o.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",o.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",o.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",o.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ig||(ig={}));var og;(function(o){o.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",o.SAFETY="SAFETY",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(og||(og={}));var ag;(function(o){o.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",o.ON_DEMAND="ON_DEMAND",o.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ag||(ag={}));var Il;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.AUDIO="AUDIO"})(Il||(Il={}));var sg;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(sg||(sg={}));var Ic;(function(o){o.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",o.JOB_STATE_QUEUED="JOB_STATE_QUEUED",o.JOB_STATE_PENDING="JOB_STATE_PENDING",o.JOB_STATE_RUNNING="JOB_STATE_RUNNING",o.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",o.JOB_STATE_FAILED="JOB_STATE_FAILED",o.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",o.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",o.JOB_STATE_PAUSED="JOB_STATE_PAUSED",o.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",o.JOB_STATE_UPDATING="JOB_STATE_UPDATING",o.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ic||(Ic={}));var lg;(function(o){o.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",o.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",o.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",o.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",o.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",o.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",o.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(lg||(lg={}));var rg;(function(o){o.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",o.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",o.BALANCED="BALANCED",o.PRIORITIZE_COST="PRIORITIZE_COST"})(rg||(rg={}));var ug;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(ug||(ug={}));var cg;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.AUTO="AUTO",o.ANY="ANY",o.NONE="NONE"})(cg||(cg={}));var fg;(function(o){o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE"})(fg||(fg={}));var dg;(function(o){o.DONT_ALLOW="DONT_ALLOW",o.ALLOW_ADULT="ALLOW_ADULT",o.ALLOW_ALL="ALLOW_ALL"})(dg||(dg={}));var hg;(function(o){o.auto="auto",o.en="en",o.ja="ja",o.ko="ko",o.hi="hi"})(hg||(hg={}));var pg;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.PROCESSING="PROCESSING",o.ACTIVE="ACTIVE",o.FAILED="FAILED"})(pg||(pg={}));var mg;(function(o){o.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",o.UPLOADED="UPLOADED",o.GENERATED="GENERATED"})(mg||(mg={}));var gg;(function(o){o.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",o.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",o.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",o.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",o.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(gg||(gg={}));var yg;(function(o){o.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",o.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",o.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",o.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(yg||(yg={}));var vg;(function(o){o.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",o.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",o.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",o.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(vg||(vg={}));var Tg;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.VIDEO="VIDEO",o.AUDIO="AUDIO",o.DOCUMENT="DOCUMENT"})(Tg||(Tg={}));var Sg;(function(o){o.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",o.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",o.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Sg||(Sg={}));var Eg;(function(o){o.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",o.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",o.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Eg||(Eg={}));var bg;(function(o){o.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",o.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",o.NO_INTERRUPTION="NO_INTERRUPTION"})(bg||(bg={}));var Cg;(function(o){o.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",o.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",o.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Cg||(Cg={}));class El{get text(){var e,n,s,l,u,c,h,y;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const S=[];for(const E of(y=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[C,A]of Object.entries(E))C!=="text"&&C!=="thought"&&(A!==null||A!==void 0)&&S.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,p+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,n,s,l,u,c,h,y;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const S of(y=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[E,C]of Object.entries(S))E!=="inlineData"&&(C!==null||C!==void 0)&&v.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(p+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,n,s,l,u,c,h,y;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,n,s,l,u,c,h,y,p;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,n,s,l,u,c,h,y,p;if(((l=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class Ag{}class Mg{}class xg{}class _g{}class Vb{}class wg{}class Rg{}class Dg{}class Bb{}class Uc{constructor(e){const n={};for(const s of e.headers.entries())n[s[0]]=s[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ib{}class Ub{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zb extends es{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new pf(Ka.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(n),n)}async create(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=Cb(this.apiClient,e);return h=gt("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Dl(this.apiClient,v))}else{const p=rb(this.apiClient,e);return h=gt("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Rl(this.apiClient,v))}}async get(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=Ab(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Dl(this.apiClient,v))}else{const p=ub(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Rl(this.apiClient,v))}}async delete(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=Mb(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(()=>{const v=Lb(),S=new Rg;return Object.assign(S,v),S})}else{const p=cb(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(()=>{const v=Db(),S=new Rg;return Object.assign(S,v),S})}}async update(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=_b(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Dl(this.apiClient,v))}else{const p=db(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Rl(this.apiClient,v))}}async listInternal(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=Rb(this.apiClient,e);return h=gt("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=Pb(this.apiClient,v),E=new Dg;return Object.assign(E,S),E})}else{const p=pb(this.apiClient,e);return h=gt("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=Nb(this.apiClient,v),E=new Dg;return Object.assign(E,S),E})}}}function Ng(o){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&o[e],s=0;if(n)return n.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&s>=o.length&&(o=void 0),{value:o&&o[s++],done:!o}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function me(o){return this instanceof me?(this.v=o,this):new me(o)}function Ul(o,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(o,e||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),l[Symbol.asyncIterator]=function(){return this},l;function c(C){return function(A){return Promise.resolve(A).then(C,S)}}function h(C,A){s[C]&&(l[C]=function(R){return new Promise(function(z,k){u.push([C,R,z,k])>1||y(C,R)})},A&&(l[C]=A(l[C])))}function y(C,A){try{p(s[C](A))}catch(R){E(u[0][3],R)}}function p(C){C.value instanceof me?Promise.resolve(C.value.v).then(v,S):E(u[0][2],C)}function v(C){y("next",C)}function S(C){y("throw",C)}function E(C,A){C(A),u.shift(),u.length&&y(u[0][0],u[0][1])}}function zc(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=o[Symbol.asyncIterator],n;return e?e.call(o):(o=typeof Ng=="function"?Ng(o):o[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(u){n[u]=o[u]&&function(c){return new Promise(function(h,y){c=o[u](c),l(h,y,c.done,c.value)})}}function l(u,c,h,y){Promise.resolve(y).then(function(p){u({value:p,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kb(o){var e;if(o.candidates==null||o.candidates.length===0)return!1;const n=(e=o.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Nv(n)}function Nv(o){if(o.parts===void 0||o.parts.length===0)return!1;for(const e of o.parts)if(e===void 0||Object.keys(e).length===0||e.text!==void 0&&e.text==="")return!1;return!0}function Ob(o){if(o.length!==0){if(o[0].role!=="user")throw new Error("History must start with a user turn.");for(const e of o)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Gb(o){if(o===void 0||o.length===0)return[];const e=[],n=o.length;let s=0,l=o[0];for(;s<n;)if(o[s].role==="user")l=o[s],s++;else{const u=[];let c=!0;for(;s<n&&o[s].role==="model";)u.push(o[s]),c&&!Nv(o[s])&&(c=!1),s++;c&&(e.push(l),e.push(...u))}return e}class qb{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Hb(this.apiClient,this.modelsModule,e.model,e.config,e.history)}}class Hb{constructor(e,n,s,l={},u=[]){this.apiClient=e,this.modelsModule=n,this.model=s,this.config=l,this.history=u,this.sendPromise=Promise.resolve(),Ob(u)}async sendMessage(e){var n;await this.sendPromise;const s=Me(this.apiClient,e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var u,c;const y=(c=(u=(await l).candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content,p=y?[y]:[];this.recordHistory(s,p)})(),await this.sendPromise,l}async sendMessageStream(e){var n;await this.sendPromise;const s=Me(this.apiClient,e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const u=await l;return this.processStreamResponse(u,s)}getHistory(e=!1){return e?Gb(this.history):this.history}processStreamResponse(e,n){var s,l;return Ul(this,arguments,function*(){var c,h,y,p;const v=[];try{for(var S=!0,E=zc(e),C;C=yield me(E.next()),c=C.done,!c;S=!0){p=C.value,S=!1;const A=p;if(kb(A)){const R=(l=(s=A.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content;R!==void 0&&v.push(R)}yield yield me(A)}}catch(A){h={error:A}}finally{try{!S&&!c&&(y=E.return)&&(yield me(y.call(E)))}finally{if(h)throw h.error}}this.recordHistory(n,v)})}recordHistory(e,n){let s=[];n.length>0&&n.every(l=>l.role==="model")?s=n:s.push({role:"model",parts:[]}),this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fb(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&m(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);return n!==void 0&&u!=null&&m(n,["_query","pageToken"],u),s}function Yb(o,e){const n={},s=d(e,["config"]);return s!=null&&m(n,["config"],Fb(o,s,n)),n}function Kb(o,e){const n={},s=d(e,["details"]);s!=null&&m(n,["details"],s);const l=d(e,["message"]);l!=null&&m(n,["message"],l);const u=d(e,["code"]);return u!=null&&m(n,["code"],u),n}function Qb(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["displayName"]);l!=null&&m(n,["displayName"],l);const u=d(e,["mimeType"]);u!=null&&m(n,["mimeType"],u);const c=d(e,["sizeBytes"]);c!=null&&m(n,["sizeBytes"],c);const h=d(e,["createTime"]);h!=null&&m(n,["createTime"],h);const y=d(e,["expirationTime"]);y!=null&&m(n,["expirationTime"],y);const p=d(e,["updateTime"]);p!=null&&m(n,["updateTime"],p);const v=d(e,["sha256Hash"]);v!=null&&m(n,["sha256Hash"],v);const S=d(e,["uri"]);S!=null&&m(n,["uri"],S);const E=d(e,["downloadUri"]);E!=null&&m(n,["downloadUri"],E);const C=d(e,["state"]);C!=null&&m(n,["state"],C);const A=d(e,["source"]);A!=null&&m(n,["source"],A);const R=d(e,["videoMetadata"]);R!=null&&m(n,["videoMetadata"],R);const z=d(e,["error"]);return z!=null&&m(n,["error"],Kb(o,z)),n}function Xb(o,e){const n={},s=d(e,["file"]);s!=null&&m(n,["file"],Qb(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function Zb(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","file"],Dv(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function $b(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","file"],Dv(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function Jb(o,e){const n={},s=d(e,["details"]);s!=null&&m(n,["details"],s);const l=d(e,["message"]);l!=null&&m(n,["message"],l);const u=d(e,["code"]);return u!=null&&m(n,["code"],u),n}function kc(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["displayName"]);l!=null&&m(n,["displayName"],l);const u=d(e,["mimeType"]);u!=null&&m(n,["mimeType"],u);const c=d(e,["sizeBytes"]);c!=null&&m(n,["sizeBytes"],c);const h=d(e,["createTime"]);h!=null&&m(n,["createTime"],h);const y=d(e,["expirationTime"]);y!=null&&m(n,["expirationTime"],y);const p=d(e,["updateTime"]);p!=null&&m(n,["updateTime"],p);const v=d(e,["sha256Hash"]);v!=null&&m(n,["sha256Hash"],v);const S=d(e,["uri"]);S!=null&&m(n,["uri"],S);const E=d(e,["downloadUri"]);E!=null&&m(n,["downloadUri"],E);const C=d(e,["state"]);C!=null&&m(n,["state"],C);const A=d(e,["source"]);A!=null&&m(n,["source"],A);const R=d(e,["videoMetadata"]);R!=null&&m(n,["videoMetadata"],R);const z=d(e,["error"]);return z!=null&&m(n,["error"],Jb(o,z)),n}function Wb(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&m(n,["nextPageToken"],s);const l=d(e,["files"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>kc(o,c))),m(n,["files"],u)}return n}function jb(){return{}}function tC(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eC extends es{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new pf(Ka.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>kc(this.apiClient,n))}async listInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Yb(this.apiClient,e);return u=gt("files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const p=Wb(this.apiClient,y),v=new Bb;return Object.assign(v,p),v})}}async createInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Xb(this.apiClient,e);return u=gt("upload/v1beta/files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(()=>{const y=jb(),p=new Ib;return Object.assign(p,y),p})}}async get(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Zb(this.apiClient,e);return u=gt("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>kc(this.apiClient,y))}}async delete(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=$b(this.apiClient,e);return u=gt("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(()=>{const y=tC(),p=new Ub;return Object.assign(p,y),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nC(o,e){const n={};if(d(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const s=d(e,["thought"]);s!=null&&m(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&m(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&m(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&m(n,["fileData"],c);const h=d(e,["functionCall"]);h!=null&&m(n,["functionCall"],h);const y=d(e,["functionResponse"]);y!=null&&m(n,["functionResponse"],y);const p=d(e,["inlineData"]);p!=null&&m(n,["inlineData"],p);const v=d(e,["text"]);return v!=null&&m(n,["text"],v),n}function iC(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&m(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&m(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&m(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&m(n,["executableCode"],c);const h=d(e,["fileData"]);h!=null&&m(n,["fileData"],h);const y=d(e,["functionCall"]);y!=null&&m(n,["functionCall"],y);const p=d(e,["functionResponse"]);p!=null&&m(n,["functionResponse"],p);const v=d(e,["inlineData"]);v!=null&&m(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&m(n,["text"],S),n}function oC(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>nC(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function aC(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>iC(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function sC(){return{}}function lC(){return{}}function rC(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&m(n,["dynamicThreshold"],l),n}function uC(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&m(n,["dynamicThreshold"],l),n}function cC(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&m(n,["dynamicRetrievalConfig"],rC(o,s)),n}function fC(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&m(n,["dynamicRetrievalConfig"],uC(o,s)),n}function dC(o,e){const n={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(e,["googleSearch"])!=null&&m(n,["googleSearch"],sC());const l=d(e,["googleSearchRetrieval"]);l!=null&&m(n,["googleSearchRetrieval"],cC(o,l));const u=d(e,["codeExecution"]);u!=null&&m(n,["codeExecution"],u);const c=d(e,["functionDeclarations"]);return c!=null&&m(n,["functionDeclarations"],c),n}function hC(o,e){const n={},s=d(e,["retrieval"]);s!=null&&m(n,["retrieval"],s),d(e,["googleSearch"])!=null&&m(n,["googleSearch"],lC());const u=d(e,["googleSearchRetrieval"]);u!=null&&m(n,["googleSearchRetrieval"],fC(o,u));const c=d(e,["codeExecution"]);c!=null&&m(n,["codeExecution"],c);const h=d(e,["functionDeclarations"]);return h!=null&&m(n,["functionDeclarations"],h),n}function pC(o,e){const n={},s=d(e,["handle"]);if(s!=null&&m(n,["handle"],s),d(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function mC(o,e){const n={},s=d(e,["handle"]);s!=null&&m(n,["handle"],s);const l=d(e,["transparent"]);return l!=null&&m(n,["transparent"],l),n}function gC(){return{}}function Lg(){return{}}function yC(o,e){const n={},s=d(e,["disabled"]);s!=null&&m(n,["disabled"],s);const l=d(e,["startOfSpeechSensitivity"]);l!=null&&m(n,["startOfSpeechSensitivity"],l);const u=d(e,["endOfSpeechSensitivity"]);u!=null&&m(n,["endOfSpeechSensitivity"],u);const c=d(e,["prefixPaddingMs"]);c!=null&&m(n,["prefixPaddingMs"],c);const h=d(e,["silenceDurationMs"]);return h!=null&&m(n,["silenceDurationMs"],h),n}function vC(o,e){const n={},s=d(e,["disabled"]);s!=null&&m(n,["disabled"],s);const l=d(e,["startOfSpeechSensitivity"]);l!=null&&m(n,["startOfSpeechSensitivity"],l);const u=d(e,["endOfSpeechSensitivity"]);u!=null&&m(n,["endOfSpeechSensitivity"],u);const c=d(e,["prefixPaddingMs"]);c!=null&&m(n,["prefixPaddingMs"],c);const h=d(e,["silenceDurationMs"]);return h!=null&&m(n,["silenceDurationMs"],h),n}function TC(o,e){const n={},s=d(e,["automaticActivityDetection"]);s!=null&&m(n,["automaticActivityDetection"],yC(o,s));const l=d(e,["activityHandling"]);l!=null&&m(n,["activityHandling"],l);const u=d(e,["turnCoverage"]);return u!=null&&m(n,["turnCoverage"],u),n}function SC(o,e){const n={},s=d(e,["automaticActivityDetection"]);s!=null&&m(n,["automaticActivityDetection"],vC(o,s));const l=d(e,["activityHandling"]);l!=null&&m(n,["activityHandling"],l);const u=d(e,["turnCoverage"]);return u!=null&&m(n,["turnCoverage"],u),n}function EC(o,e){const n={},s=d(e,["targetTokens"]);return s!=null&&m(n,["targetTokens"],s),n}function bC(o,e){const n={},s=d(e,["targetTokens"]);return s!=null&&m(n,["targetTokens"],s),n}function CC(o,e){const n={},s=d(e,["triggerTokens"]);s!=null&&m(n,["triggerTokens"],s);const l=d(e,["slidingWindow"]);return l!=null&&m(n,["slidingWindow"],EC(o,l)),n}function AC(o,e){const n={},s=d(e,["triggerTokens"]);s!=null&&m(n,["triggerTokens"],s);const l=d(e,["slidingWindow"]);return l!=null&&m(n,["slidingWindow"],bC(o,l)),n}function MC(o,e,n){const s={},l=d(e,["generationConfig"]);n!==void 0&&l!=null&&m(n,["setup","generationConfig"],l);const u=d(e,["responseModalities"]);n!==void 0&&u!=null&&m(n,["setup","generationConfig","responseModalities"],u);const c=d(e,["temperature"]);n!==void 0&&c!=null&&m(n,["setup","generationConfig","temperature"],c);const h=d(e,["topP"]);n!==void 0&&h!=null&&m(n,["setup","generationConfig","topP"],h);const y=d(e,["topK"]);n!==void 0&&y!=null&&m(n,["setup","generationConfig","topK"],y);const p=d(e,["maxOutputTokens"]);n!==void 0&&p!=null&&m(n,["setup","generationConfig","maxOutputTokens"],p);const v=d(e,["mediaResolution"]);n!==void 0&&v!=null&&m(n,["setup","generationConfig","mediaResolution"],v);const S=d(e,["seed"]);n!==void 0&&S!=null&&m(n,["setup","generationConfig","seed"],S);const E=d(e,["speechConfig"]);n!==void 0&&E!=null&&m(n,["setup","generationConfig","speechConfig"],E);const C=d(e,["systemInstruction"]);n!==void 0&&C!=null&&m(n,["setup","systemInstruction"],oC(o,Me(o,C)));const A=d(e,["tools"]);if(n!==void 0&&A!=null){let N=Kl(o,A);Array.isArray(N)&&(N=N.map(K=>dC(o,Yl(o,K)))),m(n,["setup","tools"],N)}const R=d(e,["sessionResumption"]);if(n!==void 0&&R!=null&&m(n,["setup","sessionResumption"],pC(o,R)),d(e,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const z=d(e,["outputAudioTranscription"]);n!==void 0&&z!=null&&m(n,["setup","outputAudioTranscription"],gC());const k=d(e,["realtimeInputConfig"]);n!==void 0&&k!=null&&m(n,["setup","realtimeInputConfig"],TC(o,k));const F=d(e,["contextWindowCompression"]);return n!==void 0&&F!=null&&m(n,["setup","contextWindowCompression"],CC(o,F)),s}function xC(o,e,n){const s={},l=d(e,["generationConfig"]);n!==void 0&&l!=null&&m(n,["setup","generationConfig"],l);const u=d(e,["responseModalities"]);n!==void 0&&u!=null&&m(n,["setup","generationConfig","responseModalities"],u);const c=d(e,["temperature"]);n!==void 0&&c!=null&&m(n,["setup","generationConfig","temperature"],c);const h=d(e,["topP"]);n!==void 0&&h!=null&&m(n,["setup","generationConfig","topP"],h);const y=d(e,["topK"]);n!==void 0&&y!=null&&m(n,["setup","generationConfig","topK"],y);const p=d(e,["maxOutputTokens"]);n!==void 0&&p!=null&&m(n,["setup","generationConfig","maxOutputTokens"],p);const v=d(e,["mediaResolution"]);n!==void 0&&v!=null&&m(n,["setup","generationConfig","mediaResolution"],v);const S=d(e,["seed"]);n!==void 0&&S!=null&&m(n,["setup","generationConfig","seed"],S);const E=d(e,["speechConfig"]);n!==void 0&&E!=null&&m(n,["setup","generationConfig","speechConfig"],E);const C=d(e,["systemInstruction"]);n!==void 0&&C!=null&&m(n,["setup","systemInstruction"],aC(o,Me(o,C)));const A=d(e,["tools"]);if(n!==void 0&&A!=null){let K=Kl(o,A);Array.isArray(K)&&(K=K.map(D=>hC(o,Yl(o,D)))),m(n,["setup","tools"],K)}const R=d(e,["sessionResumption"]);n!==void 0&&R!=null&&m(n,["setup","sessionResumption"],mC(o,R));const z=d(e,["inputAudioTranscription"]);n!==void 0&&z!=null&&m(n,["setup","inputAudioTranscription"],Lg());const k=d(e,["outputAudioTranscription"]);n!==void 0&&k!=null&&m(n,["setup","outputAudioTranscription"],Lg());const F=d(e,["realtimeInputConfig"]);n!==void 0&&F!=null&&m(n,["setup","realtimeInputConfig"],SC(o,F));const N=d(e,["contextWindowCompression"]);return n!==void 0&&N!=null&&m(n,["setup","contextWindowCompression"],AC(o,N)),s}function _C(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["setup","model"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],MC(o,l,n)),n}function wC(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["setup","model"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],xC(o,l,n)),n}function RC(){return{}}function DC(){return{}}function NC(){return{}}function LC(){return{}}function PC(o,e){const n={},s=d(e,["media"]);s!=null&&m(n,["mediaChunks"],Av(o,s));const l=d(e,["audio"]);l!=null&&m(n,["audio"],WE(o,l));const u=d(e,["audioStreamEnd"]);u!=null&&m(n,["audioStreamEnd"],u);const c=d(e,["video"]);c!=null&&m(n,["video"],JE(o,c));const h=d(e,["text"]);return h!=null&&m(n,["text"],h),d(e,["activityStart"])!=null&&m(n,["activityStart"],RC()),d(e,["activityEnd"])!=null&&m(n,["activityEnd"],NC()),n}function VC(o,e){const n={},s=d(e,["media"]);if(s!=null&&m(n,["mediaChunks"],Av(o,s)),d(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const l=d(e,["audioStreamEnd"]);if(l!=null&&m(n,["audioStreamEnd"],l),d(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(d(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return d(e,["activityStart"])!=null&&m(n,["activityStart"],DC()),d(e,["activityEnd"])!=null&&m(n,["activityEnd"],LC()),n}function BC(){return{}}function IC(){return{}}function UC(o,e){const n={},s=d(e,["thought"]);s!=null&&m(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&m(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&m(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&m(n,["fileData"],c);const h=d(e,["functionCall"]);h!=null&&m(n,["functionCall"],h);const y=d(e,["functionResponse"]);y!=null&&m(n,["functionResponse"],y);const p=d(e,["inlineData"]);p!=null&&m(n,["inlineData"],p);const v=d(e,["text"]);return v!=null&&m(n,["text"],v),n}function zC(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&m(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&m(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&m(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&m(n,["executableCode"],c);const h=d(e,["fileData"]);h!=null&&m(n,["fileData"],h);const y=d(e,["functionCall"]);y!=null&&m(n,["functionCall"],y);const p=d(e,["functionResponse"]);p!=null&&m(n,["functionResponse"],p);const v=d(e,["inlineData"]);v!=null&&m(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&m(n,["text"],S),n}function kC(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>UC(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function OC(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>zC(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function Pg(o,e){const n={},s=d(e,["text"]);s!=null&&m(n,["text"],s);const l=d(e,["finished"]);return l!=null&&m(n,["finished"],l),n}function Vg(o,e){const n={},s=d(e,["text"]);s!=null&&m(n,["text"],s);const l=d(e,["finished"]);return l!=null&&m(n,["finished"],l),n}function GC(o,e){const n={},s=d(e,["modelTurn"]);s!=null&&m(n,["modelTurn"],kC(o,s));const l=d(e,["turnComplete"]);l!=null&&m(n,["turnComplete"],l);const u=d(e,["interrupted"]);u!=null&&m(n,["interrupted"],u);const c=d(e,["groundingMetadata"]);c!=null&&m(n,["groundingMetadata"],c);const h=d(e,["generationComplete"]);h!=null&&m(n,["generationComplete"],h);const y=d(e,["inputTranscription"]);y!=null&&m(n,["inputTranscription"],Pg(o,y));const p=d(e,["outputTranscription"]);return p!=null&&m(n,["outputTranscription"],Pg(o,p)),n}function qC(o,e){const n={},s=d(e,["modelTurn"]);s!=null&&m(n,["modelTurn"],OC(o,s));const l=d(e,["turnComplete"]);l!=null&&m(n,["turnComplete"],l);const u=d(e,["interrupted"]);u!=null&&m(n,["interrupted"],u);const c=d(e,["groundingMetadata"]);c!=null&&m(n,["groundingMetadata"],c);const h=d(e,["generationComplete"]);h!=null&&m(n,["generationComplete"],h);const y=d(e,["inputTranscription"]);y!=null&&m(n,["inputTranscription"],Vg(o,y));const p=d(e,["outputTranscription"]);return p!=null&&m(n,["outputTranscription"],Vg(o,p)),n}function HC(o,e){const n={},s=d(e,["id"]);s!=null&&m(n,["id"],s);const l=d(e,["args"]);l!=null&&m(n,["args"],l);const u=d(e,["name"]);return u!=null&&m(n,["name"],u),n}function FC(o,e){const n={},s=d(e,["args"]);s!=null&&m(n,["args"],s);const l=d(e,["name"]);return l!=null&&m(n,["name"],l),n}function YC(o,e){const n={},s=d(e,["functionCalls"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>HC(o,u))),m(n,["functionCalls"],l)}return n}function KC(o,e){const n={},s=d(e,["functionCalls"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>FC(o,u))),m(n,["functionCalls"],l)}return n}function QC(o,e){const n={},s=d(e,["ids"]);return s!=null&&m(n,["ids"],s),n}function XC(o,e){const n={},s=d(e,["ids"]);return s!=null&&m(n,["ids"],s),n}function bl(o,e){const n={},s=d(e,["modality"]);s!=null&&m(n,["modality"],s);const l=d(e,["tokenCount"]);return l!=null&&m(n,["tokenCount"],l),n}function Cl(o,e){const n={},s=d(e,["modality"]);s!=null&&m(n,["modality"],s);const l=d(e,["tokenCount"]);return l!=null&&m(n,["tokenCount"],l),n}function ZC(o,e){const n={},s=d(e,["promptTokenCount"]);s!=null&&m(n,["promptTokenCount"],s);const l=d(e,["cachedContentTokenCount"]);l!=null&&m(n,["cachedContentTokenCount"],l);const u=d(e,["responseTokenCount"]);u!=null&&m(n,["responseTokenCount"],u);const c=d(e,["toolUsePromptTokenCount"]);c!=null&&m(n,["toolUsePromptTokenCount"],c);const h=d(e,["thoughtsTokenCount"]);h!=null&&m(n,["thoughtsTokenCount"],h);const y=d(e,["totalTokenCount"]);y!=null&&m(n,["totalTokenCount"],y);const p=d(e,["promptTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(A=>bl(o,A))),m(n,["promptTokensDetails"],C)}const v=d(e,["cacheTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(A=>bl(o,A))),m(n,["cacheTokensDetails"],C)}const S=d(e,["responseTokensDetails"]);if(S!=null){let C=S;Array.isArray(C)&&(C=C.map(A=>bl(o,A))),m(n,["responseTokensDetails"],C)}const E=d(e,["toolUsePromptTokensDetails"]);if(E!=null){let C=E;Array.isArray(C)&&(C=C.map(A=>bl(o,A))),m(n,["toolUsePromptTokensDetails"],C)}return n}function $C(o,e){const n={},s=d(e,["promptTokenCount"]);s!=null&&m(n,["promptTokenCount"],s);const l=d(e,["cachedContentTokenCount"]);l!=null&&m(n,["cachedContentTokenCount"],l);const u=d(e,["candidatesTokenCount"]);u!=null&&m(n,["responseTokenCount"],u);const c=d(e,["toolUsePromptTokenCount"]);c!=null&&m(n,["toolUsePromptTokenCount"],c);const h=d(e,["thoughtsTokenCount"]);h!=null&&m(n,["thoughtsTokenCount"],h);const y=d(e,["totalTokenCount"]);y!=null&&m(n,["totalTokenCount"],y);const p=d(e,["promptTokensDetails"]);if(p!=null){let A=p;Array.isArray(A)&&(A=A.map(R=>Cl(o,R))),m(n,["promptTokensDetails"],A)}const v=d(e,["cacheTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(R=>Cl(o,R))),m(n,["cacheTokensDetails"],A)}const S=d(e,["candidatesTokensDetails"]);if(S!=null){let A=S;Array.isArray(A)&&(A=A.map(R=>Cl(o,R))),m(n,["responseTokensDetails"],A)}const E=d(e,["toolUsePromptTokensDetails"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(R=>Cl(o,R))),m(n,["toolUsePromptTokensDetails"],A)}const C=d(e,["trafficType"]);return C!=null&&m(n,["trafficType"],C),n}function JC(o,e){const n={},s=d(e,["timeLeft"]);return s!=null&&m(n,["timeLeft"],s),n}function WC(o,e){const n={},s=d(e,["timeLeft"]);return s!=null&&m(n,["timeLeft"],s),n}function jC(o,e){const n={},s=d(e,["newHandle"]);s!=null&&m(n,["newHandle"],s);const l=d(e,["resumable"]);l!=null&&m(n,["resumable"],l);const u=d(e,["lastConsumedClientMessageIndex"]);return u!=null&&m(n,["lastConsumedClientMessageIndex"],u),n}function tA(o,e){const n={},s=d(e,["newHandle"]);s!=null&&m(n,["newHandle"],s);const l=d(e,["resumable"]);l!=null&&m(n,["resumable"],l);const u=d(e,["lastConsumedClientMessageIndex"]);return u!=null&&m(n,["lastConsumedClientMessageIndex"],u),n}function eA(o,e){const n={};d(e,["setupComplete"])!=null&&m(n,["setupComplete"],BC());const l=d(e,["serverContent"]);l!=null&&m(n,["serverContent"],GC(o,l));const u=d(e,["toolCall"]);u!=null&&m(n,["toolCall"],YC(o,u));const c=d(e,["toolCallCancellation"]);c!=null&&m(n,["toolCallCancellation"],QC(o,c));const h=d(e,["usageMetadata"]);h!=null&&m(n,["usageMetadata"],ZC(o,h));const y=d(e,["goAway"]);y!=null&&m(n,["goAway"],JC(o,y));const p=d(e,["sessionResumptionUpdate"]);return p!=null&&m(n,["sessionResumptionUpdate"],jC(o,p)),n}function nA(o,e){const n={};d(e,["setupComplete"])!=null&&m(n,["setupComplete"],IC());const l=d(e,["serverContent"]);l!=null&&m(n,["serverContent"],qC(o,l));const u=d(e,["toolCall"]);u!=null&&m(n,["toolCall"],KC(o,u));const c=d(e,["toolCallCancellation"]);c!=null&&m(n,["toolCallCancellation"],XC(o,c));const h=d(e,["usageMetadata"]);h!=null&&m(n,["usageMetadata"],$C(o,h));const y=d(e,["goAway"]);y!=null&&m(n,["goAway"],WC(o,y));const p=d(e,["sessionResumptionUpdate"]);return p!=null&&m(n,["sessionResumptionUpdate"],tA(o,p)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iA(o,e){const n={};if(d(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const s=d(e,["thought"]);s!=null&&m(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&m(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&m(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&m(n,["fileData"],c);const h=d(e,["functionCall"]);h!=null&&m(n,["functionCall"],h);const y=d(e,["functionResponse"]);y!=null&&m(n,["functionResponse"],y);const p=d(e,["inlineData"]);p!=null&&m(n,["inlineData"],p);const v=d(e,["text"]);return v!=null&&m(n,["text"],v),n}function Ql(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>iA(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function oA(o,e){const n={};if(d(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=d(e,["category"]);s!=null&&m(n,["category"],s);const l=d(e,["threshold"]);return l!=null&&m(n,["threshold"],l),n}function aA(){return{}}function sA(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&m(n,["dynamicThreshold"],l),n}function lA(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&m(n,["dynamicRetrievalConfig"],sA(o,s)),n}function rA(o,e){const n={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(e,["googleSearch"])!=null&&m(n,["googleSearch"],aA());const l=d(e,["googleSearchRetrieval"]);l!=null&&m(n,["googleSearchRetrieval"],lA(o,l));const u=d(e,["codeExecution"]);u!=null&&m(n,["codeExecution"],u);const c=d(e,["functionDeclarations"]);return c!=null&&m(n,["functionDeclarations"],c),n}function uA(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&m(n,["allowedFunctionNames"],l),n}function cA(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&m(n,["functionCallingConfig"],uA(o,s)),n}function fA(o,e){const n={},s=d(e,["voiceName"]);return s!=null&&m(n,["voiceName"],s),n}function dA(o,e){const n={},s=d(e,["prebuiltVoiceConfig"]);return s!=null&&m(n,["prebuiltVoiceConfig"],fA(o,s)),n}function hA(o,e){const n={},s=d(e,["voiceConfig"]);s!=null&&m(n,["voiceConfig"],dA(o,s));const l=d(e,["languageCode"]);return l!=null&&m(n,["languageCode"],l),n}function pA(o,e){const n={},s=d(e,["includeThoughts"]);s!=null&&m(n,["includeThoughts"],s);const l=d(e,["thinkingBudget"]);return l!=null&&m(n,["thinkingBudget"],l),n}function mA(o,e,n){const s={},l=d(e,["systemInstruction"]);n!==void 0&&l!=null&&m(n,["systemInstruction"],Ql(o,Me(o,l)));const u=d(e,["temperature"]);u!=null&&m(s,["temperature"],u);const c=d(e,["topP"]);c!=null&&m(s,["topP"],c);const h=d(e,["topK"]);h!=null&&m(s,["topK"],h);const y=d(e,["candidateCount"]);y!=null&&m(s,["candidateCount"],y);const p=d(e,["maxOutputTokens"]);p!=null&&m(s,["maxOutputTokens"],p);const v=d(e,["stopSequences"]);v!=null&&m(s,["stopSequences"],v);const S=d(e,["responseLogprobs"]);S!=null&&m(s,["responseLogprobs"],S);const E=d(e,["logprobs"]);E!=null&&m(s,["logprobs"],E);const C=d(e,["presencePenalty"]);C!=null&&m(s,["presencePenalty"],C);const A=d(e,["frequencyPenalty"]);A!=null&&m(s,["frequencyPenalty"],A);const R=d(e,["seed"]);R!=null&&m(s,["seed"],R);const z=d(e,["responseMimeType"]);z!=null&&m(s,["responseMimeType"],z);const k=d(e,["responseSchema"]);if(k!=null&&m(s,["responseSchema"],_v(o,k)),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=d(e,["safetySettings"]);if(n!==void 0&&F!=null){let lt=F;Array.isArray(lt)&&(lt=lt.map(yt=>oA(o,yt))),m(n,["safetySettings"],lt)}const N=d(e,["tools"]);if(n!==void 0&&N!=null){let lt=Kl(o,N);Array.isArray(lt)&&(lt=lt.map(yt=>rA(o,Yl(o,yt)))),m(n,["tools"],lt)}const K=d(e,["toolConfig"]);if(n!==void 0&&K!=null&&m(n,["toolConfig"],cA(o,K)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=d(e,["cachedContent"]);n!==void 0&&D!=null&&m(n,["cachedContent"],ai(o,D));const X=d(e,["responseModalities"]);X!=null&&m(s,["responseModalities"],X);const Z=d(e,["mediaResolution"]);Z!=null&&m(s,["mediaResolution"],Z);const H=d(e,["speechConfig"]);if(H!=null&&m(s,["speechConfig"],hA(o,wv(o,H))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ot=d(e,["thinkingConfig"]);return ot!=null&&m(s,["thinkingConfig"],pA(o,ot)),s}function Bg(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(h=>Ql(o,h))),m(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&m(n,["generationConfig"],mA(o,u,n)),n}function gA(o,e,n){const s={},l=d(e,["taskType"]);n!==void 0&&l!=null&&m(n,["requests[]","taskType"],l);const u=d(e,["title"]);n!==void 0&&u!=null&&m(n,["requests[]","title"],u);const c=d(e,["outputDimensionality"]);if(n!==void 0&&c!=null&&m(n,["requests[]","outputDimensionality"],c),d(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function yA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);l!=null&&m(n,["requests[]","content"],xv(o,l));const u=d(e,["config"]);u!=null&&m(n,["config"],gA(o,u,n));const c=d(e,["model"]);return c!==void 0&&m(n,["requests[]","model"],Qt(o,c)),n}function vA(o,e,n){const s={};if(d(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=d(e,["numberOfImages"]);n!==void 0&&l!=null&&m(n,["parameters","sampleCount"],l);const u=d(e,["aspectRatio"]);n!==void 0&&u!=null&&m(n,["parameters","aspectRatio"],u);const c=d(e,["guidanceScale"]);if(n!==void 0&&c!=null&&m(n,["parameters","guidanceScale"],c),d(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=d(e,["safetyFilterLevel"]);n!==void 0&&h!=null&&m(n,["parameters","safetySetting"],h);const y=d(e,["personGeneration"]);n!==void 0&&y!=null&&m(n,["parameters","personGeneration"],y);const p=d(e,["includeSafetyAttributes"]);n!==void 0&&p!=null&&m(n,["parameters","includeSafetyAttributes"],p);const v=d(e,["includeRaiReason"]);n!==void 0&&v!=null&&m(n,["parameters","includeRaiReason"],v);const S=d(e,["language"]);n!==void 0&&S!=null&&m(n,["parameters","language"],S);const E=d(e,["outputMimeType"]);n!==void 0&&E!=null&&m(n,["parameters","outputOptions","mimeType"],E);const C=d(e,["outputCompressionQuality"]);if(n!==void 0&&C!=null&&m(n,["parameters","outputOptions","compressionQuality"],C),d(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function TA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["prompt"]);l!=null&&m(n,["instances[0]","prompt"],l);const u=d(e,["config"]);return u!=null&&m(n,["config"],vA(o,u,n)),n}function SA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function EA(o,e,n){const s={},l=d(e,["displayName"]);n!==void 0&&l!=null&&m(n,["displayName"],l);const u=d(e,["description"]);return n!==void 0&&u!=null&&m(n,["description"],u),s}function bA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],EA(o,l,n)),n}function CA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function AA(o,e){const n={};if(d(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function MA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(h=>Ql(o,h))),m(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&m(n,["config"],AA(o,u)),n}function xA(o,e){const n={};if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=d(e,["imageBytes"]);s!=null&&m(n,["bytesBase64Encoded"],si(o,s));const l=d(e,["mimeType"]);return l!=null&&m(n,["mimeType"],l),n}function _A(o,e,n){const s={},l=d(e,["numberOfVideos"]);if(n!==void 0&&l!=null&&m(n,["parameters","sampleCount"],l),d(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=d(e,["durationSeconds"]);if(n!==void 0&&u!=null&&m(n,["parameters","durationSeconds"],u),d(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(e,["aspectRatio"]);if(n!==void 0&&c!=null&&m(n,["parameters","aspectRatio"],c),d(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const h=d(e,["personGeneration"]);if(n!==void 0&&h!=null&&m(n,["parameters","personGeneration"],h),d(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=d(e,["negativePrompt"]);if(n!==void 0&&y!=null&&m(n,["parameters","negativePrompt"],y),d(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function wA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["prompt"]);l!=null&&m(n,["instances[0]","prompt"],l);const u=d(e,["image"]);u!=null&&m(n,["instances[0]","image"],xA(o,u));const c=d(e,["config"]);return c!=null&&m(n,["config"],_A(o,c,n)),n}function RA(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&m(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&m(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&m(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&m(n,["executableCode"],c);const h=d(e,["fileData"]);h!=null&&m(n,["fileData"],h);const y=d(e,["functionCall"]);y!=null&&m(n,["functionCall"],y);const p=d(e,["functionResponse"]);p!=null&&m(n,["functionResponse"],p);const v=d(e,["inlineData"]);v!=null&&m(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&m(n,["text"],S),n}function Po(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>RA(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function DA(o,e){const n={},s=d(e,["featureSelectionPreference"]);return s!=null&&m(n,["featureSelectionPreference"],s),n}function NA(o,e){const n={},s=d(e,["method"]);s!=null&&m(n,["method"],s);const l=d(e,["category"]);l!=null&&m(n,["category"],l);const u=d(e,["threshold"]);return u!=null&&m(n,["threshold"],u),n}function LA(){return{}}function PA(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["dynamicThreshold"]);return l!=null&&m(n,["dynamicThreshold"],l),n}function VA(o,e){const n={},s=d(e,["dynamicRetrievalConfig"]);return s!=null&&m(n,["dynamicRetrievalConfig"],PA(o,s)),n}function Lv(o,e){const n={},s=d(e,["retrieval"]);s!=null&&m(n,["retrieval"],s),d(e,["googleSearch"])!=null&&m(n,["googleSearch"],LA());const u=d(e,["googleSearchRetrieval"]);u!=null&&m(n,["googleSearchRetrieval"],VA(o,u));const c=d(e,["codeExecution"]);c!=null&&m(n,["codeExecution"],c);const h=d(e,["functionDeclarations"]);return h!=null&&m(n,["functionDeclarations"],h),n}function BA(o,e){const n={},s=d(e,["mode"]);s!=null&&m(n,["mode"],s);const l=d(e,["allowedFunctionNames"]);return l!=null&&m(n,["allowedFunctionNames"],l),n}function IA(o,e){const n={},s=d(e,["functionCallingConfig"]);return s!=null&&m(n,["functionCallingConfig"],BA(o,s)),n}function UA(o,e){const n={},s=d(e,["voiceName"]);return s!=null&&m(n,["voiceName"],s),n}function zA(o,e){const n={},s=d(e,["prebuiltVoiceConfig"]);return s!=null&&m(n,["prebuiltVoiceConfig"],UA(o,s)),n}function kA(o,e){const n={},s=d(e,["voiceConfig"]);s!=null&&m(n,["voiceConfig"],zA(o,s));const l=d(e,["languageCode"]);return l!=null&&m(n,["languageCode"],l),n}function OA(o,e){const n={},s=d(e,["includeThoughts"]);s!=null&&m(n,["includeThoughts"],s);const l=d(e,["thinkingBudget"]);return l!=null&&m(n,["thinkingBudget"],l),n}function GA(o,e,n){const s={},l=d(e,["systemInstruction"]);n!==void 0&&l!=null&&m(n,["systemInstruction"],Po(o,Me(o,l)));const u=d(e,["temperature"]);u!=null&&m(s,["temperature"],u);const c=d(e,["topP"]);c!=null&&m(s,["topP"],c);const h=d(e,["topK"]);h!=null&&m(s,["topK"],h);const y=d(e,["candidateCount"]);y!=null&&m(s,["candidateCount"],y);const p=d(e,["maxOutputTokens"]);p!=null&&m(s,["maxOutputTokens"],p);const v=d(e,["stopSequences"]);v!=null&&m(s,["stopSequences"],v);const S=d(e,["responseLogprobs"]);S!=null&&m(s,["responseLogprobs"],S);const E=d(e,["logprobs"]);E!=null&&m(s,["logprobs"],E);const C=d(e,["presencePenalty"]);C!=null&&m(s,["presencePenalty"],C);const A=d(e,["frequencyPenalty"]);A!=null&&m(s,["frequencyPenalty"],A);const R=d(e,["seed"]);R!=null&&m(s,["seed"],R);const z=d(e,["responseMimeType"]);z!=null&&m(s,["responseMimeType"],z);const k=d(e,["responseSchema"]);k!=null&&m(s,["responseSchema"],_v(o,k));const F=d(e,["routingConfig"]);F!=null&&m(s,["routingConfig"],F);const N=d(e,["modelSelectionConfig"]);N!=null&&m(s,["modelConfig"],DA(o,N));const K=d(e,["safetySettings"]);if(n!==void 0&&K!=null){let $=K;Array.isArray($)&&($=$.map(tt=>NA(o,tt))),m(n,["safetySettings"],$)}const D=d(e,["tools"]);if(n!==void 0&&D!=null){let $=Kl(o,D);Array.isArray($)&&($=$.map(tt=>Lv(o,Yl(o,tt)))),m(n,["tools"],$)}const X=d(e,["toolConfig"]);n!==void 0&&X!=null&&m(n,["toolConfig"],IA(o,X));const Z=d(e,["labels"]);n!==void 0&&Z!=null&&m(n,["labels"],Z);const H=d(e,["cachedContent"]);n!==void 0&&H!=null&&m(n,["cachedContent"],ai(o,H));const ot=d(e,["responseModalities"]);ot!=null&&m(s,["responseModalities"],ot);const lt=d(e,["mediaResolution"]);lt!=null&&m(s,["mediaResolution"],lt);const yt=d(e,["speechConfig"]);yt!=null&&m(s,["speechConfig"],kA(o,wv(o,yt)));const Tt=d(e,["audioTimestamp"]);Tt!=null&&m(s,["audioTimestamp"],Tt);const dt=d(e,["thinkingConfig"]);return dt!=null&&m(s,["thinkingConfig"],OA(o,dt)),s}function Ig(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(h=>Po(o,h))),m(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&m(n,["generationConfig"],GA(o,u,n)),n}function qA(o,e,n){const s={},l=d(e,["taskType"]);n!==void 0&&l!=null&&m(n,["instances[]","task_type"],l);const u=d(e,["title"]);n!==void 0&&u!=null&&m(n,["instances[]","title"],u);const c=d(e,["outputDimensionality"]);n!==void 0&&c!=null&&m(n,["parameters","outputDimensionality"],c);const h=d(e,["mimeType"]);n!==void 0&&h!=null&&m(n,["instances[]","mimeType"],h);const y=d(e,["autoTruncate"]);return n!==void 0&&y!=null&&m(n,["parameters","autoTruncate"],y),s}function HA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);l!=null&&m(n,["instances[]","content"],xv(o,l));const u=d(e,["config"]);return u!=null&&m(n,["config"],qA(o,u,n)),n}function FA(o,e,n){const s={},l=d(e,["outputGcsUri"]);n!==void 0&&l!=null&&m(n,["parameters","storageUri"],l);const u=d(e,["negativePrompt"]);n!==void 0&&u!=null&&m(n,["parameters","negativePrompt"],u);const c=d(e,["numberOfImages"]);n!==void 0&&c!=null&&m(n,["parameters","sampleCount"],c);const h=d(e,["aspectRatio"]);n!==void 0&&h!=null&&m(n,["parameters","aspectRatio"],h);const y=d(e,["guidanceScale"]);n!==void 0&&y!=null&&m(n,["parameters","guidanceScale"],y);const p=d(e,["seed"]);n!==void 0&&p!=null&&m(n,["parameters","seed"],p);const v=d(e,["safetyFilterLevel"]);n!==void 0&&v!=null&&m(n,["parameters","safetySetting"],v);const S=d(e,["personGeneration"]);n!==void 0&&S!=null&&m(n,["parameters","personGeneration"],S);const E=d(e,["includeSafetyAttributes"]);n!==void 0&&E!=null&&m(n,["parameters","includeSafetyAttributes"],E);const C=d(e,["includeRaiReason"]);n!==void 0&&C!=null&&m(n,["parameters","includeRaiReason"],C);const A=d(e,["language"]);n!==void 0&&A!=null&&m(n,["parameters","language"],A);const R=d(e,["outputMimeType"]);n!==void 0&&R!=null&&m(n,["parameters","outputOptions","mimeType"],R);const z=d(e,["outputCompressionQuality"]);n!==void 0&&z!=null&&m(n,["parameters","outputOptions","compressionQuality"],z);const k=d(e,["addWatermark"]);n!==void 0&&k!=null&&m(n,["parameters","addWatermark"],k);const F=d(e,["enhancePrompt"]);return n!==void 0&&F!=null&&m(n,["parameters","enhancePrompt"],F),s}function YA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["prompt"]);l!=null&&m(n,["instances[0]","prompt"],l);const u=d(e,["config"]);return u!=null&&m(n,["config"],FA(o,u,n)),n}function KA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function QA(o,e,n){const s={},l=d(e,["displayName"]);n!==void 0&&l!=null&&m(n,["displayName"],l);const u=d(e,["description"]);return n!==void 0&&u!=null&&m(n,["description"],u),s}function XA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],QA(o,l,n)),n}function ZA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","name"],Qt(o,s));const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function $A(o,e,n){const s={},l=d(e,["systemInstruction"]);n!==void 0&&l!=null&&m(n,["systemInstruction"],Po(o,Me(o,l)));const u=d(e,["tools"]);if(n!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>Lv(o,y))),m(n,["tools"],h)}const c=d(e,["generationConfig"]);return n!==void 0&&c!=null&&m(n,["generationConfig"],c),s}function JA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(h=>Po(o,h))),m(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&m(n,["config"],$A(o,u,n)),n}function WA(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["contents"]);if(l!=null){let c=oi(o,l);Array.isArray(c)&&(c=c.map(h=>Po(o,h))),m(n,["contents"],c)}const u=d(e,["config"]);return u!=null&&m(n,["config"],u),n}function jA(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&m(n,["gcsUri"],s);const l=d(e,["imageBytes"]);l!=null&&m(n,["bytesBase64Encoded"],si(o,l));const u=d(e,["mimeType"]);return u!=null&&m(n,["mimeType"],u),n}function tM(o,e,n){const s={},l=d(e,["numberOfVideos"]);n!==void 0&&l!=null&&m(n,["parameters","sampleCount"],l);const u=d(e,["outputGcsUri"]);n!==void 0&&u!=null&&m(n,["parameters","storageUri"],u);const c=d(e,["fps"]);n!==void 0&&c!=null&&m(n,["parameters","fps"],c);const h=d(e,["durationSeconds"]);n!==void 0&&h!=null&&m(n,["parameters","durationSeconds"],h);const y=d(e,["seed"]);n!==void 0&&y!=null&&m(n,["parameters","seed"],y);const p=d(e,["aspectRatio"]);n!==void 0&&p!=null&&m(n,["parameters","aspectRatio"],p);const v=d(e,["resolution"]);n!==void 0&&v!=null&&m(n,["parameters","resolution"],v);const S=d(e,["personGeneration"]);n!==void 0&&S!=null&&m(n,["parameters","personGeneration"],S);const E=d(e,["pubsubTopic"]);n!==void 0&&E!=null&&m(n,["parameters","pubsubTopic"],E);const C=d(e,["negativePrompt"]);n!==void 0&&C!=null&&m(n,["parameters","negativePrompt"],C);const A=d(e,["enhancePrompt"]);return n!==void 0&&A!=null&&m(n,["parameters","enhancePrompt"],A),s}function eM(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],Qt(o,s));const l=d(e,["prompt"]);l!=null&&m(n,["instances[0]","prompt"],l);const u=d(e,["image"]);u!=null&&m(n,["instances[0]","image"],jA(o,u));const c=d(e,["config"]);return c!=null&&m(n,["config"],tM(o,c,n)),n}function nM(o,e){const n={},s=d(e,["thought"]);s!=null&&m(n,["thought"],s);const l=d(e,["codeExecutionResult"]);l!=null&&m(n,["codeExecutionResult"],l);const u=d(e,["executableCode"]);u!=null&&m(n,["executableCode"],u);const c=d(e,["fileData"]);c!=null&&m(n,["fileData"],c);const h=d(e,["functionCall"]);h!=null&&m(n,["functionCall"],h);const y=d(e,["functionResponse"]);y!=null&&m(n,["functionResponse"],y);const p=d(e,["inlineData"]);p!=null&&m(n,["inlineData"],p);const v=d(e,["text"]);return v!=null&&m(n,["text"],v),n}function iM(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>nM(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function oM(o,e){const n={},s=d(e,["citationSources"]);return s!=null&&m(n,["citations"],s),n}function aM(o,e){const n={},s=d(e,["content"]);s!=null&&m(n,["content"],iM(o,s));const l=d(e,["citationMetadata"]);l!=null&&m(n,["citationMetadata"],oM(o,l));const u=d(e,["tokenCount"]);u!=null&&m(n,["tokenCount"],u);const c=d(e,["finishReason"]);c!=null&&m(n,["finishReason"],c);const h=d(e,["avgLogprobs"]);h!=null&&m(n,["avgLogprobs"],h);const y=d(e,["groundingMetadata"]);y!=null&&m(n,["groundingMetadata"],y);const p=d(e,["index"]);p!=null&&m(n,["index"],p);const v=d(e,["logprobsResult"]);v!=null&&m(n,["logprobsResult"],v);const S=d(e,["safetyRatings"]);return S!=null&&m(n,["safetyRatings"],S),n}function Ug(o,e){const n={},s=d(e,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(y=>aM(o,y))),m(n,["candidates"],h)}const l=d(e,["modelVersion"]);l!=null&&m(n,["modelVersion"],l);const u=d(e,["promptFeedback"]);u!=null&&m(n,["promptFeedback"],u);const c=d(e,["usageMetadata"]);return c!=null&&m(n,["usageMetadata"],c),n}function sM(o,e){const n={},s=d(e,["values"]);return s!=null&&m(n,["values"],s),n}function lM(){return{}}function rM(o,e){const n={},s=d(e,["embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>sM(o,c))),m(n,["embeddings"],u)}return d(e,["metadata"])!=null&&m(n,["metadata"],lM()),n}function uM(o,e){const n={},s=d(e,["bytesBase64Encoded"]);s!=null&&m(n,["imageBytes"],si(o,s));const l=d(e,["mimeType"]);return l!=null&&m(n,["mimeType"],l),n}function Pv(o,e){const n={},s=d(e,["safetyAttributes","categories"]);s!=null&&m(n,["categories"],s);const l=d(e,["safetyAttributes","scores"]);l!=null&&m(n,["scores"],l);const u=d(e,["contentType"]);return u!=null&&m(n,["contentType"],u),n}function cM(o,e){const n={},s=d(e,["_self"]);s!=null&&m(n,["image"],uM(o,s));const l=d(e,["raiFilteredReason"]);l!=null&&m(n,["raiFilteredReason"],l);const u=d(e,["_self"]);return u!=null&&m(n,["safetyAttributes"],Pv(o,u)),n}function fM(o,e){const n={},s=d(e,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>cM(o,c))),m(n,["generatedImages"],u)}const l=d(e,["positivePromptSafetyAttributes"]);return l!=null&&m(n,["positivePromptSafetyAttributes"],Pv(o,l)),n}function dM(o,e){const n={},s=d(e,["baseModel"]);s!=null&&m(n,["baseModel"],s);const l=d(e,["createTime"]);l!=null&&m(n,["createTime"],l);const u=d(e,["updateTime"]);return u!=null&&m(n,["updateTime"],u),n}function zg(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["displayName"]);l!=null&&m(n,["displayName"],l);const u=d(e,["description"]);u!=null&&m(n,["description"],u);const c=d(e,["version"]);c!=null&&m(n,["version"],c);const h=d(e,["_self"]);h!=null&&m(n,["tunedModelInfo"],dM(o,h));const y=d(e,["inputTokenLimit"]);y!=null&&m(n,["inputTokenLimit"],y);const p=d(e,["outputTokenLimit"]);p!=null&&m(n,["outputTokenLimit"],p);const v=d(e,["supportedGenerationMethods"]);return v!=null&&m(n,["supportedActions"],v),n}function hM(){return{}}function pM(o,e){const n={},s=d(e,["totalTokens"]);s!=null&&m(n,["totalTokens"],s);const l=d(e,["cachedContentTokenCount"]);return l!=null&&m(n,["cachedContentTokenCount"],l),n}function mM(o,e){const n={},s=d(e,["video","uri"]);s!=null&&m(n,["uri"],s);const l=d(e,["video","encodedVideo"]);l!=null&&m(n,["videoBytes"],si(o,l));const u=d(e,["encoding"]);return u!=null&&m(n,["mimeType"],u),n}function gM(o,e){const n={},s=d(e,["_self"]);return s!=null&&m(n,["video"],mM(o,s)),n}function yM(o,e){const n={},s=d(e,["generatedSamples"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>gM(o,h))),m(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&m(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&m(n,["raiMediaFilteredReasons"],u),n}function vM(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["metadata"]);l!=null&&m(n,["metadata"],l);const u=d(e,["done"]);u!=null&&m(n,["done"],u);const c=d(e,["error"]);c!=null&&m(n,["error"],c);const h=d(e,["response","generateVideoResponse"]);return h!=null&&m(n,["response"],yM(o,h)),n}function TM(o,e){const n={},s=d(e,["videoMetadata"]);s!=null&&m(n,["videoMetadata"],s);const l=d(e,["thought"]);l!=null&&m(n,["thought"],l);const u=d(e,["codeExecutionResult"]);u!=null&&m(n,["codeExecutionResult"],u);const c=d(e,["executableCode"]);c!=null&&m(n,["executableCode"],c);const h=d(e,["fileData"]);h!=null&&m(n,["fileData"],h);const y=d(e,["functionCall"]);y!=null&&m(n,["functionCall"],y);const p=d(e,["functionResponse"]);p!=null&&m(n,["functionResponse"],p);const v=d(e,["inlineData"]);v!=null&&m(n,["inlineData"],v);const S=d(e,["text"]);return S!=null&&m(n,["text"],S),n}function SM(o,e){const n={},s=d(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>TM(o,c))),m(n,["parts"],u)}const l=d(e,["role"]);return l!=null&&m(n,["role"],l),n}function EM(o,e){const n={},s=d(e,["citations"]);return s!=null&&m(n,["citations"],s),n}function bM(o,e){const n={},s=d(e,["content"]);s!=null&&m(n,["content"],SM(o,s));const l=d(e,["citationMetadata"]);l!=null&&m(n,["citationMetadata"],EM(o,l));const u=d(e,["finishMessage"]);u!=null&&m(n,["finishMessage"],u);const c=d(e,["finishReason"]);c!=null&&m(n,["finishReason"],c);const h=d(e,["avgLogprobs"]);h!=null&&m(n,["avgLogprobs"],h);const y=d(e,["groundingMetadata"]);y!=null&&m(n,["groundingMetadata"],y);const p=d(e,["index"]);p!=null&&m(n,["index"],p);const v=d(e,["logprobsResult"]);v!=null&&m(n,["logprobsResult"],v);const S=d(e,["safetyRatings"]);return S!=null&&m(n,["safetyRatings"],S),n}function kg(o,e){const n={},s=d(e,["candidates"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(v=>bM(o,v))),m(n,["candidates"],p)}const l=d(e,["createTime"]);l!=null&&m(n,["createTime"],l);const u=d(e,["responseId"]);u!=null&&m(n,["responseId"],u);const c=d(e,["modelVersion"]);c!=null&&m(n,["modelVersion"],c);const h=d(e,["promptFeedback"]);h!=null&&m(n,["promptFeedback"],h);const y=d(e,["usageMetadata"]);return y!=null&&m(n,["usageMetadata"],y),n}function CM(o,e){const n={},s=d(e,["truncated"]);s!=null&&m(n,["truncated"],s);const l=d(e,["token_count"]);return l!=null&&m(n,["tokenCount"],l),n}function AM(o,e){const n={},s=d(e,["values"]);s!=null&&m(n,["values"],s);const l=d(e,["statistics"]);return l!=null&&m(n,["statistics"],CM(o,l)),n}function MM(o,e){const n={},s=d(e,["billableCharacterCount"]);return s!=null&&m(n,["billableCharacterCount"],s),n}function xM(o,e){const n={},s=d(e,["predictions[]","embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>AM(o,c))),m(n,["embeddings"],u)}const l=d(e,["metadata"]);return l!=null&&m(n,["metadata"],MM(o,l)),n}function _M(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&m(n,["gcsUri"],s);const l=d(e,["bytesBase64Encoded"]);l!=null&&m(n,["imageBytes"],si(o,l));const u=d(e,["mimeType"]);return u!=null&&m(n,["mimeType"],u),n}function Vv(o,e){const n={},s=d(e,["safetyAttributes","categories"]);s!=null&&m(n,["categories"],s);const l=d(e,["safetyAttributes","scores"]);l!=null&&m(n,["scores"],l);const u=d(e,["contentType"]);return u!=null&&m(n,["contentType"],u),n}function wM(o,e){const n={},s=d(e,["_self"]);s!=null&&m(n,["image"],_M(o,s));const l=d(e,["raiFilteredReason"]);l!=null&&m(n,["raiFilteredReason"],l);const u=d(e,["_self"]);u!=null&&m(n,["safetyAttributes"],Vv(o,u));const c=d(e,["prompt"]);return c!=null&&m(n,["enhancedPrompt"],c),n}function RM(o,e){const n={},s=d(e,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>wM(o,c))),m(n,["generatedImages"],u)}const l=d(e,["positivePromptSafetyAttributes"]);return l!=null&&m(n,["positivePromptSafetyAttributes"],Vv(o,l)),n}function DM(o,e){const n={},s=d(e,["endpoint"]);s!=null&&m(n,["name"],s);const l=d(e,["deployedModelId"]);return l!=null&&m(n,["deployedModelId"],l),n}function NM(o,e){const n={},s=d(e,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&m(n,["baseModel"],s);const l=d(e,["createTime"]);l!=null&&m(n,["createTime"],l);const u=d(e,["updateTime"]);return u!=null&&m(n,["updateTime"],u),n}function Og(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["displayName"]);l!=null&&m(n,["displayName"],l);const u=d(e,["description"]);u!=null&&m(n,["description"],u);const c=d(e,["versionId"]);c!=null&&m(n,["version"],c);const h=d(e,["deployedModels"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(S=>DM(o,S))),m(n,["endpoints"],v)}const y=d(e,["labels"]);y!=null&&m(n,["labels"],y);const p=d(e,["_self"]);return p!=null&&m(n,["tunedModelInfo"],NM(o,p)),n}function LM(){return{}}function PM(o,e){const n={},s=d(e,["totalTokens"]);return s!=null&&m(n,["totalTokens"],s),n}function VM(o,e){const n={},s=d(e,["tokensInfo"]);return s!=null&&m(n,["tokensInfo"],s),n}function BM(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&m(n,["uri"],s);const l=d(e,["bytesBase64Encoded"]);l!=null&&m(n,["videoBytes"],si(o,l));const u=d(e,["mimeType"]);return u!=null&&m(n,["mimeType"],u),n}function IM(o,e){const n={},s=d(e,["_self"]);return s!=null&&m(n,["video"],BM(o,s)),n}function UM(o,e){const n={},s=d(e,["videos"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>IM(o,h))),m(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&m(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&m(n,["raiMediaFilteredReasons"],u),n}function zM(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["metadata"]);l!=null&&m(n,["metadata"],l);const u=d(e,["done"]);u!=null&&m(n,["done"],u);const c=d(e,["error"]);c!=null&&m(n,["error"],c);const h=d(e,["response"]);return h!=null&&m(n,["response"],UM(o,h)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function OM(o,e,n){let s,l;n.data instanceof Blob?l=JSON.parse(await n.data.text()):l=JSON.parse(n.data),o.isVertexAI()?s=nA(o,l):s=eA(o,l),e(s)}class GM{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s}async connect(e){var n,s,l,u;const c=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let y;const p=YM(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())y=`${c}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p);else{const K=this.apiClient.getApiKey();y=`${c}/ws/google.ai.generativelanguage.${h}.GenerativeService.BidiGenerateContent?key=${K}`}let v=()=>{};const S=new Promise(K=>{v=K}),E=e.callbacks,C=function(){var K;(K=E==null?void 0:E.onopen)===null||K===void 0||K.call(E),v({})},A=this.apiClient,R={onopen:C,onmessage:K=>{OM(A,E.onmessage,K)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(K){},onclose:(s=E==null?void 0:E.onclose)!==null&&s!==void 0?s:function(K){}},z=this.webSocketFactory.create(y,FM(p),R);z.connect(),await S;let k=Qt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const K=this.apiClient.getProject(),D=this.apiClient.getLocation();k=`projects/${K}/locations/${D}/`+k}let F={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Il.AUDIO]}:e.config.responseModalities=[Il.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N={model:k,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=wC(this.apiClient,N):F=_C(this.apiClient,N),delete F.config,z.send(JSON.stringify(F)),new HM(z,this.apiClient)}}const qM={turnComplete:!0};class HM{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let s=[];try{s=oi(e,n.turns),e.isVertexAI()?s=s.map(l=>Po(e,l)):s=s.map(l=>Ql(e,l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:s,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let s=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?s=n.functionResponses:s=[n.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(kM)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},qM),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:VC(this.apiClient,e)}:n={realtimeInput:PC(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function FM(o){const e={};return o.forEach((n,s)=>{e[s]=n}),e}function YM(o){const e=new Headers;for(const[n,s]of Object.entries(o))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KM extends es{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(s=>{var l;let u;const c=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((l=y==null?void 0:y.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:c.push(y);let h;return u?h={generatedImages:c,positivePromptSafetyAttributes:u}:h={generatedImages:c},h})}async generateContentInternal(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=Ig(this.apiClient,e);return h=gt("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=kg(this.apiClient,v),E=new El;return Object.assign(E,S),E})}else{const p=Bg(this.apiClient,e);return h=gt("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=Ug(this.apiClient,v),E=new El;return Object.assign(E,S),E})}}async generateContentStreamInternal(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=Ig(this.apiClient,e);h=gt("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query;const v=this.apiClient;return c=v.requestStream({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(S){return Ul(this,arguments,function*(){var E,C,A,R;try{for(var z=!0,k=zc(S),F;F=yield me(k.next()),E=F.done,!E;z=!0){R=F.value,z=!1;const K=kg(v,yield me(R.json())),D=new El;Object.assign(D,K),yield yield me(D)}}catch(N){C={error:N}}finally{try{!z&&!E&&(A=k.return)&&(yield me(A.call(k)))}finally{if(C)throw C.error}}})})}else{const p=Bg(this.apiClient,e);h=gt("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query;const v=this.apiClient;return c=v.requestStream({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),c.then(function(S){return Ul(this,arguments,function*(){var E,C,A,R;try{for(var z=!0,k=zc(S),F;F=yield me(k.next()),E=F.done,!E;z=!0){R=F.value,z=!1;const K=Ug(v,yield me(R.json())),D=new El;Object.assign(D,K),yield yield me(D)}}catch(N){C={error:N}}finally{try{!z&&!E&&(A=k.return)&&(yield me(A.call(k)))}finally{if(C)throw C.error}}})})}}async embedContent(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=HA(this.apiClient,e);return h=gt("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=xM(this.apiClient,v),E=new Ag;return Object.assign(E,S),E})}else{const p=yA(this.apiClient,e);return h=gt("{model}:batchEmbedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=rM(this.apiClient,v),E=new Ag;return Object.assign(E,S),E})}}async generateImagesInternal(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=YA(this.apiClient,e);return h=gt("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=RM(this.apiClient,v),E=new Mg;return Object.assign(E,S),E})}else{const p=TA(this.apiClient,e);return h=gt("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=fM(this.apiClient,v),E=new Mg;return Object.assign(E,S),E})}}async get(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=KA(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Og(this.apiClient,v))}else{const p=SA(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>zg(this.apiClient,v))}}async update(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=XA(this.apiClient,e);return h=gt("{model}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Og(this.apiClient,v))}else{const p=bA(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>zg(this.apiClient,v))}}async delete(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=ZA(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(()=>{const v=LM(),S=new xg;return Object.assign(S,v),S})}else{const p=CA(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(()=>{const v=hM(),S=new xg;return Object.assign(S,v),S})}}async countTokens(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=JA(this.apiClient,e);return h=gt("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=PM(this.apiClient,v),E=new _g;return Object.assign(E,S),E})}else{const p=MA(this.apiClient,e);return h=gt("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=pM(this.apiClient,v),E=new _g;return Object.assign(E,S),E})}}async computeTokens(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=WA(this.apiClient,e);return u=gt("{model}:computeTokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const p=VM(this.apiClient,y),v=new Vb;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=eM(this.apiClient,e);return h=gt("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>zM(this.apiClient,v))}else{const p=wA(this.apiClient,e);return h=gt("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>vM(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QM(o,e){const n={},s=d(e,["operationName"]);s!=null&&m(n,["_url","operationName"],s);const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function XM(o,e){const n={},s=d(e,["operationName"]);s!=null&&m(n,["_url","operationName"],s);const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function ZM(o,e){const n={},s=d(e,["operationName"]);s!=null&&m(n,["operationName"],s);const l=d(e,["resourceName"]);l!=null&&m(n,["_url","resourceName"],l);const u=d(e,["config"]);return u!=null&&m(n,["config"],u),n}function $M(o,e){const n={},s=d(e,["video","uri"]);s!=null&&m(n,["uri"],s);const l=d(e,["video","encodedVideo"]);l!=null&&m(n,["videoBytes"],si(o,l));const u=d(e,["encoding"]);return u!=null&&m(n,["mimeType"],u),n}function JM(o,e){const n={},s=d(e,["_self"]);return s!=null&&m(n,["video"],$M(o,s)),n}function WM(o,e){const n={},s=d(e,["generatedSamples"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>JM(o,h))),m(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&m(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&m(n,["raiMediaFilteredReasons"],u),n}function jM(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["metadata"]);l!=null&&m(n,["metadata"],l);const u=d(e,["done"]);u!=null&&m(n,["done"],u);const c=d(e,["error"]);c!=null&&m(n,["error"],c);const h=d(e,["response","generateVideoResponse"]);return h!=null&&m(n,["response"],WM(o,h)),n}function tx(o,e){const n={},s=d(e,["gcsUri"]);s!=null&&m(n,["uri"],s);const l=d(e,["bytesBase64Encoded"]);l!=null&&m(n,["videoBytes"],si(o,l));const u=d(e,["mimeType"]);return u!=null&&m(n,["mimeType"],u),n}function ex(o,e){const n={},s=d(e,["_self"]);return s!=null&&m(n,["video"],tx(o,s)),n}function nx(o,e){const n={},s=d(e,["videos"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>ex(o,h))),m(n,["generatedVideos"],c)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&m(n,["raiMediaFilteredCount"],l);const u=d(e,["raiMediaFilteredReasons"]);return u!=null&&m(n,["raiMediaFilteredReasons"],u),n}function Gg(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["metadata"]);l!=null&&m(n,["metadata"],l);const u=d(e,["done"]);u!=null&&m(n,["done"],u);const c=d(e,["error"]);c!=null&&m(n,["error"],c);const h=d(e,["response"]);return h!=null&&m(n,["response"],nx(o,h)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ix extends es{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let u;return s&&"httpOptions"in s&&(u=s.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:u}})}else return this.getVideosOperationInternal({operationName:n.name,config:s})}async getVideosOperationInternal(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=XM(this.apiClient,e);return h=gt("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Gg(this.apiClient,v))}else{const p=QM(this.apiClient,e);return h=gt("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>jM(this.apiClient,v))}}async fetchPredictVideosOperationInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=ZM(this.apiClient,e);return u=gt("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>Gg(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ox="Content-Type",ax="X-Server-Timeout",sx="User-Agent",lx="x-goog-api-client",rx="0.12.0",ux=`google-genai-sdk/${rx}`,cx="v1beta1",fx="v1beta",qg=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Bv extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class Oc extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class dx{constructor(e){var n,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:cx,this.getProject()||this.getLocation()?(l.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(l.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(l.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:fx,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,s){const l=[this.getRequestUrlInternal(n)];return s&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,s);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))l.searchParams.append(c,String(h));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,n,e.abortSignal),this.unaryApiCall(l,u,e.httpMethod)}patchHttpOptions(e,n){const s=JSON.parse(JSON.stringify(e));for(const[l,u]of Object.entries(n))typeof u=="object"?s[l]=Object.assign(Object.assign({},s[l]),u):u!==void 0&&(s[l]=u);return s}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,s);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,n,e.abortSignal),this.streamApiCall(l,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,s){if(n&&n.timeout||s){const l=new AbortController,u=l.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>l.abort(),n.timeout),s&&s.addEventListener("abort",()=>{l.abort()}),e.signal=u}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async l=>(await Hg(l),new Uc(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async l=>(await Hg(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var n;return Ul(this,arguments,function*(){const l=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),u=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let c="";for(;;){const{done:h,value:y}=yield me(l.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=u.decode(y);try{const S=JSON.parse(p);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),C=E.status,A=E.code,R=`got status: ${C}. ${JSON.stringify(S)}`;if(A>=400&&A<500)throw new Bv(R);if(A>=500&&A<600)throw new Oc(R)}}catch(S){const E=S;if(E.name==="ClientError"||E.name==="ServerError")throw S}c+=p;let v=c.match(qg);for(;v;){const S=v[1];try{const E=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield me(new Uc(E)),c=c.slice(v[0].length),v=c.match(qg)}catch(E){throw new Error(`exception parsing stream chunk ${S}. ${E}`)}}}}finally{l.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},n=ux+" "+this.clientOptions.userAgentExtra;return e[sx]=n,e[lx]=n,e[ox]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[s,l]of Object.entries(e.headers))n.append(s,l);e.timeout&&e.timeout>0&&n.append(ax,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var s;const l={};n!=null&&(l.mimeType=n.mimeType,l.name=n.name,l.displayName=n.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const u=this.clientOptions.uploader,c=await u.stat(e);l.sizeBytes=String(c.size);const h=(s=n==null?void 0:n.mimeType)!==null&&s!==void 0?s:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=h;const y=await this.fetchUploadUrl(l,n);return u.upload(e,y,this)}async fetchUploadUrl(e,n){var s;let l={};n!=null&&n.httpOptions?l=n.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const u={file:e},c=await this.request({path:gt("upload/v1beta/files",u._url),body:JSON.stringify(u),httpMethod:"POST",httpOptions:l});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(s=c==null?void 0:c.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function Hg(o){var e;if(o===void 0)throw new Oc("response is undefined");if(!o.ok){const n=o.status,s=o.statusText;let l;!((e=o.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await o.json():l={error:{message:await o.text(),code:o.status,status:o.statusText}};const u=`got status: ${n} ${s}. ${JSON.stringify(l)}`;throw n>=400&&n<500?new Bv(u):n>=500&&n<600?new Oc(u):new Error(u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hx(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],s);const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function px(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&m(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);n!==void 0&&u!=null&&m(n,["_query","pageToken"],u);const c=d(e,["filter"]);return n!==void 0&&c!=null&&m(n,["_query","filter"],c),s}function mx(o,e){const n={},s=d(e,["config"]);return s!=null&&m(n,["config"],px(o,s,n)),n}function gx(o,e){const n={},s=d(e,["textInput"]);s!=null&&m(n,["textInput"],s);const l=d(e,["output"]);return l!=null&&m(n,["output"],l),n}function yx(o,e){const n={};if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=d(e,["examples"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>gx(o,u))),m(n,["examples","examples"],l)}return n}function vx(o,e,n){const s={};if(d(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=d(e,["tunedModelDisplayName"]);if(n!==void 0&&l!=null&&m(n,["displayName"],l),d(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=d(e,["epochCount"]);n!==void 0&&u!=null&&m(n,["tuningTask","hyperparameters","epochCount"],u);const c=d(e,["learningRateMultiplier"]);if(c!=null&&m(s,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=d(e,["batchSize"]);n!==void 0&&h!=null&&m(n,["tuningTask","hyperparameters","batchSize"],h);const y=d(e,["learningRate"]);return n!==void 0&&y!=null&&m(n,["tuningTask","hyperparameters","learningRate"],y),s}function Tx(o,e){const n={},s=d(e,["baseModel"]);s!=null&&m(n,["baseModel"],s);const l=d(e,["trainingDataset"]);l!=null&&m(n,["tuningTask","trainingData"],yx(o,l));const u=d(e,["config"]);return u!=null&&m(n,["config"],vx(o,u,n)),n}function Sx(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],s);const l=d(e,["config"]);return l!=null&&m(n,["config"],l),n}function Ex(o,e,n){const s={},l=d(e,["pageSize"]);n!==void 0&&l!=null&&m(n,["_query","pageSize"],l);const u=d(e,["pageToken"]);n!==void 0&&u!=null&&m(n,["_query","pageToken"],u);const c=d(e,["filter"]);return n!==void 0&&c!=null&&m(n,["_query","filter"],c),s}function bx(o,e){const n={},s=d(e,["config"]);return s!=null&&m(n,["config"],Ex(o,s,n)),n}function Cx(o,e,n){const s={},l=d(e,["gcsUri"]);if(n!==void 0&&l!=null&&m(n,["supervisedTuningSpec","trainingDatasetUri"],l),d(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Ax(o,e){const n={},s=d(e,["gcsUri"]);return s!=null&&m(n,["validationDatasetUri"],s),n}function Mx(o,e,n){const s={},l=d(e,["validationDataset"]);n!==void 0&&l!=null&&m(n,["supervisedTuningSpec"],Ax(o,l));const u=d(e,["tunedModelDisplayName"]);n!==void 0&&u!=null&&m(n,["tunedModelDisplayName"],u);const c=d(e,["description"]);n!==void 0&&c!=null&&m(n,["description"],c);const h=d(e,["epochCount"]);n!==void 0&&h!=null&&m(n,["supervisedTuningSpec","hyperParameters","epochCount"],h);const y=d(e,["learningRateMultiplier"]);n!==void 0&&y!=null&&m(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const p=d(e,["adapterSize"]);if(n!==void 0&&p!=null&&m(n,["supervisedTuningSpec","hyperParameters","adapterSize"],p),d(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return s}function xx(o,e){const n={},s=d(e,["baseModel"]);s!=null&&m(n,["baseModel"],s);const l=d(e,["trainingDataset"]);l!=null&&m(n,["supervisedTuningSpec","trainingDatasetUri"],Cx(o,l,n));const u=d(e,["config"]);return u!=null&&m(n,["config"],Mx(o,u,n)),n}function _x(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["model"],s);const l=d(e,["name"]);return l!=null&&m(n,["endpoint"],l),n}function Iv(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["state"]);l!=null&&m(n,["state"],Rv(o,l));const u=d(e,["createTime"]);u!=null&&m(n,["createTime"],u);const c=d(e,["tuningTask","startTime"]);c!=null&&m(n,["startTime"],c);const h=d(e,["tuningTask","completeTime"]);h!=null&&m(n,["endTime"],h);const y=d(e,["updateTime"]);y!=null&&m(n,["updateTime"],y);const p=d(e,["description"]);p!=null&&m(n,["description"],p);const v=d(e,["baseModel"]);v!=null&&m(n,["baseModel"],v);const S=d(e,["_self"]);S!=null&&m(n,["tunedModel"],_x(o,S));const E=d(e,["distillationSpec"]);E!=null&&m(n,["distillationSpec"],E);const C=d(e,["experiment"]);C!=null&&m(n,["experiment"],C);const A=d(e,["labels"]);A!=null&&m(n,["labels"],A);const R=d(e,["pipelineJob"]);R!=null&&m(n,["pipelineJob"],R);const z=d(e,["tunedModelDisplayName"]);return z!=null&&m(n,["tunedModelDisplayName"],z),n}function wx(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&m(n,["nextPageToken"],s);const l=d(e,["tunedModels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Iv(o,c))),m(n,["tuningJobs"],u)}return n}function Rx(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["metadata"]);l!=null&&m(n,["metadata"],l);const u=d(e,["done"]);u!=null&&m(n,["done"],u);const c=d(e,["error"]);return c!=null&&m(n,["error"],c),n}function Dx(o,e){const n={},s=d(e,["model"]);s!=null&&m(n,["model"],s);const l=d(e,["endpoint"]);return l!=null&&m(n,["endpoint"],l),n}function Gc(o,e){const n={},s=d(e,["name"]);s!=null&&m(n,["name"],s);const l=d(e,["state"]);l!=null&&m(n,["state"],Rv(o,l));const u=d(e,["createTime"]);u!=null&&m(n,["createTime"],u);const c=d(e,["startTime"]);c!=null&&m(n,["startTime"],c);const h=d(e,["endTime"]);h!=null&&m(n,["endTime"],h);const y=d(e,["updateTime"]);y!=null&&m(n,["updateTime"],y);const p=d(e,["error"]);p!=null&&m(n,["error"],p);const v=d(e,["description"]);v!=null&&m(n,["description"],v);const S=d(e,["baseModel"]);S!=null&&m(n,["baseModel"],S);const E=d(e,["tunedModel"]);E!=null&&m(n,["tunedModel"],Dx(o,E));const C=d(e,["supervisedTuningSpec"]);C!=null&&m(n,["supervisedTuningSpec"],C);const A=d(e,["tuningDataStats"]);A!=null&&m(n,["tuningDataStats"],A);const R=d(e,["encryptionSpec"]);R!=null&&m(n,["encryptionSpec"],R);const z=d(e,["partnerModelTuningSpec"]);z!=null&&m(n,["partnerModelTuningSpec"],z);const k=d(e,["distillationSpec"]);k!=null&&m(n,["distillationSpec"],k);const F=d(e,["experiment"]);F!=null&&m(n,["experiment"],F);const N=d(e,["labels"]);N!=null&&m(n,["labels"],N);const K=d(e,["pipelineJob"]);K!=null&&m(n,["pipelineJob"],K);const D=d(e,["tunedModelDisplayName"]);return D!=null&&m(n,["tunedModelDisplayName"],D),n}function Nx(o,e){const n={},s=d(e,["nextPageToken"]);s!=null&&m(n,["nextPageToken"],s);const l=d(e,["tuningJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Gc(o,c))),m(n,["tuningJobs"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lx extends es{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new pf(Ka.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const s=await this.tuneMldevInternal(n);let l="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?l=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(l=s.name.split("/operations/")[0]),{name:l,state:Ic.JOB_STATE_QUEUED}}}}async getInternal(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=Sx(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Gc(this.apiClient,v))}else{const p=hx(this.apiClient,e);return h=gt("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Iv(this.apiClient,v))}}async listInternal(e){var n,s,l,u;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=bx(this.apiClient,e);return h=gt("tuningJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=Nx(this.apiClient,v),E=new wg;return Object.assign(E,S),E})}else{const p=mx(this.apiClient,e);return h=gt("tunedModels",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const S=wx(this.apiClient,v),E=new wg;return Object.assign(E,S),E})}}async tuneInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=xx(this.apiClient,e);return u=gt("tuningJobs",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>Gc(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Tx(this.apiClient,e);return u=gt("tunedModels",h._url),c=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>Rx(this.apiClient,y))}}}const Px=1024*1024*8;async function Vx(o,e,n){var s,l;let u=0,c=0,h=new Uc(new Response),y="upload";for(u=o.size;c<u;){const v=Math.min(Px,u-c),S=o.slice(c,c+v);if(c+v>=u&&(y+=", finalize"),h=await n.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(c),"Content-Length":String(v)}}}),c+=v,((s=h==null?void 0:h.headers)===null||s===void 0?void 0:s["x-goog-upload-status"])!=="active")break;if(u<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const p=await(h==null?void 0:h.json());if(((l=h==null?void 0:h.headers)===null||l===void 0?void 0:l["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return p.file}async function Bx(o){return{size:o.size,type:o.type}}class Ix{async upload(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Vx(e,n,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Bx(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ux{create(e,n,s){return new zx(e,n,s)}}class zx{constructor(e,n,s){this.url=e,this.headers=n,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fg="x-goog-api-key";class kx{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(Fg)===null&&e.append(Fg,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ox="gl-node/";class Gx{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const s=$E(e,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion;const l=new kx(this.apiKey);this.apiClient=new dx({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Ox+"web",uploader:new Ix}),this.models=new KM(this.apiClient),this.live=new GM(this.apiClient,l,new Ux),this.chats=new qb(this.models,this.apiClient),this.caches=new zb(this.apiClient),this.files=new eC(this.apiClient),this.operations=new ix(this.apiClient),this.tunings=new Lx(this.apiClient)}}var pc={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg;function qx(){if(Yg)return vt;Yg=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function E(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,R={};function z(x,Q,nt){this.props=x,this.context=Q,this.refs=R,this.updater=nt||C}z.prototype.isReactComponent={},z.prototype.setState=function(x,Q){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Q,"setState")},z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function k(){}k.prototype=z.prototype;function F(x,Q,nt){this.props=x,this.context=Q,this.refs=R,this.updater=nt||C}var N=F.prototype=new k;N.constructor=F,A(N,z.prototype),N.isPureReactComponent=!0;var K=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function Z(x,Q,nt,j,ut,xt){return nt=xt.ref,{$$typeof:o,type:x,key:Q,ref:nt!==void 0?nt:null,props:xt}}function H(x,Q){return Z(x.type,Q,void 0,void 0,void 0,x.props)}function ot(x){return typeof x=="object"&&x!==null&&x.$$typeof===o}function lt(x){var Q={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(nt){return Q[nt]})}var yt=/\/+/g;function Tt(x,Q){return typeof x=="object"&&x!==null&&x.key!=null?lt(""+x.key):Q.toString(36)}function dt(){}function $(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(dt,dt):(x.status="pending",x.then(function(Q){x.status==="pending"&&(x.status="fulfilled",x.value=Q)},function(Q){x.status==="pending"&&(x.status="rejected",x.reason=Q)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function tt(x,Q,nt,j,ut){var xt=typeof x;(xt==="undefined"||xt==="boolean")&&(x=null);var mt=!1;if(x===null)mt=!0;else switch(xt){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(x.$$typeof){case o:case e:mt=!0;break;case v:return mt=x._init,tt(mt(x._payload),Q,nt,j,ut)}}if(mt)return ut=ut(x),mt=j===""?"."+Tt(x,0):j,K(ut)?(nt="",mt!=null&&(nt=mt.replace(yt,"$&/")+"/"),tt(ut,Q,nt,"",function(Dn){return Dn})):ut!=null&&(ot(ut)&&(ut=H(ut,nt+(ut.key==null||x&&x.key===ut.key?"":(""+ut.key).replace(yt,"$&/")+"/")+mt)),Q.push(ut)),1;mt=0;var _e=j===""?".":j+":";if(K(x))for(var kt=0;kt<x.length;kt++)j=x[kt],xt=_e+Tt(j,kt),mt+=tt(j,Q,nt,xt,ut);else if(kt=E(x),typeof kt=="function")for(x=kt.call(x),kt=0;!(j=x.next()).done;)j=j.value,xt=_e+Tt(j,kt++),mt+=tt(j,Q,nt,xt,ut);else if(xt==="object"){if(typeof x.then=="function")return tt($(x),Q,nt,j,ut);throw Q=String(x),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return mt}function V(x,Q,nt){if(x==null)return x;var j=[],ut=0;return tt(x,j,"","",function(xt){return Q.call(nt,xt,ut++)}),j}function G(x){if(x._status===-1){var Q=x._result;Q=Q(),Q.then(function(nt){(x._status===0||x._status===-1)&&(x._status=1,x._result=nt)},function(nt){(x._status===0||x._status===-1)&&(x._status=2,x._result=nt)}),x._status===-1&&(x._status=0,x._result=Q)}if(x._status===1)return x._result.default;throw x._result}var J=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function rt(){}return vt.Children={map:V,forEach:function(x,Q,nt){V(x,function(){Q.apply(this,arguments)},nt)},count:function(x){var Q=0;return V(x,function(){Q++}),Q},toArray:function(x){return V(x,function(Q){return Q})||[]},only:function(x){if(!ot(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},vt.Component=z,vt.Fragment=n,vt.Profiler=l,vt.PureComponent=F,vt.StrictMode=s,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,vt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return D.H.useMemoCache(x)}},vt.cache=function(x){return function(){return x.apply(null,arguments)}},vt.cloneElement=function(x,Q,nt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var j=A({},x.props),ut=x.key,xt=void 0;if(Q!=null)for(mt in Q.ref!==void 0&&(xt=void 0),Q.key!==void 0&&(ut=""+Q.key),Q)!X.call(Q,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&Q.ref===void 0||(j[mt]=Q[mt]);var mt=arguments.length-2;if(mt===1)j.children=nt;else if(1<mt){for(var _e=Array(mt),kt=0;kt<mt;kt++)_e[kt]=arguments[kt+2];j.children=_e}return Z(x.type,ut,void 0,void 0,xt,j)},vt.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},vt.createElement=function(x,Q,nt){var j,ut={},xt=null;if(Q!=null)for(j in Q.key!==void 0&&(xt=""+Q.key),Q)X.call(Q,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(ut[j]=Q[j]);var mt=arguments.length-2;if(mt===1)ut.children=nt;else if(1<mt){for(var _e=Array(mt),kt=0;kt<mt;kt++)_e[kt]=arguments[kt+2];ut.children=_e}if(x&&x.defaultProps)for(j in mt=x.defaultProps,mt)ut[j]===void 0&&(ut[j]=mt[j]);return Z(x,xt,void 0,void 0,null,ut)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(x){return{$$typeof:h,render:x}},vt.isValidElement=ot,vt.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:G}},vt.memo=function(x,Q){return{$$typeof:p,type:x,compare:Q===void 0?null:Q}},vt.startTransition=function(x){var Q=D.T,nt={};D.T=nt;try{var j=x(),ut=D.S;ut!==null&&ut(nt,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(rt,J)}catch(xt){J(xt)}finally{D.T=Q}},vt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},vt.use=function(x){return D.H.use(x)},vt.useActionState=function(x,Q,nt){return D.H.useActionState(x,Q,nt)},vt.useCallback=function(x,Q){return D.H.useCallback(x,Q)},vt.useContext=function(x){return D.H.useContext(x)},vt.useDebugValue=function(){},vt.useDeferredValue=function(x,Q){return D.H.useDeferredValue(x,Q)},vt.useEffect=function(x,Q,nt){var j=D.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return j.useEffect(x,Q)},vt.useId=function(){return D.H.useId()},vt.useImperativeHandle=function(x,Q,nt){return D.H.useImperativeHandle(x,Q,nt)},vt.useInsertionEffect=function(x,Q){return D.H.useInsertionEffect(x,Q)},vt.useLayoutEffect=function(x,Q){return D.H.useLayoutEffect(x,Q)},vt.useMemo=function(x,Q){return D.H.useMemo(x,Q)},vt.useOptimistic=function(x,Q){return D.H.useOptimistic(x,Q)},vt.useReducer=function(x,Q,nt){return D.H.useReducer(x,Q,nt)},vt.useRef=function(x){return D.H.useRef(x)},vt.useState=function(x){return D.H.useState(x)},vt.useSyncExternalStore=function(x,Q,nt){return D.H.useSyncExternalStore(x,Q,nt)},vt.useTransition=function(){return D.H.useTransition()},vt.version="19.1.1",vt}var Kg;function mf(){return Kg||(Kg=1,pc.exports=qx()),pc.exports}var et=mf(),mc={exports:{}},Ba={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function Hx(){if(Qg)return Ba;Qg=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:o,type:s,key:c,ref:l!==void 0?l:null,props:u}}return Ba.Fragment=e,Ba.jsx=n,Ba.jsxs=n,Ba}var Xg;function Fx(){return Xg||(Xg=1,mc.exports=Hx()),mc.exports}var zt=Fx();const gf=et.createContext({});function yf(o){const e=et.useRef(null);return e.current===null&&(e.current=o()),e.current}const vf=typeof window<"u",Uv=vf?et.useLayoutEffect:et.useEffect,Xl=et.createContext(null);function Tf(o,e){o.indexOf(e)===-1&&o.push(e)}function Sf(o,e){const n=o.indexOf(e);n>-1&&o.splice(n,1)}const wn=(o,e,n)=>n>e?e:n<o?o:n;let Ef=()=>{};const Rn={},zv=o=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(o);function kv(o){return typeof o=="object"&&o!==null}const Ov=o=>/^0[^.\s]+$/u.test(o);function bf(o){let e;return()=>(e===void 0&&(e=o()),e)}const Xe=o=>o,Yx=(o,e)=>n=>e(o(n)),ns=(...o)=>o.reduce(Yx),Qa=(o,e,n)=>{const s=e-o;return s===0?1:(n-o)/s};class Cf{constructor(){this.subscriptions=[]}add(e){return Tf(this.subscriptions,e),()=>Sf(this.subscriptions,e)}notify(e,n,s){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](e,n,s);else for(let u=0;u<l;u++){const c=this.subscriptions[u];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rn=o=>o*1e3,un=o=>o/1e3;function Gv(o,e){return e?o*(1e3/e):0}const qv=(o,e,n)=>(((1-3*n+3*e)*o+(3*n-6*e))*o+3*e)*o,Kx=1e-7,Qx=12;function Xx(o,e,n,s,l){let u,c,h=0;do c=e+(n-e)/2,u=qv(c,s,l)-o,u>0?n=c:e=c;while(Math.abs(u)>Kx&&++h<Qx);return c}function is(o,e,n,s){if(o===e&&n===s)return Xe;const l=u=>Xx(u,0,1,o,n);return u=>u===0||u===1?u:qv(l(u),e,s)}const Hv=o=>e=>e<=.5?o(2*e)/2:(2-o(2*(1-e)))/2,Fv=o=>e=>1-o(1-e),Yv=is(.33,1.53,.69,.99),Af=Fv(Yv),Kv=Hv(Af),Qv=o=>(o*=2)<1?.5*Af(o):.5*(2-Math.pow(2,-10*(o-1))),Mf=o=>1-Math.sin(Math.acos(o)),Xv=Fv(Mf),Zv=Hv(Mf),Zx=is(.42,0,1,1),$x=is(0,0,.58,1),$v=is(.42,0,.58,1),Jx=o=>Array.isArray(o)&&typeof o[0]!="number",Jv=o=>Array.isArray(o)&&typeof o[0]=="number",Wx={linear:Xe,easeIn:Zx,easeInOut:$v,easeOut:$x,circIn:Mf,circInOut:Zv,circOut:Xv,backIn:Af,backInOut:Kv,backOut:Yv,anticipate:Qv},jx=o=>typeof o=="string",Zg=o=>{if(Jv(o)){Ef(o.length===4);const[e,n,s,l]=o;return is(e,n,s,l)}else if(jx(o))return Wx[o];return o},Al=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function t1(o,e){let n=new Set,s=new Set,l=!1,u=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function y(v){c.has(v)&&(p.schedule(v),o()),v(h)}const p={schedule:(v,S=!1,E=!1)=>{const A=E&&l?n:s;return S&&c.add(v),A.has(v)||A.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(h=v,l){u=!0;return}l=!0,[n,s]=[s,n],n.forEach(y),n.clear(),l=!1,u&&(u=!1,p.process(v))}};return p}const e1=40;function Wv(o,e){let n=!1,s=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=Al.reduce((N,K)=>(N[K]=t1(u),N),{}),{setup:h,read:y,resolveKeyframes:p,preUpdate:v,update:S,preRender:E,render:C,postRender:A}=c,R=()=>{const N=Rn.useManualTiming?l.timestamp:performance.now();n=!1,Rn.useManualTiming||(l.delta=s?1e3/60:Math.max(Math.min(N-l.timestamp,e1),1)),l.timestamp=N,l.isProcessing=!0,h.process(l),y.process(l),p.process(l),v.process(l),S.process(l),E.process(l),C.process(l),A.process(l),l.isProcessing=!1,n&&e&&(s=!1,o(R))},z=()=>{n=!0,s=!0,l.isProcessing||o(R)};return{schedule:Al.reduce((N,K)=>{const D=c[K];return N[K]=(X,Z=!1,H=!1)=>(n||z(),D.schedule(X,Z,H)),N},{}),cancel:N=>{for(let K=0;K<Al.length;K++)c[Al[K]].cancel(N)},state:l,steps:c}}const{schedule:Gt,cancel:ni,state:ue,steps:gc}=Wv(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xe,!0);let Nl;function n1(){Nl=void 0}const xe={now:()=>(Nl===void 0&&xe.set(ue.isProcessing||Rn.useManualTiming?ue.timestamp:performance.now()),Nl),set:o=>{Nl=o,queueMicrotask(n1)}},jv=o=>e=>typeof e=="string"&&e.startsWith(o),xf=jv("--"),i1=jv("var(--"),_f=o=>i1(o)?o1.test(o.split("/*")[0].trim()):!1,o1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vo={test:o=>typeof o=="number",parse:parseFloat,transform:o=>o},Xa={...Vo,transform:o=>wn(0,1,o)},Ml={...Vo,default:1},Ga=o=>Math.round(o*1e5)/1e5,wf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function a1(o){return o==null}const s1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Rf=(o,e)=>n=>!!(typeof n=="string"&&s1.test(n)&&n.startsWith(o)||e&&!a1(n)&&Object.prototype.hasOwnProperty.call(n,e)),tT=(o,e,n)=>s=>{if(typeof s!="string")return s;const[l,u,c,h]=s.match(wf);return{[o]:parseFloat(l),[e]:parseFloat(u),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},l1=o=>wn(0,255,o),yc={...Vo,transform:o=>Math.round(l1(o))},Di={test:Rf("rgb","red"),parse:tT("red","green","blue"),transform:({red:o,green:e,blue:n,alpha:s=1})=>"rgba("+yc.transform(o)+", "+yc.transform(e)+", "+yc.transform(n)+", "+Ga(Xa.transform(s))+")"};function r1(o){let e="",n="",s="",l="";return o.length>5?(e=o.substring(1,3),n=o.substring(3,5),s=o.substring(5,7),l=o.substring(7,9)):(e=o.substring(1,2),n=o.substring(2,3),s=o.substring(3,4),l=o.substring(4,5),e+=e,n+=n,s+=s,l+=l),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:l?parseInt(l,16)/255:1}}const qc={test:Rf("#"),parse:r1,transform:Di.transform},os=o=>({test:e=>typeof e=="string"&&e.endsWith(o)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${o}`}),ei=os("deg"),cn=os("%"),pt=os("px"),u1=os("vh"),c1=os("vw"),$g={...cn,parse:o=>cn.parse(o)/100,transform:o=>cn.transform(o*100)},Ao={test:Rf("hsl","hue"),parse:tT("hue","saturation","lightness"),transform:({hue:o,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(o)+", "+cn.transform(Ga(e))+", "+cn.transform(Ga(n))+", "+Ga(Xa.transform(s))+")"},jt={test:o=>Di.test(o)||qc.test(o)||Ao.test(o),parse:o=>Di.test(o)?Di.parse(o):Ao.test(o)?Ao.parse(o):qc.parse(o),transform:o=>typeof o=="string"?o:o.hasOwnProperty("red")?Di.transform(o):Ao.transform(o),getAnimatableNone:o=>{const e=jt.parse(o);return e.alpha=0,jt.transform(e)}},f1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function d1(o){var e,n;return isNaN(o)&&typeof o=="string"&&(((e=o.match(wf))==null?void 0:e.length)||0)+(((n=o.match(f1))==null?void 0:n.length)||0)>0}const eT="number",nT="color",h1="var",p1="var(",Jg="${}",m1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Za(o){const e=o.toString(),n=[],s={color:[],number:[],var:[]},l=[];let u=0;const h=e.replace(m1,y=>(jt.test(y)?(s.color.push(u),l.push(nT),n.push(jt.parse(y))):y.startsWith(p1)?(s.var.push(u),l.push(h1),n.push(y)):(s.number.push(u),l.push(eT),n.push(parseFloat(y))),++u,Jg)).split(Jg);return{values:n,split:h,indexes:s,types:l}}function iT(o){return Za(o).values}function oT(o){const{split:e,types:n}=Za(o),s=e.length;return l=>{let u="";for(let c=0;c<s;c++)if(u+=e[c],l[c]!==void 0){const h=n[c];h===eT?u+=Ga(l[c]):h===nT?u+=jt.transform(l[c]):u+=l[c]}return u}}const g1=o=>typeof o=="number"?0:jt.test(o)?jt.getAnimatableNone(o):o;function y1(o){const e=iT(o);return oT(o)(e.map(g1))}const ii={test:d1,parse:iT,createTransformer:oT,getAnimatableNone:y1};function vc(o,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?o+(e-o)*6*n:n<1/2?e:n<2/3?o+(e-o)*(2/3-n)*6:o}function v1({hue:o,saturation:e,lightness:n,alpha:s}){o/=360,e/=100,n/=100;let l=0,u=0,c=0;if(!e)l=u=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,y=2*n-h;l=vc(y,h,o+1/3),u=vc(y,h,o),c=vc(y,h,o-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function zl(o,e){return n=>n>0?e:o}const Ht=(o,e,n)=>o+(e-o)*n,Tc=(o,e,n)=>{const s=o*o,l=n*(e*e-s)+s;return l<0?0:Math.sqrt(l)},T1=[qc,Di,Ao],S1=o=>T1.find(e=>e.test(o));function Wg(o){const e=S1(o);if(!e)return!1;let n=e.parse(o);return e===Ao&&(n=v1(n)),n}const jg=(o,e)=>{const n=Wg(o),s=Wg(e);if(!n||!s)return zl(o,e);const l={...n};return u=>(l.red=Tc(n.red,s.red,u),l.green=Tc(n.green,s.green,u),l.blue=Tc(n.blue,s.blue,u),l.alpha=Ht(n.alpha,s.alpha,u),Di.transform(l))},Hc=new Set(["none","hidden"]);function E1(o,e){return Hc.has(o)?n=>n<=0?o:e:n=>n>=1?e:o}function b1(o,e){return n=>Ht(o,e,n)}function Df(o){return typeof o=="number"?b1:typeof o=="string"?_f(o)?zl:jt.test(o)?jg:M1:Array.isArray(o)?aT:typeof o=="object"?jt.test(o)?jg:C1:zl}function aT(o,e){const n=[...o],s=n.length,l=o.map((u,c)=>Df(u)(u,e[c]));return u=>{for(let c=0;c<s;c++)n[c]=l[c](u);return n}}function C1(o,e){const n={...o,...e},s={};for(const l in n)o[l]!==void 0&&e[l]!==void 0&&(s[l]=Df(o[l])(o[l],e[l]));return l=>{for(const u in s)n[u]=s[u](l);return n}}function A1(o,e){const n=[],s={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],c=o.indexes[u][s[u]],h=o.values[c]??0;n[l]=h,s[u]++}return n}const M1=(o,e)=>{const n=ii.createTransformer(e),s=Za(o),l=Za(e);return s.indexes.var.length===l.indexes.var.length&&s.indexes.color.length===l.indexes.color.length&&s.indexes.number.length>=l.indexes.number.length?Hc.has(o)&&!l.values.length||Hc.has(e)&&!s.values.length?E1(o,e):ns(aT(A1(s,l),l.values),n):zl(o,e)};function sT(o,e,n){return typeof o=="number"&&typeof e=="number"&&typeof n=="number"?Ht(o,e,n):Df(o)(o,e)}const x1=o=>{const e=({timestamp:n})=>o(n);return{start:(n=!0)=>Gt.update(e,n),stop:()=>ni(e),now:()=>ue.isProcessing?ue.timestamp:xe.now()}},lT=(o,e,n=10)=>{let s="";const l=Math.max(Math.round(e/n),2);for(let u=0;u<l;u++)s+=Math.round(o(u/(l-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},kl=2e4;function Nf(o){let e=0;const n=50;let s=o.next(e);for(;!s.done&&e<kl;)e+=n,s=o.next(e);return e>=kl?1/0:e}function _1(o,e=100,n){const s=n({...o,keyframes:[0,e]}),l=Math.min(Nf(s),kl);return{type:"keyframes",ease:u=>s.next(l*u).value/e,duration:un(l)}}const w1=5;function rT(o,e,n){const s=Math.max(e-w1,0);return Gv(n-o(s),e-s)}const Kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sc=.001;function R1({duration:o=Kt.duration,bounce:e=Kt.bounce,velocity:n=Kt.velocity,mass:s=Kt.mass}){let l,u,c=1-e;c=wn(Kt.minDamping,Kt.maxDamping,c),o=wn(Kt.minDuration,Kt.maxDuration,un(o)),c<1?(l=p=>{const v=p*c,S=v*o,E=v-n,C=Fc(p,c),A=Math.exp(-S);return Sc-E/C*A},u=p=>{const S=p*c*o,E=S*n+n,C=Math.pow(c,2)*Math.pow(p,2)*o,A=Math.exp(-S),R=Fc(Math.pow(p,2),c);return(-l(p)+Sc>0?-1:1)*((E-C)*A)/R}):(l=p=>{const v=Math.exp(-p*o),S=(p-n)*o+1;return-Sc+v*S},u=p=>{const v=Math.exp(-p*o),S=(n-p)*(o*o);return v*S});const h=5/o,y=N1(l,u,h);if(o=rn(o),isNaN(y))return{stiffness:Kt.stiffness,damping:Kt.damping,duration:o};{const p=Math.pow(y,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:o}}}const D1=12;function N1(o,e,n){let s=n;for(let l=1;l<D1;l++)s=s-o(s)/e(s);return s}function Fc(o,e){return o*Math.sqrt(1-e*e)}const L1=["duration","bounce"],P1=["stiffness","damping","mass"];function ty(o,e){return e.some(n=>o[n]!==void 0)}function V1(o){let e={velocity:Kt.velocity,stiffness:Kt.stiffness,damping:Kt.damping,mass:Kt.mass,isResolvedFromDuration:!1,...o};if(!ty(o,P1)&&ty(o,L1))if(o.visualDuration){const n=o.visualDuration,s=2*Math.PI/(n*1.2),l=s*s,u=2*wn(.05,1,1-(o.bounce||0))*Math.sqrt(l);e={...e,mass:Kt.mass,stiffness:l,damping:u}}else{const n=R1(o);e={...e,...n,mass:Kt.mass},e.isResolvedFromDuration=!0}return e}function Ol(o=Kt.visualDuration,e=Kt.bounce){const n=typeof o!="object"?{visualDuration:o,keyframes:[0,1],bounce:e}:o;let{restSpeed:s,restDelta:l}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:u},{stiffness:y,damping:p,mass:v,duration:S,velocity:E,isResolvedFromDuration:C}=V1({...n,velocity:-un(n.velocity||0)}),A=E||0,R=p/(2*Math.sqrt(y*v)),z=c-u,k=un(Math.sqrt(y/v)),F=Math.abs(z)<5;s||(s=F?Kt.restSpeed.granular:Kt.restSpeed.default),l||(l=F?Kt.restDelta.granular:Kt.restDelta.default);let N;if(R<1){const D=Fc(k,R);N=X=>{const Z=Math.exp(-R*k*X);return c-Z*((A+R*k*z)/D*Math.sin(D*X)+z*Math.cos(D*X))}}else if(R===1)N=D=>c-Math.exp(-k*D)*(z+(A+k*z)*D);else{const D=k*Math.sqrt(R*R-1);N=X=>{const Z=Math.exp(-R*k*X),H=Math.min(D*X,300);return c-Z*((A+R*k*z)*Math.sinh(H)+D*z*Math.cosh(H))/D}}const K={calculatedDuration:C&&S||null,next:D=>{const X=N(D);if(C)h.done=D>=S;else{let Z=D===0?A:0;R<1&&(Z=D===0?rn(A):rT(N,D,X));const H=Math.abs(Z)<=s,ot=Math.abs(c-X)<=l;h.done=H&&ot}return h.value=h.done?c:X,h},toString:()=>{const D=Math.min(Nf(K),kl),X=lT(Z=>K.next(D*Z).value,D,30);return D+"ms "+X},toTransition:()=>{}};return K}Ol.applyToOptions=o=>{const e=_1(o,100,Ol);return o.ease=e.ease,o.duration=rn(e.duration),o.type="keyframes",o};function Yc({keyframes:o,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:c,min:h,max:y,restDelta:p=.5,restSpeed:v}){const S=o[0],E={done:!1,value:S},C=H=>h!==void 0&&H<h||y!==void 0&&H>y,A=H=>h===void 0?y:y===void 0||Math.abs(h-H)<Math.abs(y-H)?h:y;let R=n*e;const z=S+R,k=c===void 0?z:c(z);k!==z&&(R=k-S);const F=H=>-R*Math.exp(-H/s),N=H=>k+F(H),K=H=>{const ot=F(H),lt=N(H);E.done=Math.abs(ot)<=p,E.value=E.done?k:lt};let D,X;const Z=H=>{C(E.value)&&(D=H,X=Ol({keyframes:[E.value,A(E.value)],velocity:rT(N,H,E.value),damping:l,stiffness:u,restDelta:p,restSpeed:v}))};return Z(0),{calculatedDuration:null,next:H=>{let ot=!1;return!X&&D===void 0&&(ot=!0,K(H),Z(H)),D!==void 0&&H>=D?X.next(H-D):(!ot&&K(H),E)}}}function B1(o,e,n){const s=[],l=n||Rn.mix||sT,u=o.length-1;for(let c=0;c<u;c++){let h=l(o[c],o[c+1]);if(e){const y=Array.isArray(e)?e[c]||Xe:e;h=ns(y,h)}s.push(h)}return s}function I1(o,e,{clamp:n=!0,ease:s,mixer:l}={}){const u=o.length;if(Ef(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=o[0]===o[1];o[0]>o[u-1]&&(o=[...o].reverse(),e=[...e].reverse());const h=B1(e,s,l),y=h.length,p=v=>{if(c&&v<o[0])return e[0];let S=0;if(y>1)for(;S<o.length-2&&!(v<o[S+1]);S++);const E=Qa(o[S],o[S+1],v);return h[S](E)};return n?v=>p(wn(o[0],o[u-1],v)):p}function U1(o,e){const n=o[o.length-1];for(let s=1;s<=e;s++){const l=Qa(0,e,s);o.push(Ht(n,1,l))}}function z1(o){const e=[0];return U1(e,o.length-1),e}function k1(o,e){return o.map(n=>n*e)}function O1(o,e){return o.map(()=>e||$v).splice(0,o.length-1)}function qa({duration:o=300,keyframes:e,times:n,ease:s="easeInOut"}){const l=Jx(s)?s.map(Zg):Zg(s),u={done:!1,value:e[0]},c=k1(n&&n.length===e.length?n:z1(e),o),h=I1(c,e,{ease:Array.isArray(l)?l:O1(e,l)});return{calculatedDuration:o,next:y=>(u.value=h(y),u.done=y>=o,u)}}const G1=o=>o!==null;function Lf(o,{repeat:e,repeatType:n="loop"},s,l=1){const u=o.filter(G1),h=l<0||e&&n!=="loop"&&e%2===1?0:u.length-1;return!h||s===void 0?u[h]:s}const q1={decay:Yc,inertia:Yc,tween:qa,keyframes:qa,spring:Ol};function uT(o){typeof o.type=="string"&&(o.type=q1[o.type])}class Pf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const H1=o=>o/100;class Vf extends Pf{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,l;const{motionValue:n}=this.options;n&&n.updatedAt!==xe.now()&&this.tick(xe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(l=(s=this.options).onStop)==null||l.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;uT(e);const{type:n=qa,repeat:s=0,repeatDelay:l=0,repeatType:u,velocity:c=0}=e;let{keyframes:h}=e;const y=n||qa;y!==qa&&typeof h[0]!="number"&&(this.mixKeyframes=ns(H1,sT(h[0],h[1])),h=[0,100]);const p=y({...e,keyframes:h});u==="mirror"&&(this.mirroredGenerator=y({...e,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Nf(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+l,this.totalDuration=this.resolvedDuration*(s+1)-l,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:l,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:y}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:v,repeat:S,repeatType:E,repeatDelay:C,type:A,onUpdate:R,finalKeyframe:z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-l/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const k=this.currentTime-p*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?k<0:k>l;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let N=this.currentTime,K=s;if(S){const H=Math.min(this.currentTime,l)/h;let ot=Math.floor(H),lt=H%1;!lt&&H>=1&&(lt=1),lt===1&&ot--,ot=Math.min(ot,S+1),!!(ot%2)&&(E==="reverse"?(lt=1-lt,C&&(lt-=C/h)):E==="mirror"&&(K=c)),N=wn(0,1,lt)*h}const D=F?{done:!1,value:v[0]}:K.next(N);u&&(D.value=u(D.value));let{done:X}=D;!F&&y!==null&&(X=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return Z&&A!==Yc&&(D.value=Lf(v,this.options,z,this.speed)),R&&R(D.value),Z&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return un(this.calculatedDuration)}get time(){return un(this.currentTime)}set time(e){var n;e=rn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xe.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=un(this.currentTime))}play(){var l,u;if(this.isStopped)return;const{driver:e=x1,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(u=(l=this.options).onPlay)==null||u.call(l);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function F1(o){for(let e=1;e<o.length;e++)o[e]??(o[e]=o[e-1])}const Ni=o=>o*180/Math.PI,Kc=o=>{const e=Ni(Math.atan2(o[1],o[0]));return Qc(e)},Y1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:o=>(Math.abs(o[0])+Math.abs(o[3]))/2,rotate:Kc,rotateZ:Kc,skewX:o=>Ni(Math.atan(o[1])),skewY:o=>Ni(Math.atan(o[2])),skew:o=>(Math.abs(o[1])+Math.abs(o[2]))/2},Qc=o=>(o=o%360,o<0&&(o+=360),o),ey=Kc,ny=o=>Math.sqrt(o[0]*o[0]+o[1]*o[1]),iy=o=>Math.sqrt(o[4]*o[4]+o[5]*o[5]),K1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ny,scaleY:iy,scale:o=>(ny(o)+iy(o))/2,rotateX:o=>Qc(Ni(Math.atan2(o[6],o[5]))),rotateY:o=>Qc(Ni(Math.atan2(-o[2],o[0]))),rotateZ:ey,rotate:ey,skewX:o=>Ni(Math.atan(o[4])),skewY:o=>Ni(Math.atan(o[1])),skew:o=>(Math.abs(o[1])+Math.abs(o[4]))/2};function Xc(o){return o.includes("scale")?1:0}function Zc(o,e){if(!o||o==="none")return Xc(e);const n=o.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,l;if(n)s=K1,l=n;else{const h=o.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Y1,l=h}if(!l)return Xc(e);const u=s[e],c=l[1].split(",").map(X1);return typeof u=="function"?u(c):c[u]}const Q1=(o,e)=>{const{transform:n="none"}=getComputedStyle(o);return Zc(n,e)};function X1(o){return parseFloat(o.trim())}const Bo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Io=new Set(Bo),oy=o=>o===Vo||o===pt,Z1=new Set(["x","y","z"]),$1=Bo.filter(o=>!Z1.has(o));function J1(o){const e=[];return $1.forEach(n=>{const s=o.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Bi={width:({x:o},{paddingLeft:e="0",paddingRight:n="0"})=>o.max-o.min-parseFloat(e)-parseFloat(n),height:({y:o},{paddingTop:e="0",paddingBottom:n="0"})=>o.max-o.min-parseFloat(e)-parseFloat(n),top:(o,{top:e})=>parseFloat(e),left:(o,{left:e})=>parseFloat(e),bottom:({y:o},{top:e})=>parseFloat(e)+(o.max-o.min),right:({x:o},{left:e})=>parseFloat(e)+(o.max-o.min),x:(o,{transform:e})=>Zc(e,"x"),y:(o,{transform:e})=>Zc(e,"y")};Bi.translateX=Bi.x;Bi.translateY=Bi.y;const Ii=new Set;let $c=!1,Jc=!1,Wc=!1;function cT(){if(Jc){const o=Array.from(Ii).filter(s=>s.needsMeasurement),e=new Set(o.map(s=>s.element)),n=new Map;e.forEach(s=>{const l=J1(s);l.length&&(n.set(s,l),s.render())}),o.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const l=n.get(s);l&&l.forEach(([u,c])=>{var h;(h=s.getValue(u))==null||h.set(c)})}),o.forEach(s=>s.measureEndState()),o.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Jc=!1,$c=!1,Ii.forEach(o=>o.complete(Wc)),Ii.clear()}function fT(){Ii.forEach(o=>{o.readKeyframes(),o.needsMeasurement&&(Jc=!0)})}function W1(){Wc=!0,fT(),cT(),Wc=!1}class Bf{constructor(e,n,s,l,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=l,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ii.add(this),$c||($c=!0,Gt.read(fT),Gt.resolveKeyframes(cT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:l}=this;if(e[0]===null){const u=l==null?void 0:l.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(s&&n){const h=s.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),l&&u===void 0&&l.set(e[0])}F1(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ii.delete(this)}cancel(){this.state==="scheduled"&&(Ii.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const j1=o=>o.startsWith("--");function t_(o,e,n){j1(e)?o.style.setProperty(e,n):o.style[e]=n}const e_=bf(()=>window.ScrollTimeline!==void 0),n_={};function i_(o,e){const n=bf(o);return()=>n_[e]??n()}const dT=i_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ka=([o,e,n,s])=>`cubic-bezier(${o}, ${e}, ${n}, ${s})`,ay={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ka([0,.65,.55,1]),circOut:ka([.55,0,1,.45]),backIn:ka([.31,.01,.66,-.59]),backOut:ka([.33,1.53,.69,.99])};function hT(o,e){if(o)return typeof o=="function"?dT()?lT(o,e):"ease-out":Jv(o)?ka(o):Array.isArray(o)?o.map(n=>hT(n,e)||ay.easeOut):ay[o]}function o_(o,e,n,{delay:s=0,duration:l=300,repeat:u=0,repeatType:c="loop",ease:h="easeOut",times:y}={},p=void 0){const v={[e]:n};y&&(v.offset=y);const S=hT(h,l);Array.isArray(S)&&(v.easing=S);const E={delay:s,duration:l,easing:Array.isArray(S)?"linear":S,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),o.animate(v,E)}function pT(o){return typeof o=="function"&&"applyToOptions"in o}function a_({type:o,...e}){return pT(o)&&dT()?o.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class s_ extends Pf{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:l,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:h,onComplete:y}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,Ef(typeof e.type!="string");const p=a_(e);this.animation=o_(n,s,l,p,u),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Lf(l,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(v):t_(n,s,v),this.animation.cancel()}y==null||y(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return un(Number(e))}get time(){return un(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=rn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&e_()?(this.animation.timeline=e,Xe):n(this)}}const mT={anticipate:Qv,backInOut:Kv,circInOut:Zv};function l_(o){return o in mT}function r_(o){typeof o.ease=="string"&&l_(o.ease)&&(o.ease=mT[o.ease])}const sy=10;class u_ extends s_{constructor(e){r_(e),uT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:l,element:u,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Vf({...c,autoplay:!1}),y=rn(this.finishedTime??this.time);n.setWithVelocity(h.sample(y-sy).value,h.sample(y).value,sy),h.stop()}}const ly=(o,e)=>e==="zIndex"?!1:!!(typeof o=="number"||Array.isArray(o)||typeof o=="string"&&(ii.test(o)||o==="0")&&!o.startsWith("url("));function c_(o){const e=o[0];if(o.length===1)return!0;for(let n=0;n<o.length;n++)if(o[n]!==e)return!0}function f_(o,e,n,s){const l=o[0];if(l===null)return!1;if(e==="display"||e==="visibility")return!0;const u=o[o.length-1],c=ly(l,e),h=ly(u,e);return!c||!h?!1:c_(o)||(n==="spring"||pT(n))&&s}function jc(o){o.duration=0,o.type}const d_=new Set(["opacity","clipPath","filter","transform"]),h_=bf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function p_(o){var v;const{motionValue:e,name:n,repeatDelay:s,repeatType:l,damping:u,type:c}=o;if(!(((v=e==null?void 0:e.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:p}=e.owner.getProps();return h_()&&n&&d_.has(n)&&(n!=="transform"||!p)&&!y&&!s&&l!=="mirror"&&u!==0&&c!=="inertia"}const m_=40;class g_ extends Pf{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:c="loop",keyframes:h,name:y,motionValue:p,element:v,...S}){var A;super(),this.stop=()=>{var R,z;this._animation&&(this._animation.stop(),(R=this.stopTimeline)==null||R.call(this)),(z=this.keyframeResolver)==null||z.cancel()},this.createdAt=xe.now();const E={autoplay:e,delay:n,type:s,repeat:l,repeatDelay:u,repeatType:c,name:y,motionValue:p,element:v,...S},C=(v==null?void 0:v.KeyframeResolver)||Bf;this.keyframeResolver=new C(h,(R,z,k)=>this.onKeyframesResolved(R,z,E,!k),y,p,v),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(e,n,s,l){this.keyframeResolver=void 0;const{name:u,type:c,velocity:h,delay:y,isHandoff:p,onUpdate:v}=s;this.resolvedAt=xe.now(),f_(e,u,c,h)||((Rn.instantAnimations||!y)&&(v==null||v(Lf(e,s,n))),e[0]=e[e.length-1],jc(s),s.repeat=0);const E={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>m_?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},C=!p&&p_(E)?new u_({...E,element:E.motionValue.owner.current}):new Vf(E);C.finished.then(()=>this.notifyFinished()).catch(Xe),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),W1()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const y_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function v_(o){const e=y_.exec(o);if(!e)return[,];const[,n,s,l]=e;return[`--${n??s}`,l]}function gT(o,e,n=1){const[s,l]=v_(o);if(!s)return;const u=window.getComputedStyle(e).getPropertyValue(s);if(u){const c=u.trim();return zv(c)?parseFloat(c):c}return _f(l)?gT(l,e,n+1):l}function If(o,e){return(o==null?void 0:o[e])??(o==null?void 0:o.default)??o}const yT=new Set(["width","height","top","left","right","bottom",...Bo]),T_={test:o=>o==="auto",parse:o=>o},vT=o=>e=>e.test(o),TT=[Vo,pt,cn,ei,c1,u1,T_],ry=o=>TT.find(vT(o));function S_(o){return typeof o=="number"?o===0:o!==null?o==="none"||o==="0"||Ov(o):!0}const E_=new Set(["brightness","contrast","saturate","opacity"]);function b_(o){const[e,n]=o.slice(0,-1).split("(");if(e==="drop-shadow")return o;const[s]=n.match(wf)||[];if(!s)return o;const l=n.replace(s,"");let u=E_.has(e)?1:0;return s!==n&&(u*=100),e+"("+u+l+")"}const C_=/\b([a-z-]*)\(.*?\)/gu,tf={...ii,getAnimatableNone:o=>{const e=o.match(C_);return e?e.map(b_).join(" "):o}},uy={...Vo,transform:Math.round},A_={rotate:ei,rotateX:ei,rotateY:ei,rotateZ:ei,scale:Ml,scaleX:Ml,scaleY:Ml,scaleZ:Ml,skew:ei,skewX:ei,skewY:ei,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:Xa,originX:$g,originY:$g,originZ:pt},Uf={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,radius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,backgroundPositionX:pt,backgroundPositionY:pt,...A_,zIndex:uy,fillOpacity:Xa,strokeOpacity:Xa,numOctaves:uy},M_={...Uf,color:jt,backgroundColor:jt,outlineColor:jt,fill:jt,stroke:jt,borderColor:jt,borderTopColor:jt,borderRightColor:jt,borderBottomColor:jt,borderLeftColor:jt,filter:tf,WebkitFilter:tf},ST=o=>M_[o];function ET(o,e){let n=ST(o);return n!==tf&&(n=ii),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const x_=new Set(["auto","none","0"]);function __(o,e,n){let s=0,l;for(;s<o.length&&!l;){const u=o[s];typeof u=="string"&&!x_.has(u)&&Za(u).values.length&&(l=o[s]),s++}if(l&&n)for(const u of e)o[u]=ET(n,l)}class w_ extends Bf{constructor(e,n,s,l,u){super(e,n,s,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let p=e[y];if(typeof p=="string"&&(p=p.trim(),_f(p))){const v=gT(p,n.current);v!==void 0&&(e[y]=v),y===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!yT.has(s)||e.length!==2)return;const[l,u]=e,c=ry(l),h=ry(u);if(c!==h)if(oy(c)&&oy(h))for(let y=0;y<e.length;y++){const p=e[y];typeof p=="string"&&(e[y]=parseFloat(p))}else Bi[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let l=0;l<e.length;l++)(e[l]===null||S_(e[l]))&&s.push(l);s.length&&__(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bi[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const l=n[n.length-1];l!==void 0&&e.getValue(s,l).jump(l,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const l=e.getValue(n);l&&l.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=Bi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([y,p])=>{e.getValue(y).set(p)}),this.resolveNoneKeyframes()}}function R_(o,e,n){if(o instanceof EventTarget)return[o];if(typeof o=="string"){let s=document;const l=(n==null?void 0:n[o])??s.querySelectorAll(o);return l?Array.from(l):[]}return Array.from(o)}const bT=(o,e)=>e&&typeof o=="number"?e.transform(o):o;function CT(o){return kv(o)&&"offsetHeight"in o}const cy=30,D_=o=>!isNaN(parseFloat(o));class N_{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var u;const l=xe.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=xe.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=D_(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Cf);const s=this.events[e].add(n);return e==="change"?()=>{s(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>cy)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,cy);return Gv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function No(o,e){return new N_(o,e)}const{schedule:zf}=Wv(queueMicrotask,!1),We={x:!1,y:!1};function AT(){return We.x||We.y}function L_(o){return o==="x"||o==="y"?We[o]?null:(We[o]=!0,()=>{We[o]=!1}):We.x||We.y?null:(We.x=We.y=!0,()=>{We.x=We.y=!1})}function MT(o,e){const n=R_(o),s=new AbortController,l={passive:!0,...e,signal:s.signal};return[n,l,()=>s.abort()]}function fy(o){return!(o.pointerType==="touch"||AT())}function P_(o,e,n={}){const[s,l,u]=MT(o,n),c=h=>{if(!fy(h))return;const{target:y}=h,p=e(y,h);if(typeof p!="function"||!y)return;const v=S=>{fy(S)&&(p(S),y.removeEventListener("pointerleave",v))};y.addEventListener("pointerleave",v,l)};return s.forEach(h=>{h.addEventListener("pointerenter",c,l)}),u}const xT=(o,e)=>e?o===e?!0:xT(o,e.parentElement):!1,kf=o=>o.pointerType==="mouse"?typeof o.button!="number"||o.button<=0:o.isPrimary!==!1,V_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function B_(o){return V_.has(o.tagName)||o.tabIndex!==-1}const Ll=new WeakSet;function dy(o){return e=>{e.key==="Enter"&&o(e)}}function Ec(o,e){o.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const I_=(o,e)=>{const n=o.currentTarget;if(!n)return;const s=dy(()=>{if(Ll.has(n))return;Ec(n,"down");const l=dy(()=>{Ec(n,"up")}),u=()=>Ec(n,"cancel");n.addEventListener("keyup",l,e),n.addEventListener("blur",u,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function hy(o){return kf(o)&&!AT()}function U_(o,e,n={}){const[s,l,u]=MT(o,n),c=h=>{const y=h.currentTarget;if(!hy(h))return;Ll.add(y);const p=e(y,h),v=(C,A)=>{window.removeEventListener("pointerup",S),window.removeEventListener("pointercancel",E),Ll.has(y)&&Ll.delete(y),hy(C)&&typeof p=="function"&&p(C,{success:A})},S=C=>{v(C,y===window||y===document||n.useGlobalTarget||xT(y,C.target))},E=C=>{v(C,!1)};window.addEventListener("pointerup",S,l),window.addEventListener("pointercancel",E,l)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,l),CT(h)&&(h.addEventListener("focus",p=>I_(p,l)),!B_(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),u}function _T(o){return kv(o)&&"ownerSVGElement"in o}function z_(o){return _T(o)&&o.tagName==="svg"}const ge=o=>!!(o&&o.getVelocity),k_=[...TT,jt,ii],O_=o=>k_.find(vT(o)),Of=et.createContext({transformPagePoint:o=>o,isStatic:!1,reducedMotion:"never"});class G_ extends et.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,l=CT(s)&&s.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function q_({children:o,isPresent:e,anchorX:n,root:s}){const l=et.useId(),u=et.useRef(null),c=et.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=et.useContext(Of);return et.useInsertionEffect(()=>{const{width:y,height:p,top:v,left:S,right:E}=c.current;if(e||!u.current||!y||!p)return;const C=n==="left"?`left: ${S}`:`right: ${E}`;u.current.dataset.motionPopId=l;const A=document.createElement("style");h&&(A.nonce=h);const R=s??document.head;return R.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${p}px !important;
            ${C}px !important;
            top: ${v}px !important;
          }
        `),()=>{R.contains(A)&&R.removeChild(A)}},[e]),zt.jsx(G_,{isPresent:e,childRef:u,sizeRef:c,children:et.cloneElement(o,{ref:u})})}const H_=({children:o,initial:e,isPresent:n,onExitComplete:s,custom:l,presenceAffectsLayout:u,mode:c,anchorX:h,root:y})=>{const p=yf(F_),v=et.useId();let S=!0,E=et.useMemo(()=>(S=!1,{id:v,initial:e,isPresent:n,custom:l,onExitComplete:C=>{p.set(C,!0);for(const A of p.values())if(!A)return;s&&s()},register:C=>(p.set(C,!1),()=>p.delete(C))}),[n,p,s]);return u&&S&&(E={...E}),et.useMemo(()=>{p.forEach((C,A)=>p.set(A,!1))},[n]),et.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),c==="popLayout"&&(o=zt.jsx(q_,{isPresent:n,anchorX:h,root:y,children:o})),zt.jsx(Xl.Provider,{value:E,children:o})};function F_(){return new Map}function wT(o=!0){const e=et.useContext(Xl);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:l}=e,u=et.useId();et.useEffect(()=>{if(o)return l(u)},[o]);const c=et.useCallback(()=>o&&s&&s(u),[u,s,o]);return!n&&s?[!1,c]:[!0]}const xl=o=>o.key||"";function py(o){const e=[];return et.Children.forEach(o,n=>{et.isValidElement(n)&&e.push(n)}),e}const Y_=({children:o,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:l=!0,mode:u="sync",propagate:c=!1,anchorX:h="left",root:y})=>{const[p,v]=wT(c),S=et.useMemo(()=>py(o),[o]),E=c&&!p?[]:S.map(xl),C=et.useRef(!0),A=et.useRef(S),R=yf(()=>new Map),[z,k]=et.useState(S),[F,N]=et.useState(S);Uv(()=>{C.current=!1,A.current=S;for(let X=0;X<F.length;X++){const Z=xl(F[X]);E.includes(Z)?R.delete(Z):R.get(Z)!==!0&&R.set(Z,!1)}},[F,E.length,E.join("-")]);const K=[];if(S!==z){let X=[...S];for(let Z=0;Z<F.length;Z++){const H=F[Z],ot=xl(H);E.includes(ot)||(X.splice(Z,0,H),K.push(H))}return u==="wait"&&K.length&&(X=K),N(py(X)),k(S),null}const{forceRender:D}=et.useContext(gf);return zt.jsx(zt.Fragment,{children:F.map(X=>{const Z=xl(X),H=c&&!p?!1:S===F||E.includes(Z),ot=()=>{if(R.has(Z))R.set(Z,!0);else return;let lt=!0;R.forEach(yt=>{yt||(lt=!1)}),lt&&(D==null||D(),N(A.current),c&&(v==null||v()),s&&s())};return zt.jsx(H_,{isPresent:H,initial:!C.current||n?void 0:!1,custom:e,presenceAffectsLayout:l,mode:u,root:y,onExitComplete:H?void 0:ot,anchorX:h,children:X},Z)})})},RT=et.createContext({strict:!1}),my={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Lo={};for(const o in my)Lo[o]={isEnabled:e=>my[o].some(n=>!!e[n])};function K_(o){for(const e in o)Lo[e]={...Lo[e],...o[e]}}const Q_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gl(o){return o.startsWith("while")||o.startsWith("drag")&&o!=="draggable"||o.startsWith("layout")||o.startsWith("onTap")||o.startsWith("onPan")||o.startsWith("onLayout")||Q_.has(o)}let DT=o=>!Gl(o);function X_(o){typeof o=="function"&&(DT=e=>e.startsWith("on")?!Gl(e):o(e))}try{X_(require("@emotion/is-prop-valid").default)}catch{}function Z_(o,e,n){const s={};for(const l in o)l==="values"&&typeof o.values=="object"||(DT(l)||n===!0&&Gl(l)||!e&&!Gl(l)||o.draggable&&l.startsWith("onDrag"))&&(s[l]=o[l]);return s}const Zl=et.createContext({});function $l(o){return o!==null&&typeof o=="object"&&typeof o.start=="function"}function $a(o){return typeof o=="string"||Array.isArray(o)}const Gf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qf=["initial",...Gf];function Jl(o){return $l(o.animate)||qf.some(e=>$a(o[e]))}function NT(o){return!!(Jl(o)||o.variants)}function $_(o,e){if(Jl(o)){const{initial:n,animate:s}=o;return{initial:n===!1||$a(n)?n:void 0,animate:$a(s)?s:void 0}}return o.inherit!==!1?e:{}}function J_(o){const{initial:e,animate:n}=$_(o,et.useContext(Zl));return et.useMemo(()=>({initial:e,animate:n}),[gy(e),gy(n)])}function gy(o){return Array.isArray(o)?o.join(" "):o}const Ja={};function W_(o){for(const e in o)Ja[e]=o[e],xf(e)&&(Ja[e].isCSSVariable=!0)}function LT(o,{layout:e,layoutId:n}){return Io.has(o)||o.startsWith("origin")||(e||n!==void 0)&&(!!Ja[o]||o==="opacity")}const j_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tw=Bo.length;function ew(o,e,n){let s="",l=!0;for(let u=0;u<tw;u++){const c=Bo[u],h=o[c];if(h===void 0)continue;let y=!0;if(typeof h=="number"?y=h===(c.startsWith("scale")?1:0):y=parseFloat(h)===0,!y||n){const p=bT(h,Uf[c]);if(!y){l=!1;const v=j_[c]||c;s+=`${v}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,l?"":s):l&&(s="none"),s}function Hf(o,e,n){const{style:s,vars:l,transformOrigin:u}=o;let c=!1,h=!1;for(const y in e){const p=e[y];if(Io.has(y)){c=!0;continue}else if(xf(y)){l[y]=p;continue}else{const v=bT(p,Uf[y]);y.startsWith("origin")?(h=!0,u[y]=v):s[y]=v}}if(e.transform||(c||n?s.transform=ew(e,o.transform,n):s.transform&&(s.transform="none")),h){const{originX:y="50%",originY:p="50%",originZ:v=0}=u;s.transformOrigin=`${y} ${p} ${v}`}}const Ff=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function PT(o,e,n){for(const s in e)!ge(e[s])&&!LT(s,n)&&(o[s]=e[s])}function nw({transformTemplate:o},e){return et.useMemo(()=>{const n=Ff();return Hf(n,e,o),Object.assign({},n.vars,n.style)},[e])}function iw(o,e){const n=o.style||{},s={};return PT(s,n,o),Object.assign(s,nw(o,e)),s}function ow(o,e){const n={},s=iw(o,e);return o.drag&&o.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=o.drag===!0?"none":`pan-${o.drag==="x"?"y":"x"}`),o.tabIndex===void 0&&(o.onTap||o.onTapStart||o.whileTap)&&(n.tabIndex=0),n.style=s,n}const aw={offset:"stroke-dashoffset",array:"stroke-dasharray"},sw={offset:"strokeDashoffset",array:"strokeDasharray"};function lw(o,e,n=1,s=0,l=!0){o.pathLength=1;const u=l?aw:sw;o[u.offset]=pt.transform(-s);const c=pt.transform(e),h=pt.transform(n);o[u.array]=`${c} ${h}`}function VT(o,{attrX:e,attrY:n,attrScale:s,pathLength:l,pathSpacing:u=1,pathOffset:c=0,...h},y,p,v){if(Hf(o,h,p),y){o.style.viewBox&&(o.attrs.viewBox=o.style.viewBox);return}o.attrs=o.style,o.style={};const{attrs:S,style:E}=o;S.transform&&(E.transform=S.transform,delete S.transform),(E.transform||S.transformOrigin)&&(E.transformOrigin=S.transformOrigin??"50% 50%",delete S.transformOrigin),E.transform&&(E.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete S.transformBox),e!==void 0&&(S.x=e),n!==void 0&&(S.y=n),s!==void 0&&(S.scale=s),l!==void 0&&lw(S,l,u,c,!1)}const BT=()=>({...Ff(),attrs:{}}),IT=o=>typeof o=="string"&&o.toLowerCase()==="svg";function rw(o,e,n,s){const l=et.useMemo(()=>{const u=BT();return VT(u,e,IT(s),o.transformTemplate,o.style),{...u.attrs,style:{...u.style}}},[e]);if(o.style){const u={};PT(u,o.style,o),l.style={...u,...l.style}}return l}const uw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Yf(o){return typeof o!="string"||o.includes("-")?!1:!!(uw.indexOf(o)>-1||/[A-Z]/u.test(o))}function cw(o,e,n,{latestValues:s},l,u=!1){const h=(Yf(o)?rw:ow)(e,s,l,o),y=Z_(e,typeof o=="string",u),p=o!==et.Fragment?{...y,...h,ref:n}:{},{children:v}=e,S=et.useMemo(()=>ge(v)?v.get():v,[v]);return et.createElement(o,{...p,children:S})}function yy(o){const e=[{},{}];return o==null||o.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Kf(o,e,n,s){if(typeof e=="function"){const[l,u]=yy(s);e=e(n!==void 0?n:o.custom,l,u)}if(typeof e=="string"&&(e=o.variants&&o.variants[e]),typeof e=="function"){const[l,u]=yy(s);e=e(n!==void 0?n:o.custom,l,u)}return e}function Pl(o){return ge(o)?o.get():o}function fw({scrapeMotionValuesFromProps:o,createRenderState:e},n,s,l){return{latestValues:dw(n,s,l,o),renderState:e()}}function dw(o,e,n,s){const l={},u=s(o,{});for(const E in u)l[E]=Pl(u[E]);let{initial:c,animate:h}=o;const y=Jl(o),p=NT(o);e&&p&&!y&&o.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const S=v?h:c;if(S&&typeof S!="boolean"&&!$l(S)){const E=Array.isArray(S)?S:[S];for(let C=0;C<E.length;C++){const A=Kf(o,E[C]);if(A){const{transitionEnd:R,transition:z,...k}=A;for(const F in k){let N=k[F];if(Array.isArray(N)){const K=v?N.length-1:0;N=N[K]}N!==null&&(l[F]=N)}for(const F in R)l[F]=R[F]}}}return l}const UT=o=>(e,n)=>{const s=et.useContext(Zl),l=et.useContext(Xl),u=()=>fw(o,e,s,l);return n?u():yf(u)};function Qf(o,e,n){var u;const{style:s}=o,l={};for(const c in s)(ge(s[c])||e.style&&ge(e.style[c])||LT(c,o)||((u=n==null?void 0:n.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(l[c]=s[c]);return l}const hw=UT({scrapeMotionValuesFromProps:Qf,createRenderState:Ff});function zT(o,e,n){const s=Qf(o,e,n);for(const l in o)if(ge(o[l])||ge(e[l])){const u=Bo.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;s[u]=o[l]}return s}const pw=UT({scrapeMotionValuesFromProps:zT,createRenderState:BT}),mw=Symbol.for("motionComponentSymbol");function Mo(o){return o&&typeof o=="object"&&Object.prototype.hasOwnProperty.call(o,"current")}function gw(o,e,n){return et.useCallback(s=>{s&&o.onMount&&o.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Mo(n)&&(n.current=s))},[e])}const Xf=o=>o.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),yw="framerAppearId",kT="data-"+Xf(yw),OT=et.createContext({});function vw(o,e,n,s,l){var R,z;const{visualElement:u}=et.useContext(Zl),c=et.useContext(RT),h=et.useContext(Xl),y=et.useContext(Of).reducedMotion,p=et.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(o,{visualState:e,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:y}));const v=p.current,S=et.useContext(OT);v&&!v.projection&&l&&(v.type==="html"||v.type==="svg")&&Tw(p.current,n,l,S);const E=et.useRef(!1);et.useInsertionEffect(()=>{v&&E.current&&v.update(n,h)});const C=n[kT],A=et.useRef(!!C&&!((R=window.MotionHandoffIsComplete)!=null&&R.call(window,C))&&((z=window.MotionHasOptimisedAnimation)==null?void 0:z.call(window,C)));return Uv(()=>{v&&(E.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),A.current&&v.animationState&&v.animationState.animateChanges())}),et.useEffect(()=>{v&&(!A.current&&v.animationState&&v.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,C)}),A.current=!1),v.enteringChildren=void 0)}),v}function Tw(o,e,n,s){const{layoutId:l,layout:u,drag:c,dragConstraints:h,layoutScroll:y,layoutRoot:p,layoutCrossfade:v}=e;o.projection=new n(o.latestValues,e["data-framer-portal-id"]?void 0:GT(o.parent)),o.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||h&&Mo(h),visualElement:o,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:y,layoutRoot:p})}function GT(o){if(o)return o.options.allowProjection!==!1?o.projection:GT(o.parent)}function bc(o,{forwardMotionProps:e=!1}={},n,s){n&&K_(n);const l=Yf(o)?pw:hw;function u(h,y){let p;const v={...et.useContext(Of),...h,layoutId:Sw(h)},{isStatic:S}=v,E=J_(h),C=l(h,S);if(!S&&vf){Ew();const A=bw(v);p=A.MeasureLayout,E.visualElement=vw(o,C,v,s,A.ProjectionNode)}return zt.jsxs(Zl.Provider,{value:E,children:[p&&E.visualElement?zt.jsx(p,{visualElement:E.visualElement,...v}):null,cw(o,h,gw(C,E.visualElement,y),C,S,e)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=et.forwardRef(u);return c[mw]=o,c}function Sw({layoutId:o}){const e=et.useContext(gf).id;return e&&o!==void 0?e+"-"+o:o}function Ew(o,e){et.useContext(RT).strict}function bw(o){const{drag:e,layout:n}=Lo;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(o)||n!=null&&n.isEnabled(o)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function Cw(o,e){if(typeof Proxy>"u")return bc;const n=new Map,s=(u,c)=>bc(u,c,o,e),l=(u,c)=>s(u,c);return new Proxy(l,{get:(u,c)=>c==="create"?s:(n.has(c)||n.set(c,bc(c,void 0,o,e)),n.get(c))})}function qT({top:o,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:o,max:s}}}function Aw({x:o,y:e}){return{top:e.min,right:o.max,bottom:e.max,left:o.min}}function Mw(o,e){if(!e)return o;const n=e({x:o.left,y:o.top}),s=e({x:o.right,y:o.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Cc(o){return o===void 0||o===1}function ef({scale:o,scaleX:e,scaleY:n}){return!Cc(o)||!Cc(e)||!Cc(n)}function wi(o){return ef(o)||HT(o)||o.z||o.rotate||o.rotateX||o.rotateY||o.skewX||o.skewY}function HT(o){return vy(o.x)||vy(o.y)}function vy(o){return o&&o!=="0%"}function ql(o,e,n){const s=o-n,l=e*s;return n+l}function Ty(o,e,n,s,l){return l!==void 0&&(o=ql(o,l,s)),ql(o,n,s)+e}function nf(o,e=0,n=1,s,l){o.min=Ty(o.min,e,n,s,l),o.max=Ty(o.max,e,n,s,l)}function FT(o,{x:e,y:n}){nf(o.x,e.translate,e.scale,e.originPoint),nf(o.y,n.translate,n.scale,n.originPoint)}const Sy=.999999999999,Ey=1.0000000000001;function xw(o,e,n,s=!1){const l=n.length;if(!l)return;e.x=e.y=1;let u,c;for(let h=0;h<l;h++){u=n[h],c=u.projectionDelta;const{visualElement:y}=u.options;y&&y.props.style&&y.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&_o(o,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,FT(o,c)),s&&wi(u.latestValues)&&_o(o,u.latestValues))}e.x<Ey&&e.x>Sy&&(e.x=1),e.y<Ey&&e.y>Sy&&(e.y=1)}function xo(o,e){o.min=o.min+e,o.max=o.max+e}function by(o,e,n,s,l=.5){const u=Ht(o.min,o.max,l);nf(o,e,n,u,s)}function _o(o,e){by(o.x,e.x,e.scaleX,e.scale,e.originX),by(o.y,e.y,e.scaleY,e.scale,e.originY)}function YT(o,e){return qT(Mw(o.getBoundingClientRect(),e))}function _w(o,e,n){const s=YT(o,n),{scroll:l}=e;return l&&(xo(s.x,l.offset.x),xo(s.y,l.offset.y)),s}const Cy=()=>({translate:0,scale:1,origin:0,originPoint:0}),wo=()=>({x:Cy(),y:Cy()}),Ay=()=>({min:0,max:0}),$t=()=>({x:Ay(),y:Ay()}),of={current:null},KT={current:!1};function ww(){if(KT.current=!0,!!vf)if(window.matchMedia){const o=window.matchMedia("(prefers-reduced-motion)"),e=()=>of.current=o.matches;o.addEventListener("change",e),e()}else of.current=!1}const Rw=new WeakMap;function Dw(o,e,n){for(const s in e){const l=e[s],u=n[s];if(ge(l))o.addValue(s,l);else if(ge(u))o.addValue(s,No(l,{owner:o}));else if(u!==l)if(o.hasValue(s)){const c=o.getValue(s);c.liveStyle===!0?c.jump(l):c.hasAnimated||c.set(l)}else{const c=o.getStaticValue(s);o.addValue(s,No(c!==void 0?c:l,{owner:o}))}}for(const s in n)e[s]===void 0&&o.removeValue(s);return e}const My=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Nw{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:l,blockInitialAnimation:u,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Bf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=xe.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Gt.render(this.render,!1,!0))};const{latestValues:y,renderState:p}=c;this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=l,this.options=h,this.blockInitialAnimation=!!u,this.isControllingVariants=Jl(n),this.isVariantNode=NT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...S}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in S){const C=S[E];y[E]!==void 0&&ge(C)&&C.set(y[E])}}mount(e){var n;this.current=e,Rw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,l)=>this.bindToMotionValue(l,s)),KT.current||ww(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:of.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ni(this.notifyUpdate),ni(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Io.has(e);s&&this.onBindTransform&&this.onBindTransform();const l=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Gt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Lo){const n=Lo[e];if(!n)continue;const{isEnabled:s,Feature:l}=n;if(!this.features[e]&&l&&s(this.props)&&(this.features[e]=new l(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<My.length;s++){const l=My[s];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,c=e[u];c&&(this.propEventSubscriptions[l]=this.on(l,c))}this.prevMotionValues=Dw(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=No(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(zv(s)||Ov(s))?s=parseFloat(s):!O_(s)&&ii.test(n)&&(s=ET(e,n)),this.setBaseTarget(e,ge(s)?s.get():s)),ge(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var u;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=Kf(this.props,n,(u=this.presenceContext)==null?void 0:u.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!ge(l)?l:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Cf),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){zf.render(this.render)}}class QT extends Nw{constructor(){super(...arguments),this.KeyframeResolver=w_}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ge(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function XT(o,{style:e,vars:n},s,l){const u=o.style;let c;for(c in e)u[c]=e[c];l==null||l.applyProjectionStyles(u,s);for(c in n)u.setProperty(c,n[c])}function Lw(o){return window.getComputedStyle(o)}class Pw extends QT{constructor(){super(...arguments),this.type="html",this.renderInstance=XT}readValueFromInstance(e,n){var s;if(Io.has(n))return(s=this.projection)!=null&&s.isProjecting?Xc(n):Q1(e,n);{const l=Lw(e),u=(xf(n)?l.getPropertyValue(n):l[n])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(e,{transformPagePoint:n}){return YT(e,n)}build(e,n,s){Hf(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Qf(e,n,s)}}const ZT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Vw(o,e,n,s){XT(o,e,void 0,s);for(const l in e.attrs)o.setAttribute(ZT.has(l)?l:Xf(l),e.attrs[l])}class Bw extends QT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$t}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Io.has(n)){const s=ST(n);return s&&s.default||0}return n=ZT.has(n)?n:Xf(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return zT(e,n,s)}build(e,n,s){VT(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,l){Vw(e,n,s,l)}mount(e){this.isSVGTag=IT(e.tagName),super.mount(e)}}const Iw=(o,e)=>Yf(o)?new Bw(e):new Pw(e,{allowProjection:o!==et.Fragment});function Ro(o,e,n){const s=o.getProps();return Kf(s,e,n!==void 0?n:s.custom,o)}const af=o=>Array.isArray(o);function Uw(o,e,n){o.hasValue(e)?o.getValue(e).set(n):o.addValue(e,No(n))}function zw(o){return af(o)?o[o.length-1]||0:o}function kw(o,e){const n=Ro(o,e);let{transitionEnd:s={},transition:l={},...u}=n||{};u={...u,...s};for(const c in u){const h=zw(u[c]);Uw(o,c,h)}}function Ow(o){return!!(ge(o)&&o.add)}function sf(o,e){const n=o.getValue("willChange");if(Ow(n))return n.add(e);if(!n&&Rn.WillChange){const s=new Rn.WillChange("auto");o.addValue("willChange",s),s.add(e)}}function $T(o){return o.props[kT]}const Gw=o=>o!==null;function qw(o,{repeat:e,repeatType:n="loop"},s){const l=o.filter(Gw),u=e&&n!=="loop"&&e%2===1?0:l.length-1;return l[u]}const Hw={type:"spring",stiffness:500,damping:25,restSpeed:10},Fw=o=>({type:"spring",stiffness:550,damping:o===0?2*Math.sqrt(550):30,restSpeed:10}),Yw={type:"keyframes",duration:.8},Kw={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Qw=(o,{keyframes:e})=>e.length>2?Yw:Io.has(o)?o.startsWith("scale")?Fw(e[1]):Hw:Kw;function Xw({when:o,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:l,repeat:u,repeatType:c,repeatDelay:h,from:y,elapsed:p,...v}){return!!Object.keys(v).length}const Zf=(o,e,n,s={},l,u)=>c=>{const h=If(s,o)||{},y=h.delay||s.delay||0;let{elapsed:p=0}=s;p=p-rn(y);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:o,motionValue:e,element:u?void 0:l};Xw(h)||Object.assign(v,Qw(o,v)),v.duration&&(v.duration=rn(v.duration)),v.repeatDelay&&(v.repeatDelay=rn(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let S=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(jc(v),v.delay===0&&(S=!0)),(Rn.instantAnimations||Rn.skipAnimations)&&(S=!0,jc(v),v.delay=0),v.allowFlatten=!h.type&&!h.ease,S&&!u&&e.get()!==void 0){const E=qw(v.keyframes,h);if(E!==void 0){Gt.update(()=>{v.onUpdate(E),v.onComplete()});return}}return h.isSync?new Vf(v):new g_(v)};function Zw({protectedKeys:o,needsAnimating:e},n){const s=o.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function JT(o,e,{delay:n=0,transitionOverride:s,type:l}={}){let{transition:u=o.getDefaultTransition(),transitionEnd:c,...h}=e;s&&(u=s);const y=[],p=l&&o.animationState&&o.animationState.getState()[l];for(const v in h){const S=o.getValue(v,o.latestValues[v]??null),E=h[v];if(E===void 0||p&&Zw(p,v))continue;const C={delay:n,...If(u||{},v)},A=S.get();if(A!==void 0&&!S.isAnimating&&!Array.isArray(E)&&E===A&&!C.velocity)continue;let R=!1;if(window.MotionHandoffAnimation){const k=$T(o);if(k){const F=window.MotionHandoffAnimation(k,v,Gt);F!==null&&(C.startTime=F,R=!0)}}sf(o,v),S.start(Zf(v,S,E,o.shouldReduceMotion&&yT.has(v)?{type:!1}:C,o,R));const z=S.animation;z&&y.push(z)}return c&&Promise.all(y).then(()=>{Gt.update(()=>{c&&kw(o,c)})}),y}function WT(o,e,n,s=0,l=1){const u=Array.from(o).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=o.size,h=(c-1)*s;return typeof n=="function"?n(u,c):l===1?u*s:h-u*s}function lf(o,e,n={}){var y;const s=Ro(o,e,n.type==="exit"?(y=o.presenceContext)==null?void 0:y.custom:void 0);let{transition:l=o.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(l=n.transitionOverride);const u=s?()=>Promise.all(JT(o,s,n)):()=>Promise.resolve(),c=o.variantChildren&&o.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:S,staggerDirection:E}=l;return $w(o,e,p,v,S,E,n)}:()=>Promise.resolve(),{when:h}=l;if(h){const[p,v]=h==="beforeChildren"?[u,c]:[c,u];return p().then(()=>v())}else return Promise.all([u(),c(n.delay)])}function $w(o,e,n=0,s=0,l=0,u=1,c){const h=[];for(const y of o.variantChildren)y.notify("AnimationStart",e),h.push(lf(y,e,{...c,delay:n+(typeof s=="function"?0:s)+WT(o.variantChildren,y,s,l,u)}).then(()=>y.notify("AnimationComplete",e)));return Promise.all(h)}function Jw(o,e,n={}){o.notify("AnimationStart",e);let s;if(Array.isArray(e)){const l=e.map(u=>lf(o,u,n));s=Promise.all(l)}else if(typeof e=="string")s=lf(o,e,n);else{const l=typeof e=="function"?Ro(o,e,n.custom):e;s=Promise.all(JT(o,l,n))}return s.then(()=>{o.notify("AnimationComplete",e)})}function jT(o,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==o.length)return!1;for(let s=0;s<n;s++)if(e[s]!==o[s])return!1;return!0}const Ww=qf.length;function t0(o){if(!o)return;if(!o.isControllingVariants){const n=o.parent?t0(o.parent)||{}:{};return o.props.initial!==void 0&&(n.initial=o.props.initial),n}const e={};for(let n=0;n<Ww;n++){const s=qf[n],l=o.props[s];($a(l)||l===!1)&&(e[s]=l)}return e}const jw=[...Gf].reverse(),tR=Gf.length;function eR(o){return e=>Promise.all(e.map(({animation:n,options:s})=>Jw(o,n,s)))}function nR(o){let e=eR(o),n=xy(),s=!0;const l=y=>(p,v)=>{var E;const S=Ro(o,v,y==="exit"?(E=o.presenceContext)==null?void 0:E.custom:void 0);if(S){const{transition:C,transitionEnd:A,...R}=S;p={...p,...R,...A}}return p};function u(y){e=y(o)}function c(y){const{props:p}=o,v=t0(o.parent)||{},S=[],E=new Set;let C={},A=1/0;for(let z=0;z<tR;z++){const k=jw[z],F=n[k],N=p[k]!==void 0?p[k]:v[k],K=$a(N),D=k===y?F.isActive:null;D===!1&&(A=z);let X=N===v[k]&&N!==p[k]&&K;if(X&&s&&o.manuallyAnimateOnMount&&(X=!1),F.protectedKeys={...C},!F.isActive&&D===null||!N&&!F.prevProp||$l(N)||typeof N=="boolean")continue;const Z=iR(F.prevProp,N);let H=Z||k===y&&F.isActive&&!X&&K||z>A&&K,ot=!1;const lt=Array.isArray(N)?N:[N];let yt=lt.reduce(l(k),{});D===!1&&(yt={});const{prevResolvedValues:Tt={}}=F,dt={...Tt,...yt},$=G=>{H=!0,E.has(G)&&(ot=!0,E.delete(G)),F.needsAnimating[G]=!0;const J=o.getValue(G);J&&(J.liveStyle=!1)};for(const G in dt){const J=yt[G],rt=Tt[G];if(C.hasOwnProperty(G))continue;let x=!1;af(J)&&af(rt)?x=!jT(J,rt):x=J!==rt,x?J!=null?$(G):E.add(G):J!==void 0&&E.has(G)?$(G):F.protectedKeys[G]=!0}F.prevProp=N,F.prevResolvedValues=yt,F.isActive&&(C={...C,...yt}),s&&o.blockInitialAnimation&&(H=!1);const tt=X&&Z;H&&(!tt||ot)&&S.push(...lt.map(G=>{const J={type:k};if(typeof G=="string"&&s&&!tt&&o.manuallyAnimateOnMount&&o.parent){const{parent:rt}=o,x=Ro(rt,G);if(rt.enteringChildren&&x){const{delayChildren:Q}=x.transition||{};J.delay=WT(rt.enteringChildren,o,Q)}}return{animation:G,options:J}}))}if(E.size){const z={};if(typeof p.initial!="boolean"){const k=Ro(o,Array.isArray(p.initial)?p.initial[0]:p.initial);k&&k.transition&&(z.transition=k.transition)}E.forEach(k=>{const F=o.getBaseTarget(k),N=o.getValue(k);N&&(N.liveStyle=!0),z[k]=F??null}),S.push({animation:z})}let R=!!S.length;return s&&(p.initial===!1||p.initial===p.animate)&&!o.manuallyAnimateOnMount&&(R=!1),s=!1,R?e(S):Promise.resolve()}function h(y,p){var S;if(n[y].isActive===p)return Promise.resolve();(S=o.variantChildren)==null||S.forEach(E=>{var C;return(C=E.animationState)==null?void 0:C.setActive(y,p)}),n[y].isActive=p;const v=c(y);for(const E in n)n[E].protectedKeys={};return v}return{animateChanges:c,setActive:h,setAnimateFunction:u,getState:()=>n,reset:()=>{n=xy(),s=!0}}}function iR(o,e){return typeof e=="string"?e!==o:Array.isArray(e)?!jT(e,o):!1}function xi(o=!1){return{isActive:o,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xy(){return{animate:xi(!0),whileInView:xi(),whileHover:xi(),whileTap:xi(),whileDrag:xi(),whileFocus:xi(),exit:xi()}}class li{constructor(e){this.isMounted=!1,this.node=e}update(){}}class oR extends li{constructor(e){super(e),e.animationState||(e.animationState=nR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();$l(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let aR=0;class sR extends li{constructor(){super(...arguments),this.id=aR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const l=this.node.animationState.setActive("exit",!e);n&&!e&&l.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const lR={animation:{Feature:oR},exit:{Feature:sR}};function Wa(o,e,n,s={passive:!0}){return o.addEventListener(e,n,s),()=>o.removeEventListener(e,n)}function as(o){return{point:{x:o.pageX,y:o.pageY}}}const rR=o=>e=>kf(e)&&o(e,as(e));function Ha(o,e,n,s){return Wa(o,e,rR(n),s)}const e0=1e-4,uR=1-e0,cR=1+e0,n0=.01,fR=0-n0,dR=0+n0;function Te(o){return o.max-o.min}function hR(o,e,n){return Math.abs(o-e)<=n}function _y(o,e,n,s=.5){o.origin=s,o.originPoint=Ht(e.min,e.max,o.origin),o.scale=Te(n)/Te(e),o.translate=Ht(n.min,n.max,o.origin)-o.originPoint,(o.scale>=uR&&o.scale<=cR||isNaN(o.scale))&&(o.scale=1),(o.translate>=fR&&o.translate<=dR||isNaN(o.translate))&&(o.translate=0)}function Fa(o,e,n,s){_y(o.x,e.x,n.x,s?s.originX:void 0),_y(o.y,e.y,n.y,s?s.originY:void 0)}function wy(o,e,n){o.min=n.min+e.min,o.max=o.min+Te(e)}function pR(o,e,n){wy(o.x,e.x,n.x),wy(o.y,e.y,n.y)}function Ry(o,e,n){o.min=e.min-n.min,o.max=o.min+Te(e)}function Ya(o,e,n){Ry(o.x,e.x,n.x),Ry(o.y,e.y,n.y)}function Qe(o){return[o("x"),o("y")]}const i0=({current:o})=>o?o.ownerDocument.defaultView:null,Dy=(o,e)=>Math.abs(o-e);function mR(o,e){const n=Dy(o.x,e.x),s=Dy(o.y,e.y);return Math.sqrt(n**2+s**2)}class o0{constructor(e,n,{transformPagePoint:s,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Mc(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,A=mR(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!A)return;const{point:R}=E,{timestamp:z}=ue;this.history.push({...R,timestamp:z});const{onStart:k,onMove:F}=this.handlers;C||(k&&k(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,E)},this.handlePointerMove=(E,C)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Ac(C,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(E,C)=>{this.end();const{onEnd:A,onSessionEnd:R,resumeAnimation:z}=this.handlers;if(this.dragSnapToOrigin&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Mc(E.type==="pointercancel"?this.lastMoveEventInfo:Ac(C,this.transformPagePoint),this.history);this.startEvent&&A&&A(E,k),R&&R(E,k)},!kf(e))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=l||window;const h=as(e),y=Ac(h,this.transformPagePoint),{point:p}=y,{timestamp:v}=ue;this.history=[{...p,timestamp:v}];const{onSessionStart:S}=n;S&&S(e,Mc(y,this.history)),this.removeListeners=ns(Ha(this.contextWindow,"pointermove",this.handlePointerMove),Ha(this.contextWindow,"pointerup",this.handlePointerUp),Ha(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ni(this.updatePoint)}}function Ac(o,e){return e?{point:e(o.point)}:o}function Ny(o,e){return{x:o.x-e.x,y:o.y-e.y}}function Mc({point:o},e){return{point:o,delta:Ny(o,a0(e)),offset:Ny(o,gR(e)),velocity:yR(e,.1)}}function gR(o){return o[0]}function a0(o){return o[o.length-1]}function yR(o,e){if(o.length<2)return{x:0,y:0};let n=o.length-1,s=null;const l=a0(o);for(;n>=0&&(s=o[n],!(l.timestamp-s.timestamp>rn(e)));)n--;if(!s)return{x:0,y:0};const u=un(l.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(l.x-s.x)/u,y:(l.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function vR(o,{min:e,max:n},s){return e!==void 0&&o<e?o=s?Ht(e,o,s.min):Math.max(o,e):n!==void 0&&o>n&&(o=s?Ht(n,o,s.max):Math.min(o,n)),o}function Ly(o,e,n){return{min:e!==void 0?o.min+e:void 0,max:n!==void 0?o.max+n-(o.max-o.min):void 0}}function TR(o,{top:e,left:n,bottom:s,right:l}){return{x:Ly(o.x,n,l),y:Ly(o.y,e,s)}}function Py(o,e){let n=e.min-o.min,s=e.max-o.max;return e.max-e.min<o.max-o.min&&([n,s]=[s,n]),{min:n,max:s}}function SR(o,e){return{x:Py(o.x,e.x),y:Py(o.y,e.y)}}function ER(o,e){let n=.5;const s=Te(o),l=Te(e);return l>s?n=Qa(e.min,e.max-s,o.min):s>l&&(n=Qa(o.min,o.max-l,e.min)),wn(0,1,n)}function bR(o,e){const n={};return e.min!==void 0&&(n.min=e.min-o.min),e.max!==void 0&&(n.max=e.max-o.min),n}const rf=.35;function CR(o=rf){return o===!1?o=0:o===!0&&(o=rf),{x:Vy(o,"left","right"),y:Vy(o,"top","bottom")}}function Vy(o,e,n){return{min:By(o,e),max:By(o,n)}}function By(o,e){return typeof o=="number"?o:o[e]||0}const AR=new WeakMap;class MR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$t(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=S=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(as(S).point)},c=(S,E)=>{const{drag:C,dragPropagation:A,onDragStart:R}=this.getProps();if(C&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=L_(C),!this.openDragLock))return;this.latestPointerEvent=S,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qe(k=>{let F=this.getAxisMotionValue(k).get()||0;if(cn.test(F)){const{projection:N}=this.visualElement;if(N&&N.layout){const K=N.layout.layoutBox[k];K&&(F=Te(K)*(parseFloat(F)/100))}}this.originPoint[k]=F}),R&&Gt.postRender(()=>R(S,E)),sf(this.visualElement,"transform");const{animationState:z}=this.visualElement;z&&z.setActive("whileDrag",!0)},h=(S,E)=>{this.latestPointerEvent=S,this.latestPanInfo=E;const{dragPropagation:C,dragDirectionLock:A,onDirectionLock:R,onDrag:z}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:k}=E;if(A&&this.currentDirection===null){this.currentDirection=xR(k),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",E.point,k),this.updateAxis("y",E.point,k),this.visualElement.render(),z&&z(S,E)},y=(S,E)=>{this.latestPointerEvent=S,this.latestPanInfo=E,this.stop(S,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Qe(S=>{var E;return this.getAnimationState(S)==="paused"&&((E=this.getAxisMotionValue(S).animation)==null?void 0:E.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new o0(e,{onSessionStart:u,onStart:c,onMove:h,onSessionEnd:y,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:i0(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,l=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!s)return;const{velocity:c}=l;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&Gt.postRender(()=>h(s,l))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:l}=this.getProps();if(!s||!_l(e,l,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=vR(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,l=this.constraints;e&&Mo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=TR(s.layoutBox,e):this.constraints=!1,this.elastic=CR(n),l!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Qe(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=bR(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Mo(e))return!1;const s=e.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=_w(s,l.root,this.visualElement.getTransformPagePoint());let c=SR(l.layout.layoutBox,u);if(n){const h=n(Aw(c));this.hasMutatedConstraints=!!h,h&&(c=qT(h))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:l,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),y=this.constraints||{},p=Qe(v=>{if(!_l(v,n,this.currentDirection))return;let S=y&&y[v]||{};c&&(S={min:0,max:0});const E=l?200:1e6,C=l?40:1e7,A={type:"inertia",velocity:s?e[v]:0,bounceStiffness:E,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...S};return this.startAxisValueAnimation(v,A)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return sf(this.visualElement,e),s.start(Zf(e,s,0,n,this.visualElement,!1))}stopAnimation(){Qe(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qe(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),l=s[n];return l||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Qe(n=>{const{drag:s}=this.getProps();if(!_l(n,s,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(n);if(l&&l.layout){const{min:c,max:h}=l.layout.layoutBox[n];u.set(e[n]-Ht(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Mo(n)||!s||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Qe(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const y=h.get();l[c]=ER({min:y,max:y},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Qe(c=>{if(!_l(c,e,null))return;const h=this.getAxisMotionValue(c),{min:y,max:p}=this.constraints[c];h.set(Ht(y,p,l[c]))})}addListeners(){if(!this.visualElement.current)return;AR.set(this.visualElement,this);const e=this.visualElement.current,n=Ha(e,"pointerdown",y=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(y)}),s=()=>{const{dragConstraints:y}=this.getProps();Mo(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",s);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),Gt.read(s);const c=Wa(window,"resize",()=>this.scalePositionWithinConstraints()),h=l.addEventListener("didUpdate",({delta:y,hasLayoutChanged:p})=>{this.isDragging&&p&&(Qe(v=>{const S=this.getAxisMotionValue(v);S&&(this.originPoint[v]+=y[v].translate,S.set(S.get()+y[v].translate))}),this.visualElement.render())});return()=>{c(),n(),u(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:c=rf,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:l,dragConstraints:u,dragElastic:c,dragMomentum:h}}}function _l(o,e,n){return(e===!0||e===o)&&(n===null||n===o)}function xR(o,e=10){let n=null;return Math.abs(o.y)>e?n="y":Math.abs(o.x)>e&&(n="x"),n}class _R extends li{constructor(e){super(e),this.removeGroupControls=Xe,this.removeListeners=Xe,this.controls=new MR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xe}unmount(){this.removeGroupControls(),this.removeListeners()}}const Iy=o=>(e,n)=>{o&&Gt.postRender(()=>o(e,n))};class wR extends li{constructor(){super(...arguments),this.removePointerDownListener=Xe}onPointerDown(e){this.session=new o0(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:i0(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:l}=this.node.getProps();return{onSessionStart:Iy(e),onStart:Iy(n),onMove:s,onEnd:(u,c)=>{delete this.session,l&&Gt.postRender(()=>l(u,c))}}}mount(){this.removePointerDownListener=Ha(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Uy(o,e){return e.max===e.min?0:o/(e.max-e.min)*100}const Ia={correct:(o,e)=>{if(!e.target)return o;if(typeof o=="string")if(pt.test(o))o=parseFloat(o);else return o;const n=Uy(o,e.target.x),s=Uy(o,e.target.y);return`${n}% ${s}%`}},RR={correct:(o,{treeScale:e,projectionDelta:n})=>{const s=o,l=ii.parse(o);if(l.length>5)return s;const u=ii.createTransformer(o),c=typeof l[0]!="number"?1:0,h=n.x.scale*e.x,y=n.y.scale*e.y;l[0+c]/=h,l[1+c]/=y;const p=Ht(h,y,.5);return typeof l[2+c]=="number"&&(l[2+c]/=p),typeof l[3+c]=="number"&&(l[3+c]/=p),u(l)}};let xc=!1;class DR extends et.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:l}=this.props,{projection:u}=e;W_(NR),u&&(n.group&&n.group.add(u),s&&s.register&&l&&s.register(u),xc&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Vl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:l,isPresent:u}=this.props,{projection:c}=s;return c&&(c.isPresent=u,xc=!0,l||e.layoutDependency!==n||n===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||Gt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zf.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:l}=e;xc=!0,l&&(l.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(l),s&&s.deregister&&s.deregister(l))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function s0(o){const[e,n]=wT(),s=et.useContext(gf);return zt.jsx(DR,{...o,layoutGroup:s,switchLayoutGroup:et.useContext(OT),isPresent:e,safeToRemove:n})}const NR={borderRadius:{...Ia,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ia,borderTopRightRadius:Ia,borderBottomLeftRadius:Ia,borderBottomRightRadius:Ia,boxShadow:RR};function LR(o,e,n){const s=ge(o)?o:No(o);return s.start(Zf("",s,e,n)),s.animation}const PR=(o,e)=>o.depth-e.depth;class VR{constructor(){this.children=[],this.isDirty=!1}add(e){Tf(this.children,e),this.isDirty=!0}remove(e){Sf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(PR),this.isDirty=!1,this.children.forEach(e)}}function BR(o,e){const n=xe.now(),s=({timestamp:l})=>{const u=l-n;u>=e&&(ni(s),o(u-e))};return Gt.setup(s,!0),()=>ni(s)}const l0=["TopLeft","TopRight","BottomLeft","BottomRight"],IR=l0.length,zy=o=>typeof o=="string"?parseFloat(o):o,ky=o=>typeof o=="number"||pt.test(o);function UR(o,e,n,s,l,u){l?(o.opacity=Ht(0,n.opacity??1,zR(s)),o.opacityExit=Ht(e.opacity??1,0,kR(s))):u&&(o.opacity=Ht(e.opacity??1,n.opacity??1,s));for(let c=0;c<IR;c++){const h=`border${l0[c]}Radius`;let y=Oy(e,h),p=Oy(n,h);if(y===void 0&&p===void 0)continue;y||(y=0),p||(p=0),y===0||p===0||ky(y)===ky(p)?(o[h]=Math.max(Ht(zy(y),zy(p),s),0),(cn.test(p)||cn.test(y))&&(o[h]+="%")):o[h]=p}(e.rotate||n.rotate)&&(o.rotate=Ht(e.rotate||0,n.rotate||0,s))}function Oy(o,e){return o[e]!==void 0?o[e]:o.borderRadius}const zR=r0(0,.5,Xv),kR=r0(.5,.95,Xe);function r0(o,e,n){return s=>s<o?0:s>e?1:n(Qa(o,e,s))}function Gy(o,e){o.min=e.min,o.max=e.max}function Ke(o,e){Gy(o.x,e.x),Gy(o.y,e.y)}function qy(o,e){o.translate=e.translate,o.scale=e.scale,o.originPoint=e.originPoint,o.origin=e.origin}function Hy(o,e,n,s,l){return o-=e,o=ql(o,1/n,s),l!==void 0&&(o=ql(o,1/l,s)),o}function OR(o,e=0,n=1,s=.5,l,u=o,c=o){if(cn.test(e)&&(e=parseFloat(e),e=Ht(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Ht(u.min,u.max,s);o===u&&(h-=e),o.min=Hy(o.min,e,n,h,l),o.max=Hy(o.max,e,n,h,l)}function Fy(o,e,[n,s,l],u,c){OR(o,e[n],e[s],e[l],e.scale,u,c)}const GR=["x","scaleX","originX"],qR=["y","scaleY","originY"];function Yy(o,e,n,s){Fy(o.x,e,GR,n?n.x:void 0,s?s.x:void 0),Fy(o.y,e,qR,n?n.y:void 0,s?s.y:void 0)}function Ky(o){return o.translate===0&&o.scale===1}function u0(o){return Ky(o.x)&&Ky(o.y)}function Qy(o,e){return o.min===e.min&&o.max===e.max}function HR(o,e){return Qy(o.x,e.x)&&Qy(o.y,e.y)}function Xy(o,e){return Math.round(o.min)===Math.round(e.min)&&Math.round(o.max)===Math.round(e.max)}function c0(o,e){return Xy(o.x,e.x)&&Xy(o.y,e.y)}function Zy(o){return Te(o.x)/Te(o.y)}function $y(o,e){return o.translate===e.translate&&o.scale===e.scale&&o.originPoint===e.originPoint}class FR{constructor(){this.members=[]}add(e){Tf(this.members,e),e.scheduleRender()}remove(e){if(Sf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(l=>e===l);if(n===0)return!1;let s;for(let l=n;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:l}=e.options;l===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function YR(o,e,n){let s="";const l=o.x.translate/e.x,u=o.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((l||u||c)&&(s=`translate3d(${l}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:S,rotateY:E,skewX:C,skewY:A}=n;p&&(s=`perspective(${p}px) ${s}`),v&&(s+=`rotate(${v}deg) `),S&&(s+=`rotateX(${S}deg) `),E&&(s+=`rotateY(${E}deg) `),C&&(s+=`skewX(${C}deg) `),A&&(s+=`skewY(${A}deg) `)}const h=o.x.scale*e.x,y=o.y.scale*e.y;return(h!==1||y!==1)&&(s+=`scale(${h}, ${y})`),s||"none"}const _c=["","X","Y","Z"],KR=1e3;let QR=0;function wc(o,e,n,s){const{latestValues:l}=e;l[o]&&(n[o]=l[o],e.setStaticValue(o,0),s&&(s[o]=0))}function f0(o){if(o.hasCheckedOptimisedAppear=!0,o.root===o)return;const{visualElement:e}=o.options;if(!e)return;const n=$T(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:l,layoutId:u}=o.options;window.MotionCancelOptimisedAnimation(n,"transform",Gt,!(l||u))}const{parent:s}=o;s&&!s.hasCheckedOptimisedAppear&&f0(s)}function d0({attachResizeListener:o,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:l}){return class{constructor(c={},h=e==null?void 0:e()){this.id=QR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($R),this.nodes.forEach(tD),this.nodes.forEach(eD),this.nodes.forEach(JR)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new VR)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Cf),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const y=this.eventHandlers.get(c);y&&y.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=_T(c)&&!z_(c),this.instance=c;const{layoutId:h,layout:y,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||h)&&(this.isLayoutDirty=!0),o){let v,S=0;const E=()=>this.root.updateBlockedByResize=!1;Gt.read(()=>{S=window.innerWidth}),o(c,()=>{const C=window.innerWidth;C!==S&&(S=C,this.root.updateBlockedByResize=!0,v&&v(),v=BR(E,250),Vl.hasAnimatedSinceResize&&(Vl.hasAnimatedSinceResize=!1,this.nodes.forEach(jy)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||y)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:S,hasRelativeLayoutChanged:E,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||p.getDefaultTransition()||sD,{onLayoutAnimationStart:R,onLayoutAnimationComplete:z}=p.getProps(),k=!this.targetLayout||!c0(this.targetLayout,C),F=!S&&E;if(this.options.layoutRoot||this.resumeFrom||F||S&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...If(A,"layout"),onPlay:R,onComplete:z};(p.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(v,F)}else S||jy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ni(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nD),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&f0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const S=this.path[v];S.shouldResetTransform=!0,S.updateScroll("snapshot"),S.options.layoutRoot&&S.willUpdate(!1)}const{layoutId:h,layout:y}=this.options;if(h===void 0&&!y)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Jy);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Wy);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(jR),this.nodes.forEach(XR),this.nodes.forEach(ZR)):this.nodes.forEach(Wy),this.clearAllSnapshots();const h=xe.now();ue.delta=wn(0,1e3/60,h-ue.timestamp),ue.timestamp=h,ue.isProcessing=!0,gc.update.process(ue),gc.preRender.process(ue),gc.render.process(ue),ue.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WR),this.sharedNodes.forEach(iD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Te(this.snapshot.measuredBox.x)&&!Te(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const y=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:y,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!l)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!u0(this.projectionDelta),y=this.getTransformTemplate(),p=y?y(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(h||wi(this.latestValues)||v)&&(l(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let y=this.removeElementScroll(h);return c&&(y=this.removeTransform(y)),lD(y),{animationId:this.root.animationId,measuredBox:h,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return $t();const h=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(rD))){const{scroll:v}=this.root;v&&(xo(h.x,v.offset.x),xo(h.y,v.offset.y))}return h}removeElementScroll(c){var y;const h=$t();if(Ke(h,c),(y=this.scroll)!=null&&y.wasRoot)return h;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:S,options:E}=v;v!==this.root&&S&&E.layoutScroll&&(S.wasRoot&&Ke(h,c),xo(h.x,S.offset.x),xo(h.y,S.offset.y))}return h}applyTransform(c,h=!1){const y=$t();Ke(y,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&_o(y,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),wi(v.latestValues)&&_o(y,v.latestValues)}return wi(this.latestValues)&&_o(y,this.latestValues),y}removeTransform(c){const h=$t();Ke(h,c);for(let y=0;y<this.path.length;y++){const p=this.path[y];if(!p.instance||!wi(p.latestValues))continue;ef(p.latestValues)&&p.updateSnapshot();const v=$t(),S=p.measurePageBox();Ke(v,S),Yy(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return wi(this.latestValues)&&Yy(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ue.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var E;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==h;if(!(c||y&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:S}=this.options;if(!(!this.layout||!(v||S))){if(this.resolvedRelativeTargetAt=ue.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),Ya(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),Ke(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$t(),this.targetWithTransforms=$t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ke(this.target,this.layout.layoutBox),FT(this.target,this.targetDelta)):Ke(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),Ya(this.relativeTargetOrigin,this.target,C.target),Ke(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ef(this.parent.latestValues)||HT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let y=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(y=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===ue.timestamp&&(y=!1),y)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;Ke(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,E=this.treeScale.y;xw(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=$t());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qy(this.prevProjectionDelta.x,this.projectionDelta.x),qy(this.prevProjectionDelta.y,this.projectionDelta.y)),Fa(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==E||!$y(this.projectionDelta.x,this.prevProjectionDelta.x)||!$y(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const y=this.getStack();y&&y.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wo(),this.projectionDelta=wo(),this.projectionDeltaWithTransform=wo()}setAnimationOrigin(c,h=!1){const y=this.snapshot,p=y?y.latestValues:{},v={...this.latestValues},S=wo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=$t(),C=y?y.source:void 0,A=this.layout?this.layout.source:void 0,R=C!==A,z=this.getStack(),k=!z||z.members.length<=1,F=!!(R&&!k&&this.options.crossfade===!0&&!this.path.some(aD));this.animationProgress=0;let N;this.mixTargetDelta=K=>{const D=K/1e3;tv(S.x,c.x,D),tv(S.y,c.y,D),this.setTargetDelta(S),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ya(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oD(this.relativeTarget,this.relativeTargetOrigin,E,D),N&&HR(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=$t()),Ke(N,this.relativeTarget)),R&&(this.animationValues=v,UR(v,p,this.latestValues,D,F,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,y,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(p=(y=this.resumingFrom)==null?void 0:y.currentAnimation)==null||p.stop(),this.pendingAnimation&&(ni(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{Vl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=No(0)),this.currentAnimation=LR(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(KR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:y,layout:p,latestValues:v}=c;if(!(!h||!y||!p)){if(this!==c&&this.layout&&p&&h0(this.options.animationType,this.layout.layoutBox,p.layoutBox)){y=this.target||$t();const S=Te(this.layout.layoutBox.x);y.x.min=c.target.x.min,y.x.max=y.x.min+S;const E=Te(this.layout.layoutBox.y);y.y.min=c.target.y.min,y.y.max=y.y.min+E}Ke(h,y),_o(h,v),Fa(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new FR),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:y}={}){const p=this.getStack();p&&p.promote(this,y),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:y}=c;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(h=!0),!h)return;const p={};y.z&&wc("z",c,p,this.animationValues);for(let v=0;v<_c.length;v++)wc(`rotate${_c[v]}`,c,p,this.animationValues),wc(`skew${_c[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Pl(h==null?void 0:h.pointerEvents)||"",c.transform=y?y(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Pl(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!wi(this.latestValues)&&(c.transform=y?y({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let S=YR(this.projectionDeltaWithTransform,this.treeScale,v);y&&(S=y(v,S)),c.transform=S;const{x:E,y:C}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${C.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const A in Ja){if(v[A]===void 0)continue;const{correct:R,applyTo:z,isCSSVariable:k}=Ja[A],F=S==="none"?v[A]:R(v[A],p);if(z){const N=z.length;for(let K=0;K<N;K++)c[z[K]]=F}else k?this.options.visualElement.renderState.vars[A]=F:c[A]=F}this.options.layoutId&&(c.pointerEvents=p===this?Pl(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(Jy),this.root.sharedNodes.clear()}}}function XR(o){o.updateLayout()}function ZR(o){var n;const e=((n=o.resumeFrom)==null?void 0:n.snapshot)||o.snapshot;if(o.isLead()&&o.layout&&e&&o.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:l}=o.layout,{animationType:u}=o.options,c=e.source!==o.layout.source;u==="size"?Qe(S=>{const E=c?e.measuredBox[S]:e.layoutBox[S],C=Te(E);E.min=s[S].min,E.max=E.min+C}):h0(u,e.layoutBox,s)&&Qe(S=>{const E=c?e.measuredBox[S]:e.layoutBox[S],C=Te(s[S]);E.max=E.min+C,o.relativeTarget&&!o.currentAnimation&&(o.isProjectionDirty=!0,o.relativeTarget[S].max=o.relativeTarget[S].min+C)});const h=wo();Fa(h,s,e.layoutBox);const y=wo();c?Fa(y,o.applyTransform(l,!0),e.measuredBox):Fa(y,s,e.layoutBox);const p=!u0(h);let v=!1;if(!o.resumeFrom){const S=o.getClosestProjectingParent();if(S&&!S.resumeFrom){const{snapshot:E,layout:C}=S;if(E&&C){const A=$t();Ya(A,e.layoutBox,E.layoutBox);const R=$t();Ya(R,s,C.layoutBox),c0(A,R)||(v=!0),S.options.layoutRoot&&(o.relativeTarget=R,o.relativeTargetOrigin=A,o.relativeParent=S)}}}o.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:y,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(o.isLead()){const{onExitComplete:s}=o.options;s&&s()}o.options.transition=void 0}function $R(o){o.parent&&(o.isProjecting()||(o.isProjectionDirty=o.parent.isProjectionDirty),o.isSharedProjectionDirty||(o.isSharedProjectionDirty=!!(o.isProjectionDirty||o.parent.isProjectionDirty||o.parent.isSharedProjectionDirty)),o.isTransformDirty||(o.isTransformDirty=o.parent.isTransformDirty))}function JR(o){o.isProjectionDirty=o.isSharedProjectionDirty=o.isTransformDirty=!1}function WR(o){o.clearSnapshot()}function Jy(o){o.clearMeasurements()}function Wy(o){o.isLayoutDirty=!1}function jR(o){const{visualElement:e}=o.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),o.resetTransform()}function jy(o){o.finishAnimation(),o.targetDelta=o.relativeTarget=o.target=void 0,o.isProjectionDirty=!0}function tD(o){o.resolveTargetDelta()}function eD(o){o.calcProjection()}function nD(o){o.resetSkewAndRotation()}function iD(o){o.removeLeadSnapshot()}function tv(o,e,n){o.translate=Ht(e.translate,0,n),o.scale=Ht(e.scale,1,n),o.origin=e.origin,o.originPoint=e.originPoint}function ev(o,e,n,s){o.min=Ht(e.min,n.min,s),o.max=Ht(e.max,n.max,s)}function oD(o,e,n,s){ev(o.x,e.x,n.x,s),ev(o.y,e.y,n.y,s)}function aD(o){return o.animationValues&&o.animationValues.opacityExit!==void 0}const sD={duration:.45,ease:[.4,0,.1,1]},nv=o=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(o),iv=nv("applewebkit/")&&!nv("chrome/")?Math.round:Xe;function ov(o){o.min=iv(o.min),o.max=iv(o.max)}function lD(o){ov(o.x),ov(o.y)}function h0(o,e,n){return o==="position"||o==="preserve-aspect"&&!hR(Zy(e),Zy(n),.2)}function rD(o){var e;return o!==o.root&&((e=o.scroll)==null?void 0:e.wasRoot)}const uD=d0({attachResizeListener:(o,e)=>Wa(o,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rc={current:void 0},p0=d0({measureScroll:o=>({x:o.scrollLeft,y:o.scrollTop}),defaultParent:()=>{if(!Rc.current){const o=new uD({});o.mount(window),o.setOptions({layoutScroll:!0}),Rc.current=o}return Rc.current},resetTransform:(o,e)=>{o.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:o=>window.getComputedStyle(o).position==="fixed"}),cD={pan:{Feature:wR},drag:{Feature:_R,ProjectionNode:p0,MeasureLayout:s0}};function av(o,e,n){const{props:s}=o;o.animationState&&s.whileHover&&o.animationState.setActive("whileHover",n==="Start");const l="onHover"+n,u=s[l];u&&Gt.postRender(()=>u(e,as(e)))}class fD extends li{mount(){const{current:e}=this.node;e&&(this.unmount=P_(e,(n,s)=>(av(this.node,s,"Start"),l=>av(this.node,l,"End"))))}unmount(){}}class dD extends li{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ns(Wa(this.node.current,"focus",()=>this.onFocus()),Wa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sv(o,e,n){const{props:s}=o;if(o.current instanceof HTMLButtonElement&&o.current.disabled)return;o.animationState&&s.whileTap&&o.animationState.setActive("whileTap",n==="Start");const l="onTap"+(n==="End"?"":n),u=s[l];u&&Gt.postRender(()=>u(e,as(e)))}class hD extends li{mount(){const{current:e}=this.node;e&&(this.unmount=U_(e,(n,s)=>(sv(this.node,s,"Start"),(l,{success:u})=>sv(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const uf=new WeakMap,Dc=new WeakMap,pD=o=>{const e=uf.get(o.target);e&&e(o)},mD=o=>{o.forEach(pD)};function gD({root:o,...e}){const n=o||document;Dc.has(n)||Dc.set(n,{});const s=Dc.get(n),l=JSON.stringify(e);return s[l]||(s[l]=new IntersectionObserver(mD,{root:o,...e})),s[l]}function yD(o,e,n){const s=gD(e);return uf.set(o,n),s.observe(o),()=>{uf.delete(o),s.unobserve(o)}}const vD={some:0,all:1};class TD extends li{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:l="some",once:u}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof l=="number"?l:vD[l]},h=y=>{const{isIntersecting:p}=y;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:S}=this.node.getProps(),E=p?v:S;E&&E(y)};return yD(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(SD(e,n))&&this.startObserver()}unmount(){}}function SD({viewport:o={}},{viewport:e={}}={}){return n=>o[n]!==e[n]}const ED={inView:{Feature:TD},tap:{Feature:hD},focus:{Feature:dD},hover:{Feature:fD}},bD={layout:{ProjectionNode:p0,MeasureLayout:s0}},CD={...lR,...ED,...cD,...bD},AD=Cw(CD,Iw);function lv(o,e){return e.split(".").reduce((n,s)=>n?n[s]:void 0,o)}function rv(o,e,n){const s=e.split("."),l=s.pop();let u=o;for(const c of s)(typeof u[c]!="object"||u[c]===null)&&(u[c]={}),u=u[c];u[l]=n}function cf(o,e=[],n=.7){if(!e||e.length===0)return{ask:!0,reason:"missing"};const s=[...e].sort((l,u)=>u.confidence-l.confidence)[0];return s.confidence>=n?{value:s.value,ask:!1}:{value:s.value,ask:!0,reason:"low_confidence"}}function Mt(o){var s;if(typeof window<"u"&&window.t)try{const l=window.t(o);if(l&&l!==o)return console.log(`Chatbot: Using global translation for "${o}":`,l),l}catch{console.log("Chatbot: Global translation failed, using fallback")}const e={de:{"ai.chatbot.title":"Zufahrtsschutz-Assistent","ai.chatbot.welcome":"Willkommen zum Zufahrtsschutz-Assistenten. Ich stelle nur Fragen, die noch fehlen oder unsicher sind. Bereit?","ai.chatbot.assetQuestion":"Welche Schutzgter mchten Sie absichern?","ai.chatbot.inputPlaceholder":"Antwort eingeben...","ai.chatbot.sendButton":"Senden","ai.chatbot.stakeholderQuestion":"Wer sind die relevanten Stakeholder (Behrden, Veranstalter, Betreiber)?","ai.chatbot.restRiskQuestion":"Welches akzeptable Restrisiko gilt?","ai.chatbot.operationalQuestion":"Betriebsanforderungen (mehrfach whlbar)","ai.chatbot.threatQuestion":"Welche Art fahrzeuggesttzter Bedrohung ist zu erwarten?","ai.chatbot.vehicleTypesQuestion":"Welche Fahrzeugtypen sind relevant?","ai.chatbot.accessCorridorsQuestion":"Wo knnten Fahrzeuge eindringen? (Karte markieren oder beschreiben)","ai.chatbot.speedQuestion":"Maximale Zufahrtsgeschwindigkeit (km/h)","ai.chatbot.angleQuestion":"Wahrscheinlicher Anprallwinkel ()","ai.chatbot.groundQuestion":"Untergrund/Fundamente am Standort","ai.chatbot.riskMatrixQuestion":"Risikobewertung: Eintrittswahrscheinlichkeit & Schadensausma","ai.chatbot.completionMessage":"Danke! Alle erforderlichen Angaben sind vorhanden. Mchten Sie den normkonformen PDF-Plan erzeugen?","ai.chatbot.infoPrefix":"Hinweis: ","ai.chatbot.assetQuestionInfo":"Grundlage fr Schutzziel & Schutzklasse (DIN SPEC 91414-2 / ISO 22343-2)","ai.chatbot.restRiskQuestionInfo":"Steuert Schutzklasse/Sicherungsgrad (DIN SPEC 91414-2)","ai.chatbot.speedQuestionInfo":"Pflichtparameter fr FSB-Performance (ISO 22343-2/-1)","ai.chatbot.angleQuestionInfo":"Pflichtparameter fr FSB-Performance (ISO 22343-2/-1)","ai.chatbot.riskMatrixQuestionInfo":"Erzeugt Sicherungsgrad & Schutzklasse (DIN SPEC 91414-2)","ai.chatbot.assetOptions":"Menschenmenge,Gebude,KRITIS-Prozess,Veranstaltungsflche","ai.chatbot.assetPlaceholder":"z. B. Menschenmenge, Bhne","ai.chatbot.stakeholderOptions":"Behrden,Veranstalter,Betreiber","ai.chatbot.restRiskOptions":"niedrig,mittel,hoch","ai.chatbot.operationalOptions":"Feuerwehrzufahrt,Fluchtwege,Verkehrssicherheit,Betriebssicherheit","ai.chatbot.threatOptions":"intentional,unbeabsichtigt,beides","ai.chatbot.vehicleOptions":"PKW,Transporter,LKW,Bus","ai.chatbot.groundOptions":"Asphalt,Beton,Pflaster,Erde,Unbekannt","ai.chatbot.riskMatrixOptions":"EW:niedrig|SA:gering,EW:niedrig|SA:mittel,EW:mittel|SA:mittel,EW:hoch|SA:schwer","ai.chatbot.accessCorridorsPlaceholder":"Polyline/Polygon auswhlen oder kurz beschreiben"},en:{"ai.chatbot.title":"Access Protection Assistant","ai.chatbot.welcome":"Welcome to the Access Protection Assistant. I only ask questions that are still missing or uncertain. Ready?","ai.chatbot.assetQuestion":"Which protective assets would you like to secure?","ai.chatbot.inputPlaceholder":"Enter answer...","ai.chatbot.sendButton":"Send","ai.chatbot.stakeholderQuestion":"Who are the relevant stakeholders (authorities, organizers, operators)?","ai.chatbot.restRiskQuestion":"What acceptable residual risk applies?","ai.chatbot.operationalQuestion":"Operational requirements (multiple choice)","ai.chatbot.threatQuestion":"What type of vehicle-based threat is expected?","ai.chatbot.vehicleTypesQuestion":"Which vehicle types are relevant?","ai.chatbot.accessCorridorsQuestion":"Where could vehicles penetrate? (Mark on map or describe)","ai.chatbot.speedQuestion":"Maximum access speed (km/h)","ai.chatbot.angleQuestion":"Probable impact angle ()","ai.chatbot.groundQuestion":"Ground/foundations at the site","ai.chatbot.riskMatrixQuestion":"Risk assessment: probability of occurrence & extent of damage","ai.chatbot.completionMessage":"Thank you! All required information is available. Would you like to generate the standards-compliant PDF plan?","ai.chatbot.infoPrefix":"Note: ","ai.chatbot.assetQuestionInfo":"Basis for Protection Goal & Protection Class (DIN SPEC 91414-2 / ISO 22343-2)","ai.chatbot.restRiskQuestionInfo":"Controls Protection Class/Security Level (DIN SPEC 91414-2)","ai.chatbot.speedQuestionInfo":"Required parameter for FSB performance (ISO 22343-2/-1)","ai.chatbot.angleQuestionInfo":"Required parameter for FSB performance (ISO 22343-2/-1)","ai.chatbot.riskMatrixQuestionInfo":"Generates Security Level & Protection Class (DIN SPEC 91414-2)","ai.chatbot.assetOptions":"Crowd,Building,CRITIS Process,Event Area","ai.chatbot.assetPlaceholder":"e.g. crowd, stage","ai.chatbot.stakeholderOptions":"Authorities,Organizers,Operators","ai.chatbot.restRiskOptions":"low,medium,high","ai.chatbot.operationalOptions":"Fire Brigade Access,Escape Routes,Traffic Safety,Operational Safety","ai.chatbot.threatOptions":"intentional,unintentional,both","ai.chatbot.vehicleOptions":"Car,Van,Truck,Bus","ai.chatbot.groundOptions":"Asphalt,Concrete,Pavement,Earth,Unknown","ai.chatbot.riskMatrixOptions":"PO:low|SD:medium,PO:medium|SD:medium,PO:high|SD:severe","ai.chatbot.accessCorridorsPlaceholder":"Select polyline/polygon or describe briefly"}};let n="de";if(typeof window<"u")if(window.currentLanguage)n=window.currentLanguage,console.log("Chatbot: Language from window.currentLanguage:",n);else if(window.translations&&window.translations.currentLanguage)n=window.translations.currentLanguage,console.log("Chatbot: Language from window.translations.currentLanguage:",n);else{const l=document.querySelector('.lang-btn[data-lang="de"].active'),u=document.querySelector('.lang-btn[data-lang="en"].active');if(console.log("Chatbot: DOM flag detection - German flag:",l,"English flag:",u),u)n="en",console.log("Chatbot: Language from DOM flag detection (EN):",n);else if(l)n="de",console.log("Chatbot: Language from DOM flag detection (DE):",n);else{console.log("Chatbot: Language detection failed, using default (DE)");const c=document.querySelectorAll(".lang-btn");console.log("Chatbot: All lang-btn elements found:",c),c.forEach((h,y)=>{console.log(`Chatbot: lang-btn ${y}:`,{classList:h.classList.toString(),dataLang:h.dataset.lang,isActive:h.classList.contains("active")})})}}return console.log(`Chatbot translation for key "${o}": language="${n}", result="${((s=e[n])==null?void 0:s[o])||o}"`),e[n]&&e[n][o]?e[n][o]:o}function MD(){return[{id:"schutzgueter",label:Mt("ai.chatbot.assetQuestion"),field:"schutzgter",type:"chips",options:Mt("ai.chatbot.assetOptions").split(","),placeholder:Mt("ai.chatbot.assetPlaceholder"),info:Mt("ai.chatbot.assetQuestionInfo")},{id:"stakeholder",label:Mt("ai.chatbot.stakeholderQuestion"),field:"stakeholder",type:"chips",options:Mt("ai.chatbot.stakeholderOptions").split(",")},{id:"restrisiko",label:Mt("ai.chatbot.restRiskQuestion"),field:"restrisiko.klasse",type:"select",options:Mt("ai.chatbot.restRiskOptions").split(","),info:Mt("ai.chatbot.restRiskQuestionInfo")},{id:"betrieb",label:Mt("ai.chatbot.operationalQuestion"),field:"betrieb",type:"multiselect",options:Mt("ai.chatbot.operationalOptions").split(",")},{id:"bedrohung",label:Mt("ai.chatbot.threatQuestion"),field:"risiko.bedrohung.art",type:"select",options:Mt("ai.chatbot.threatOptions").split(",")},{id:"fahrzeugtypen",label:Mt("ai.chatbot.vehicleTypesQuestion"),field:"risiko.bedrohung.fahrzeugtypen",type:"chips",options:Mt("ai.chatbot.vehicleOptions").split(",")},{id:"anfahrkorridore",label:Mt("ai.chatbot.accessCorridorsQuestion"),field:"risiko.site.anfahrkorridore",type:"geo",placeholder:Mt("ai.chatbot.accessCorridorsPlaceholder")},{id:"geschwindigkeit",label:Mt("ai.chatbot.speedQuestion"),field:"risiko.dynamik.v_kmh",type:"number",info:Mt("ai.chatbot.speedQuestionInfo"),resolver:o=>cf("risiko.dynamik.v_kmh",o,.7)},{id:"winkel",label:Mt("ai.chatbot.angleQuestion"),field:"risiko.dynamik.winkel_grad",type:"number",info:Mt("ai.chatbot.angleQuestionInfo"),resolver:o=>cf("risiko.dynamik.winkel_grad",o,.7)},{id:"untergrund",label:Mt("ai.chatbot.groundQuestion"),field:"risiko.site.untergrund",type:"select",options:Mt("ai.chatbot.groundOptions").split(",")},{id:"risikomatrix",label:Mt("ai.chatbot.riskMatrixQuestion"),field:"risiko.matrix",type:"select",options:Mt("ai.chatbot.riskMatrixOptions").split(","),info:Mt("ai.chatbot.riskMatrixQuestionInfo")}]}function xD({open:o,onToggle:e}){return zt.jsx("button",{"aria-label":Mt("ai.chatbot.title"),onClick:e,className:"zb-btn",children:zt.jsx("span",{className:"text-xl",children:o?"":""})})}function _D({role:o,text:e}){const n=o==="bot";return zt.jsx("div",{className:`zb-msg ${n?"zb-msg-left":"zb-msg-right"}`,children:zt.jsx("div",{className:`zb-bubble ${n?"zb-bot":"zb-user"}`,children:e})})}function wD({onSend:o}){const[e,n]=et.useState("");return zt.jsxs("div",{className:"zb-input",children:[zt.jsx("input",{className:"zb-input-field",placeholder:Mt("ai.chatbot.inputPlaceholder"),value:e,onChange:s=>n(s.target.value),onKeyDown:s=>{s.key==="Enter"&&e.trim()&&(o(e.trim()),n(""))}}),zt.jsx("button",{className:"zb-input-send",onClick:()=>{e.trim()&&(o(e.trim()),n(""))},children:Mt("ai.chatbot.sendButton")})]})}function RD({planningState:o,setPlanningState:e,getCandidatesFor:n}){const[s,l]=et.useState({}),u=o??s,c=e??(D=>l(X=>D(X)));window.planningState=u;const[h,y]=et.useState(!0),[p,v]=et.useState([]),[S,E]=et.useState(null),[C,A]=et.useState(!1),R=et.useRef(null);et.useEffect(()=>{p.length===0&&z(Mt("ai.chatbot.welcome"))},[]),et.useEffect(()=>{p.length>0&&(R.current&&(R.current.scrollTop=R.current.scrollHeight),setTimeout(()=>{R.current&&(R.current.scrollTop=R.current.scrollHeight)},50))},[p.length]);function z(D){v(X=>[...X,{role:"bot",text:D}])}function k(D,X){v(Z=>[...Z,{role:"user",text:D,field:X}])}const F=D=>{const X=lv(u,D.field);if(X!=null&&X!=="")return{ask:!1,value:X};const Z=n?n(D.field):[];return D.resolver?D.resolver(Z):cf(D.field,Z,.7)};function N(){for(const D of MD()){if(D.dependsOn&&D.dependsOn.find(H=>!lv(u,H)))continue;const X=F(D);if(X.ask)return D;X.value!==void 0&&c(Z=>{const H={...Z??{}};return rv(H,D.field,X.value),H})}return null}et.useEffect(()=>{if(C||S)return;const D=N();if(D){E(D);const X=D.label,Z=D.info?Mt("ai.chatbot.infoPrefix")+D.info:"";z(X+(Z?`

${Z}`:""))}else!C&&p.length>0&&(z(Mt("ai.chatbot.completionMessage")),A(!0))},[u,h,S,C]),et.useEffect(()=>{const D=()=>{console.log("Language changed, re-rendering chatbot"),v([]),E(null),A(!1),setTimeout(()=>{z(Mt("ai.chatbot.welcome"))},100)};window.addEventListener("languageChanged",D);const X=setInterval(()=>{const Z=window.currentLanguage;Z&&Z!==window.lastChatbotLanguage&&(window.lastChatbotLanguage=Z,console.log("Chatbot: Language change detected via polling:",Z),D());const H=document.querySelector('.lang-btn[data-lang="de"].active'),ot=document.querySelector('.lang-btn[data-lang="en"].active');let lt=null;ot?lt="en":H&&(lt="de"),lt&&lt!==window.lastChatbotDetectedLanguage&&(window.lastChatbotDetectedLanguage=lt,console.log("Chatbot: Language change detected via DOM flags:",lt),D())},100);return()=>{window.removeEventListener("languageChanged",D),clearInterval(X)}},[]);function K(D){if(!S){/^(ja|start|bereit|ok|okay|los)/i.test(D)&&(A(!1),E(null)),k(D);return}k(D,S.field);let X=D;if(S.type==="number"){const Z=parseFloat(D.replace(",","."));X=isNaN(Z)?void 0:Z}else S.type==="chips"?X=D.split(",").map(Z=>Z.trim()).filter(Boolean):S.type==="multiselect"?X=D.split(",").map(Z=>Z.trim()).filter(Boolean):S.type==="select"?X=D.trim():S.type==="bool"&&(X=/^(ja|true|y|yes)$/i.test(D));c(Z=>{const H={...Z??{}};return X!==void 0&&rv(H,S.field,X),H}),E(null)}return zt.jsxs(zt.Fragment,{children:[zt.jsx(xD,{open:h,onToggle:()=>y(D=>!D)}),zt.jsx(Y_,{children:h&&zt.jsxs(AD.aside,{initial:{x:380,opacity:0},animate:{x:0,opacity:1},exit:{x:380,opacity:0},transition:{type:"spring",stiffness:240,damping:28},className:"zb-panel","aria-label":"Zufahrtsschutz-Assistent Panel",children:[zt.jsx("header",{className:"zb-header",children:zt.jsx("div",{className:"zb-title",children:Mt("ai.chatbot.title")})}),zt.jsx("div",{className:"zb-messages",ref:R,children:p.map((D,X)=>zt.jsx(_D,{role:D.role,text:D.text},X))}),zt.jsx(wD,{onSend:K})]})})]})}var Nc={exports:{}},Ua={},Lc={exports:{}},Pc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function DD(){return uv||(uv=1,function(o){function e(V,G){var J=V.length;V.push(G);t:for(;0<J;){var rt=J-1>>>1,x=V[rt];if(0<l(x,G))V[rt]=G,V[J]=x,J=rt;else break t}}function n(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var G=V[0],J=V.pop();if(J!==G){V[0]=J;t:for(var rt=0,x=V.length,Q=x>>>1;rt<Q;){var nt=2*(rt+1)-1,j=V[nt],ut=nt+1,xt=V[ut];if(0>l(j,J))ut<x&&0>l(xt,j)?(V[rt]=xt,V[ut]=J,rt=ut):(V[rt]=j,V[nt]=J,rt=nt);else if(ut<x&&0>l(xt,J))V[rt]=xt,V[ut]=J,rt=ut;else break t}}return G}function l(V,G){var J=V.sortIndex-G.sortIndex;return J!==0?J:V.id-G.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;o.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();o.unstable_now=function(){return c.now()-h}}var y=[],p=[],v=1,S=null,E=3,C=!1,A=!1,R=!1,z=!1,k=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function K(V){for(var G=n(p);G!==null;){if(G.callback===null)s(p);else if(G.startTime<=V)s(p),G.sortIndex=G.expirationTime,e(y,G);else break;G=n(p)}}function D(V){if(R=!1,K(V),!A)if(n(y)!==null)A=!0,X||(X=!0,Tt());else{var G=n(p);G!==null&&tt(D,G.startTime-V)}}var X=!1,Z=-1,H=5,ot=-1;function lt(){return z?!0:!(o.unstable_now()-ot<H)}function yt(){if(z=!1,X){var V=o.unstable_now();ot=V;var G=!0;try{t:{A=!1,R&&(R=!1,F(Z),Z=-1),C=!0;var J=E;try{e:{for(K(V),S=n(y);S!==null&&!(S.expirationTime>V&&lt());){var rt=S.callback;if(typeof rt=="function"){S.callback=null,E=S.priorityLevel;var x=rt(S.expirationTime<=V);if(V=o.unstable_now(),typeof x=="function"){S.callback=x,K(V),G=!0;break e}S===n(y)&&s(y),K(V)}else s(y);S=n(y)}if(S!==null)G=!0;else{var Q=n(p);Q!==null&&tt(D,Q.startTime-V),G=!1}}break t}finally{S=null,E=J,C=!1}G=void 0}}finally{G?Tt():X=!1}}}var Tt;if(typeof N=="function")Tt=function(){N(yt)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,$=dt.port2;dt.port1.onmessage=yt,Tt=function(){$.postMessage(null)}}else Tt=function(){k(yt,0)};function tt(V,G){Z=k(function(){V(o.unstable_now())},G)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(V){V.callback=null},o.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<V?Math.floor(1e3/V):5},o.unstable_getCurrentPriorityLevel=function(){return E},o.unstable_next=function(V){switch(E){case 1:case 2:case 3:var G=3;break;default:G=E}var J=E;E=G;try{return V()}finally{E=J}},o.unstable_requestPaint=function(){z=!0},o.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var J=E;E=V;try{return G()}finally{E=J}},o.unstable_scheduleCallback=function(V,G,J){var rt=o.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?rt+J:rt):J=rt,V){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=J+x,V={id:v++,callback:G,priorityLevel:V,startTime:J,expirationTime:x,sortIndex:-1},J>rt?(V.sortIndex=J,e(p,V),n(y)===null&&V===n(p)&&(R?(F(Z),Z=-1):R=!0,tt(D,J-rt))):(V.sortIndex=x,e(y,V),A||C||(A=!0,X||(X=!0,Tt()))),V},o.unstable_shouldYield=lt,o.unstable_wrapCallback=function(V){var G=E;return function(){var J=E;E=G;try{return V.apply(this,arguments)}finally{E=J}}}}(Pc)),Pc}var cv;function ND(){return cv||(cv=1,Lc.exports=DD()),Lc.exports}var Vc={exports:{}},pe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function LD(){if(fv)return pe;fv=1;var o=mf();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,p,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:p,implementation:v}}var c=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return pe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,pe.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,v)},pe.flushSync=function(y){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,y)return y()}finally{c.T=p,s.p=v,s.d.f()}},pe.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},pe.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},pe.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,S=h(v,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:C}):v==="script"&&s.d.X(y,{crossOrigin:S,integrity:E,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},pe.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},pe.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,S=h(v,p.crossOrigin);s.d.L(y,v,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},pe.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=h(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},pe.requestFormReset=function(y){s.d.r(y)},pe.unstable_batchedUpdates=function(y,p){return y(p)},pe.useFormState=function(y,p,v){return c.H.useFormState(y,p,v)},pe.useFormStatus=function(){return c.H.useHostTransitionStatus()},pe.version="19.1.1",pe}var dv;function PD(){if(dv)return Vc.exports;dv=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),Vc.exports=LD(),Vc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function VD(){if(hv)return Ua;hv=1;var o=ND(),e=mf(),n=PD();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,r=i;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(r=f.return,r!==null){a=r;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return h(f),t;if(g===r)return h(f),i;g=g.sibling}throw Error(s(188))}if(a.return!==r.return)a=f,r=g;else{for(var T=!1,b=f.child;b;){if(b===a){T=!0,a=f,r=g;break}if(b===r){T=!0,r=f,a=g;break}b=b.sibling}if(!T){for(b=g.child;b;){if(b===a){T=!0,a=g,r=f;break}if(b===r){T=!0,r=g,a=f;break}b=b.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==r)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),N=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),ot=Symbol.for("react.activity"),lt=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function Tt(t){return t===null||typeof t!="object"?null:(t=yt&&t[yt]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Symbol.for("react.client.reference");function $(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===dt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case z:return"Profiler";case R:return"StrictMode";case D:return"Suspense";case X:return"SuspenseList";case ot:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case N:return(t.displayName||"Context")+".Provider";case F:return(t._context.displayName||"Context")+".Consumer";case K:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z:return i=t.displayName||null,i!==null?i:$(t.type)||"Memo";case H:i=t._payload,t=t._init;try{return $(t(i))}catch{}}return null}var tt=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},rt=[],x=-1;function Q(t){return{current:t}}function nt(t){0>x||(t.current=rt[x],rt[x]=null,x--)}function j(t,i){x++,rt[x]=t.current,t.current=i}var ut=Q(null),xt=Q(null),mt=Q(null),_e=Q(null);function kt(t,i){switch(j(mt,i),j(xt,t),j(ut,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?vm(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=vm(i),t=Tm(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ut),j(ut,t)}function Dn(){nt(ut),nt(xt),nt(mt)}function jl(t){t.memoizedState!==null&&j(_e,t);var i=ut.current,a=Tm(i,t.type);i!==a&&(j(xt,t),j(ut,a))}function ss(t){xt.current===t&&(nt(ut),nt(xt)),_e.current===t&&(nt(_e),Da._currentValue=J)}var tr=Object.prototype.hasOwnProperty,er=o.unstable_scheduleCallback,nr=o.unstable_cancelCallback,M0=o.unstable_shouldYield,x0=o.unstable_requestPaint,tn=o.unstable_now,_0=o.unstable_getCurrentPriorityLevel,Wf=o.unstable_ImmediatePriority,jf=o.unstable_UserBlockingPriority,ls=o.unstable_NormalPriority,w0=o.unstable_LowPriority,td=o.unstable_IdlePriority,R0=o.log,D0=o.unstable_setDisableYieldValue,zo=null,we=null;function Nn(t){if(typeof R0=="function"&&D0(t),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(zo,t)}catch{}}var Re=Math.clz32?Math.clz32:P0,N0=Math.log,L0=Math.LN2;function P0(t){return t>>>=0,t===0?32:31-(N0(t)/L0|0)|0}var rs=256,us=4194304;function ri(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function cs(t,i,a){var r=t.pendingLanes;if(r===0)return 0;var f=0,g=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var b=r&134217727;return b!==0?(r=b&~g,r!==0?f=ri(r):(T&=b,T!==0?f=ri(T):a||(a=b&~t,a!==0&&(f=ri(a))))):(b=r&~g,b!==0?f=ri(b):T!==0?f=ri(T):a||(a=r&~t,a!==0&&(f=ri(a)))),f===0?0:i!==0&&i!==f&&(i&g)===0&&(g=f&-f,a=i&-i,g>=a||g===32&&(a&4194048)!==0)?i:f}function ko(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function V0(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ed(){var t=rs;return rs<<=1,(rs&4194048)===0&&(rs=256),t}function nd(){var t=us;return us<<=1,(us&62914560)===0&&(us=4194304),t}function ir(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Oo(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function B0(t,i,a,r,f,g){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,M=t.expirationTimes,B=t.hiddenUpdates;for(a=T&~a;0<a;){var O=31-Re(a),Y=1<<O;b[O]=0,M[O]=-1;var I=B[O];if(I!==null)for(B[O]=null,O=0;O<I.length;O++){var U=I[O];U!==null&&(U.lane&=-536870913)}a&=~Y}r!==0&&id(t,r,0),g!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=g&~(T&~i))}function id(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var r=31-Re(i);t.entangledLanes|=i,t.entanglements[r]=t.entanglements[r]|1073741824|a&4194090}function od(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var r=31-Re(a),f=1<<r;f&i|t[r]&i&&(t[r]|=i),a&=~f}}function or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ar(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ad(){var t=G.p;return t!==0?t:(t=window.event,t===void 0?32:zm(t.type))}function I0(t,i){var a=G.p;try{return G.p=t,i()}finally{G.p=a}}var Ln=Math.random().toString(36).slice(2),de="__reactFiber$"+Ln,Se="__reactProps$"+Ln,Ui="__reactContainer$"+Ln,sr="__reactEvents$"+Ln,U0="__reactListeners$"+Ln,z0="__reactHandles$"+Ln,sd="__reactResources$"+Ln,Go="__reactMarker$"+Ln;function lr(t){delete t[de],delete t[Se],delete t[sr],delete t[U0],delete t[z0]}function zi(t){var i=t[de];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ui]||a[de]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Cm(t);t!==null;){if(a=t[de])return a;t=Cm(t)}return i}t=a,a=t.parentNode}return null}function ki(t){if(t=t[de]||t[Ui]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function qo(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Oi(t){var i=t[sd];return i||(i=t[sd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ne(t){t[Go]=!0}var ld=new Set,rd={};function ui(t,i){Gi(t,i),Gi(t+"Capture",i)}function Gi(t,i){for(rd[t]=i,t=0;t<i.length;t++)ld.add(i[t])}var k0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ud={},cd={};function O0(t){return tr.call(cd,t)?!0:tr.call(ud,t)?!1:k0.test(t)?cd[t]=!0:(ud[t]=!0,!1)}function fs(t,i,a){if(O0(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function ds(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function fn(t,i,a,r){if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+r)}}var rr,fd;function qi(t){if(rr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);rr=i&&i[1]||"",fd=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rr+t+fd}var ur=!1;function cr(t,i){if(!t||ur)return"";ur=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(U){var I=U}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(U){I=U}t.call(Y.prototype)}}else{try{throw Error()}catch(U){I=U}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(U){if(U&&I&&typeof U.stack=="string")return[U.stack,I.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=r.DetermineComponentFrameRoot(),T=g[0],b=g[1];if(T&&b){var M=T.split(`
`),B=b.split(`
`);for(f=r=0;r<M.length&&!M[r].includes("DetermineComponentFrameRoot");)r++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(r===M.length||f===B.length)for(r=M.length-1,f=B.length-1;1<=r&&0<=f&&M[r]!==B[f];)f--;for(;1<=r&&0<=f;r--,f--)if(M[r]!==B[f]){if(r!==1||f!==1)do if(r--,f--,0>f||M[r]!==B[f]){var O=`
`+M[r].replace(" at new "," at ");return t.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",t.displayName)),O}while(1<=r&&0<=f);break}}}finally{ur=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?qi(a):""}function G0(t){switch(t.tag){case 26:case 27:case 5:return qi(t.type);case 16:return qi("Lazy");case 13:return qi("Suspense");case 19:return qi("SuspenseList");case 0:case 15:return cr(t.type,!1);case 11:return cr(t.type.render,!1);case 1:return cr(t.type,!0);case 31:return qi("Activity");default:return""}}function dd(t){try{var i="";do i+=G0(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ue(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hd(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function q0(t){var i=hd(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),r=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){r=""+T,g.call(this,T)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(T){r=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function hs(t){t._valueTracker||(t._valueTracker=q0(t))}function pd(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),r="";return t&&(r=hd(t)?t.checked?"true":"false":t.value),t=r,t!==a?(i.setValue(t),!0):!1}function ps(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var H0=/[\n"\\]/g;function ze(t){return t.replace(H0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fr(t,i,a,r,f,g,T,b){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ue(i)):t.value!==""+Ue(i)&&(t.value=""+Ue(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?dr(t,T,Ue(i)):a!=null?dr(t,T,Ue(a)):r!=null&&t.removeAttribute("value"),f==null&&g!=null&&(t.defaultChecked=!!g),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Ue(b):t.removeAttribute("name")}function md(t,i,a,r,f,g,T,b){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),i!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;a=a!=null?""+Ue(a):"",i=i!=null?""+Ue(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}r=r??f,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=b?t.checked:!!r,t.defaultChecked=!!r,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function dr(t,i,a){i==="number"&&ps(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Hi(t,i,a,r){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&r&&(t[a].defaultSelected=!0)}else{for(a=""+Ue(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,r&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function gd(t,i,a){if(i!=null&&(i=""+Ue(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ue(a):""}function yd(t,i,a,r){if(i==null){if(r!=null){if(a!=null)throw Error(s(92));if(tt(r)){if(1<r.length)throw Error(s(93));r=r[0]}a=r}a==null&&(a=""),i=a}a=Ue(i),t.defaultValue=a,r=t.textContent,r===a&&r!==""&&r!==null&&(t.value=r)}function Fi(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var F0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vd(t,i,a){var r=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":r?t.setProperty(i,a):typeof a!="number"||a===0||F0.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Td(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var f in i)r=i[f],i.hasOwnProperty(f)&&a[f]!==r&&vd(t,f,r)}else for(var g in i)i.hasOwnProperty(g)&&vd(t,g,i[g])}function hr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Y0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),K0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ms(t){return K0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var pr=null;function mr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yi=null,Ki=null;function Sd(t){var i=ki(t);if(i&&(t=i.stateNode)){var a=t[Se]||null;t:switch(t=i.stateNode,i.type){case"input":if(fr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ze(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var r=a[i];if(r!==t&&r.form===t.form){var f=r[Se]||null;if(!f)throw Error(s(90));fr(r,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)r=a[i],r.form===t.form&&pd(r)}break t;case"textarea":gd(t,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Hi(t,!!a.multiple,i,!1)}}}var gr=!1;function Ed(t,i,a){if(gr)return t(i,a);gr=!0;try{var r=t(i);return r}finally{if(gr=!1,(Yi!==null||Ki!==null)&&(tl(),Yi&&(i=Yi,t=Ki,Ki=Yi=null,Sd(i),t)))for(i=0;i<t.length;i++)Sd(t[i])}}function Ho(t,i){var a=t.stateNode;if(a===null)return null;var r=a[Se]||null;if(r===null)return null;a=r[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(dn)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){yr=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{yr=!1}var Pn=null,vr=null,gs=null;function bd(){if(gs)return gs;var t,i=vr,a=i.length,r,f="value"in Pn?Pn.value:Pn.textContent,g=f.length;for(t=0;t<a&&i[t]===f[t];t++);var T=a-t;for(r=1;r<=T&&i[a-r]===f[g-r];r++);return gs=f.slice(t,1<r?1-r:void 0)}function ys(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function vs(){return!0}function Cd(){return!1}function Ee(t){function i(a,r,f,g,T){this._reactName=a,this._targetInst=f,this.type=r,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?vs:Cd,this.isPropagationStopped=Cd,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),i}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ts=Ee(ci),Yo=v({},ci,{view:0,detail:0}),Q0=Ee(Yo),Tr,Sr,Ko,Ss=v({},Yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:br,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ko&&(Ko&&t.type==="mousemove"?(Tr=t.screenX-Ko.screenX,Sr=t.screenY-Ko.screenY):Sr=Tr=0,Ko=t),Tr)},movementY:function(t){return"movementY"in t?t.movementY:Sr}}),Ad=Ee(Ss),X0=v({},Ss,{dataTransfer:0}),Z0=Ee(X0),$0=v({},Yo,{relatedTarget:0}),Er=Ee($0),J0=v({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),W0=Ee(J0),j0=v({},ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tS=Ee(j0),eS=v({},ci,{data:0}),Md=Ee(eS),nS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aS(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=oS[t])?!!i[t]:!1}function br(){return aS}var sS=v({},Yo,{key:function(t){if(t.key){var i=nS[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ys(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:br,charCode:function(t){return t.type==="keypress"?ys(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ys(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lS=Ee(sS),rS=v({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xd=Ee(rS),uS=v({},Yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:br}),cS=Ee(uS),fS=v({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),dS=Ee(fS),hS=v({},Ss,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pS=Ee(hS),mS=v({},ci,{newState:0,oldState:0}),gS=Ee(mS),yS=[9,13,27,32],Cr=dn&&"CompositionEvent"in window,Qo=null;dn&&"documentMode"in document&&(Qo=document.documentMode);var vS=dn&&"TextEvent"in window&&!Qo,_d=dn&&(!Cr||Qo&&8<Qo&&11>=Qo),wd=" ",Rd=!1;function Dd(t,i){switch(t){case"keyup":return yS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qi=!1;function TS(t,i){switch(t){case"compositionend":return Nd(i);case"keypress":return i.which!==32?null:(Rd=!0,wd);case"textInput":return t=i.data,t===wd&&Rd?null:t;default:return null}}function SS(t,i){if(Qi)return t==="compositionend"||!Cr&&Dd(t,i)?(t=bd(),gs=vr=Pn=null,Qi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _d&&i.locale!=="ko"?null:i.data;default:return null}}var ES={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ld(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ES[t.type]:i==="textarea"}function Pd(t,i,a,r){Yi?Ki?Ki.push(r):Ki=[r]:Yi=r,i=sl(i,"onChange"),0<i.length&&(a=new Ts("onChange","change",null,a,r),t.push({event:a,listeners:i}))}var Xo=null,Zo=null;function bS(t){hm(t,0)}function Es(t){var i=qo(t);if(pd(i))return t}function Vd(t,i){if(t==="change")return i}var Bd=!1;if(dn){var Ar;if(dn){var Mr="oninput"in document;if(!Mr){var Id=document.createElement("div");Id.setAttribute("oninput","return;"),Mr=typeof Id.oninput=="function"}Ar=Mr}else Ar=!1;Bd=Ar&&(!document.documentMode||9<document.documentMode)}function Ud(){Xo&&(Xo.detachEvent("onpropertychange",zd),Zo=Xo=null)}function zd(t){if(t.propertyName==="value"&&Es(Zo)){var i=[];Pd(i,Zo,t,mr(t)),Ed(bS,i)}}function CS(t,i,a){t==="focusin"?(Ud(),Xo=i,Zo=a,Xo.attachEvent("onpropertychange",zd)):t==="focusout"&&Ud()}function AS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Es(Zo)}function MS(t,i){if(t==="click")return Es(i)}function xS(t,i){if(t==="input"||t==="change")return Es(i)}function _S(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var De=typeof Object.is=="function"?Object.is:_S;function $o(t,i){if(De(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),r=Object.keys(i);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var f=a[r];if(!tr.call(i,f)||!De(t[f],i[f]))return!1}return!0}function kd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Od(t,i){var a=kd(t);t=0;for(var r;a;){if(a.nodeType===3){if(r=t+a.textContent.length,t<=i&&r>=i)return{node:a,offset:i-t};t=r}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=kd(a)}}function Gd(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Gd(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function qd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ps(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ps(t.document)}return i}function xr(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var wS=dn&&"documentMode"in document&&11>=document.documentMode,Xi=null,_r=null,Jo=null,wr=!1;function Hd(t,i,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wr||Xi==null||Xi!==ps(r)||(r=Xi,"selectionStart"in r&&xr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jo&&$o(Jo,r)||(Jo=r,r=sl(_r,"onSelect"),0<r.length&&(i=new Ts("onSelect","select",null,i,a),t.push({event:i,listeners:r}),i.target=Xi)))}function fi(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Zi={animationend:fi("Animation","AnimationEnd"),animationiteration:fi("Animation","AnimationIteration"),animationstart:fi("Animation","AnimationStart"),transitionrun:fi("Transition","TransitionRun"),transitionstart:fi("Transition","TransitionStart"),transitioncancel:fi("Transition","TransitionCancel"),transitionend:fi("Transition","TransitionEnd")},Rr={},Fd={};dn&&(Fd=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function di(t){if(Rr[t])return Rr[t];if(!Zi[t])return t;var i=Zi[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Fd)return Rr[t]=i[a];return t}var Yd=di("animationend"),Kd=di("animationiteration"),Qd=di("animationstart"),RS=di("transitionrun"),DS=di("transitionstart"),NS=di("transitioncancel"),Xd=di("transitionend"),Zd=new Map,Dr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dr.push("scrollEnd");function Ze(t,i){Zd.set(t,i),ui(i,[t])}var $d=new WeakMap;function ke(t,i){if(typeof t=="object"&&t!==null){var a=$d.get(t);return a!==void 0?a:(i={value:t,source:i,stack:dd(i)},$d.set(t,i),i)}return{value:t,source:i,stack:dd(i)}}var Oe=[],$i=0,Nr=0;function bs(){for(var t=$i,i=Nr=$i=0;i<t;){var a=Oe[i];Oe[i++]=null;var r=Oe[i];Oe[i++]=null;var f=Oe[i];Oe[i++]=null;var g=Oe[i];if(Oe[i++]=null,r!==null&&f!==null){var T=r.pending;T===null?f.next=f:(f.next=T.next,T.next=f),r.pending=f}g!==0&&Jd(a,f,g)}}function Cs(t,i,a,r){Oe[$i++]=t,Oe[$i++]=i,Oe[$i++]=a,Oe[$i++]=r,Nr|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Lr(t,i,a,r){return Cs(t,i,a,r),As(t)}function Ji(t,i){return Cs(t,null,null,i),As(t)}function Jd(t,i,a){t.lanes|=a;var r=t.alternate;r!==null&&(r.lanes|=a);for(var f=!1,g=t.return;g!==null;)g.childLanes|=a,r=g.alternate,r!==null&&(r.childLanes|=a),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(f=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,f&&i!==null&&(f=31-Re(a),t=g.hiddenUpdates,r=t[f],r===null?t[f]=[i]:r.push(i),i.lane=a|536870912),g):null}function As(t){if(50<ba)throw ba=0,zu=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Wi={};function LS(t,i,a,r){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ne(t,i,a,r){return new LS(t,i,a,r)}function Pr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hn(t,i){var a=t.alternate;return a===null?(a=Ne(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Wd(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ms(t,i,a,r,f,g){var T=0;if(r=t,typeof t=="function")Pr(t)&&(T=1);else if(typeof t=="string")T=VE(t,a,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case ot:return t=Ne(31,a,i,f),t.elementType=ot,t.lanes=g,t;case A:return hi(a.children,f,g,i);case R:T=8,f|=24;break;case z:return t=Ne(12,a,i,f|2),t.elementType=z,t.lanes=g,t;case D:return t=Ne(13,a,i,f),t.elementType=D,t.lanes=g,t;case X:return t=Ne(19,a,i,f),t.elementType=X,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:case N:T=10;break t;case F:T=9;break t;case K:T=11;break t;case Z:T=14;break t;case H:T=16,r=null;break t}T=29,a=Error(s(130,t===null?"null":typeof t,"")),r=null}return i=Ne(T,a,i,f),i.elementType=t,i.type=r,i.lanes=g,i}function hi(t,i,a,r){return t=Ne(7,t,r,i),t.lanes=a,t}function Vr(t,i,a){return t=Ne(6,t,null,i),t.lanes=a,t}function Br(t,i,a){return i=Ne(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ji=[],to=0,xs=null,_s=0,Ge=[],qe=0,pi=null,pn=1,mn="";function mi(t,i){ji[to++]=_s,ji[to++]=xs,xs=t,_s=i}function jd(t,i,a){Ge[qe++]=pn,Ge[qe++]=mn,Ge[qe++]=pi,pi=t;var r=pn;t=mn;var f=32-Re(r)-1;r&=~(1<<f),a+=1;var g=32-Re(i)+f;if(30<g){var T=f-f%5;g=(r&(1<<T)-1).toString(32),r>>=T,f-=T,pn=1<<32-Re(i)+f|a<<f|r,mn=g+t}else pn=1<<g|a<<f|r,mn=t}function Ir(t){t.return!==null&&(mi(t,1),jd(t,1,0))}function Ur(t){for(;t===xs;)xs=ji[--to],ji[to]=null,_s=ji[--to],ji[to]=null;for(;t===pi;)pi=Ge[--qe],Ge[qe]=null,mn=Ge[--qe],Ge[qe]=null,pn=Ge[--qe],Ge[qe]=null}var ye=null,Ft=null,wt=!1,gi=null,en=!1,zr=Error(s(519));function yi(t){var i=Error(s(418,""));throw ta(ke(i,t)),zr}function th(t){var i=t.stateNode,a=t.type,r=t.memoizedProps;switch(i[de]=t,i[Se]=r,a){case"dialog":Ct("cancel",i),Ct("close",i);break;case"iframe":case"object":case"embed":Ct("load",i);break;case"video":case"audio":for(a=0;a<Aa.length;a++)Ct(Aa[a],i);break;case"source":Ct("error",i);break;case"img":case"image":case"link":Ct("error",i),Ct("load",i);break;case"details":Ct("toggle",i);break;case"input":Ct("invalid",i),md(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),hs(i);break;case"select":Ct("invalid",i);break;case"textarea":Ct("invalid",i),yd(i,r.value,r.defaultValue,r.children),hs(i)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||r.suppressHydrationWarning===!0||ym(i.textContent,a)?(r.popover!=null&&(Ct("beforetoggle",i),Ct("toggle",i)),r.onScroll!=null&&Ct("scroll",i),r.onScrollEnd!=null&&Ct("scrollend",i),r.onClick!=null&&(i.onclick=ll),i=!0):i=!1,i||yi(t)}function eh(t){for(ye=t.return;ye;)switch(ye.tag){case 5:case 13:en=!1;return;case 27:case 3:en=!0;return;default:ye=ye.return}}function Wo(t){if(t!==ye)return!1;if(!wt)return eh(t),wt=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||tc(t.type,t.memoizedProps)),a=!a),a&&Ft&&yi(t),eh(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Ft=Je(t.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Ft=null}}else i===27?(i=Ft,Zn(t.type)?(t=oc,oc=null,Ft=t):Ft=i):Ft=ye?Je(t.stateNode.nextSibling):null;return!0}function jo(){Ft=ye=null,wt=!1}function nh(){var t=gi;return t!==null&&(Ae===null?Ae=t:Ae.push.apply(Ae,t),gi=null),t}function ta(t){gi===null?gi=[t]:gi.push(t)}var kr=Q(null),vi=null,gn=null;function Vn(t,i,a){j(kr,i._currentValue),i._currentValue=a}function yn(t){t._currentValue=kr.current,nt(kr)}function Or(t,i,a){for(;t!==null;){var r=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),t===a)break;t=t.return}}function Gr(t,i,a,r){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var g=f.dependencies;if(g!==null){var T=f.child;g=g.firstContext;t:for(;g!==null;){var b=g;g=f;for(var M=0;M<i.length;M++)if(b.context===i[M]){g.lanes|=a,b=g.alternate,b!==null&&(b.lanes|=a),Or(g.return,a,t),r||(T=null);break t}g=b.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,g=T.alternate,g!==null&&(g.lanes|=a),Or(T,a,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function ea(t,i,a,r){t=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var b=f.type;De(f.pendingProps.value,T.value)||(t!==null?t.push(b):t=[b])}}else if(f===_e.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Da):t=[Da])}f=f.return}t!==null&&Gr(i,t,a,r),i.flags|=262144}function ws(t){for(t=t.firstContext;t!==null;){if(!De(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ti(t){vi=t,gn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function he(t){return ih(vi,t)}function Rs(t,i){return vi===null&&Ti(t),ih(t,i)}function ih(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},gn===null){if(t===null)throw Error(s(308));gn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else gn=gn.next=i;return a}var PS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,r){t.push(r)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},VS=o.unstable_scheduleCallback,BS=o.unstable_NormalPriority,te={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qr(){return{controller:new PS,data:new Map,refCount:0}}function na(t){t.refCount--,t.refCount===0&&VS(BS,function(){t.controller.abort()})}var ia=null,Hr=0,eo=0,no=null;function IS(t,i){if(ia===null){var a=ia=[];Hr=0,eo=Yu(),no={status:"pending",value:void 0,then:function(r){a.push(r)}}}return Hr++,i.then(oh,oh),i}function oh(){if(--Hr===0&&ia!==null){no!==null&&(no.status="fulfilled");var t=ia;ia=null,eo=0,no=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function US(t,i){var a=[],r={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){r.status="fulfilled",r.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(r.status="rejected",r.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),r}var ah=V.S;V.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&IS(t,i),ah!==null&&ah(t,i)};var Si=Q(null);function Fr(){var t=Si.current;return t!==null?t:Ut.pooledCache}function Ds(t,i){i===null?j(Si,Si.current):j(Si,i.pool)}function sh(){var t=Fr();return t===null?null:{parent:te._currentValue,pool:t}}var oa=Error(s(460)),lh=Error(s(474)),Ns=Error(s(542)),Yr={then:function(){}};function rh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ls(){}function uh(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Ls,Ls),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,fh(t),t;default:if(typeof i.status=="string")i.then(Ls,Ls);else{if(t=Ut,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(r){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=r}},function(r){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,fh(t),t}throw aa=i,oa}}var aa=null;function ch(){if(aa===null)throw Error(s(459));var t=aa;return aa=null,t}function fh(t){if(t===oa||t===Ns)throw Error(s(483))}var Bn=!1;function Kr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qr(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function In(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Un(t,i,a){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Rt&2)!==0){var f=r.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),r.pending=i,i=As(t),Jd(t,null,a),i}return Cs(t,r,i,a),As(t)}function sa(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var r=i.lanes;r&=t.pendingLanes,a|=r,i.lanes=a,od(t,a)}}function Xr(t,i){var a=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?f=g=T:g=g.next=T,a=a.next}while(a!==null);g===null?f=g=i:g=g.next=i}else f=g=i;a={baseState:r.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:r.shared,callbacks:r.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Zr=!1;function la(){if(Zr){var t=no;if(t!==null)throw t}}function ra(t,i,a,r){Zr=!1;var f=t.updateQueue;Bn=!1;var g=f.firstBaseUpdate,T=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var M=b,B=M.next;M.next=null,T===null?g=B:T.next=B,T=M;var O=t.alternate;O!==null&&(O=O.updateQueue,b=O.lastBaseUpdate,b!==T&&(b===null?O.firstBaseUpdate=B:b.next=B,O.lastBaseUpdate=M))}if(g!==null){var Y=f.baseState;T=0,O=B=M=null,b=g;do{var I=b.lane&-536870913,U=I!==b.lane;if(U?(At&I)===I:(r&I)===I){I!==0&&I===eo&&(Zr=!0),O!==null&&(O=O.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var ht=t,ct=b;I=i;var Vt=a;switch(ct.tag){case 1:if(ht=ct.payload,typeof ht=="function"){Y=ht.call(Vt,Y,I);break t}Y=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=ct.payload,I=typeof ht=="function"?ht.call(Vt,Y,I):ht,I==null)break t;Y=v({},Y,I);break t;case 2:Bn=!0}}I=b.callback,I!==null&&(t.flags|=64,U&&(t.flags|=8192),U=f.callbacks,U===null?f.callbacks=[I]:U.push(I))}else U={lane:I,tag:b.tag,payload:b.payload,callback:b.callback,next:null},O===null?(B=O=U,M=Y):O=O.next=U,T|=I;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;U=b,b=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);O===null&&(M=Y),f.baseState=M,f.firstBaseUpdate=B,f.lastBaseUpdate=O,g===null&&(f.shared.lanes=0),Yn|=T,t.lanes=T,t.memoizedState=Y}}function dh(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function hh(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)dh(a[t],i)}var io=Q(null),Ps=Q(0);function ph(t,i){t=An,j(Ps,t),j(io,i),An=t|i.baseLanes}function $r(){j(Ps,An),j(io,io.current)}function Jr(){An=Ps.current,nt(io),nt(Ps)}var zn=0,St=null,Lt=null,Jt=null,Vs=!1,oo=!1,Ei=!1,Bs=0,ua=0,ao=null,zS=0;function Xt(){throw Error(s(321))}function Wr(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!De(t[a],i[a]))return!1;return!0}function jr(t,i,a,r,f,g){return zn=g,St=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,V.H=t===null||t.memoizedState===null?Jh:Wh,Ei=!1,g=a(r,f),Ei=!1,oo&&(g=gh(i,a,r,f)),mh(t),g}function mh(t){V.H=Gs;var i=Lt!==null&&Lt.next!==null;if(zn=0,Jt=Lt=St=null,Vs=!1,ua=0,ao=null,i)throw Error(s(300));t===null||ie||(t=t.dependencies,t!==null&&ws(t)&&(ie=!0))}function gh(t,i,a,r){St=t;var f=0;do{if(oo&&(ao=null),ua=0,oo=!1,25<=f)throw Error(s(301));if(f+=1,Jt=Lt=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}V.H=YS,g=i(a,r)}while(oo);return g}function kS(){var t=V.H,i=t.useState()[0];return i=typeof i.then=="function"?ca(i):i,t=t.useState()[0],(Lt!==null?Lt.memoizedState:null)!==t&&(St.flags|=1024),i}function tu(){var t=Bs!==0;return Bs=0,t}function eu(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function nu(t){if(Vs){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Vs=!1}zn=0,Jt=Lt=St=null,oo=!1,ua=Bs=0,ao=null}function be(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?St.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function Wt(){if(Lt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var i=Jt===null?St.memoizedState:Jt.next;if(i!==null)Jt=i,Lt=t;else{if(t===null)throw St.alternate===null?Error(s(467)):Error(s(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Jt===null?St.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function iu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ca(t){var i=ua;return ua+=1,ao===null&&(ao=[]),t=uh(ao,t,i),i=St,(Jt===null?i.memoizedState:Jt.next)===null&&(i=i.alternate,V.H=i===null||i.memoizedState===null?Jh:Wh),t}function Is(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ca(t);if(t.$$typeof===N)return he(t)}throw Error(s(438,String(t)))}function ou(t){var i=null,a=St.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var r=St.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=iu(),St.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),r=0;r<t;r++)a[r]=lt;return i.index++,a}function vn(t,i){return typeof i=="function"?i(t):i}function Us(t){var i=Wt();return au(i,Lt,t)}function au(t,i,a){var r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=a;var f=t.baseQueue,g=r.pending;if(g!==null){if(f!==null){var T=f.next;f.next=g.next,g.next=T}i.baseQueue=f=g,r.pending=null}if(g=t.baseState,f===null)t.memoizedState=g;else{i=f.next;var b=T=null,M=null,B=i,O=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(At&Y)===Y:(zn&Y)===Y){var I=B.revertLane;if(I===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===eo&&(O=!0);else if((zn&I)===I){B=B.next,I===eo&&(O=!0);continue}else Y={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(b=M=Y,T=g):M=M.next=Y,St.lanes|=I,Yn|=I;Y=B.action,Ei&&a(g,Y),g=B.hasEagerState?B.eagerState:a(g,Y)}else I={lane:Y,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(b=M=I,T=g):M=M.next=I,St.lanes|=Y,Yn|=Y;B=B.next}while(B!==null&&B!==i);if(M===null?T=g:M.next=b,!De(g,t.memoizedState)&&(ie=!0,O&&(a=no,a!==null)))throw a;t.memoizedState=g,t.baseState=T,t.baseQueue=M,r.lastRenderedState=g}return f===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function su(t){var i=Wt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var r=a.dispatch,f=a.pending,g=i.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do g=t(g,T.action),T=T.next;while(T!==f);De(g,i.memoizedState)||(ie=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,r]}function yh(t,i,a){var r=St,f=Wt(),g=wt;if(g){if(a===void 0)throw Error(s(407));a=a()}else a=i();var T=!De((Lt||f).memoizedState,a);T&&(f.memoizedState=a,ie=!0),f=f.queue;var b=Sh.bind(null,r,f,t);if(fa(2048,8,b,[t]),f.getSnapshot!==i||T||Jt!==null&&Jt.memoizedState.tag&1){if(r.flags|=2048,so(9,zs(),Th.bind(null,r,f,a,i),null),Ut===null)throw Error(s(349));g||(zn&124)!==0||vh(r,i,a)}return a}function vh(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=St.updateQueue,i===null?(i=iu(),St.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Th(t,i,a,r){i.value=a,i.getSnapshot=r,Eh(i)&&bh(t)}function Sh(t,i,a){return a(function(){Eh(i)&&bh(t)})}function Eh(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!De(t,a)}catch{return!0}}function bh(t){var i=Ji(t,2);i!==null&&Ie(i,t,2)}function lu(t){var i=be();if(typeof t=="function"){var a=t;if(t=a(),Ei){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:t},i}function Ch(t,i,a,r){return t.baseState=a,au(t,Lt,typeof r=="function"?r:vn)}function OS(t,i,a,r,f){if(Os(t))throw Error(s(485));if(t=i.action,t!==null){var g={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};V.T!==null?a(!0):g.isTransition=!1,r(g),a=i.pending,a===null?(g.next=i.pending=g,Ah(i,g)):(g.next=a.next,i.pending=a.next=g)}}function Ah(t,i){var a=i.action,r=i.payload,f=t.state;if(i.isTransition){var g=V.T,T={};V.T=T;try{var b=a(f,r),M=V.S;M!==null&&M(T,b),Mh(t,i,b)}catch(B){ru(t,i,B)}finally{V.T=g}}else try{g=a(f,r),Mh(t,i,g)}catch(B){ru(t,i,B)}}function Mh(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){xh(t,i,r)},function(r){return ru(t,i,r)}):xh(t,i,a)}function xh(t,i,a){i.status="fulfilled",i.value=a,_h(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ah(t,a)))}function ru(t,i,a){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=a,_h(i),i=i.next;while(i!==r)}t.action=null}function _h(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function wh(t,i){return i}function Rh(t,i){if(wt){var a=Ut.formState;if(a!==null){t:{var r=St;if(wt){if(Ft){e:{for(var f=Ft,g=en;f.nodeType!==8;){if(!g){f=null;break e}if(f=Je(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Ft=Je(f.nextSibling),r=f.data==="F!";break t}}yi(r)}r=!1}r&&(i=a[0])}}return a=be(),a.memoizedState=a.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wh,lastRenderedState:i},a.queue=r,a=Xh.bind(null,St,r),r.dispatch=a,r=lu(!1),g=hu.bind(null,St,!1,r.queue),r=be(),f={state:i,dispatch:null,action:t,pending:null},r.queue=f,a=OS.bind(null,St,f,g,a),f.dispatch=a,r.memoizedState=t,[i,a,!1]}function Dh(t){var i=Wt();return Nh(i,Lt,t)}function Nh(t,i,a){if(i=au(t,i,wh)[0],t=Us(vn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=ca(i)}catch(T){throw T===oa?Ns:T}else r=i;i=Wt();var f=i.queue,g=f.dispatch;return a!==i.memoizedState&&(St.flags|=2048,so(9,zs(),GS.bind(null,f,a),null)),[r,g,t]}function GS(t,i){t.action=i}function Lh(t){var i=Wt(),a=Lt;if(a!==null)return Nh(i,a,t);Wt(),i=i.memoizedState,a=Wt();var r=a.queue.dispatch;return a.memoizedState=t,[i,r,!1]}function so(t,i,a,r){return t={tag:t,create:a,deps:r,inst:i,next:null},i=St.updateQueue,i===null&&(i=iu(),St.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(r=a.next,a.next=t,t.next=r,i.lastEffect=t),t}function zs(){return{destroy:void 0,resource:void 0}}function Ph(){return Wt().memoizedState}function ks(t,i,a,r){var f=be();r=r===void 0?null:r,St.flags|=t,f.memoizedState=so(1|i,zs(),a,r)}function fa(t,i,a,r){var f=Wt();r=r===void 0?null:r;var g=f.memoizedState.inst;Lt!==null&&r!==null&&Wr(r,Lt.memoizedState.deps)?f.memoizedState=so(i,g,a,r):(St.flags|=t,f.memoizedState=so(1|i,g,a,r))}function Vh(t,i){ks(8390656,8,t,i)}function Bh(t,i){fa(2048,8,t,i)}function Ih(t,i){return fa(4,2,t,i)}function Uh(t,i){return fa(4,4,t,i)}function zh(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function kh(t,i,a){a=a!=null?a.concat([t]):null,fa(4,4,zh.bind(null,i,t),a)}function uu(){}function Oh(t,i){var a=Wt();i=i===void 0?null:i;var r=a.memoizedState;return i!==null&&Wr(i,r[1])?r[0]:(a.memoizedState=[t,i],t)}function Gh(t,i){var a=Wt();i=i===void 0?null:i;var r=a.memoizedState;if(i!==null&&Wr(i,r[1]))return r[0];if(r=t(),Ei){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[r,i],r}function cu(t,i,a){return a===void 0||(zn&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Fp(),St.lanes|=t,Yn|=t,a)}function qh(t,i,a,r){return De(a,i)?a:io.current!==null?(t=cu(t,a,r),De(t,i)||(ie=!0),t):(zn&42)===0?(ie=!0,t.memoizedState=a):(t=Fp(),St.lanes|=t,Yn|=t,i)}function Hh(t,i,a,r,f){var g=G.p;G.p=g!==0&&8>g?g:8;var T=V.T,b={};V.T=b,hu(t,!1,i,a);try{var M=f(),B=V.S;if(B!==null&&B(b,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var O=US(M,r);da(t,i,O,Be(t))}else da(t,i,r,Be(t))}catch(Y){da(t,i,{then:function(){},status:"rejected",reason:Y},Be())}finally{G.p=g,V.T=T}}function qS(){}function fu(t,i,a,r){if(t.tag!==5)throw Error(s(476));var f=Fh(t).queue;Hh(t,f,i,J,a===null?qS:function(){return Yh(t),a(r)})}function Fh(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:J},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Yh(t){var i=Fh(t).next.queue;da(t,i,{},Be())}function du(){return he(Da)}function Kh(){return Wt().memoizedState}function Qh(){return Wt().memoizedState}function HS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Be();t=In(a);var r=Un(i,t,a);r!==null&&(Ie(r,i,a),sa(r,i,a)),i={cache:qr()},t.payload=i;return}i=i.return}}function FS(t,i,a){var r=Be();a={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Os(t)?Zh(i,a):(a=Lr(t,i,a,r),a!==null&&(Ie(a,t,r),$h(a,i,r)))}function Xh(t,i,a){var r=Be();da(t,i,a,r)}function da(t,i,a,r){var f={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Os(t))Zh(i,f);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var T=i.lastRenderedState,b=g(T,a);if(f.hasEagerState=!0,f.eagerState=b,De(b,T))return Cs(t,i,f,0),Ut===null&&bs(),!1}catch{}finally{}if(a=Lr(t,i,f,r),a!==null)return Ie(a,t,r),$h(a,i,r),!0}return!1}function hu(t,i,a,r){if(r={lane:2,revertLane:Yu(),action:r,hasEagerState:!1,eagerState:null,next:null},Os(t)){if(i)throw Error(s(479))}else i=Lr(t,a,r,2),i!==null&&Ie(i,t,2)}function Os(t){var i=t.alternate;return t===St||i!==null&&i===St}function Zh(t,i){oo=Vs=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function $h(t,i,a){if((a&4194048)!==0){var r=i.lanes;r&=t.pendingLanes,a|=r,i.lanes=a,od(t,a)}}var Gs={readContext:he,use:Is,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt},Jh={readContext:he,use:Is,useCallback:function(t,i){return be().memoizedState=[t,i===void 0?null:i],t},useContext:he,useEffect:Vh,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ks(4194308,4,zh.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ks(4194308,4,t,i)},useInsertionEffect:function(t,i){ks(4,2,t,i)},useMemo:function(t,i){var a=be();i=i===void 0?null:i;var r=t();if(Ei){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[r,i],r},useReducer:function(t,i,a){var r=be();if(a!==void 0){var f=a(i);if(Ei){Nn(!0);try{a(i)}finally{Nn(!1)}}}else f=i;return r.memoizedState=r.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},r.queue=t,t=t.dispatch=FS.bind(null,St,t),[r.memoizedState,t]},useRef:function(t){var i=be();return t={current:t},i.memoizedState=t},useState:function(t){t=lu(t);var i=t.queue,a=Xh.bind(null,St,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:uu,useDeferredValue:function(t,i){var a=be();return cu(a,t,i)},useTransition:function(){var t=lu(!1);return t=Hh.bind(null,St,t.queue,!0,!1),be().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var r=St,f=be();if(wt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ut===null)throw Error(s(349));(At&124)!==0||vh(r,i,a)}f.memoizedState=a;var g={value:a,getSnapshot:i};return f.queue=g,Vh(Sh.bind(null,r,g,t),[t]),r.flags|=2048,so(9,zs(),Th.bind(null,r,g,a,i),null),a},useId:function(){var t=be(),i=Ut.identifierPrefix;if(wt){var a=mn,r=pn;a=(r&~(1<<32-Re(r)-1)).toString(32)+a,i=""+i+"R"+a,a=Bs++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=zS++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:du,useFormState:Rh,useActionState:Rh,useOptimistic:function(t){var i=be();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=hu.bind(null,St,!0,a),a.dispatch=i,[t,i]},useMemoCache:ou,useCacheRefresh:function(){return be().memoizedState=HS.bind(null,St)}},Wh={readContext:he,use:Is,useCallback:Oh,useContext:he,useEffect:Bh,useImperativeHandle:kh,useInsertionEffect:Ih,useLayoutEffect:Uh,useMemo:Gh,useReducer:Us,useRef:Ph,useState:function(){return Us(vn)},useDebugValue:uu,useDeferredValue:function(t,i){var a=Wt();return qh(a,Lt.memoizedState,t,i)},useTransition:function(){var t=Us(vn)[0],i=Wt().memoizedState;return[typeof t=="boolean"?t:ca(t),i]},useSyncExternalStore:yh,useId:Kh,useHostTransitionStatus:du,useFormState:Dh,useActionState:Dh,useOptimistic:function(t,i){var a=Wt();return Ch(a,Lt,t,i)},useMemoCache:ou,useCacheRefresh:Qh},YS={readContext:he,use:Is,useCallback:Oh,useContext:he,useEffect:Bh,useImperativeHandle:kh,useInsertionEffect:Ih,useLayoutEffect:Uh,useMemo:Gh,useReducer:su,useRef:Ph,useState:function(){return su(vn)},useDebugValue:uu,useDeferredValue:function(t,i){var a=Wt();return Lt===null?cu(a,t,i):qh(a,Lt.memoizedState,t,i)},useTransition:function(){var t=su(vn)[0],i=Wt().memoizedState;return[typeof t=="boolean"?t:ca(t),i]},useSyncExternalStore:yh,useId:Kh,useHostTransitionStatus:du,useFormState:Lh,useActionState:Lh,useOptimistic:function(t,i){var a=Wt();return Lt!==null?Ch(a,Lt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ou,useCacheRefresh:Qh},lo=null,ha=0;function qs(t){var i=ha;return ha+=1,lo===null&&(lo=[]),uh(lo,t,i)}function pa(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Hs(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function jh(t){var i=t._init;return i(t._payload)}function tp(t){function i(w,_){if(t){var P=w.deletions;P===null?(w.deletions=[_],w.flags|=16):P.push(_)}}function a(w,_){if(!t)return null;for(;_!==null;)i(w,_),_=_.sibling;return null}function r(w){for(var _=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function f(w,_){return w=hn(w,_),w.index=0,w.sibling=null,w}function g(w,_,P){return w.index=P,t?(P=w.alternate,P!==null?(P=P.index,P<_?(w.flags|=67108866,_):P):(w.flags|=67108866,_)):(w.flags|=1048576,_)}function T(w){return t&&w.alternate===null&&(w.flags|=67108866),w}function b(w,_,P,q){return _===null||_.tag!==6?(_=Vr(P,w.mode,q),_.return=w,_):(_=f(_,P),_.return=w,_)}function M(w,_,P,q){var at=P.type;return at===A?O(w,_,P.props.children,q,P.key):_!==null&&(_.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===H&&jh(at)===_.type)?(_=f(_,P.props),pa(_,P),_.return=w,_):(_=Ms(P.type,P.key,P.props,null,w.mode,q),pa(_,P),_.return=w,_)}function B(w,_,P,q){return _===null||_.tag!==4||_.stateNode.containerInfo!==P.containerInfo||_.stateNode.implementation!==P.implementation?(_=Br(P,w.mode,q),_.return=w,_):(_=f(_,P.children||[]),_.return=w,_)}function O(w,_,P,q,at){return _===null||_.tag!==7?(_=hi(P,w.mode,q,at),_.return=w,_):(_=f(_,P),_.return=w,_)}function Y(w,_,P){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Vr(""+_,w.mode,P),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case E:return P=Ms(_.type,_.key,_.props,null,w.mode,P),pa(P,_),P.return=w,P;case C:return _=Br(_,w.mode,P),_.return=w,_;case H:var q=_._init;return _=q(_._payload),Y(w,_,P)}if(tt(_)||Tt(_))return _=hi(_,w.mode,P,null),_.return=w,_;if(typeof _.then=="function")return Y(w,qs(_),P);if(_.$$typeof===N)return Y(w,Rs(w,_),P);Hs(w,_)}return null}function I(w,_,P,q){var at=_!==null?_.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return at!==null?null:b(w,_,""+P,q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case E:return P.key===at?M(w,_,P,q):null;case C:return P.key===at?B(w,_,P,q):null;case H:return at=P._init,P=at(P._payload),I(w,_,P,q)}if(tt(P)||Tt(P))return at!==null?null:O(w,_,P,q,null);if(typeof P.then=="function")return I(w,_,qs(P),q);if(P.$$typeof===N)return I(w,_,Rs(w,P),q);Hs(w,P)}return null}function U(w,_,P,q,at){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return w=w.get(P)||null,b(_,w,""+q,at);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return w=w.get(q.key===null?P:q.key)||null,M(_,w,q,at);case C:return w=w.get(q.key===null?P:q.key)||null,B(_,w,q,at);case H:var Et=q._init;return q=Et(q._payload),U(w,_,P,q,at)}if(tt(q)||Tt(q))return w=w.get(P)||null,O(_,w,q,at,null);if(typeof q.then=="function")return U(w,_,P,qs(q),at);if(q.$$typeof===N)return U(w,_,P,Rs(_,q),at);Hs(_,q)}return null}function ht(w,_,P,q){for(var at=null,Et=null,st=_,ft=_=0,ae=null;st!==null&&ft<P.length;ft++){st.index>ft?(ae=st,st=null):ae=st.sibling;var _t=I(w,st,P[ft],q);if(_t===null){st===null&&(st=ae);break}t&&st&&_t.alternate===null&&i(w,st),_=g(_t,_,ft),Et===null?at=_t:Et.sibling=_t,Et=_t,st=ae}if(ft===P.length)return a(w,st),wt&&mi(w,ft),at;if(st===null){for(;ft<P.length;ft++)st=Y(w,P[ft],q),st!==null&&(_=g(st,_,ft),Et===null?at=st:Et.sibling=st,Et=st);return wt&&mi(w,ft),at}for(st=r(st);ft<P.length;ft++)ae=U(st,w,ft,P[ft],q),ae!==null&&(t&&ae.alternate!==null&&st.delete(ae.key===null?ft:ae.key),_=g(ae,_,ft),Et===null?at=ae:Et.sibling=ae,Et=ae);return t&&st.forEach(function(ti){return i(w,ti)}),wt&&mi(w,ft),at}function ct(w,_,P,q){if(P==null)throw Error(s(151));for(var at=null,Et=null,st=_,ft=_=0,ae=null,_t=P.next();st!==null&&!_t.done;ft++,_t=P.next()){st.index>ft?(ae=st,st=null):ae=st.sibling;var ti=I(w,st,_t.value,q);if(ti===null){st===null&&(st=ae);break}t&&st&&ti.alternate===null&&i(w,st),_=g(ti,_,ft),Et===null?at=ti:Et.sibling=ti,Et=ti,st=ae}if(_t.done)return a(w,st),wt&&mi(w,ft),at;if(st===null){for(;!_t.done;ft++,_t=P.next())_t=Y(w,_t.value,q),_t!==null&&(_=g(_t,_,ft),Et===null?at=_t:Et.sibling=_t,Et=_t);return wt&&mi(w,ft),at}for(st=r(st);!_t.done;ft++,_t=P.next())_t=U(st,w,ft,_t.value,q),_t!==null&&(t&&_t.alternate!==null&&st.delete(_t.key===null?ft:_t.key),_=g(_t,_,ft),Et===null?at=_t:Et.sibling=_t,Et=_t);return t&&st.forEach(function(KE){return i(w,KE)}),wt&&mi(w,ft),at}function Vt(w,_,P,q){if(typeof P=="object"&&P!==null&&P.type===A&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case E:t:{for(var at=P.key;_!==null;){if(_.key===at){if(at=P.type,at===A){if(_.tag===7){a(w,_.sibling),q=f(_,P.props.children),q.return=w,w=q;break t}}else if(_.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===H&&jh(at)===_.type){a(w,_.sibling),q=f(_,P.props),pa(q,P),q.return=w,w=q;break t}a(w,_);break}else i(w,_);_=_.sibling}P.type===A?(q=hi(P.props.children,w.mode,q,P.key),q.return=w,w=q):(q=Ms(P.type,P.key,P.props,null,w.mode,q),pa(q,P),q.return=w,w=q)}return T(w);case C:t:{for(at=P.key;_!==null;){if(_.key===at)if(_.tag===4&&_.stateNode.containerInfo===P.containerInfo&&_.stateNode.implementation===P.implementation){a(w,_.sibling),q=f(_,P.children||[]),q.return=w,w=q;break t}else{a(w,_);break}else i(w,_);_=_.sibling}q=Br(P,w.mode,q),q.return=w,w=q}return T(w);case H:return at=P._init,P=at(P._payload),Vt(w,_,P,q)}if(tt(P))return ht(w,_,P,q);if(Tt(P)){if(at=Tt(P),typeof at!="function")throw Error(s(150));return P=at.call(P),ct(w,_,P,q)}if(typeof P.then=="function")return Vt(w,_,qs(P),q);if(P.$$typeof===N)return Vt(w,_,Rs(w,P),q);Hs(w,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,_!==null&&_.tag===6?(a(w,_.sibling),q=f(_,P),q.return=w,w=q):(a(w,_),q=Vr(P,w.mode,q),q.return=w,w=q),T(w)):a(w,_)}return function(w,_,P,q){try{ha=0;var at=Vt(w,_,P,q);return lo=null,at}catch(st){if(st===oa||st===Ns)throw st;var Et=Ne(29,st,null,w.mode);return Et.lanes=q,Et.return=w,Et}finally{}}}var ro=tp(!0),ep=tp(!1),He=Q(null),nn=null;function kn(t){var i=t.alternate;j(ee,ee.current&1),j(He,t),nn===null&&(i===null||io.current!==null||i.memoizedState!==null)&&(nn=t)}function np(t){if(t.tag===22){if(j(ee,ee.current),j(He,t),nn===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(nn=t)}}else On()}function On(){j(ee,ee.current),j(He,He.current)}function Tn(t){nt(He),nn===t&&(nn=null),nt(ee)}var ee=Q(0);function Fs(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ic(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function pu(t,i,a,r){i=t.memoizedState,a=a(r,i),a=a==null?i:v({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var mu={enqueueSetState:function(t,i,a){t=t._reactInternals;var r=Be(),f=In(r);f.payload=i,a!=null&&(f.callback=a),i=Un(t,f,r),i!==null&&(Ie(i,t,r),sa(i,t,r))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var r=Be(),f=In(r);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Un(t,f,r),i!==null&&(Ie(i,t,r),sa(i,t,r))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Be(),r=In(a);r.tag=2,i!=null&&(r.callback=i),i=Un(t,r,a),i!==null&&(Ie(i,t,a),sa(i,t,a))}};function ip(t,i,a,r,f,g,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,g,T):i.prototype&&i.prototype.isPureReactComponent?!$o(a,r)||!$o(f,g):!0}function op(t,i,a,r){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,r),i.state!==t&&mu.enqueueReplaceState(i,i.state,null)}function bi(t,i){var a=i;if("ref"in i){a={};for(var r in i)r!=="ref"&&(a[r]=i[r])}if(t=t.defaultProps){a===i&&(a=v({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var Ys=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ap(t){Ys(t)}function sp(t){console.error(t)}function lp(t){Ys(t)}function Ks(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function rp(t,i,a){try{var r=t.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function gu(t,i,a){return a=In(a),a.tag=3,a.payload={element:null},a.callback=function(){Ks(t,i)},a}function up(t){return t=In(t),t.tag=3,t}function cp(t,i,a,r){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var g=r.value;t.payload=function(){return f(g)},t.callback=function(){rp(i,a,r)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){rp(i,a,r),typeof f!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var b=r.stack;this.componentDidCatch(r.value,{componentStack:b!==null?b:""})})}function KS(t,i,a,r,f){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=a.alternate,i!==null&&ea(i,a,f,!0),a=He.current,a!==null){switch(a.tag){case 13:return nn===null?Ou():a.alternate===null&&Yt===0&&(Yt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,r===Yr?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([r]):i.add(r),qu(t,r,f)),!1;case 22:return a.flags|=65536,r===Yr?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([r]):a.add(r)),qu(t,r,f)),!1}throw Error(s(435,a.tag))}return qu(t,r,f),Ou(),!1}if(wt)return i=He.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,r!==zr&&(t=Error(s(422),{cause:r}),ta(ke(t,a)))):(r!==zr&&(i=Error(s(423),{cause:r}),ta(ke(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,r=ke(r,a),f=gu(t.stateNode,r,f),Xr(t,f),Yt!==4&&(Yt=2)),!1;var g=Error(s(520),{cause:r});if(g=ke(g,a),Ea===null?Ea=[g]:Ea.push(g),Yt!==4&&(Yt=2),i===null)return!0;r=ke(r,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=gu(a.stateNode,r,t),Xr(a,t),!1;case 1:if(i=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Kn===null||!Kn.has(g))))return a.flags|=65536,f&=-f,a.lanes|=f,f=up(f),cp(f,t,a,r),Xr(a,f),!1}a=a.return}while(a!==null);return!1}var fp=Error(s(461)),ie=!1;function se(t,i,a,r){i.child=t===null?ep(i,null,a,r):ro(i,t.child,a,r)}function dp(t,i,a,r,f){a=a.render;var g=i.ref;if("ref"in r){var T={};for(var b in r)b!=="ref"&&(T[b]=r[b])}else T=r;return Ti(i),r=jr(t,i,a,T,g,f),b=tu(),t!==null&&!ie?(eu(t,i,f),Sn(t,i,f)):(wt&&b&&Ir(i),i.flags|=1,se(t,i,r,f),i.child)}function hp(t,i,a,r,f){if(t===null){var g=a.type;return typeof g=="function"&&!Pr(g)&&g.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=g,pp(t,i,g,r,f)):(t=Ms(a.type,null,r,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(g=t.child,!Au(t,f)){var T=g.memoizedProps;if(a=a.compare,a=a!==null?a:$o,a(T,r)&&t.ref===i.ref)return Sn(t,i,f)}return i.flags|=1,t=hn(g,r),t.ref=i.ref,t.return=i,i.child=t}function pp(t,i,a,r,f){if(t!==null){var g=t.memoizedProps;if($o(g,r)&&t.ref===i.ref)if(ie=!1,i.pendingProps=r=g,Au(t,f))(t.flags&131072)!==0&&(ie=!0);else return i.lanes=t.lanes,Sn(t,i,f)}return yu(t,i,a,r,f)}function mp(t,i,a){var r=i.pendingProps,f=r.children,g=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if((i.flags&128)!==0){if(r=g!==null?g.baseLanes|a:a,t!==null){for(f=i.child=t.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;i.childLanes=g&~r}else i.childLanes=0,i.child=null;return gp(t,i,r,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ds(i,g!==null?g.cachePool:null),g!==null?ph(i,g):$r(),np(i);else return i.lanes=i.childLanes=536870912,gp(t,i,g!==null?g.baseLanes|a:a,a)}else g!==null?(Ds(i,g.cachePool),ph(i,g),On(),i.memoizedState=null):(t!==null&&Ds(i,null),$r(),On());return se(t,i,f,a),i.child}function gp(t,i,a,r){var f=Fr();return f=f===null?null:{parent:te._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Ds(i,null),$r(),np(i),t!==null&&ea(t,i,r,!0),null}function Qs(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function yu(t,i,a,r,f){return Ti(i),a=jr(t,i,a,r,void 0,f),r=tu(),t!==null&&!ie?(eu(t,i,f),Sn(t,i,f)):(wt&&r&&Ir(i),i.flags|=1,se(t,i,a,f),i.child)}function yp(t,i,a,r,f,g){return Ti(i),i.updateQueue=null,a=gh(i,r,a,f),mh(t),r=tu(),t!==null&&!ie?(eu(t,i,g),Sn(t,i,g)):(wt&&r&&Ir(i),i.flags|=1,se(t,i,a,g),i.child)}function vp(t,i,a,r,f){if(Ti(i),i.stateNode===null){var g=Wi,T=a.contextType;typeof T=="object"&&T!==null&&(g=he(T)),g=new a(r,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=mu,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=r,g.state=i.memoizedState,g.refs={},Kr(i),T=a.contextType,g.context=typeof T=="object"&&T!==null?he(T):Wi,g.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(pu(i,a,T,r),g.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&mu.enqueueReplaceState(g,g.state,null),ra(i,r,g,f),la(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(t===null){g=i.stateNode;var b=i.memoizedProps,M=bi(a,b);g.props=M;var B=g.context,O=a.contextType;T=Wi,typeof O=="object"&&O!==null&&(T=he(O));var Y=a.getDerivedStateFromProps;O=typeof Y=="function"||typeof g.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,O||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b||B!==T)&&op(i,g,r,T),Bn=!1;var I=i.memoizedState;g.state=I,ra(i,r,g,f),la(),B=i.memoizedState,b||I!==B||Bn?(typeof Y=="function"&&(pu(i,a,Y,r),B=i.memoizedState),(M=Bn||ip(i,a,M,r,I,B,T))?(O||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=B),g.props=r,g.state=B,g.context=T,r=M):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{g=i.stateNode,Qr(t,i),T=i.memoizedProps,O=bi(a,T),g.props=O,Y=i.pendingProps,I=g.context,B=a.contextType,M=Wi,typeof B=="object"&&B!==null&&(M=he(B)),b=a.getDerivedStateFromProps,(B=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==Y||I!==M)&&op(i,g,r,M),Bn=!1,I=i.memoizedState,g.state=I,ra(i,r,g,f),la();var U=i.memoizedState;T!==Y||I!==U||Bn||t!==null&&t.dependencies!==null&&ws(t.dependencies)?(typeof b=="function"&&(pu(i,a,b,r),U=i.memoizedState),(O=Bn||ip(i,a,O,r,I,U,M)||t!==null&&t.dependencies!==null&&ws(t.dependencies))?(B||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(r,U,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(r,U,M)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=U),g.props=r,g.state=U,g.context=M,r=O):(typeof g.componentDidUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=1024),r=!1)}return g=r,Qs(t,i),r=(i.flags&128)!==0,g||r?(g=i.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,t!==null&&r?(i.child=ro(i,t.child,null,f),i.child=ro(i,null,a,f)):se(t,i,a,f),i.memoizedState=g.state,t=i.child):t=Sn(t,i,f),t}function Tp(t,i,a,r){return jo(),i.flags|=256,se(t,i,a,r),i.child}var vu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tu(t){return{baseLanes:t,cachePool:sh()}}function Su(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Fe),t}function Sp(t,i,a){var r=i.pendingProps,f=!1,g=(i.flags&128)!==0,T;if((T=g)||(T=t!==null&&t.memoizedState===null?!1:(ee.current&2)!==0),T&&(f=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(wt){if(f?kn(i):On(),wt){var b=Ft,M;if(M=b){t:{for(M=b,b=en;M.nodeType!==8;){if(!b){b=null;break t}if(M=Je(M.nextSibling),M===null){b=null;break t}}b=M}b!==null?(i.memoizedState={dehydrated:b,treeContext:pi!==null?{id:pn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},M=Ne(18,null,null,0),M.stateNode=b,M.return=i,i.child=M,ye=i,Ft=null,M=!0):M=!1}M||yi(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return ic(b)?i.lanes=32:i.lanes=536870912,null;Tn(i)}return b=r.children,r=r.fallback,f?(On(),f=i.mode,b=Xs({mode:"hidden",children:b},f),r=hi(r,f,a,null),b.return=i,r.return=i,b.sibling=r,i.child=b,f=i.child,f.memoizedState=Tu(a),f.childLanes=Su(t,T,a),i.memoizedState=vu,r):(kn(i),Eu(i,b))}if(M=t.memoizedState,M!==null&&(b=M.dehydrated,b!==null)){if(g)i.flags&256?(kn(i),i.flags&=-257,i=bu(t,i,a)):i.memoizedState!==null?(On(),i.child=t.child,i.flags|=128,i=null):(On(),f=r.fallback,b=i.mode,r=Xs({mode:"visible",children:r.children},b),f=hi(f,b,a,null),f.flags|=2,r.return=i,f.return=i,r.sibling=f,i.child=r,ro(i,t.child,null,a),r=i.child,r.memoizedState=Tu(a),r.childLanes=Su(t,T,a),i.memoizedState=vu,i=f);else if(kn(i),ic(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var B=T.dgst;T=B,r=Error(s(419)),r.stack="",r.digest=T,ta({value:r,source:null,stack:null}),i=bu(t,i,a)}else if(ie||ea(t,i,a,!1),T=(a&t.childLanes)!==0,ie||T){if(T=Ut,T!==null&&(r=a&-a,r=(r&42)!==0?1:or(r),r=(r&(T.suspendedLanes|a))!==0?0:r,r!==0&&r!==M.retryLane))throw M.retryLane=r,Ji(t,r),Ie(T,t,r),fp;b.data==="$?"||Ou(),i=bu(t,i,a)}else b.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=M.treeContext,Ft=Je(b.nextSibling),ye=i,wt=!0,gi=null,en=!1,t!==null&&(Ge[qe++]=pn,Ge[qe++]=mn,Ge[qe++]=pi,pn=t.id,mn=t.overflow,pi=i),i=Eu(i,r.children),i.flags|=4096);return i}return f?(On(),f=r.fallback,b=i.mode,M=t.child,B=M.sibling,r=hn(M,{mode:"hidden",children:r.children}),r.subtreeFlags=M.subtreeFlags&65011712,B!==null?f=hn(B,f):(f=hi(f,b,a,null),f.flags|=2),f.return=i,r.return=i,r.sibling=f,i.child=r,r=f,f=i.child,b=t.child.memoizedState,b===null?b=Tu(a):(M=b.cachePool,M!==null?(B=te._currentValue,M=M.parent!==B?{parent:B,pool:B}:M):M=sh(),b={baseLanes:b.baseLanes|a,cachePool:M}),f.memoizedState=b,f.childLanes=Su(t,T,a),i.memoizedState=vu,r):(kn(i),a=t.child,t=a.sibling,a=hn(a,{mode:"visible",children:r.children}),a.return=i,a.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=a,i.memoizedState=null,a)}function Eu(t,i){return i=Xs({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Xs(t,i){return t=Ne(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function bu(t,i,a){return ro(i,t.child,null,a),t=Eu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ep(t,i,a){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i),Or(t.return,i,a)}function Cu(t,i,a,r,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=r,g.tail=a,g.tailMode=f)}function bp(t,i,a){var r=i.pendingProps,f=r.revealOrder,g=r.tail;if(se(t,i,r.children,a),r=ee.current,(r&2)!==0)r=r&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ep(t,a,i);else if(t.tag===19)Ep(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break t;for(;t.sibling===null;){if(t.return===null||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(j(ee,r),f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&Fs(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Cu(i,!1,f,a,g);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Fs(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Cu(i,!0,a,null,g);break;case"together":Cu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Sn(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Yn|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ea(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=hn(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=hn(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Au(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ws(t)))}function QS(t,i,a){switch(i.tag){case 3:kt(i,i.stateNode.containerInfo),Vn(i,te,t.memoizedState.cache),jo();break;case 27:case 5:jl(i);break;case 4:kt(i,i.stateNode.containerInfo);break;case 10:Vn(i,i.type,i.memoizedProps.value);break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(kn(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Sp(t,i,a):(kn(i),t=Sn(t,i,a),t!==null?t.sibling:null);kn(i);break;case 19:var f=(t.flags&128)!==0;if(r=(a&i.childLanes)!==0,r||(ea(t,i,a,!1),r=(a&i.childLanes)!==0),f){if(r)return bp(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),j(ee,ee.current),r)break;return null;case 22:case 23:return i.lanes=0,mp(t,i,a);case 24:Vn(i,te,t.memoizedState.cache)}return Sn(t,i,a)}function Cp(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)ie=!0;else{if(!Au(t,a)&&(i.flags&128)===0)return ie=!1,QS(t,i,a);ie=(t.flags&131072)!==0}else ie=!1,wt&&(i.flags&1048576)!==0&&jd(i,_s,i.index);switch(i.lanes=0,i.tag){case 16:t:{t=i.pendingProps;var r=i.elementType,f=r._init;if(r=f(r._payload),i.type=r,typeof r=="function")Pr(r)?(t=bi(r,t),i.tag=1,i=vp(null,i,r,t,a)):(i.tag=0,i=yu(null,i,r,t,a));else{if(r!=null){if(f=r.$$typeof,f===K){i.tag=11,i=dp(null,i,r,t,a);break t}else if(f===Z){i.tag=14,i=hp(null,i,r,t,a);break t}}throw i=$(r)||r,Error(s(306,i,""))}}return i;case 0:return yu(t,i,i.type,i.pendingProps,a);case 1:return r=i.type,f=bi(r,i.pendingProps),vp(t,i,r,f,a);case 3:t:{if(kt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));r=i.pendingProps;var g=i.memoizedState;f=g.element,Qr(t,i),ra(i,r,null,a);var T=i.memoizedState;if(r=T.cache,Vn(i,te,r),r!==g.cache&&Gr(i,[te],a,!0),la(),r=T.element,g.isDehydrated)if(g={element:r,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=Tp(t,i,r,a);break t}else if(r!==f){f=ke(Error(s(424)),i),ta(f),i=Tp(t,i,r,a);break t}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ft=Je(t.firstChild),ye=i,wt=!0,gi=null,en=!0,a=ep(i,null,r,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(jo(),r===f){i=Sn(t,i,a);break t}se(t,i,r,a)}i=i.child}return i;case 26:return Qs(t,i),t===null?(a=_m(i.type,null,i.pendingProps,null))?i.memoizedState=a:wt||(a=i.type,t=i.pendingProps,r=rl(mt.current).createElement(a),r[de]=i,r[Se]=t,re(r,a,t),ne(r),i.stateNode=r):i.memoizedState=_m(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return jl(i),t===null&&wt&&(r=i.stateNode=Am(i.type,i.pendingProps,mt.current),ye=i,en=!0,f=Ft,Zn(i.type)?(oc=f,Ft=Je(r.firstChild)):Ft=f),se(t,i,i.pendingProps.children,a),Qs(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&wt&&((f=r=Ft)&&(r=EE(r,i.type,i.pendingProps,en),r!==null?(i.stateNode=r,ye=i,Ft=Je(r.firstChild),en=!1,f=!0):f=!1),f||yi(i)),jl(i),f=i.type,g=i.pendingProps,T=t!==null?t.memoizedProps:null,r=g.children,tc(f,g)?r=null:T!==null&&tc(f,T)&&(i.flags|=32),i.memoizedState!==null&&(f=jr(t,i,kS,null,null,a),Da._currentValue=f),Qs(t,i),se(t,i,r,a),i.child;case 6:return t===null&&wt&&((t=a=Ft)&&(a=bE(a,i.pendingProps,en),a!==null?(i.stateNode=a,ye=i,Ft=null,t=!0):t=!1),t||yi(i)),null;case 13:return Sp(t,i,a);case 4:return kt(i,i.stateNode.containerInfo),r=i.pendingProps,t===null?i.child=ro(i,null,r,a):se(t,i,r,a),i.child;case 11:return dp(t,i,i.type,i.pendingProps,a);case 7:return se(t,i,i.pendingProps,a),i.child;case 8:return se(t,i,i.pendingProps.children,a),i.child;case 12:return se(t,i,i.pendingProps.children,a),i.child;case 10:return r=i.pendingProps,Vn(i,i.type,r.value),se(t,i,r.children,a),i.child;case 9:return f=i.type._context,r=i.pendingProps.children,Ti(i),f=he(f),r=r(f),i.flags|=1,se(t,i,r,a),i.child;case 14:return hp(t,i,i.type,i.pendingProps,a);case 15:return pp(t,i,i.type,i.pendingProps,a);case 19:return bp(t,i,a);case 31:return r=i.pendingProps,a=i.mode,r={mode:r.mode,children:r.children},t===null?(a=Xs(r,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=hn(t.child,r),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return mp(t,i,a);case 24:return Ti(i),r=he(te),t===null?(f=Fr(),f===null&&(f=Ut,g=qr(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=a),f=g),i.memoizedState={parent:r,cache:f},Kr(i),Vn(i,te,f)):((t.lanes&a)!==0&&(Qr(t,i),ra(i,null,null,a),la()),f=t.memoizedState,g=i.memoizedState,f.parent!==r?(f={parent:r,cache:r},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Vn(i,te,r)):(r=g.cache,Vn(i,te,r),r!==f.cache&&Gr(i,[te],a,!0))),se(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function En(t){t.flags|=4}function Ap(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Lm(i)){if(i=He.current,i!==null&&((At&4194048)===At?nn!==null:(At&62914560)!==At&&(At&536870912)===0||i!==nn))throw aa=Yr,lh;t.flags|=8192}}function Zs(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?nd():536870912,t.lanes|=i,ho|=i)}function ma(t,i){if(!wt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,r=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,r|=f.subtreeFlags&65011712,r|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,r|=f.subtreeFlags,r|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=r,t.childLanes=a,i}function XS(t,i,a){var r=i.pendingProps;switch(Ur(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(i),null;case 1:return qt(i),null;case 3:return a=i.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),yn(te),Dn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Wo(i)?En(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,nh())),qt(i),null;case 26:return a=i.memoizedState,t===null?(En(i),a!==null?(qt(i),Ap(i,a)):(qt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(En(i),qt(i),Ap(i,a)):(qt(i),i.flags&=-16777217):(t.memoizedProps!==r&&En(i),qt(i),i.flags&=-16777217),null;case 27:ss(i),a=mt.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==r&&En(i);else{if(!r){if(i.stateNode===null)throw Error(s(166));return qt(i),null}t=ut.current,Wo(i)?th(i):(t=Am(f,r,a),i.stateNode=t,En(i))}return qt(i),null;case 5:if(ss(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==r&&En(i);else{if(!r){if(i.stateNode===null)throw Error(s(166));return qt(i),null}if(t=ut.current,Wo(i))th(i);else{switch(f=rl(mt.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?f.createElement("select",{is:r.is}):f.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?f.createElement(a,{is:r.is}):f.createElement(a)}}t[de]=i,t[Se]=r;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;t:switch(re(t,a,r),a){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&En(i)}}return qt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==r&&En(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(s(166));if(t=mt.current,Wo(i)){if(t=i.stateNode,a=i.memoizedProps,r=null,f=ye,f!==null)switch(f.tag){case 27:case 5:r=f.memoizedProps}t[de]=i,t=!!(t.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||ym(t.nodeValue,a)),t||yi(i)}else t=rl(t).createTextNode(r),t[de]=i,i.stateNode=t}return qt(i),null;case 13:if(r=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Wo(i),r!==null&&r.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[de]=i}else jo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;qt(i),f=!1}else f=nh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Tn(i),i):(Tn(i),null)}if(Tn(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=r!==null,t=t!==null&&t.memoizedState!==null,a){r=i.child,f=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(f=r.alternate.memoizedState.cachePool.pool);var g=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(g=r.memoizedState.cachePool.pool),g!==f&&(r.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Zs(i,i.updateQueue),qt(i),null;case 4:return Dn(),t===null&&Zu(i.stateNode.containerInfo),qt(i),null;case 10:return yn(i.type),qt(i),null;case 19:if(nt(ee),f=i.memoizedState,f===null)return qt(i),null;if(r=(i.flags&128)!==0,g=f.rendering,g===null)if(r)ma(f,!1);else{if(Yt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(g=Fs(t),g!==null){for(i.flags|=128,ma(f,!1),t=g.updateQueue,i.updateQueue=t,Zs(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Wd(a,t),a=a.sibling;return j(ee,ee.current&1|2),i.child}t=t.sibling}f.tail!==null&&tn()>Ws&&(i.flags|=128,r=!0,ma(f,!1),i.lanes=4194304)}else{if(!r)if(t=Fs(g),t!==null){if(i.flags|=128,r=!0,t=t.updateQueue,i.updateQueue=t,Zs(i,t),ma(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!wt)return qt(i),null}else 2*tn()-f.renderingStartTime>Ws&&a!==536870912&&(i.flags|=128,r=!0,ma(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(t=f.last,t!==null?t.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=tn(),i.sibling=null,t=ee.current,j(ee,r?t&1|2:t&1),i):(qt(i),null);case 22:case 23:return Tn(i),Jr(),r=i.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(a&536870912)!==0&&(i.flags&128)===0&&(qt(i),i.subtreeFlags&6&&(i.flags|=8192)):qt(i),a=i.updateQueue,a!==null&&Zs(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(i.flags|=2048),t!==null&&nt(Si),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),yn(te),qt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function ZS(t,i){switch(Ur(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return yn(te),Dn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ss(i),null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));jo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return nt(ee),null;case 4:return Dn(),null;case 10:return yn(i.type),null;case 22:case 23:return Tn(i),Jr(),t!==null&&nt(Si),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return yn(te),null;case 25:return null;default:return null}}function Mp(t,i){switch(Ur(i),i.tag){case 3:yn(te),Dn();break;case 26:case 27:case 5:ss(i);break;case 4:Dn();break;case 13:Tn(i);break;case 19:nt(ee);break;case 10:yn(i.type);break;case 22:case 23:Tn(i),Jr(),t!==null&&nt(Si);break;case 24:yn(te)}}function ga(t,i){try{var a=i.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var f=r.next;a=f;do{if((a.tag&t)===t){r=void 0;var g=a.create,T=a.inst;r=g(),T.destroy=r}a=a.next}while(a!==f)}}catch(b){Bt(i,i.return,b)}}function Gn(t,i,a){try{var r=i.updateQueue,f=r!==null?r.lastEffect:null;if(f!==null){var g=f.next;r=g;do{if((r.tag&t)===t){var T=r.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,f=i;var M=a,B=b;try{B()}catch(O){Bt(f,M,O)}}}r=r.next}while(r!==g)}}catch(O){Bt(i,i.return,O)}}function xp(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{hh(i,a)}catch(r){Bt(t,t.return,r)}}}function _p(t,i,a){a.props=bi(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(r){Bt(t,i,r)}}function ya(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof a=="function"?t.refCleanup=a(r):a.current=r}}catch(f){Bt(t,i,f)}}function on(t,i){var a=t.ref,r=t.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(f){Bt(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Bt(t,i,f)}else a.current=null}function wp(t){var i=t.type,a=t.memoizedProps,r=t.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break t;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(f){Bt(t,t.return,f)}}function Mu(t,i,a){try{var r=t.stateNode;gE(r,t.type,a,i),r[Se]=i}catch(f){Bt(t,t.return,f)}}function Rp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zn(t.type)||t.tag===4}function xu(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zn(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _u(t,i,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ll));else if(r!==4&&(r===27&&Zn(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(_u(t,i,a),t=t.sibling;t!==null;)_u(t,i,a),t=t.sibling}function $s(t,i,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(r!==4&&(r===27&&Zn(t.type)&&(a=t.stateNode),t=t.child,t!==null))for($s(t,i,a),t=t.sibling;t!==null;)$s(t,i,a),t=t.sibling}function Dp(t){var i=t.stateNode,a=t.memoizedProps;try{for(var r=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);re(i,r,a),i[de]=t,i[Se]=a}catch(g){Bt(t,t.return,g)}}var bn=!1,Zt=!1,wu=!1,Np=typeof WeakSet=="function"?WeakSet:Set,oe=null;function $S(t,i){if(t=t.containerInfo,Wu=pl,t=qd(t),xr(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var f=r.anchorOffset,g=r.focusNode;r=r.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break t}var T=0,b=-1,M=-1,B=0,O=0,Y=t,I=null;e:for(;;){for(var U;Y!==a||f!==0&&Y.nodeType!==3||(b=T+f),Y!==g||r!==0&&Y.nodeType!==3||(M=T+r),Y.nodeType===3&&(T+=Y.nodeValue.length),(U=Y.firstChild)!==null;)I=Y,Y=U;for(;;){if(Y===t)break e;if(I===a&&++B===f&&(b=T),I===g&&++O===r&&(M=T),(U=Y.nextSibling)!==null)break;Y=I,I=Y.parentNode}Y=U}a=b===-1||M===-1?null:{start:b,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(ju={focusedElem:t,selectionRange:a},pl=!1,oe=i;oe!==null;)if(i=oe,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,oe=t;else for(;oe!==null;){switch(i=oe,g=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,a=i,f=g.memoizedProps,g=g.memoizedState,r=a.stateNode;try{var ht=bi(a.type,f,a.elementType===a.type);t=r.getSnapshotBeforeUpdate(ht,g),r.__reactInternalSnapshotBeforeUpdate=t}catch(ct){Bt(a,a.return,ct)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)nc(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,oe=t;break}oe=i.return}}function Lp(t,i,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:qn(t,a),r&4&&ga(5,a);break;case 1:if(qn(t,a),r&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){Bt(a,a.return,T)}else{var f=bi(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Bt(a,a.return,T)}}r&64&&xp(a),r&512&&ya(a,a.return);break;case 3:if(qn(t,a),r&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{hh(t,i)}catch(T){Bt(a,a.return,T)}}break;case 27:i===null&&r&4&&Dp(a);case 26:case 5:qn(t,a),i===null&&r&4&&wp(a),r&512&&ya(a,a.return);break;case 12:qn(t,a);break;case 13:qn(t,a),r&4&&Bp(t,a),r&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=aE.bind(null,a),CE(t,a))));break;case 22:if(r=a.memoizedState!==null||bn,!r){i=i!==null&&i.memoizedState!==null||Zt,f=bn;var g=Zt;bn=r,(Zt=i)&&!g?Hn(t,a,(a.subtreeFlags&8772)!==0):qn(t,a),bn=f,Zt=g}break;case 30:break;default:qn(t,a)}}function Pp(t){var i=t.alternate;i!==null&&(t.alternate=null,Pp(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&lr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ot=null,Ce=!1;function Cn(t,i,a){for(a=a.child;a!==null;)Vp(t,i,a),a=a.sibling}function Vp(t,i,a){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(zo,a)}catch{}switch(a.tag){case 26:Zt||on(a,i),Cn(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Zt||on(a,i);var r=Ot,f=Ce;Zn(a.type)&&(Ot=a.stateNode,Ce=!1),Cn(t,i,a),xa(a.stateNode),Ot=r,Ce=f;break;case 5:Zt||on(a,i);case 6:if(r=Ot,f=Ce,Ot=null,Cn(t,i,a),Ot=r,Ce=f,Ot!==null)if(Ce)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(a.stateNode)}catch(g){Bt(a,i,g)}else try{Ot.removeChild(a.stateNode)}catch(g){Bt(a,i,g)}break;case 18:Ot!==null&&(Ce?(t=Ot,bm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Va(t)):bm(Ot,a.stateNode));break;case 4:r=Ot,f=Ce,Ot=a.stateNode.containerInfo,Ce=!0,Cn(t,i,a),Ot=r,Ce=f;break;case 0:case 11:case 14:case 15:Zt||Gn(2,a,i),Zt||Gn(4,a,i),Cn(t,i,a);break;case 1:Zt||(on(a,i),r=a.stateNode,typeof r.componentWillUnmount=="function"&&_p(a,i,r)),Cn(t,i,a);break;case 21:Cn(t,i,a);break;case 22:Zt=(r=Zt)||a.memoizedState!==null,Cn(t,i,a),Zt=r;break;default:Cn(t,i,a)}}function Bp(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Va(t)}catch(a){Bt(i,i.return,a)}}function JS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Np),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Np),i;default:throw Error(s(435,t.tag))}}function Ru(t,i){var a=JS(t);i.forEach(function(r){var f=sE.bind(null,t,r);a.has(r)||(a.add(r),r.then(f,f))})}function Le(t,i){var a=i.deletions;if(a!==null)for(var r=0;r<a.length;r++){var f=a[r],g=t,T=i,b=T;t:for(;b!==null;){switch(b.tag){case 27:if(Zn(b.type)){Ot=b.stateNode,Ce=!1;break t}break;case 5:Ot=b.stateNode,Ce=!1;break t;case 3:case 4:Ot=b.stateNode.containerInfo,Ce=!0;break t}b=b.return}if(Ot===null)throw Error(s(160));Vp(g,T,f),Ot=null,Ce=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ip(i,t),i=i.sibling}var $e=null;function Ip(t,i){var a=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Le(i,t),Pe(t),r&4&&(Gn(3,t,t.return),ga(3,t),Gn(5,t,t.return));break;case 1:Le(i,t),Pe(t),r&512&&(Zt||a===null||on(a,a.return)),r&64&&bn&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var f=$e;if(Le(i,t),Pe(t),r&512&&(Zt||a===null||on(a,a.return)),r&4){var g=a!==null?a.memoizedState:null;if(r=t.memoizedState,a===null)if(r===null)if(t.stateNode===null){t:{r=t.type,a=t.memoizedProps,f=f.ownerDocument||f;e:switch(r){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Go]||g[de]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(r),f.head.insertBefore(g,f.querySelector("head > title"))),re(g,r,a),g[de]=t,ne(g),r=g;break t;case"link":var T=Dm("link","href",f).get(r+(a.href||""));if(T){for(var b=0;b<T.length;b++)if(g=T[b],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(b,1);break e}}g=f.createElement(r),re(g,r,a),f.head.appendChild(g);break;case"meta":if(T=Dm("meta","content",f).get(r+(a.content||""))){for(b=0;b<T.length;b++)if(g=T[b],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(b,1);break e}}g=f.createElement(r),re(g,r,a),f.head.appendChild(g);break;default:throw Error(s(468,r))}g[de]=t,ne(g),r=g}t.stateNode=r}else Nm(f,t.type,t.stateNode);else t.stateNode=Rm(f,r,t.memoizedProps);else g!==r?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,r===null?Nm(f,t.type,t.stateNode):Rm(f,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Mu(t,t.memoizedProps,a.memoizedProps)}break;case 27:Le(i,t),Pe(t),r&512&&(Zt||a===null||on(a,a.return)),a!==null&&r&4&&Mu(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Le(i,t),Pe(t),r&512&&(Zt||a===null||on(a,a.return)),t.flags&32){f=t.stateNode;try{Fi(f,"")}catch(U){Bt(t,t.return,U)}}r&4&&t.stateNode!=null&&(f=t.memoizedProps,Mu(t,f,a!==null?a.memoizedProps:f)),r&1024&&(wu=!0);break;case 6:if(Le(i,t),Pe(t),r&4){if(t.stateNode===null)throw Error(s(162));r=t.memoizedProps,a=t.stateNode;try{a.nodeValue=r}catch(U){Bt(t,t.return,U)}}break;case 3:if(fl=null,f=$e,$e=ul(i.containerInfo),Le(i,t),$e=f,Pe(t),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Va(i.containerInfo)}catch(U){Bt(t,t.return,U)}wu&&(wu=!1,Up(t));break;case 4:r=$e,$e=ul(t.stateNode.containerInfo),Le(i,t),Pe(t),$e=r;break;case 12:Le(i,t),Pe(t);break;case 13:Le(i,t),Pe(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bu=tn()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ru(t,r)));break;case 22:f=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,B=bn,O=Zt;if(bn=B||f,Zt=O||M,Le(i,t),Zt=O,bn=B,Pe(t),r&8192)t:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||M||bn||Zt||Ci(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){M=a=i;try{if(g=M.stateNode,f)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=M.stateNode;var Y=M.memoizedProps.style,I=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;b.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(U){Bt(M,M.return,U)}}}else if(i.tag===6){if(a===null){M=i;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(U){Bt(M,M.return,U)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=t.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Ru(t,a))));break;case 19:Le(i,t),Pe(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ru(t,r)));break;case 30:break;case 21:break;default:Le(i,t),Pe(t)}}function Pe(t){var i=t.flags;if(i&2){try{for(var a,r=t.return;r!==null;){if(Rp(r)){a=r;break}r=r.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,g=xu(t);$s(t,g,f);break;case 5:var T=a.stateNode;a.flags&32&&(Fi(T,""),a.flags&=-33);var b=xu(t);$s(t,b,T);break;case 3:case 4:var M=a.stateNode.containerInfo,B=xu(t);_u(t,B,M);break;default:throw Error(s(161))}}catch(O){Bt(t,t.return,O)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Up(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Up(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function qn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Lp(t,i.alternate,i),i=i.sibling}function Ci(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Gn(4,i,i.return),Ci(i);break;case 1:on(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&_p(i,i.return,a),Ci(i);break;case 27:xa(i.stateNode);case 26:case 5:on(i,i.return),Ci(i);break;case 22:i.memoizedState===null&&Ci(i);break;case 30:Ci(i);break;default:Ci(i)}t=t.sibling}}function Hn(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,f=t,g=i,T=g.flags;switch(g.tag){case 0:case 11:case 15:Hn(f,g,a),ga(4,g);break;case 1:if(Hn(f,g,a),r=g,f=r.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Bt(r,r.return,B)}if(r=g,f=r.updateQueue,f!==null){var b=r.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)dh(M[f],b)}catch(B){Bt(r,r.return,B)}}a&&T&64&&xp(g),ya(g,g.return);break;case 27:Dp(g);case 26:case 5:Hn(f,g,a),a&&r===null&&T&4&&wp(g),ya(g,g.return);break;case 12:Hn(f,g,a);break;case 13:Hn(f,g,a),a&&T&4&&Bp(f,g);break;case 22:g.memoizedState===null&&Hn(f,g,a),ya(g,g.return);break;case 30:break;default:Hn(f,g,a)}i=i.sibling}}function Du(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&na(a))}function Nu(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&na(t))}function an(t,i,a,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)zp(t,i,a,r),i=i.sibling}function zp(t,i,a,r){var f=i.flags;switch(i.tag){case 0:case 11:case 15:an(t,i,a,r),f&2048&&ga(9,i);break;case 1:an(t,i,a,r);break;case 3:an(t,i,a,r),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&na(t)));break;case 12:if(f&2048){an(t,i,a,r),t=i.stateNode;try{var g=i.memoizedProps,T=g.id,b=g.onPostCommit;typeof b=="function"&&b(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Bt(i,i.return,M)}}else an(t,i,a,r);break;case 13:an(t,i,a,r);break;case 23:break;case 22:g=i.stateNode,T=i.alternate,i.memoizedState!==null?g._visibility&2?an(t,i,a,r):va(t,i):g._visibility&2?an(t,i,a,r):(g._visibility|=2,uo(t,i,a,r,(i.subtreeFlags&10256)!==0)),f&2048&&Du(T,i);break;case 24:an(t,i,a,r),f&2048&&Nu(i.alternate,i);break;default:an(t,i,a,r)}}function uo(t,i,a,r,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=t,T=i,b=a,M=r,B=T.flags;switch(T.tag){case 0:case 11:case 15:uo(g,T,b,M,f),ga(8,T);break;case 23:break;case 22:var O=T.stateNode;T.memoizedState!==null?O._visibility&2?uo(g,T,b,M,f):va(g,T):(O._visibility|=2,uo(g,T,b,M,f)),f&&B&2048&&Du(T.alternate,T);break;case 24:uo(g,T,b,M,f),f&&B&2048&&Nu(T.alternate,T);break;default:uo(g,T,b,M,f)}i=i.sibling}}function va(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,r=i,f=r.flags;switch(r.tag){case 22:va(a,r),f&2048&&Du(r.alternate,r);break;case 24:va(a,r),f&2048&&Nu(r.alternate,r);break;default:va(a,r)}i=i.sibling}}var Ta=8192;function co(t){if(t.subtreeFlags&Ta)for(t=t.child;t!==null;)kp(t),t=t.sibling}function kp(t){switch(t.tag){case 26:co(t),t.flags&Ta&&t.memoizedState!==null&&IE($e,t.memoizedState,t.memoizedProps);break;case 5:co(t);break;case 3:case 4:var i=$e;$e=ul(t.stateNode.containerInfo),co(t),$e=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Ta,Ta=16777216,co(t),Ta=i):co(t));break;default:co(t)}}function Op(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Sa(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var r=i[a];oe=r,qp(r,t)}Op(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gp(t),t=t.sibling}function Gp(t){switch(t.tag){case 0:case 11:case 15:Sa(t),t.flags&2048&&Gn(9,t,t.return);break;case 3:Sa(t);break;case 12:Sa(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Js(t)):Sa(t);break;default:Sa(t)}}function Js(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var r=i[a];oe=r,qp(r,t)}Op(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Gn(8,i,i.return),Js(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Js(i));break;default:Js(i)}t=t.sibling}}function qp(t,i){for(;oe!==null;){var a=oe;switch(a.tag){case 0:case 11:case 15:Gn(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:na(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,oe=r;else t:for(a=t;oe!==null;){r=oe;var f=r.sibling,g=r.return;if(Pp(r),r===a){oe=null;break t}if(f!==null){f.return=g,oe=f;break t}oe=g}}}var WS={getCacheForType:function(t){var i=he(te),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},jS=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Ut=null,bt=null,At=0,Dt=0,Ve=null,Fn=!1,fo=!1,Lu=!1,An=0,Yt=0,Yn=0,Ai=0,Pu=0,Fe=0,ho=0,Ea=null,Ae=null,Vu=!1,Bu=0,Ws=1/0,js=null,Kn=null,le=0,Qn=null,po=null,mo=0,Iu=0,Uu=null,Hp=null,ba=0,zu=null;function Be(){if((Rt&2)!==0&&At!==0)return At&-At;if(V.T!==null){var t=eo;return t!==0?t:Yu()}return ad()}function Fp(){Fe===0&&(Fe=(At&536870912)===0||wt?ed():536870912);var t=He.current;return t!==null&&(t.flags|=32),Fe}function Ie(t,i,a){(t===Ut&&(Dt===2||Dt===9)||t.cancelPendingCommit!==null)&&(go(t,0),Xn(t,At,Fe,!1)),Oo(t,a),((Rt&2)===0||t!==Ut)&&(t===Ut&&((Rt&2)===0&&(Ai|=a),Yt===4&&Xn(t,At,Fe,!1)),sn(t))}function Yp(t,i,a){if((Rt&6)!==0)throw Error(s(327));var r=!a&&(i&124)===0&&(i&t.expiredLanes)===0||ko(t,i),f=r?nE(t,i):Gu(t,i,!0),g=r;do{if(f===0){fo&&!r&&Xn(t,i,0,!1);break}else{if(a=t.current.alternate,g&&!tE(a)){f=Gu(t,i,!1),g=!1;continue}if(f===2){if(g=i,t.errorRecoveryDisabledLanes&g)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;t:{var b=t;f=Ea;var M=b.current.memoizedState.isDehydrated;if(M&&(go(b,T).flags|=256),T=Gu(b,T,!1),T!==2){if(Lu&&!M){b.errorRecoveryDisabledLanes|=g,Ai|=g,f=4;break t}g=Ae,Ae=f,g!==null&&(Ae===null?Ae=g:Ae.push.apply(Ae,g))}f=T}if(g=!1,f!==2)continue}}if(f===1){go(t,0),Xn(t,i,0,!0);break}t:{switch(r=t,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Xn(r,i,Fe,!Fn);break t;case 2:Ae=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Bu+300-tn(),10<f)){if(Xn(r,i,Fe,!Fn),cs(r,0,!0)!==0)break t;r.timeoutHandle=Sm(Kp.bind(null,r,a,Ae,js,Vu,i,Fe,Ai,ho,Fn,g,2,-0,0),f);break t}Kp(r,a,Ae,js,Vu,i,Fe,Ai,ho,Fn,g,0,-0,0)}}break}while(!0);sn(t)}function Kp(t,i,a,r,f,g,T,b,M,B,O,Y,I,U){if(t.timeoutHandle=-1,Y=i.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Ra={stylesheets:null,count:0,unsuspend:BE},kp(i),Y=UE(),Y!==null)){t.cancelPendingCommit=Y(jp.bind(null,t,i,g,a,r,f,T,b,M,O,1,I,U)),Xn(t,g,T,!B);return}jp(t,i,g,a,r,f,T,b,M)}function tE(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var f=a[r],g=f.getSnapshot;f=f.value;try{if(!De(g(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xn(t,i,a,r){i&=~Pu,i&=~Ai,t.suspendedLanes|=i,t.pingedLanes&=~i,r&&(t.warmLanes|=i),r=t.expirationTimes;for(var f=i;0<f;){var g=31-Re(f),T=1<<g;r[g]=-1,f&=~T}a!==0&&id(t,a,i)}function tl(){return(Rt&6)===0?(Ca(0),!1):!0}function ku(){if(bt!==null){if(Dt===0)var t=bt.return;else t=bt,gn=vi=null,nu(t),lo=null,ha=0,t=bt;for(;t!==null;)Mp(t.alternate,t),t=t.return;bt=null}}function go(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,vE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ku(),Ut=t,bt=a=hn(t.current,null),At=i,Dt=0,Ve=null,Fn=!1,fo=ko(t,i),Lu=!1,ho=Fe=Pu=Ai=Yn=Yt=0,Ae=Ea=null,Vu=!1,(i&8)!==0&&(i|=i&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=i;0<r;){var f=31-Re(r),g=1<<f;i|=t[f],r&=~g}return An=i,bs(),a}function Qp(t,i){St=null,V.H=Gs,i===oa||i===Ns?(i=ch(),Dt=3):i===lh?(i=ch(),Dt=4):Dt=i===fp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ve=i,bt===null&&(Yt=1,Ks(t,ke(i,t.current)))}function Xp(){var t=V.H;return V.H=Gs,t===null?Gs:t}function Zp(){var t=V.A;return V.A=WS,t}function Ou(){Yt=4,Fn||(At&4194048)!==At&&He.current!==null||(fo=!0),(Yn&134217727)===0&&(Ai&134217727)===0||Ut===null||Xn(Ut,At,Fe,!1)}function Gu(t,i,a){var r=Rt;Rt|=2;var f=Xp(),g=Zp();(Ut!==t||At!==i)&&(js=null,go(t,i)),i=!1;var T=Yt;t:do try{if(Dt!==0&&bt!==null){var b=bt,M=Ve;switch(Dt){case 8:ku(),T=6;break t;case 3:case 2:case 9:case 6:He.current===null&&(i=!0);var B=Dt;if(Dt=0,Ve=null,yo(t,b,M,B),a&&fo){T=0;break t}break;default:B=Dt,Dt=0,Ve=null,yo(t,b,M,B)}}eE(),T=Yt;break}catch(O){Qp(t,O)}while(!0);return i&&t.shellSuspendCounter++,gn=vi=null,Rt=r,V.H=f,V.A=g,bt===null&&(Ut=null,At=0,bs()),T}function eE(){for(;bt!==null;)$p(bt)}function nE(t,i){var a=Rt;Rt|=2;var r=Xp(),f=Zp();Ut!==t||At!==i?(js=null,Ws=tn()+500,go(t,i)):fo=ko(t,i);t:do try{if(Dt!==0&&bt!==null){i=bt;var g=Ve;e:switch(Dt){case 1:Dt=0,Ve=null,yo(t,i,g,1);break;case 2:case 9:if(rh(g)){Dt=0,Ve=null,Jp(i);break}i=function(){Dt!==2&&Dt!==9||Ut!==t||(Dt=7),sn(t)},g.then(i,i);break t;case 3:Dt=7;break t;case 4:Dt=5;break t;case 7:rh(g)?(Dt=0,Ve=null,Jp(i)):(Dt=0,Ve=null,yo(t,i,g,7));break;case 5:var T=null;switch(bt.tag){case 26:T=bt.memoizedState;case 5:case 27:var b=bt;if(!T||Lm(T)){Dt=0,Ve=null;var M=b.sibling;if(M!==null)bt=M;else{var B=b.return;B!==null?(bt=B,el(B)):bt=null}break e}}Dt=0,Ve=null,yo(t,i,g,5);break;case 6:Dt=0,Ve=null,yo(t,i,g,6);break;case 8:ku(),Yt=6;break t;default:throw Error(s(462))}}iE();break}catch(O){Qp(t,O)}while(!0);return gn=vi=null,V.H=r,V.A=f,Rt=a,bt!==null?0:(Ut=null,At=0,bs(),Yt)}function iE(){for(;bt!==null&&!M0();)$p(bt)}function $p(t){var i=Cp(t.alternate,t,An);t.memoizedProps=t.pendingProps,i===null?el(t):bt=i}function Jp(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=yp(a,i,i.pendingProps,i.type,void 0,At);break;case 11:i=yp(a,i,i.pendingProps,i.type.render,i.ref,At);break;case 5:nu(i);default:Mp(a,i),i=bt=Wd(i,An),i=Cp(a,i,An)}t.memoizedProps=t.pendingProps,i===null?el(t):bt=i}function yo(t,i,a,r){gn=vi=null,nu(i),lo=null,ha=0;var f=i.return;try{if(KS(t,f,i,a,At)){Yt=1,Ks(t,ke(a,t.current)),bt=null;return}}catch(g){if(f!==null)throw bt=f,g;Yt=1,Ks(t,ke(a,t.current)),bt=null;return}i.flags&32768?(wt||r===1?t=!0:fo||(At&536870912)!==0?t=!1:(Fn=t=!0,(r===2||r===9||r===3||r===6)&&(r=He.current,r!==null&&r.tag===13&&(r.flags|=16384))),Wp(i,t)):el(i)}function el(t){var i=t;do{if((i.flags&32768)!==0){Wp(i,Fn);return}t=i.return;var a=XS(i.alternate,i,An);if(a!==null){bt=a;return}if(i=i.sibling,i!==null){bt=i;return}bt=i=t}while(i!==null);Yt===0&&(Yt=5)}function Wp(t,i){do{var a=ZS(t.alternate,t);if(a!==null){a.flags&=32767,bt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){bt=t;return}bt=t=a}while(t!==null);Yt=6,bt=null}function jp(t,i,a,r,f,g,T,b,M){t.cancelPendingCommit=null;do nl();while(le!==0);if((Rt&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=Nr,B0(t,a,g,T,b,M),t===Ut&&(bt=Ut=null,At=0),po=i,Qn=t,mo=a,Iu=g,Uu=f,Hp=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,lE(ls,function(){return om(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=V.T,V.T=null,f=G.p,G.p=2,T=Rt,Rt|=4;try{$S(t,i,a)}finally{Rt=T,G.p=f,V.T=r}}le=1,tm(),em(),nm()}}function tm(){if(le===1){le=0;var t=Qn,i=po,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=V.T,V.T=null;var r=G.p;G.p=2;var f=Rt;Rt|=4;try{Ip(i,t);var g=ju,T=qd(t.containerInfo),b=g.focusedElem,M=g.selectionRange;if(T!==b&&b&&b.ownerDocument&&Gd(b.ownerDocument.documentElement,b)){if(M!==null&&xr(b)){var B=M.start,O=M.end;if(O===void 0&&(O=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min(O,b.value.length);else{var Y=b.ownerDocument||document,I=Y&&Y.defaultView||window;if(I.getSelection){var U=I.getSelection(),ht=b.textContent.length,ct=Math.min(M.start,ht),Vt=M.end===void 0?ct:Math.min(M.end,ht);!U.extend&&ct>Vt&&(T=Vt,Vt=ct,ct=T);var w=Od(b,ct),_=Od(b,Vt);if(w&&_&&(U.rangeCount!==1||U.anchorNode!==w.node||U.anchorOffset!==w.offset||U.focusNode!==_.node||U.focusOffset!==_.offset)){var P=Y.createRange();P.setStart(w.node,w.offset),U.removeAllRanges(),ct>Vt?(U.addRange(P),U.extend(_.node,_.offset)):(P.setEnd(_.node,_.offset),U.addRange(P))}}}}for(Y=[],U=b;U=U.parentNode;)U.nodeType===1&&Y.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Y.length;b++){var q=Y[b];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}pl=!!Wu,ju=Wu=null}finally{Rt=f,G.p=r,V.T=a}}t.current=i,le=2}}function em(){if(le===2){le=0;var t=Qn,i=po,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=V.T,V.T=null;var r=G.p;G.p=2;var f=Rt;Rt|=4;try{Lp(t,i.alternate,i)}finally{Rt=f,G.p=r,V.T=a}}le=3}}function nm(){if(le===4||le===3){le=0,x0();var t=Qn,i=po,a=mo,r=Hp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?le=5:(le=0,po=Qn=null,im(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Kn=null),ar(a),i=i.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(zo,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=V.T,f=G.p,G.p=2,V.T=null;try{for(var g=t.onRecoverableError,T=0;T<r.length;T++){var b=r[T];g(b.value,{componentStack:b.stack})}}finally{V.T=i,G.p=f}}(mo&3)!==0&&nl(),sn(t),f=t.pendingLanes,(a&4194090)!==0&&(f&42)!==0?t===zu?ba++:(ba=0,zu=t):ba=0,Ca(0)}}function im(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,na(i)))}function nl(t){return tm(),em(),nm(),om()}function om(){if(le!==5)return!1;var t=Qn,i=Iu;Iu=0;var a=ar(mo),r=V.T,f=G.p;try{G.p=32>a?32:a,V.T=null,a=Uu,Uu=null;var g=Qn,T=mo;if(le=0,po=Qn=null,mo=0,(Rt&6)!==0)throw Error(s(331));var b=Rt;if(Rt|=4,Gp(g.current),zp(g,g.current,T,a),Rt=b,Ca(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(zo,g)}catch{}return!0}finally{G.p=f,V.T=r,im(t,i)}}function am(t,i,a){i=ke(a,i),i=gu(t.stateNode,i,2),t=Un(t,i,2),t!==null&&(Oo(t,2),sn(t))}function Bt(t,i,a){if(t.tag===3)am(t,t,a);else for(;i!==null;){if(i.tag===3){am(i,t,a);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kn===null||!Kn.has(r))){t=ke(a,t),a=up(2),r=Un(i,a,2),r!==null&&(cp(a,r,i,t),Oo(r,2),sn(r));break}}i=i.return}}function qu(t,i,a){var r=t.pingCache;if(r===null){r=t.pingCache=new jS;var f=new Set;r.set(i,f)}else f=r.get(i),f===void 0&&(f=new Set,r.set(i,f));f.has(a)||(Lu=!0,f.add(a),t=oE.bind(null,t,i,a),i.then(t,t))}function oE(t,i,a){var r=t.pingCache;r!==null&&r.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ut===t&&(At&a)===a&&(Yt===4||Yt===3&&(At&62914560)===At&&300>tn()-Bu?(Rt&2)===0&&go(t,0):Pu|=a,ho===At&&(ho=0)),sn(t)}function sm(t,i){i===0&&(i=nd()),t=Ji(t,i),t!==null&&(Oo(t,i),sn(t))}function aE(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),sm(t,a)}function sE(t,i){var a=0;switch(t.tag){case 13:var r=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(i),sm(t,a)}function lE(t,i){return er(t,i)}var il=null,vo=null,Hu=!1,ol=!1,Fu=!1,Mi=0;function sn(t){t!==vo&&t.next===null&&(vo===null?il=vo=t:vo=vo.next=t),ol=!0,Hu||(Hu=!0,uE())}function Ca(t,i){if(!Fu&&ol){Fu=!0;do for(var a=!1,r=il;r!==null;){if(t!==0){var f=r.pendingLanes;if(f===0)var g=0;else{var T=r.suspendedLanes,b=r.pingedLanes;g=(1<<31-Re(42|t)+1)-1,g&=f&~(T&~b),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,cm(r,g))}else g=At,g=cs(r,r===Ut?g:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(g&3)===0||ko(r,g)||(a=!0,cm(r,g));r=r.next}while(a);Fu=!1}}function rE(){lm()}function lm(){ol=Hu=!1;var t=0;Mi!==0&&(yE()&&(t=Mi),Mi=0);for(var i=tn(),a=null,r=il;r!==null;){var f=r.next,g=rm(r,i);g===0?(r.next=null,a===null?il=f:a.next=f,f===null&&(vo=a)):(a=r,(t!==0||(g&3)!==0)&&(ol=!0)),r=f}Ca(t)}function rm(t,i){for(var a=t.suspendedLanes,r=t.pingedLanes,f=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var T=31-Re(g),b=1<<T,M=f[T];M===-1?((b&a)===0||(b&r)!==0)&&(f[T]=V0(b,i)):M<=i&&(t.expiredLanes|=b),g&=~b}if(i=Ut,a=At,a=cs(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,a===0||t===i&&(Dt===2||Dt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&nr(r),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ko(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(r!==null&&nr(r),ar(a)){case 2:case 8:a=jf;break;case 32:a=ls;break;case 268435456:a=td;break;default:a=ls}return r=um.bind(null,t),a=er(a,r),t.callbackPriority=i,t.callbackNode=a,i}return r!==null&&r!==null&&nr(r),t.callbackPriority=2,t.callbackNode=null,2}function um(t,i){if(le!==0&&le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(nl()&&t.callbackNode!==a)return null;var r=At;return r=cs(t,t===Ut?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(Yp(t,r,i),rm(t,tn()),t.callbackNode!=null&&t.callbackNode===a?um.bind(null,t):null)}function cm(t,i){if(nl())return null;Yp(t,i,!0)}function uE(){TE(function(){(Rt&6)!==0?er(Wf,rE):lm()})}function Yu(){return Mi===0&&(Mi=ed()),Mi}function fm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ms(""+t)}function dm(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function cE(t,i,a,r,f){if(i==="submit"&&a&&a.stateNode===f){var g=fm((f[Se]||null).action),T=r.submitter;T&&(i=(i=T[Se]||null)?fm(i.formAction):T.getAttribute("formAction"),i!==null&&(g=i,T=null));var b=new Ts("action","action",null,r,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Mi!==0){var M=T?dm(f,T):new FormData(f);fu(a,{pending:!0,data:M,method:f.method,action:g},null,M)}}else typeof g=="function"&&(b.preventDefault(),M=T?dm(f,T):new FormData(f),fu(a,{pending:!0,data:M,method:f.method,action:g},g,M))},currentTarget:f}]})}}for(var Ku=0;Ku<Dr.length;Ku++){var Qu=Dr[Ku],fE=Qu.toLowerCase(),dE=Qu[0].toUpperCase()+Qu.slice(1);Ze(fE,"on"+dE)}Ze(Yd,"onAnimationEnd"),Ze(Kd,"onAnimationIteration"),Ze(Qd,"onAnimationStart"),Ze("dblclick","onDoubleClick"),Ze("focusin","onFocus"),Ze("focusout","onBlur"),Ze(RS,"onTransitionRun"),Ze(DS,"onTransitionStart"),Ze(NS,"onTransitionCancel"),Ze(Xd,"onTransitionEnd"),Gi("onMouseEnter",["mouseout","mouseover"]),Gi("onMouseLeave",["mouseout","mouseover"]),Gi("onPointerEnter",["pointerout","pointerover"]),Gi("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Aa));function hm(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var r=t[a],f=r.event;r=r.listeners;t:{var g=void 0;if(i)for(var T=r.length-1;0<=T;T--){var b=r[T],M=b.instance,B=b.currentTarget;if(b=b.listener,M!==g&&f.isPropagationStopped())break t;g=b,f.currentTarget=B;try{g(f)}catch(O){Ys(O)}f.currentTarget=null,g=M}else for(T=0;T<r.length;T++){if(b=r[T],M=b.instance,B=b.currentTarget,b=b.listener,M!==g&&f.isPropagationStopped())break t;g=b,f.currentTarget=B;try{g(f)}catch(O){Ys(O)}f.currentTarget=null,g=M}}}}function Ct(t,i){var a=i[sr];a===void 0&&(a=i[sr]=new Set);var r=t+"__bubble";a.has(r)||(pm(i,t,2,!1),a.add(r))}function Xu(t,i,a){var r=0;i&&(r|=4),pm(a,t,r,i)}var al="_reactListening"+Math.random().toString(36).slice(2);function Zu(t){if(!t[al]){t[al]=!0,ld.forEach(function(a){a!=="selectionchange"&&(hE.has(a)||Xu(a,!1,t),Xu(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[al]||(i[al]=!0,Xu("selectionchange",!1,i))}}function pm(t,i,a,r){switch(zm(i)){case 2:var f=OE;break;case 8:f=GE;break;default:f=uc}a=f.bind(null,i,a,t),f=void 0,!yr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),r?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function $u(t,i,a,r,f){var g=r;if((i&1)===0&&(i&2)===0&&r!==null)t:for(;;){if(r===null)return;var T=r.tag;if(T===3||T===4){var b=r.stateNode.containerInfo;if(b===f)break;if(T===4)for(T=r.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;b!==null;){if(T=zi(b),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){r=g=T;continue t}b=b.parentNode}}r=r.return}Ed(function(){var B=g,O=mr(a),Y=[];t:{var I=Zd.get(t);if(I!==void 0){var U=Ts,ht=t;switch(t){case"keypress":if(ys(a)===0)break t;case"keydown":case"keyup":U=lS;break;case"focusin":ht="focus",U=Er;break;case"focusout":ht="blur",U=Er;break;case"beforeblur":case"afterblur":U=Er;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Ad;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Z0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=cS;break;case Yd:case Kd:case Qd:U=W0;break;case Xd:U=dS;break;case"scroll":case"scrollend":U=Q0;break;case"wheel":U=pS;break;case"copy":case"cut":case"paste":U=tS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=xd;break;case"toggle":case"beforetoggle":U=gS}var ct=(i&4)!==0,Vt=!ct&&(t==="scroll"||t==="scrollend"),w=ct?I!==null?I+"Capture":null:I;ct=[];for(var _=B,P;_!==null;){var q=_;if(P=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||P===null||w===null||(q=Ho(_,w),q!=null&&ct.push(Ma(_,q,P))),Vt)break;_=_.return}0<ct.length&&(I=new U(I,ht,null,a,O),Y.push({event:I,listeners:ct}))}}if((i&7)===0){t:{if(I=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",I&&a!==pr&&(ht=a.relatedTarget||a.fromElement)&&(zi(ht)||ht[Ui]))break t;if((U||I)&&(I=O.window===O?O:(I=O.ownerDocument)?I.defaultView||I.parentWindow:window,U?(ht=a.relatedTarget||a.toElement,U=B,ht=ht?zi(ht):null,ht!==null&&(Vt=u(ht),ct=ht.tag,ht!==Vt||ct!==5&&ct!==27&&ct!==6)&&(ht=null)):(U=null,ht=B),U!==ht)){if(ct=Ad,q="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(ct=xd,q="onPointerLeave",w="onPointerEnter",_="pointer"),Vt=U==null?I:qo(U),P=ht==null?I:qo(ht),I=new ct(q,_+"leave",U,a,O),I.target=Vt,I.relatedTarget=P,q=null,zi(O)===B&&(ct=new ct(w,_+"enter",ht,a,O),ct.target=P,ct.relatedTarget=Vt,q=ct),Vt=q,U&&ht)e:{for(ct=U,w=ht,_=0,P=ct;P;P=To(P))_++;for(P=0,q=w;q;q=To(q))P++;for(;0<_-P;)ct=To(ct),_--;for(;0<P-_;)w=To(w),P--;for(;_--;){if(ct===w||w!==null&&ct===w.alternate)break e;ct=To(ct),w=To(w)}ct=null}else ct=null;U!==null&&mm(Y,I,U,ct,!1),ht!==null&&Vt!==null&&mm(Y,Vt,ht,ct,!0)}}t:{if(I=B?qo(B):window,U=I.nodeName&&I.nodeName.toLowerCase(),U==="select"||U==="input"&&I.type==="file")var at=Vd;else if(Ld(I))if(Bd)at=xS;else{at=AS;var Et=CS}else U=I.nodeName,!U||U.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?B&&hr(B.elementType)&&(at=Vd):at=MS;if(at&&(at=at(t,B))){Pd(Y,at,a,O);break t}Et&&Et(t,I,B),t==="focusout"&&B&&I.type==="number"&&B.memoizedProps.value!=null&&dr(I,"number",I.value)}switch(Et=B?qo(B):window,t){case"focusin":(Ld(Et)||Et.contentEditable==="true")&&(Xi=Et,_r=B,Jo=null);break;case"focusout":Jo=_r=Xi=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,Hd(Y,a,O);break;case"selectionchange":if(wS)break;case"keydown":case"keyup":Hd(Y,a,O)}var st;if(Cr)t:{switch(t){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else Qi?Dd(t,a)&&(ft="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ft="onCompositionStart");ft&&(_d&&a.locale!=="ko"&&(Qi||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Qi&&(st=bd()):(Pn=O,vr="value"in Pn?Pn.value:Pn.textContent,Qi=!0)),Et=sl(B,ft),0<Et.length&&(ft=new Md(ft,t,null,a,O),Y.push({event:ft,listeners:Et}),st?ft.data=st:(st=Nd(a),st!==null&&(ft.data=st)))),(st=vS?TS(t,a):SS(t,a))&&(ft=sl(B,"onBeforeInput"),0<ft.length&&(Et=new Md("onBeforeInput","beforeinput",null,a,O),Y.push({event:Et,listeners:ft}),Et.data=st)),cE(Y,t,B,a,O)}hm(Y,i)})}function Ma(t,i,a){return{instance:t,listener:i,currentTarget:a}}function sl(t,i){for(var a=i+"Capture",r=[];t!==null;){var f=t,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Ho(t,a),f!=null&&r.unshift(Ma(t,f,g)),f=Ho(t,i),f!=null&&r.push(Ma(t,f,g))),t.tag===3)return r;t=t.return}return[]}function To(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function mm(t,i,a,r,f){for(var g=i._reactName,T=[];a!==null&&a!==r;){var b=a,M=b.alternate,B=b.stateNode;if(b=b.tag,M!==null&&M===r)break;b!==5&&b!==26&&b!==27||B===null||(M=B,f?(B=Ho(a,g),B!=null&&T.unshift(Ma(a,B,M))):f||(B=Ho(a,g),B!=null&&T.push(Ma(a,B,M)))),a=a.return}T.length!==0&&t.push({event:i,listeners:T})}var pE=/\r\n?/g,mE=/\u0000|\uFFFD/g;function gm(t){return(typeof t=="string"?t:""+t).replace(pE,`
`).replace(mE,"")}function ym(t,i){return i=gm(i),gm(t)===i}function ll(){}function Pt(t,i,a,r,f,g){switch(a){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||Fi(t,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&Fi(t,""+r);break;case"className":ds(t,"class",r);break;case"tabIndex":ds(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ds(t,a,r);break;case"style":Td(t,r,g);break;case"data":if(i!=="object"){ds(t,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=ms(""+r),t.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(i!=="input"&&Pt(t,i,"name",f.name,f,null),Pt(t,i,"formEncType",f.formEncType,f,null),Pt(t,i,"formMethod",f.formMethod,f,null),Pt(t,i,"formTarget",f.formTarget,f,null)):(Pt(t,i,"encType",f.encType,f,null),Pt(t,i,"method",f.method,f,null),Pt(t,i,"target",f.target,f,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=ms(""+r),t.setAttribute(a,r);break;case"onClick":r!=null&&(t.onclick=ll);break;case"onScroll":r!=null&&Ct("scroll",t);break;case"onScrollEnd":r!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(a=r.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}a=ms(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""+r):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":r===!0?t.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,r):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(a,r):t.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(a):t.setAttribute(a,r);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),fs(t,"popover",r);break;case"xlinkActuate":fn(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":fn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":fn(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":fn(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":fn(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":fn(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":fn(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":fn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":fn(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":fs(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Y0.get(a)||a,fs(t,a,r))}}function Ju(t,i,a,r,f,g){switch(a){case"style":Td(t,r,g);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(a=r.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof r=="string"?Fi(t,r):(typeof r=="number"||typeof r=="bigint")&&Fi(t,""+r);break;case"onScroll":r!=null&&Ct("scroll",t);break;case"onScrollEnd":r!=null&&Ct("scrollend",t);break;case"onClick":r!=null&&(t.onclick=ll);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rd.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),g=t[Se]||null,g=g!=null?g[a]:null,typeof g=="function"&&t.removeEventListener(i,g,f),typeof r=="function")){typeof g!="function"&&g!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,r,f);break t}a in t?t[a]=r:r===!0?t.setAttribute(a,""):fs(t,a,r)}}}function re(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var r=!1,f=!1,g;for(g in a)if(a.hasOwnProperty(g)){var T=a[g];if(T!=null)switch(g){case"src":r=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Pt(t,i,g,T,a,null)}}f&&Pt(t,i,"srcSet",a.srcSet,a,null),r&&Pt(t,i,"src",a.src,a,null);return;case"input":Ct("invalid",t);var b=g=T=f=null,M=null,B=null;for(r in a)if(a.hasOwnProperty(r)){var O=a[r];if(O!=null)switch(r){case"name":f=O;break;case"type":T=O;break;case"checked":M=O;break;case"defaultChecked":B=O;break;case"value":g=O;break;case"defaultValue":b=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,i));break;default:Pt(t,i,r,O,a,null)}}md(t,g,b,M,B,T,f,!1),hs(t);return;case"select":Ct("invalid",t),r=T=g=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":g=b;break;case"defaultValue":T=b;break;case"multiple":r=b;default:Pt(t,i,f,b,a,null)}i=g,a=T,t.multiple=!!r,i!=null?Hi(t,!!r,i,!1):a!=null&&Hi(t,!!r,a,!0);return;case"textarea":Ct("invalid",t),g=f=r=null;for(T in a)if(a.hasOwnProperty(T)&&(b=a[T],b!=null))switch(T){case"value":r=b;break;case"defaultValue":f=b;break;case"children":g=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Pt(t,i,T,b,a,null)}yd(t,r,f,g),hs(t);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(r=a[M],r!=null))switch(M){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Pt(t,i,M,r,a,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(r=0;r<Aa.length;r++)Ct(Aa[r],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(r=a[B],r!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Pt(t,i,B,r,a,null)}return;default:if(hr(i)){for(O in a)a.hasOwnProperty(O)&&(r=a[O],r!==void 0&&Ju(t,i,O,r,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(r=a[b],r!=null&&Pt(t,i,b,r,a,null))}function gE(t,i,a,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,T=null,b=null,M=null,B=null,O=null;for(U in a){var Y=a[U];if(a.hasOwnProperty(U)&&Y!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":M=Y;default:r.hasOwnProperty(U)||Pt(t,i,U,null,r,Y)}}for(var I in r){var U=r[I];if(Y=a[I],r.hasOwnProperty(I)&&(U!=null||Y!=null))switch(I){case"type":g=U;break;case"name":f=U;break;case"checked":B=U;break;case"defaultChecked":O=U;break;case"value":T=U;break;case"defaultValue":b=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,i));break;default:U!==Y&&Pt(t,i,I,U,r,Y)}}fr(t,T,b,M,B,O,g,f);return;case"select":U=T=b=I=null;for(g in a)if(M=a[g],a.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":U=M;default:r.hasOwnProperty(g)||Pt(t,i,g,null,r,M)}for(f in r)if(g=r[f],M=a[f],r.hasOwnProperty(f)&&(g!=null||M!=null))switch(f){case"value":I=g;break;case"defaultValue":b=g;break;case"multiple":T=g;default:g!==M&&Pt(t,i,f,g,r,M)}i=b,a=T,r=U,I!=null?Hi(t,!!a,I,!1):!!r!=!!a&&(i!=null?Hi(t,!!a,i,!0):Hi(t,!!a,a?[]:"",!1));return;case"textarea":U=I=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!r.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Pt(t,i,b,null,r,f)}for(T in r)if(f=r[T],g=a[T],r.hasOwnProperty(T)&&(f!=null||g!=null))switch(T){case"value":I=f;break;case"defaultValue":U=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Pt(t,i,T,f,r,g)}gd(t,I,U);return;case"option":for(var ht in a)if(I=a[ht],a.hasOwnProperty(ht)&&I!=null&&!r.hasOwnProperty(ht))switch(ht){case"selected":t.selected=!1;break;default:Pt(t,i,ht,null,r,I)}for(M in r)if(I=r[M],U=a[M],r.hasOwnProperty(M)&&I!==U&&(I!=null||U!=null))switch(M){case"selected":t.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Pt(t,i,M,I,r,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in a)I=a[ct],a.hasOwnProperty(ct)&&I!=null&&!r.hasOwnProperty(ct)&&Pt(t,i,ct,null,r,I);for(B in r)if(I=r[B],U=a[B],r.hasOwnProperty(B)&&I!==U&&(I!=null||U!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,i));break;default:Pt(t,i,B,I,r,U)}return;default:if(hr(i)){for(var Vt in a)I=a[Vt],a.hasOwnProperty(Vt)&&I!==void 0&&!r.hasOwnProperty(Vt)&&Ju(t,i,Vt,void 0,r,I);for(O in r)I=r[O],U=a[O],!r.hasOwnProperty(O)||I===U||I===void 0&&U===void 0||Ju(t,i,O,I,r,U);return}}for(var w in a)I=a[w],a.hasOwnProperty(w)&&I!=null&&!r.hasOwnProperty(w)&&Pt(t,i,w,null,r,I);for(Y in r)I=r[Y],U=a[Y],!r.hasOwnProperty(Y)||I===U||I==null&&U==null||Pt(t,i,Y,I,r,U)}var Wu=null,ju=null;function rl(t){return t.nodeType===9?t:t.ownerDocument}function vm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tm(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function tc(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ec=null;function yE(){var t=window.event;return t&&t.type==="popstate"?t===ec?!1:(ec=t,!0):(ec=null,!1)}var Sm=typeof setTimeout=="function"?setTimeout:void 0,vE=typeof clearTimeout=="function"?clearTimeout:void 0,Em=typeof Promise=="function"?Promise:void 0,TE=typeof queueMicrotask=="function"?queueMicrotask:typeof Em<"u"?function(t){return Em.resolve(null).then(t).catch(SE)}:Sm;function SE(t){setTimeout(function(){throw t})}function Zn(t){return t==="head"}function bm(t,i){var a=i,r=0,f=0;do{var g=a.nextSibling;if(t.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<r&&8>r){a=r;var T=t.ownerDocument;if(a&1&&xa(T.documentElement),a&2&&xa(T.body),a&4)for(a=T.head,xa(a),T=a.firstChild;T;){var b=T.nextSibling,M=T.nodeName;T[Go]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=b}}if(f===0){t.removeChild(g),Va(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:r=a.charCodeAt(0)-48;else r=0;a=g}while(a);Va(i)}function nc(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nc(a),lr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function EE(t,i,a,r){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Go])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=Je(t.nextSibling),t===null)break}return null}function bE(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Je(t.nextSibling),t===null))return null;return t}function ic(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function CE(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var r=function(){i(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Je(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var oc=null;function Cm(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Am(t,i,a){switch(i=rl(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function xa(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);lr(t)}var Ye=new Map,Mm=new Set;function ul(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mn=G.d;G.d={f:AE,r:ME,D:xE,C:_E,L:wE,m:RE,X:NE,S:DE,M:LE};function AE(){var t=Mn.f(),i=tl();return t||i}function ME(t){var i=ki(t);i!==null&&i.tag===5&&i.type==="form"?Yh(i):Mn.r(t)}var So=typeof document>"u"?null:document;function xm(t,i,a){var r=So;if(r&&typeof i=="string"&&i){var f=ze(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Mm.has(f)||(Mm.add(f),t={rel:t,crossOrigin:a,href:i},r.querySelector(f)===null&&(i=r.createElement("link"),re(i,"link",t),ne(i),r.head.appendChild(i)))}}function xE(t){Mn.D(t),xm("dns-prefetch",t,null)}function _E(t,i){Mn.C(t,i),xm("preconnect",t,i)}function wE(t,i,a){Mn.L(t,i,a);var r=So;if(r&&t&&i){var f='link[rel="preload"][as="'+ze(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ze(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ze(a.imageSizes)+'"]')):f+='[href="'+ze(t)+'"]';var g=f;switch(i){case"style":g=Eo(t);break;case"script":g=bo(t)}Ye.has(g)||(t=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ye.set(g,t),r.querySelector(f)!==null||i==="style"&&r.querySelector(_a(g))||i==="script"&&r.querySelector(wa(g))||(i=r.createElement("link"),re(i,"link",t),ne(i),r.head.appendChild(i)))}}function RE(t,i){Mn.m(t,i);var a=So;if(a&&t){var r=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ze(r)+'"][href="'+ze(t)+'"]',g=f;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=bo(t)}if(!Ye.has(g)&&(t=v({rel:"modulepreload",href:t},i),Ye.set(g,t),a.querySelector(f)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wa(g)))return}r=a.createElement("link"),re(r,"link",t),ne(r),a.head.appendChild(r)}}}function DE(t,i,a){Mn.S(t,i,a);var r=So;if(r&&t){var f=Oi(r).hoistableStyles,g=Eo(t);i=i||"default";var T=f.get(g);if(!T){var b={loading:0,preload:null};if(T=r.querySelector(_a(g)))b.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ye.get(g))&&ac(t,a);var M=T=r.createElement("link");ne(M),re(M,"link",t),M._p=new Promise(function(B,O){M.onload=B,M.onerror=O}),M.addEventListener("load",function(){b.loading|=1}),M.addEventListener("error",function(){b.loading|=2}),b.loading|=4,cl(T,i,r)}T={type:"stylesheet",instance:T,count:1,state:b},f.set(g,T)}}}function NE(t,i){Mn.X(t,i);var a=So;if(a&&t){var r=Oi(a).hoistableScripts,f=bo(t),g=r.get(f);g||(g=a.querySelector(wa(f)),g||(t=v({src:t,async:!0},i),(i=Ye.get(f))&&sc(t,i),g=a.createElement("script"),ne(g),re(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},r.set(f,g))}}function LE(t,i){Mn.M(t,i);var a=So;if(a&&t){var r=Oi(a).hoistableScripts,f=bo(t),g=r.get(f);g||(g=a.querySelector(wa(f)),g||(t=v({src:t,async:!0,type:"module"},i),(i=Ye.get(f))&&sc(t,i),g=a.createElement("script"),ne(g),re(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},r.set(f,g))}}function _m(t,i,a,r){var f=(f=mt.current)?ul(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Eo(a.href),a=Oi(f).hoistableStyles,r=a.get(i),r||(r={type:"style",instance:null,count:0,state:null},a.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Eo(a.href);var g=Oi(f).hoistableStyles,T=g.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,T),(g=f.querySelector(_a(t)))&&!g._p&&(T.instance=g,T.state.loading=5),Ye.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ye.set(t,a),g||PE(f,t,a,T.state))),i&&r===null)throw Error(s(528,""));return T}if(i&&r!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=bo(a),a=Oi(f).hoistableScripts,r=a.get(i),r||(r={type:"script",instance:null,count:0,state:null},a.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Eo(t){return'href="'+ze(t)+'"'}function _a(t){return'link[rel="stylesheet"]['+t+"]"}function wm(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function PE(t,i,a,r){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=t.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),re(i,"link",a),ne(i),t.head.appendChild(i))}function bo(t){return'[src="'+ze(t)+'"]'}function wa(t){return"script[async]"+t}function Rm(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var r=t.querySelector('style[data-href~="'+ze(a.href)+'"]');if(r)return i.instance=r,ne(r),r;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),ne(r),re(r,"style",f),cl(r,a.precedence,t),i.instance=r;case"stylesheet":f=Eo(a.href);var g=t.querySelector(_a(f));if(g)return i.state.loading|=4,i.instance=g,ne(g),g;r=wm(a),(f=Ye.get(f))&&ac(r,f),g=(t.ownerDocument||t).createElement("link"),ne(g);var T=g;return T._p=new Promise(function(b,M){T.onload=b,T.onerror=M}),re(g,"link",r),i.state.loading|=4,cl(g,a.precedence,t),i.instance=g;case"script":return g=bo(a.src),(f=t.querySelector(wa(g)))?(i.instance=f,ne(f),f):(r=a,(f=Ye.get(g))&&(r=v({},a),sc(r,f)),t=t.ownerDocument||t,f=t.createElement("script"),ne(f),re(f,"link",r),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,cl(r,a.precedence,t));return i.instance}function cl(t,i,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=r.length?r[r.length-1]:null,g=f,T=0;T<r.length;T++){var b=r[T];if(b.dataset.precedence===i)g=b;else if(g!==f)break}g?g.parentNode.insertBefore(t,g.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function ac(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function sc(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var fl=null;function Dm(t,i,a){if(fl===null){var r=new Map,f=fl=new Map;f.set(a,r)}else f=fl,r=f.get(a),r||(r=new Map,f.set(a,r));if(r.has(t))return r;for(r.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var g=a[f];if(!(g[Go]||g[de]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(i)||"";T=t+T;var b=r.get(T);b?b.push(g):r.set(T,[g])}}return r}function Nm(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function VE(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Lm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ra=null;function BE(){}function IE(t,i,a){if(Ra===null)throw Error(s(475));var r=Ra;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Eo(a.href),g=t.querySelector(_a(f));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=dl.bind(r),t.then(r,r)),i.state.loading|=4,i.instance=g,ne(g);return}g=t.ownerDocument||t,a=wm(a),(f=Ye.get(f))&&ac(a,f),g=g.createElement("link"),ne(g);var T=g;T._p=new Promise(function(b,M){T.onload=b,T.onerror=M}),re(g,"link",a),i.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(r.count++,i=dl.bind(r),t.addEventListener("load",i),t.addEventListener("error",i))}}function UE(){if(Ra===null)throw Error(s(475));var t=Ra;return t.stylesheets&&t.count===0&&lc(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&lc(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function dl(){if(this.count--,this.count===0){if(this.stylesheets)lc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hl=null;function lc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hl=new Map,i.forEach(zE,t),hl=null,dl.call(t))}function zE(t,i){if(!(i.state.loading&4)){var a=hl.get(t);if(a)var r=a.get(null);else{a=new Map,hl.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var T=f[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),r=T)}r&&a.set(null,r)}f=i.instance,T=f.getAttribute("data-precedence"),g=a.get(T)||r,g===r&&a.set(null,f),a.set(T,f),this.count++,r=dl.bind(this),f.addEventListener("load",r),f.addEventListener("error",r),g?g.parentNode.insertBefore(f,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Da={$$typeof:N,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function kE(t,i,a,r,f,g,T,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ir(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ir(0),this.hiddenUpdates=ir(null),this.identifierPrefix=r,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Pm(t,i,a,r,f,g,T,b,M,B,O,Y){return t=new kE(t,i,a,T,b,M,B,Y),i=1,g===!0&&(i|=24),g=Ne(3,null,null,i),t.current=g,g.stateNode=t,i=qr(),i.refCount++,t.pooledCache=i,i.refCount++,g.memoizedState={element:r,isDehydrated:a,cache:i},Kr(g),t}function Vm(t){return t?(t=Wi,t):Wi}function Bm(t,i,a,r,f,g){f=Vm(f),r.context===null?r.context=f:r.pendingContext=f,r=In(i),r.payload={element:a},g=g===void 0?null:g,g!==null&&(r.callback=g),a=Un(t,r,i),a!==null&&(Ie(a,t,i),sa(a,t,i))}function Im(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function rc(t,i){Im(t,i),(t=t.alternate)&&Im(t,i)}function Um(t){if(t.tag===13){var i=Ji(t,67108864);i!==null&&Ie(i,t,67108864),rc(t,67108864)}}var pl=!0;function OE(t,i,a,r){var f=V.T;V.T=null;var g=G.p;try{G.p=2,uc(t,i,a,r)}finally{G.p=g,V.T=f}}function GE(t,i,a,r){var f=V.T;V.T=null;var g=G.p;try{G.p=8,uc(t,i,a,r)}finally{G.p=g,V.T=f}}function uc(t,i,a,r){if(pl){var f=cc(r);if(f===null)$u(t,i,r,ml,a),km(t,r);else if(HE(f,t,i,a,r))r.stopPropagation();else if(km(t,r),i&4&&-1<qE.indexOf(t)){for(;f!==null;){var g=ki(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=ri(g.pendingLanes);if(T!==0){var b=g;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var M=1<<31-Re(T);b.entanglements[1]|=M,T&=~M}sn(g),(Rt&6)===0&&(Ws=tn()+500,Ca(0))}}break;case 13:b=Ji(g,2),b!==null&&Ie(b,g,2),tl(),rc(g,2)}if(g=cc(r),g===null&&$u(t,i,r,ml,a),g===f)break;f=g}f!==null&&r.stopPropagation()}else $u(t,i,r,null,a)}}function cc(t){return t=mr(t),fc(t)}var ml=null;function fc(t){if(ml=null,t=zi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=c(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return ml=t,null}function zm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_0()){case Wf:return 2;case jf:return 8;case ls:case w0:return 32;case td:return 268435456;default:return 32}default:return 32}}var dc=!1,$n=null,Jn=null,Wn=null,Na=new Map,La=new Map,jn=[],qE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function km(t,i){switch(t){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Na.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":La.delete(i.pointerId)}}function Pa(t,i,a,r,f,g){return t===null||t.nativeEvent!==g?(t={blockedOn:i,domEventName:a,eventSystemFlags:r,nativeEvent:g,targetContainers:[f]},i!==null&&(i=ki(i),i!==null&&Um(i)),t):(t.eventSystemFlags|=r,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function HE(t,i,a,r,f){switch(i){case"focusin":return $n=Pa($n,t,i,a,r,f),!0;case"dragenter":return Jn=Pa(Jn,t,i,a,r,f),!0;case"mouseover":return Wn=Pa(Wn,t,i,a,r,f),!0;case"pointerover":var g=f.pointerId;return Na.set(g,Pa(Na.get(g)||null,t,i,a,r,f)),!0;case"gotpointercapture":return g=f.pointerId,La.set(g,Pa(La.get(g)||null,t,i,a,r,f)),!0}return!1}function Om(t){var i=zi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){t.blockedOn=i,I0(t.priority,function(){if(a.tag===13){var r=Be();r=or(r);var f=Ji(a,r);f!==null&&Ie(f,a,r),rc(a,r)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gl(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=cc(t.nativeEvent);if(a===null){a=t.nativeEvent;var r=new a.constructor(a.type,a);pr=r,a.target.dispatchEvent(r),pr=null}else return i=ki(a),i!==null&&Um(i),t.blockedOn=a,!1;i.shift()}return!0}function Gm(t,i,a){gl(t)&&a.delete(i)}function FE(){dc=!1,$n!==null&&gl($n)&&($n=null),Jn!==null&&gl(Jn)&&(Jn=null),Wn!==null&&gl(Wn)&&(Wn=null),Na.forEach(Gm),La.forEach(Gm)}function yl(t,i){t.blockedOn===i&&(t.blockedOn=null,dc||(dc=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,FE)))}var vl=null;function qm(t){vl!==t&&(vl=t,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){vl===t&&(vl=null);for(var i=0;i<t.length;i+=3){var a=t[i],r=t[i+1],f=t[i+2];if(typeof r!="function"){if(fc(r||a)===null)continue;break}var g=ki(a);g!==null&&(t.splice(i,3),i-=3,fu(g,{pending:!0,data:f,method:a.method,action:r},r,f))}}))}function Va(t){function i(M){return yl(M,t)}$n!==null&&yl($n,t),Jn!==null&&yl(Jn,t),Wn!==null&&yl(Wn,t),Na.forEach(i),La.forEach(i);for(var a=0;a<jn.length;a++){var r=jn[a];r.blockedOn===t&&(r.blockedOn=null)}for(;0<jn.length&&(a=jn[0],a.blockedOn===null);)Om(a),a.blockedOn===null&&jn.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var f=a[r],g=a[r+1],T=f[Se]||null;if(typeof g=="function")T||qm(a);else if(T){var b=null;if(g&&g.hasAttribute("formAction")){if(f=g,T=g[Se]||null)b=T.formAction;else if(fc(f)!==null)continue}else b=T.action;typeof b=="function"?a[r+1]=b:(a.splice(r,3),r-=3),qm(a)}}}function hc(t){this._internalRoot=t}Tl.prototype.render=hc.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,r=Be();Bm(a,r,t,i,null,null)},Tl.prototype.unmount=hc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Bm(t.current,2,null,t,null,null),tl(),i[Ui]=null}};function Tl(t){this._internalRoot=t}Tl.prototype.unstable_scheduleHydration=function(t){if(t){var i=ad();t={blockedOn:null,target:t,priority:i};for(var a=0;a<jn.length&&i!==0&&i<jn[a].priority;a++);jn.splice(a,0,t),a===0&&Om(t)}};var Hm=e.version;if(Hm!=="19.1.1")throw Error(s(527,Hm,"19.1.1"));G.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var YE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sl.isDisabled&&Sl.supportsFiber)try{zo=Sl.inject(YE),we=Sl}catch{}}return Ua.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,r="",f=ap,g=sp,T=lp,b=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=Pm(t,1,!1,null,null,a,r,f,g,T,b,null),t[Ui]=i.current,Zu(t),new hc(i)},Ua.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var r=!1,f="",g=ap,T=sp,b=lp,M=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(M=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=Pm(t,1,!0,i,a??null,r,f,g,T,b,M,B),i.context=Vm(null),a=i.current,r=Be(),r=or(r),f=In(r),f.callback=null,Un(a,f,r),a=r,i.current.lanes=a,Oo(i,a),sn(i),t[Ui]=i.current,Zu(t),new Tl(i)},Ua.version="19.1.1",Ua}var pv;function BD(){if(pv)return Nc.exports;pv=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),Nc.exports=VD(),Nc.exports}var ID=BD();const UD="1919",m0="barricadix_authenticated";function zD(){g0(),y0()}function g0(){const o=document.getElementById("welcome-screen"),e=document.getElementById("app-container");o&&e&&(o.style.display="flex",e.style.display="none")}function kD(){const o=document.getElementById("welcome-screen"),e=document.getElementById("app-container");o&&e&&(o.style.display="none",e.style.display="flex",bN(),setTimeout(()=>{W&&(W.invalidateSize(),console.log("Map size invalidated after showing main app"))},200),setTimeout(()=>{W&&(W.invalidateSize(),console.log("Map size invalidated - final check"))},500))}function y0(){const o=document.getElementById("auth-form"),e=document.getElementById("password-input"),n=document.getElementById("auth-error"),s=document.getElementById("auth-submit");if(!o||!e||!n||!s){console.error("Auth form elements not found");return}o.addEventListener("submit",l=>{l.preventDefault(),mv(e.value)}),e.addEventListener("keypress",l=>{l.key==="Enter"&&(l.preventDefault(),mv(e.value))}),e.addEventListener("input",()=>{GD()}),e.focus()}function mv(o){const e=document.getElementById("auth-error"),n=document.getElementById("auth-submit"),s=document.getElementById("password-input");!e||!n||!s||(n.style.opacity="0.7",n.style.pointerEvents="none",s.disabled=!0,setTimeout(()=>{o===UD?(sessionStorage.setItem(m0,"true"),n.innerHTML='<i class="fas fa-check"></i> Erfolgreich!',n.style.background="linear-gradient(45deg, #10b981, #059669)",setTimeout(()=>{kD()},800)):(OD(),n.style.opacity="1",n.style.pointerEvents="auto",s.disabled=!1,s.value="",s.focus(),n.innerHTML='<i class="fas fa-sign-in-alt"></i> Anmelden')},500))}function OD(){const o=document.getElementById("auth-error");o&&(o.style.display="flex",setTimeout(()=>{o.style.display="none"},3e3))}function GD(){const o=document.getElementById("auth-error");o&&(o.style.display="none")}function v0(){sessionStorage.removeItem(m0),g0(),y0()}window.logout=v0;let W,ff,ln=null,_i=null,Co=!1,ve=[],Ri=[],je=null,Nt=null,Li=null,ja=new Map,fe=new Map,_n=null,wl=null,Pi=[],It="de",ce={};const Vi={de:{header:{planning:"Planung",manufacturer:"Hersteller"},nav:{paramInput:"Parameter",markingArea:"Sicherheitsbereich",threatAnalysis:"Gefahrenanalyse",riskReport:"Risikobericht",productSelection:"Produktauswahl",projectDescription:"Ausschreibung",publishProject:"Projektausschreibung verffentlichen"},aria:{search:"Suche",email:"E-Mail",settings:"Einstellungen"},user:{loggedIn:"Angemeldet: BarricadiX Admin"},sidebar:{trafficData:"Verkehrsdaten",vehicleSelect:"Fahrzeugauswahl",accessRoads:"Zufahrten",curbs:"Bordsteinkanten",obstacles:"Hindernisse",protectionSelection:"Schutzauswahl",protectionPeriod:"Schutzzeitraum",protectionProducts:"Schutzprodukte",productProperty:"Produkteigenschaft",riskAssessment:"Risikobewertung",assetToProtect:"Was geschtzt werden soll",securityRisk:"Sicherheitsrisiko",recommendedProductClass:"Empfohlene Produktklasse",low:"niedrig",high:"hoch",options:{vehicle:{all:"alle",motorcycle:"Motorrad",car_light:"KFZ <3.5t",truck_light:"LKW <7.5t",truck_medium:"LKW <12t",truck_heavy:"LKW <40t"},access:{all:"alle",meadow:"Wiese",forest_path:"Waldweg",pedestrian_path:"Fugngerweg",one_way:"Einbahnstrae",two_lane:"Zweispur",three_lane:"Dreispur",four_lane:"Vierspur"},curbs:{yes:"ja",no:"nein"},obstacles:{none:"keine",trees:"Bume",posts:"Pfosten",bins:"Mlltonnen"},period:{permanent:"dauerhaft",temporary:"temporr",eventual:"eventuell"},products:{bollard:"Poller",barrier:"Barriere",post:"Pfosten",ditch:"Graben"},property:{automatic_rigid:"aut./starr",retractable:"versenkbar",removable:"entfernbar"}}},products:{resistanceMedium:"Widerstandsmedium",resistanceHigh:"Hoher Widerstand",resistanceLow:"Niedriger Widerstand"},ai:{reportPrompt:"Erstellen Sie einen detaillierten Risikobericht basierend auf den gesammelten Daten.",chatbot:{title:"Zufahrtsschutz-Assistent",welcome:"Willkommen zum Zufahrtsschutz-Assistenten. Ich stelle nur Fragen, die noch fehlen oder unsicher sind. Bereit?",assetQuestion:"Welche Schutzgter mchten Sie absichern?",assetOptions:"Menschenmenge,Gebude,KRITIS-Prozess,Veranstaltungsflche",assetPlaceholder:"z. B. Menschenmenge, Bhne",assetQuestionInfo:"Grundlage fr Schutzziel & Schutzklasse (DIN SPEC 91414-2 / ISO 22343-2)",inputPlaceholder:"Antwort eingeben...",sendButton:"Senden",stakeholderQuestion:"Wer sind die relevanten Stakeholder (Behrden, Veranstalter, Betreiber)?",stakeholderOptions:"Behrden,Veranstalter,Betreiber",restRiskQuestion:"Welches akzeptable Restrisiko gilt?",restRiskOptions:"niedrig,mittel,hoch",restRiskQuestionInfo:"Steuert Schutzklasse/Sicherungsgrad (DIN SPEC 91414-2)",operationalQuestion:"Betriebsanforderungen (mehrfach whlbar)",operationalOptions:"Feuerwehrzufahrt,Fluchtwege,Verkehrssicherheit,Betriebssicherheit",threatQuestion:"Welche Art fahrzeuggesttzter Bedrohung ist zu erwarten?",threatOptions:"intentional,unbeabsichtigt,beides",vehicleTypesQuestion:"Welche Fahrzeugtypen sind relevant?",vehicleOptions:"PKW,Transporter,LKW,Bus",accessCorridorsQuestion:"Wo knnten Fahrzeuge eindringen? (Karte markieren oder beschreiben)",accessCorridorsPlaceholder:"Polyline/Polygon auswhlen oder kurz beschreiben",speedQuestion:"Maximale Zufahrtsgeschwindigkeit (km/h)",speedQuestionInfo:"Pflichtparameter fr FSB-Performance (ISO 22343-2/-1)",angleQuestion:"Wahrscheinlicher Anprallwinkel ()",angleQuestionInfo:"Pflichtparameter fr FSB-Performance (ISO 22343-2/-1)",groundQuestion:"Untergrund/Fundamente am Standort",groundOptions:"Asphalt,Beton,Pflaster,Erde,Unbekannt",riskMatrixQuestion:"Risikobewertung: Eintrittswahrscheinlichkeit & Schadensausma",riskMatrixOptions:"EW:niedrig|SA:gering,EW:niedrig|SA:mittel,EW:mittel|SA:mittel,EW:hoch|SA:schwer",riskMatrixQuestionInfo:"Erzeugt Sicherungsgrad & Schutzklasse (DIN SPEC 91414-2)",infoPrefix:"Hinweis: ",completionMessage:"Danke! Alle erforderlichen Angaben sind vorhanden. Mchten Sie den normkonformen PDF-Plan erzeugen?"}},manufacturer:{title:"Herstelleransicht",subtitle:"Verwalten Sie Ihren Produktkatalog und Kundenanfragen",products:"Produkte",quotations:"Angebote",customers:"Kunden",analytics:"Analysen",manageCatalog:"Verwalten Sie Ihren Produktkatalog",createQuotations:"Erstellen und verwalten Sie Angebote",manageContacts:"Verwalten Sie Ihre Kundenkontakte",businessAnalytics:"Betriebs- und Verkaufsanalysen",open:"ffnen",nav:{products:"Produkte",quotations:"Angebote",customers:"Kunden",analytics:"Analysen",settings:"Einstellungen"},sidebar:{productManagement:"Produktverwaltung",productCategory:"Produktkategorie",productStatus:"Produktstatus",customerManagement:"Kundenverwaltung",customerType:"Kundentyp",customerRegion:"Region",analytics:"Analysen",dateRange:"Zeitraum",options:{category:{all:"Alle Kategorien",bollards:"Poller",barriers:"Barrieren",posts:"Pfosten",ditches:"Grben"},status:{all:"Alle Status",active:"Aktiv",inactive:"Inaktiv",draft:"Entwurf"},customerType:{all:"Alle Typen",private:"Privat",business:"Geschft",government:"Behrde"},region:{all:"Alle Regionen",north:"Nord",south:"Sd",east:"Ost",west:"West"},dateRange:{"7days":"Letzte 7 Tage","30days":"Letzte 30 Tage","90days":"Letzte 90 Tage","1year":"Letztes Jahr"},manufacturer:{all:"Alle Hersteller"},standard:{all:"Alle Standards"},vehicleType:{all:"Alle Fahrzeugtypen"}},productDatabase:{title:"Produktdatenbank",subtitle:"Technische Daten und Spezifikationen aller verfgbaren Produkte",search:"Produktsuche",searchPlaceholder:"Produktname, Hersteller, Standard oder Fahrzeugtyp eingeben...",filterBy:"Filtern nach",manufacturer:"Hersteller",type:"Typ",standard:"Standard",vehicleWeight:"Fahrzeuggewicht (kg)",vehicleType:"Fahrzeugtyp",speed:"Geschwindigkeit (km/h)",impactAngle:"Anprallwinkel ()",penetration:"Penetration (m)",debrisDistance:"Trmmerdistanz (m)",actions:"Aktionen",noProducts:"Keine Produkte gefunden",loading:"Produkte werden geladen...",technicalSpecs:"Technische Spezifikationen",performanceData:"Leistungsdaten",certification:"Zertifizierung",viewDetails:"Details anzeigen",closeDetails:"Schlieen",exportData:"Daten exportieren",printSpecs:"Spezifikationen drucken",modal:{title:"Produktdetails",technicalSpecs:"Technische Spezifikationen",performanceData:"Leistungsdaten",certification:"Zertifizierung",exportData:"Daten exportieren",printSpecs:"Spezifikationen drucken"},toggleToGrid:"Kachelansicht",toggleToTable:"Tabellenansicht",table:{manufacturer:"Hersteller",type:"Typ",standard:"Standard",vehicleWeight:"Fahrzeuggewicht (kg)",vehicleType:"Fahrzeugtyp",speed:"Geschwindigkeit (km/h)",impactAngle:"Anprallwinkel ()",penetration:"Penetration (m)",debrisDistance:"Trmmerdistanz (m)",actions:"Aktionen"}}}},tooltips:{securityRisk:"Informationen zum Sicherheitsrisiko.",productClass:"Informationen zur empfohlenen Produktklasse."},report:{mainTitle:"Risikobewertung fr Zufahrtsschutz",watermark:"VERTRAULICH",undefinedAsset:"Nicht definiertes Schutzgut",undefinedValue:"Nicht definierter Wert",noThreatAnalysis:"Keine Gefahrenanalyse verfgbar",generating:"Bericht wird generiert...",status:{draft:"Entwurf",final:"Final",approved:"Genehmigt"},metadata:{date:"Datum",author:"Autor",version:"Version",classification:"Klassifizierung"},sections:{purpose:{title:"Zweck und Zielsetzung",description:"Dieser Bericht dient der Bewertung der Sicherheitsrisiken fr die zu schtzenden Zufahrten und der Empfehlung geeigneter Schutzmanahmen."},threatAnalysis:{title:"Gefahrenanalyse",description:"Analyse der identifizierten Bedrohungen und deren potenzielle Auswirkungen."},riskAssessment:{title:"Risikobewertung",description:"Bewertung der identifizierten Risiken und deren Klassifizierung."},recommendations:{title:"Empfehlungen",description:"Konkrete Handlungsempfehlungen fr die Implementierung von Schutzmanahmen."},vulnerabilities:{title:"Schwachstellenanalyse",description:"Identifizierung und Bewertung von Sicherheitsschwachstellen."},hvmMeasures:{title:"HVM-Schutzmanahmen",description:"Spezifische Schutzmanahmen gegen High-Velocity Missile Angriffe."},siteConsiderations:{title:"Standortbetrachtungen",description:"Besondere Aspekte des Standorts und der Umgebung."},operationalImpact:{title:"Betriebliche Auswirkungen",description:"Auswirkungen der Schutzmanahmen auf den laufenden Betrieb."}},threatsTable:{title:"Identifizierte Bedrohungen",street:"Strae",distance:"Strecke",maxSpeed:"Max. erreichbare Geschw."},identifiedCorridors:"{count} identifizierte Korridore",noChatGeometry:"keine Geometrie aus Chatbot bergeben",actions:{save:"Speichern",print:"Drucken",export:"Exportieren",share:"Teilen"}},threats:{title:"Gefahrenanalyse",speed:"Geschwindigkeit",analysisFailed:"Gefahrenanalyse fehlgeschlagen",noCrossingWaysBoundary:"Keine kreuzenden Wege an der Grenze gefunden",popupHeader:"Gefahreninformationen",loading:"Lade Gefahrenanalyse..."},map:{createReport:"Bericht erstellen",downloadReport:"Bericht herunterladen",searchPlaceholder:"Paderborn, Domplatz",searchButton:"Suchen",setWaypoints:"Wegpunkte setzen",setWaypointsActive:"Zeichnen aktiv",reset:"Zurcksetzen",securityAreaLabel:"Sicherheitsbereich",analyzeAccess:"Zugang analysieren"},placeholders:{assetToProtect:"Bitte eintragen"},alerts:{noPolygon:"Bitte zeichnen Sie zuerst einen Sicherheitsbereich auf der Karte.",overpassError:"Fehler beim Laden der Straendaten (Status: {status}).",analysisError:"Fehler bei der Gefahrenanalyse. Bitte versuchen Sie es erneut.",invalidPolygon:"Ungltiges Polygon. Bitte zeichnen Sie den Sicherheitsbereich neu.",emptyPolygon:"Das gezeichnete Polygon hat keine gltigen Koordinaten.",polygonCoordinateError:"Fehler beim Verarbeiten der Polygon-Koordinaten.",locationNotFound:"Standort nicht gefunden. Bitte berprfen Sie die Eingabe.",noThreatsFound:"Keine Bedrohungen in diesem Bereich gefunden.",reportGenerationError:"Fehler beim Erstellen des Berichts. Bitte versuchen Sie es erneut."}},en:{header:{planning:"Planning",manufacturer:"Manufacturer"},nav:{paramInput:"Parameters",markingArea:"Security Area",threatAnalysis:"Threat Analysis",riskReport:"Risk Report",productSelection:"Product Selection",projectDescription:"Specification",publishProject:"Publish Project Specification"},aria:{search:"Search",email:"Email",settings:"Settings"},user:{loggedIn:"Logged in: BarricadiX Admin"},sidebar:{trafficData:"Traffic Data",vehicleSelect:"Vehicle Selection",accessRoads:"Access Roads",curbs:"Curbs",obstacles:"Obstacles",protectionSelection:"Protection Selection",protectionPeriod:"Protection Period",protectionProducts:"Protection Products",productProperty:"Product Property",riskAssessment:"Risk Assessment",assetToProtect:"What to Protect",securityRisk:"Security Risk",recommendedProductClass:"Recommended Product Class",low:"low",high:"high",options:{vehicle:{all:"all",motorcycle:"Motorcycle",car_light:"Car <3.5t",truck_light:"Truck <7.5t",truck_medium:"Truck <12t",truck_heavy:"Truck <40t"},access:{all:"all",meadow:"Meadow",forest_path:"Forest Path",pedestrian_path:"Pedestrian Path",one_way:"One Way",two_lane:"Two Lane",three_lane:"Three Lane",four_lane:"Four Lane"},curbs:{yes:"yes",no:"no"},obstacles:{none:"none",trees:"Trees",posts:"Posts",bins:"Bins"},period:{permanent:"permanent",temporary:"temporary",eventual:"eventual"},products:{bollard:"Bollard",barrier:"Barrier",post:"Post",ditch:"Ditch"},property:{automatic_rigid:"auto/rigid",retractable:"retractable",removable:"removable"}}},products:{resistanceMedium:"Resistance Medium",resistanceHigh:"High Resistance",resistanceLow:"Low Resistance"},ai:{reportPrompt:"Create a detailed risk report based on the collected data.",chatbot:{title:"Access Protection Assistant",welcome:"Welcome to the Access Protection Assistant. I only ask questions that are still missing or uncertain. Ready?",assetQuestion:"Which protective assets would you like to secure?",assetOptions:"Crowd,Building,KRITIS Process,Event Area",assetPlaceholder:"e.g. Crowd, Stage",assetQuestionInfo:"Basis for Protection Goal & Protection Class (DIN SPEC 91414-2 / ISO 22343-2)",inputPlaceholder:"Enter answer...",sendButton:"Send",stakeholderQuestion:"Who are the relevant stakeholders (authorities, organizers, operators)?",stakeholderOptions:"Authorities,Organizers,Operators",restRiskQuestion:"What acceptable residual risk applies?",restRiskOptions:"low,medium,high",restRiskQuestionInfo:"Controls protection class/security level (DIN SPEC 91414-2)",operationalQuestion:"Operational requirements (multiple choice)",operationalOptions:"Fire brigade access,Escape routes,Traffic safety,Operational safety",threatQuestion:"What type of vehicle-based threat is expected?",threatOptions:"intentional,unintentional,both",vehicleTypesQuestion:"Which vehicle types are relevant?",vehicleOptions:"Car,Van,Truck,Bus",accessCorridorsQuestion:"Where could vehicles penetrate? (Mark on map or describe)",accessCorridorsPlaceholder:"Select polyline/polygon or describe briefly",speedQuestion:"Maximum access speed (km/h)",speedQuestionInfo:"Mandatory parameter for FSB performance (ISO 22343-2/-1)",angleQuestion:"Probable impact angle ()",angleQuestionInfo:"Mandatory parameter for FSB performance (ISO 22343-2/-1)",groundQuestion:"Ground/foundations at the site",groundOptions:"Asphalt,Concrete,Paving,Earth,Unknown",riskMatrixQuestion:"Risk assessment: probability of occurrence & extent of damage",riskMatrixOptions:"Prob:low|Damage:minor,Prob:low|Damage:medium,Prob:medium|Damage:medium,Prob:high|Damage:severe",riskMatrixQuestionInfo:"Generates security level & protection class (DIN SPEC 91414-2)",infoPrefix:"Note: ",completionMessage:"Thank you! All required information is available. Would you like to generate the standards-compliant PDF plan?"}},manufacturer:{title:"Manufacturer View",subtitle:"Manage your product catalog and customer inquiries",products:"Products",quotations:"Quotations",customers:"Customers",analytics:"Analytics",manageCatalog:"Manage your product catalog",createQuotations:"Create and manage quotations",manageContacts:"Manage your customer contacts",businessAnalytics:"Business and sales analytics",open:"Open",nav:{products:"Products",quotations:"Quotations",customers:"Customers",analytics:"Analytics",settings:"Settings"},sidebar:{productManagement:"Product Management",productCategory:"Product Category",productStatus:"Product Status",customerManagement:"Customer Management",customerType:"Customer Type",customerRegion:"Region",analytics:"Analytics",dateRange:"Date Range",options:{category:{all:"All Categories",bollards:"Bollards",barriers:"Barriers",posts:"Posts",ditches:"Ditches"},status:{all:"All Status",active:"Active",inactive:"Inactive",draft:"Draft"},customerType:{all:"All Types",private:"Private",business:"Business",government:"Government"},region:{all:"All Regions",north:"North",south:"South",east:"East",west:"West"},dateRange:{"7days":"Last 7 Days","30days":"Last 30 Days","90days":"Last 90 Days","1year":"Last Year"},manufacturer:{all:"All Manufacturers"},standard:{all:"All Standards"},vehicleType:{all:"All Vehicle Types"}},productDatabase:{title:"Product Database",subtitle:"Technical data and specifications of all available products",search:"Product Search",searchPlaceholder:"Enter product name, manufacturer, standard or vehicle type...",filterBy:"Filter by",manufacturer:"Manufacturer",type:"Type",standard:"Standard",vehicleWeight:"Vehicle Weight (kg)",vehicleType:"Vehicle Type",speed:"Speed (km/h)",impactAngle:"Impact Angle ()",penetration:"Penetration (m)",debrisDistance:"Debris Distance (m)",actions:"Actions",noProducts:"No products found",loading:"Loading products...",technicalSpecs:"Technical Specifications",performanceData:"Performance Data",certification:"Certification",viewDetails:"View Details",closeDetails:"Close",exportData:"Export Data",printSpecs:"Print Specifications",modal:{title:"Product Details",technicalSpecs:"Technical Specifications",performanceData:"Performance Data",certification:"Certification",exportData:"Export Data",printSpecs:"Print Specifications"},toggleToGrid:"Grid View",toggleToTable:"Table View",table:{manufacturer:"Manufacturer",type:"Type",standard:"Standard",vehicleWeight:"Vehicle Weight (kg)",vehicleType:"Vehicle Type",speed:"Speed (km/h)",impactAngle:"Impact Angle ()",penetration:"Penetration (m)",debrisDistance:"Debris Distance (m)",actions:"Actions"}}}},tooltips:{securityRisk:"Information about security risk.",productClass:"Information about recommended product class."},report:{mainTitle:"Risk Assessment for Access Protection",watermark:"CONFIDENTIAL",undefinedAsset:"Undefined asset",undefinedValue:"Undefined value",noThreatAnalysis:"No threat analysis available",generating:"Generating report...",identifiedCorridors:"{count} identified corridors",noChatGeometry:"no geometry from chatbot",status:{draft:"Draft",final:"Final",approved:"Approved"},metadata:{date:"Date",author:"Author",version:"Version",classification:"Classification"},sections:{purpose:{title:"Purpose and Objectives",description:"This report serves to assess security risks for the access routes to be protected and to recommend appropriate protective measures."},threatAnalysis:{title:"Threat Analysis",description:"Analysis of identified threats and their potential impacts."},riskAssessment:{title:"Risk Assessment",description:"Assessment of identified risks and their classification."},recommendations:{title:"Recommendations",description:"Concrete action recommendations for implementing protective measures."},vulnerabilities:{title:"Vulnerability Analysis",description:"Identification and assessment of security vulnerabilities."},hvmMeasures:{title:"HVM Protection Measures",description:"Specific protection measures against High-Velocity Missile attacks."},siteConsiderations:{title:"Site Considerations",description:"Special aspects of the site and environment."},operationalImpact:{title:"Operational Impact",description:"Impact of protection measures on ongoing operations."}},threatsTable:{title:"Identified Threats",street:"Street",distance:"Distance",maxSpeed:"Max. achievable speed"},actions:{save:"Save",print:"Print",export:"Export",share:"Share"}},threats:{title:"Threat Analysis",speed:"Speed",analysisFailed:"Threat analysis failed",noCrossingWaysBoundary:"No crossing ways found at boundary",popupHeader:"Threat Information",loading:"Loading threat analysis..."},map:{createReport:"Create Report",downloadReport:"Download Report",searchPlaceholder:"Paderborn, Domplatz",searchButton:"Search",setWaypoints:"Set Waypoints",setWaypointsActive:"Drawing Active",reset:"Reset",securityAreaLabel:"Security Area",analyzeAccess:"Analyze Access"},placeholders:{assetToProtect:"Please enter"}}};ce=Vi;function gv(){console.log("Initializing view switcher..."),setTimeout(()=>{const o=document.getElementById("planning-view-btn"),e=document.getElementById("manufacturer-view-btn");console.log("Planning button:",o),console.log("Manufacturer button:",e),o&&e?(o.addEventListener("click",()=>{console.log("Planning button clicked"),qD()}),e.addEventListener("click",()=>{console.log("Manufacturer button clicked"),HD()}),console.log("View switcher initialized successfully")):console.error("View switcher buttons not found!");const n=document.querySelectorAll(".manufacturer-tab");n.forEach(s=>{s.addEventListener("click",l=>{l.preventDefault();const u=l.target;n.forEach(y=>y.classList.remove("active")),u.classList.add("active");const c=u.id;console.log("Manufacturer tab clicked:",c);const h=u.textContent||"Tab";Uo(`${h} wird geladen...`,"info")})}),console.log("Manufacturer navigation tabs initialized"),setTimeout(()=>{QD()},500)},100)}function qD(){const o=document.getElementById("planning-view-btn"),e=document.getElementById("manufacturer-view-btn");o&&e&&(o.classList.add("active"),e.classList.remove("active")),FD()}function HD(){const o=document.getElementById("planning-view-btn"),e=document.getElementById("manufacturer-view-btn");o&&e&&(e.classList.add("active"),o.classList.remove("active")),YD()}function FD(){console.log("Switching to planning view..."),Wl();const o=document.getElementById("manufacturer-view");o&&(o.style.display="none",console.log("Manufacturer view hidden"));const e=document.getElementById("planning-view");if(e&&(e.style.display="block",console.log("Planning view shown")),["map","map-area","sidebar","map-tabs","map-toolbar","chatbot-react-root"].forEach(s=>{const l=document.getElementById(s);l&&(l.classList.remove("view-hidden"),l.style.display="block",l.style.visibility="visible",l.style.opacity="1",console.log(`${s} restored and view-hidden removed`))}),W&&(console.log("Destroying existing map..."),W.remove(),W=null),setTimeout(()=>{if(console.log("Re-initializing map..."),C0(),window.savedMapState){const s=window.savedMapState;W&&(W.setView(s.center,s.zoom),console.log("Map state restored:",s.center,"zoom:",s.zoom),W.invalidateSize(),setTimeout(()=>W==null?void 0:W.invalidateSize(),100),setTimeout(()=>W==null?void 0:W.invalidateSize(),300))}},100),window.savedChatbotState&&window.savedChatbotState.open){console.log("Restoring chatbot state...");const s=document.querySelector('#chatbot-react-root [aria-label="Zufahrtsschutz-Assistent ffnen"]');s&&(s.click(),console.log("Chatbot button clicked"))}Uo("Planungs-Ansicht aktiviert - Map neu initialisiert","success"),console.log("Planning view switch completed with map re-initialization")}function YD(){Wl(),W&&(window.savedMapState={center:W.getCenter(),zoom:W.getZoom(),waypoints:ve,drawnPolygon:Nt?Nt.getLatLngs()[0]:null,waypointMarkers:Ri.length>0,pathLine:je!==null});const o=document.querySelector('#chatbot-react-root aside[aria-label="Zufahrtsschutz-Assistent Panel"]');window.savedChatbotState={open:o&&!o.classList.contains("hidden")};const e=document.getElementById("planning-view");e&&(e.style.display="none");const n=document.getElementById("manufacturer-view");n&&(n.style.display="block",n.style.position="relative",n.style.width="100%",n.style.height="100%",n.style.zIndex="auto",n.style.backgroundColor="transparent");const s=document.querySelector(".sidebar");s&&(s.style.display="none");const l=document.getElementById("map-area");l&&(l.style.display="none",l.style.visibility="hidden",l.style.opacity="0",l.classList.add("view-hidden"));const u=document.getElementById("map");u&&(u.style.display="none",u.style.visibility="hidden",u.style.opacity="0",u.classList.add("view-hidden"));const c=document.getElementById("map-tabs"),h=document.getElementById("map-toolbar");c&&(c.style.display="none",c.classList.add("view-hidden")),h&&(h.style.display="none",h.classList.add("view-hidden")),setTimeout(()=>{Hl()},50),Uo("Hersteller-Ansicht aktiviert","success")}function KD(){if(!window.savedMapState)return;const o=window.savedMapState;return console.log("Restoring map state:",o),o}window.restoreMapState=KD;function QD(){console.log("Initializing product database..."),S0(),XD(),tN(),iN()}async function XD(){try{const o=await fetch("/Barricadix_MWP/product-database.json");if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const e=await o.json();console.log("Product database loaded:",e.length,"products"),window.productDatabase=e,ZD(e),console.log("About to display products:",e.length),await T0(e),console.log("Products display completed");const n=document.getElementById("products-loading");n&&(n.style.display="none"),S0(),setTimeout(()=>{document.getElementById("toggle-view-btn")&&Jf("grid")},100)}catch(o){console.error("Error loading product database:",o),Uo("Fehler beim Laden der Produktdatenbank","error");const e=document.getElementById("no-products");e&&(e.style.display="block",e.textContent="Fehler beim Laden der Produktdatenbank")}}function ZD(o){const e=document.getElementById("manufacturer-filter");e&&[...new Set(o.map(u=>u.manufacturer).filter(Boolean))].forEach(u=>{const c=document.createElement("option");c.value=u,c.textContent=u,e.appendChild(c)});const n=document.getElementById("standard-filter");n&&[...new Set(o.map(u=>u.standard).filter(Boolean))].forEach(u=>{const c=document.createElement("option");c.value=u,c.textContent=u,n.appendChild(c)});const s=document.getElementById("vehicle-type-filter");s&&[...new Set(o.map(u=>u.vehicleType).filter(Boolean))].forEach(u=>{const c=document.createElement("option");c.value=u,c.textContent=u,s.appendChild(c)})}async function T0(o){console.log("displayProducts called with",o.length,"products"),console.log("Calling displayProductsTable..."),$D(o),console.log("Calling displayProductsGrid..."),await JD(o),console.log("displayProducts completed")}function $D(o){console.log("displayProductsTable called with",o.length,"products");const e=document.getElementById("products-tbody");if(!e){console.error("products-tbody not found");return}if(console.log("Clearing tbody and adding",o.length,"rows"),e.innerHTML="",o.length===0){console.log("No products to display");const l=document.getElementById("no-products");l&&(l.style.display="block");return}const n=document.getElementById("no-products");n&&(n.style.display="none"),o.forEach((l,u)=>{const c=document.createElement("tr");c.innerHTML=`
            <td>${l.manufacturer||"N/A"}</td>
            <td>${l.type||"N/A"}</td>
            <td>${l.standard||"N/A"}</td>
            <td>${l.vehicleWeight||"N/A"}</td>
            <td>${l.vehicleType||"N/A"}</td>
            <td>${l.speed||"N/A"}</td>
            <td>${l.impactAngle||"N/A"}</td>
            <td>${l.penetration||"N/A"}</td>
            <td>${l.debrisDistance||"N/A"}</td>
            <td>
                <button class="view-details-btn" data-product-index="${u}">
                    Details anzeigen
                </button>
            </td>
        `,e.appendChild(c)}),console.log("Added",o.length,"rows to table"),e.querySelectorAll(".view-details-btn").forEach(l=>{l.addEventListener("click",u=>{const c=u.target,h=parseInt(c.getAttribute("data-product-index")||"0");E0(h)})})}async function JD(o){const e=document.getElementById("products-grid");if(!e)return;if(e.innerHTML="",o.length===0){const h=document.getElementById("no-products-grid");h&&(h.style.display="block");return}const n=document.getElementById("no-products-grid");n&&(n.style.display="none");const s=await WD(o);console.log("First 5 products after sorting:",s.slice(0,5).map(h=>({type:h.type,hasRealImage:h.hasRealImage,manufacturer:h.manufacturer})));const l=s.filter(h=>h.hasRealImage),u=s.filter(h=>!h.hasRealImage);console.log(`Products WITH real images: ${l.length}, WITHOUT real images: ${u.length}, total: ${s.length}`),s.forEach((h,y)=>{const p=document.createElement("div");p.className="product-card";const v=$f(h),S=h.hasRealImage;S&&y<20&&(p.className="product-card product-card-priority"),p.innerHTML=`
            <div class="product-card-image ${S?"":"no-image"}">
                <img src="${v}" alt="${h.type||"Produkt"}" 
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='block';"
                     class="product-image">
                <div class="product-image-placeholder" style="display: none;">
                    <i class="fas fa-image"></i>
                    <span>Kein Bild verfgbar</span>
                </span>
                </div>
            </div>
            <div class="product-card-content">
                <div class="product-card-header">
                    <div class="product-card-title">${h.type||"N/A"}</div>
                    <div class="product-card-manufacturer">${h.manufacturer||"N/A"}</div>
                </div>
                <div class="product-card-specs">
                    <div class="product-card-spec">
                        <div class="product-card-spec-label">${it("manufacturer.sidebar.productDatabase.standard")}</div>
                        <div class="product-card-spec-value">${h.standard||"N/A"}</div>
                    </div>
                    <div class="product-card-spec">
                        <div class="product-card-spec-label">${it("manufacturer.sidebar.productDatabase.vehicleWeight")}</div>
                        <div class="product-card-spec-value">${h.vehicleWeight||"N/A"} kg</div>
                    </div>
                    <div class="product-card-spec">
                        <div class="product-card-spec-label">${it("manufacturer.sidebar.productDatabase.vehicleType")}</div>
                        <div class="product-card-spec-value">${h.vehicleType||"N/A"}</div>
                    </div>
                    <div class="product-card-spec">
                        <div class="product-card-spec-label">${it("manufacturer.sidebar.productDatabase.speed")}</div>
                        <div class="product-card-spec-value">${h.speed||"N/A"} km/h</div>
                    </div>
                    <div class="product-card-spec">
                        <div class="product-card-spec-label">${it("manufacturer.sidebar.productDatabase.impactAngle")}</div>
                        <div class="product-card-spec-value">${h.impactAngle||"N/A"}</div>
                    </div>
                    <div class="product-card-spec">
                        <div class="product-card-spec-label">${it("manufacturer.sidebar.productDatabase.penetration")}</div>
                        <div class="product-card-spec-value">${h.penetration||"N/A"} m</div>
                    </div>
                </div>
                <div class="product-card-actions">
                    <button class="product-card-btn secondary" data-product-index="${y}">
                        Details
                    </button>
                </div>
            </div>
        `,e.appendChild(p)}),e.querySelectorAll(".product-card").forEach(h=>{h.addEventListener("click",y=>{const p=y.target;if(p.classList.contains("product-card-btn")){const v=parseInt(p.getAttribute("data-product-index")||"0");E0(v)}})})}async function WD(o){console.log("Sorting products by ACTUAL image availability...");const n=(await Promise.all(o.map(async u=>{const c=$f(u),h=await jD(c);return{...u,hasRealImage:h}}))).sort((u,c)=>u.hasRealImage&&!c.hasRealImage?(console.log(`Sorting: "${u.type}" (has real image) before "${c.type}" (no image)`),-1):!u.hasRealImage&&c.hasRealImage?(console.log(`Sorting: "${c.type}" (has real image) before "${u.type}" (no image)`),1):0),s=n.filter(u=>u.hasRealImage),l=n.filter(u=>!u.hasRealImage);return console.log(`Sorting completed: ${s.length} products WITH images, ${l.length} products WITHOUT images`),console.log("First 5 products with images:"),s.slice(0,5).forEach((u,c)=>{console.log(`${c+1}. "${u.type}" - Has real image: true`)}),n}function jD(o){return new Promise(e=>{const n=new Image;n.onload=()=>e(!0),n.onerror=()=>e(!1),n.src=o,setTimeout(()=>e(!1),2e3)})}function $f(o){if(console.log("Generating image path for product:",o),console.log("BASE_URL:","/Barricadix_MWP/"),!o.type||o.type===""){const l="/Barricadix_MWP/Datenbank_Produktbilder/default_product_img01.jpg";return console.log("Using default image path:",l),l}let e=o.type.replace(/[^a-zA-Z0-9\s\-_]/g,"").replace(/\s+/g,"_").replace(/[_-]+/g,"_").trim();console.log("Original product type:",o.type),console.log("Cleaned product type:",e);const n=[`${e}_img01.jpg`,`${e}_img02.jpg`,`${e}_img03.jpg`,`${e}.jpg`,`${e}_01.jpg`,`${e}_02.jpg`],s=`/Barricadix_MWP/Datenbank_Produktbilder/${n[0]}`;return console.log("Final image path:",s),console.log("Available patterns:",n),s}function tN(){const o=document.getElementById("product-search"),e=document.getElementById("search-btn"),n=document.getElementById("manufacturer-filter"),s=document.getElementById("standard-filter"),l=document.getElementById("vehicle-type-filter");o&&o.addEventListener("input",za),e&&e.addEventListener("click",za),n&&n.addEventListener("change",za),s&&s.addEventListener("change",za),l&&l.addEventListener("change",za),eN()}function eN(){console.log("initViewToggle called");const o=document.getElementById("toggle-view-btn");if(!o){console.error("Toggle button not found in initViewToggle");return}console.log("Toggle button found, adding click listener"),o.addEventListener("click",nN),console.log("Setting initial view to grid"),Jf("grid")}function nN(){console.log("toggleView called");const o=document.getElementById("toggle-view-btn");if(!o){console.error("Toggle button not found");return}const e=o.getAttribute("data-view");console.log("Current view:",e);const n=e==="table"?"grid":"table";console.log("Switching to view:",n),Jf(n)}function Jf(o){console.log("setView called with:",o);const e=document.getElementById("toggle-view-btn"),n=document.getElementById("products-table-container"),s=document.getElementById("products-grid-container");if(console.log("Elements found:",{toggleBtn:!!e,tableContainer:!!n,gridContainer:!!s}),!e||!n||!s){console.error("Required elements not found");return}e.setAttribute("data-view",o),console.log("Button data-view updated to:",o);const l=e.querySelector("span"),u=e.querySelector("i");if(o==="grid")console.log("Switching to grid view"),n.style.display="none",s.style.display="block",l&&(l.textContent=it("manufacturer.sidebar.productDatabase.toggleToTable")),u&&(u.className="fas fa-table");else{console.log("Switching to table view"),n.style.display="block",s.style.display="none";const c=document.getElementById("products-table");c&&(c.style.display="table",console.log("Table display set to table")),l&&(l.textContent=it("manufacturer.sidebar.productDatabase.toggleToGrid")),u&&(u.className="fas fa-th-large"),console.log("Table view activated, table should be visible now")}console.log("View switch completed")}async function za(){var c,h,y,p;const o=window.productDatabase||[],e=((c=document.getElementById("product-search"))==null?void 0:c.value.toLowerCase())||"",n=((h=document.getElementById("manufacturer-filter"))==null?void 0:h.value)||"",s=((y=document.getElementById("standard-filter"))==null?void 0:y.value)||"",l=((p=document.getElementById("vehicle-type-filter"))==null?void 0:p.value)||"",u=o.filter(v=>{var R,z,k;const S=!e||((R=v.manufacturer)==null?void 0:R.toLowerCase().includes(e))||((z=v.type)==null?void 0:z.toLowerCase().includes(e))||((k=v.standard)==null?void 0:k.toLowerCase().includes(e)),E=!n||v.manufacturer===n,C=!s||v.standard===s,A=!l||v.vehicleType===l;return S&&E&&C&&A});await T0(u)}function S0(){console.log("Translating product database elements..."),console.log("Product database elements now use automatic translation via data-translate-key")}function iN(){const o=document.getElementById("close-modal"),e=document.getElementById("export-product"),n=document.getElementById("print-product");o&&o.addEventListener("click",()=>{const l=document.getElementById("product-modal");l&&(l.style.display="none")}),e&&e.addEventListener("click",oN),n&&n.addEventListener("click",aN);const s=document.getElementById("product-modal");s&&s.addEventListener("click",l=>{l.target===s&&(s.style.display="none")})}function E0(o){const n=(window.productDatabase||[])[o];if(!n)return;const s=document.getElementById("modal-product-name");s&&(s.textContent=`${n.manufacturer} - ${n.type}`);const l=document.getElementById("modal-technical-specs");l&&(l.innerHTML=`
            <p><strong>Hersteller:</strong> ${n.manufacturer||"N/A"}</p>
            <p><strong>Typ:</strong> ${n.type||"N/A"}</p>
            <p><strong>Standard:</strong> ${n.standard||"N/A"}</p>
        `);const u=document.getElementById("modal-performance-data");u&&(u.innerHTML=`
            <p><strong>Fahrzeuggewicht:</strong> ${n.vehicleWeight||"N/A"} kg</p>
            <p><strong>Fahrzeugtyp:</strong> ${n.vehicleType||"N/A"}</p>
            <p><strong>Geschwindigkeit:</strong> ${n.speed||"N/A"} km/h</p>
            <p><strong>Anprallwinkel:</strong> ${n.impactAngle||"N/A"}</p>
            <p><strong>Penetration:</strong> ${n.penetration||"N/A"} m</p>
            <p><strong>Trmmerdistanz:</strong> ${n.debrisDistance||"N/A"} m</p>
        `);const c=document.getElementById("modal-certification");c&&(c.innerHTML=`
            <p><strong>Zertifizierungsstandard:</strong> ${n.standard||"N/A"}</p>
            <p><strong>Testbedingungen:</strong> ${n.vehicleWeight||"N/A"} kg bei ${n.speed||"N/A"} km/h</p>
        `);const h=document.getElementById("product-modal");h&&(h.style.display="flex")}function oN(){Uo("Export-Funktionalitt wird implementiert...","info")}function aN(){Uo("Druck-Funktionalitt wird implementiert...","info")}function Uo(o,e="info"){document.querySelectorAll(".custom-notification").forEach(u=>u.remove());const s=document.createElement("div");s.className=`custom-notification custom-notification-${e}`,s.innerHTML=`
        <div class="notification-content">
            <span class="notification-message">${o}</span>
            <button class="notification-close">&times;</button>
        </div>
    `,s.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${e==="info"?"#2563eb":e==="success"?"#22c55e":e==="warning"?"#f59e0b":"#ef4444"};
        color: white;
        padding: 16px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 10000;
        max-width: 400px;
        font-family: 'Open Sans', sans-serif;
        font-size: 14px;
        line-height: 1.4;
    `,document.body.appendChild(s);const l=s.querySelector(".notification-close");l&&l.addEventListener("click",()=>s.remove()),setTimeout(()=>{s.parentNode&&s.remove()},5e3)}function yv(o,e){return e.split(".").reduce((n,s)=>n?n[s]:void 0,o)}function it(o,e){console.log(`Translation request for key: ${o}, language: ${It}`),console.log("Translations source:",ce===Vi?"embedded":"external"),console.log("Current translations structure:",ce),console.log("Embedded translations structure:",Vi),(!ce||!ce[It])&&(console.warn(`No translations loaded for language: ${It}, using embedded`),ce=Vi);let n=yv(ce[It],o);if(console.log(`Text from main translations for key '${o}':`,n),typeof n!="string"&&(console.warn(`Translation key not found in main translations for language '${It}': ${o}`),n=yv(Vi[It],o),console.log(`Text from embedded translations for key '${o}':`,n),typeof n!="string")){console.warn(`Translation key not found in embedded translations for language '${It}': ${o}`);const s=sN(o);return console.log(`Fallback text for key '${o}':`,s),s||o}if(e)for(const s in e)n=n.replace(`{${s}}`,String(e[s]));return console.log(`Final translation result for ${o}:`,n),n}function sN(o){return{"sidebar.trafficData":"Verkehrsdaten","sidebar.vehicleSelect":"Fahrzeugauswahl","sidebar.accessRoads":"Zufahrten","sidebar.curbs":"Bordsteinkanten","sidebar.obstacles":"Hindernisse","sidebar.protectionSelection":"Schutzauswahl","sidebar.protectionPeriod":"Schutzzeitraum","sidebar.protectionProducts":"Schutzprodukte","sidebar.productProperty":"Produkteigenschaft","sidebar.riskAssessment":"Risikobewertung","sidebar.assetToProtect":"Was geschtzt werden soll","sidebar.securityRisk":"Sicherheitsrisiko","sidebar.recommendedProductClass":"Empfohlene Produktklasse","sidebar.low":"niedrig","sidebar.high":"hoch","nav.paramInput":"Parameter","nav.markingArea":"Sicherheitsbereich","nav.threatAnalysis":"Gefahrenanalyse","nav.riskReport":"Risikobericht","nav.productSelection":"Produktauswahl","nav.projectDescription":"Ausschreibung","header.planning":"Planung","header.manufacturer":"Hersteller"}[o]||null}async function Hl(){if(console.log("Starting UI translation..."),!ce[It]&&(console.warn(`No translations for language '${It}', attempting to load...`),await b0(),!ce[It])){console.error(`Failed to load translations for language '${It}'`);return}let o=0,e=0;document.querySelectorAll("[data-translate-key]").forEach(s=>{try{const l=s.getAttribute("data-translate-key"),u=it(l);if(u&&u!==l){if(s.hasAttribute("placeholder"))s.placeholder=u;else if(s.tagName==="INPUT"&&s.type==="text")s.value=u;else{const c=Array.from(s.childNodes).find(h=>{var y;return h.nodeType===Node.TEXT_NODE&&((y=h.textContent)==null?void 0:y.trim())});c?c.textContent=u:s.textContent=u}o++}else console.warn(`Translation failed for key: ${l}`),e++}catch(l){console.error("Error translating element:",l),e++}}),document.querySelectorAll("[data-translate-key-placeholder]").forEach(s=>{try{const l=s.getAttribute("data-translate-key-placeholder"),u=it(l);u&&u!==l&&(s.placeholder=u,o++)}catch(l){console.error("Error translating placeholder:",l),e++}}),document.querySelectorAll("[data-translate-key-aria]").forEach(s=>{try{const l=s.getAttribute("data-translate-key-aria"),u=it(l);u&&u!==l&&(s.setAttribute("aria-label",u),o++)}catch(l){console.error("Error translating aria-label:",l),e++}}),document.querySelectorAll("[data-translate-key-tooltip]").forEach(s=>{try{const l=s.getAttribute("data-translate-key-tooltip"),u=it(l);u&&u!==l&&(s.dataset.tooltip=u,o++)}catch(l){console.error("Error translating tooltip:",l),e++}});const n=document.getElementById("toggle-draw-mode");if(n){const s=n.querySelector("span");if(s){const l=it(Co?"map.setWaypointsActive":"map.setWaypoints");l&&l!=="map.setWaypointsActive"&&l!=="map.setWaypoints"&&(s.textContent=l,o++)}}console.log(`UI translation completed: ${o} elements translated, ${e} failed`),setTimeout(()=>{let s=0;document.querySelectorAll("[data-translate-key]").forEach(l=>{try{const u=l.getAttribute("data-translate-key"),c=it(u);c&&c!==u&&l.textContent!==c&&(l.textContent=c,s++)}catch(u){console.error("Error in refresh translation:",u)}}),s>0&&console.log(`Refreshed ${s} elements`)},200)}async function b0(){console.log("Translation file loading disabled to avoid conflicts"),console.log("Using embedded translations to avoid conflicts"),ce=Vi}async function vv(o){var s;console.log(`Setting language to: ${o}`);const e={center:W?W.getCenter():null,zoom:W?W.getZoom():null,drawnPolygon:Nt?Nt.getLatLngs():null,threatsMap:new Map(fe),waypoints:[...ve]};console.log("Current map state:",e),It=o,localStorage.setItem("language",o),document.documentElement.lang=o,document.querySelectorAll(".lang-btn").forEach(l=>{l.classList.toggle("active",l.getAttribute("data-lang")===o)}),await Hl();const n=document.getElementById("manufacturer-view");if(n&&n.style.display!=="none"&&Hl(),A0(),window.dispatchEvent(new Event("languageChanged")),W&&e.center&&e.zoom){console.log("Restoring map state after language change"),await new Promise(l=>setTimeout(l,500));try{if(W.setView(e.center,e.zoom,{animate:!1}),e.drawnPolygon&&e.drawnPolygon.length>0){console.log("Restoring drawn polygon"),Nt&&W.removeLayer(Nt),Nt=L.polygon(e.drawnPolygon,{color:"#ff7800",weight:3,opacity:.8,fillColor:"#ff7800",fillOpacity:.2}).addTo(W),Li&&W.removeLayer(Li);const l=Nt.getBounds().getCenter();Li=L.marker(l,{icon:L.divIcon({className:"polygon-label",html:`<div style="background: white; padding: 5px; border: 2px solid #ff7800; border-radius: 5px; font-weight: bold; color: #ff7800;">${it("map.securityArea")}</div>`,iconSize:[120,40],iconAnchor:[60,20]})}).addTo(W)}e.threatsMap.size>0&&(console.log("Restoring threats map"),fe=e.threatsMap,fe.size>0&&df()),e.waypoints.length>0&&(console.log("Restoring waypoints"),ve=e.waypoints,ve.forEach((l,u)=>{const c=L.marker(l,{icon:L.divIcon({className:"waypoint-marker",html:`<div style="background: #ff7800; color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: bold;">${u+1}</div>`,iconSize:[20,20],iconAnchor:[10,10]})}).addTo(W);Ri.push(c)}),ve.length>1&&(je=L.polyline(ve,{color:"#ff7800",weight:3,opacity:.8,dashArray:"10, 10"}).addTo(W))),W.invalidateSize(),console.log("Map state restored successfully")}catch(l){console.error("Error restoring map state:",l)}}fe.size>0&&df(),((s=document.querySelector(".product-recommendations-container"))==null?void 0:s.classList.contains("hidden"))===!1&&await Fl(),console.log(`Language change to ${o} completed`)}function C0(){const o=document.getElementById("map");if(!o){console.error("Map container element not found.");return}o.style.display="block",o.style.visibility="visible",o.style.opacity="1",o.classList.remove("view-hidden"),console.log("Map container prepared for initialization");const e=[51.7189,8.7575];W=L.map(o,{zoomControl:!1,preferCanvas:!0}).setView(e,16),L.control.zoom({position:"bottomright"}).addTo(W),ff=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(W),setTimeout(()=>{W&&(W.invalidateSize(),console.log("Map size invalidated after initialization"))},100),ff.once("load",()=>{W&&(W.invalidateSize(),console.log("Map size invalidated after tiles loaded"))}),console.log("Map initialized successfully")}const Oa=()=>{if(ln){try{ln.clearLayers(),W.removeLayer(ln)}catch{}ln=null}ja.forEach(s=>{s.forEach(l=>W.removeLayer(l))}),ja.clear(),fe.clear();const o=document.querySelector(".threat-list");o&&(o.innerHTML="");const e=document.getElementById("floating-threats");e&&e.classList.add("view-hidden"),hf(!1);const n=document.querySelector(".product-recommendations-container");n&&n.classList.add("hidden")};function lN(o,e,n,s){const l=o.lon,u=o.lat,c=e.lon,h=e.lat,y=n.lon,p=n.lat,v=s.lon,S=s.lat,E=(l-c)*(p-S)-(u-h)*(y-v);if(E===0)return null;const C=((l-y)*(p-S)-(u-p)*(y-v))/E,A=-((l-c)*(u-p)-(u-h)*(l-y))/E;return C>0&&C<1&&A>0&&A<1?{lat:u+C*(h-u),lon:l+C*(c-l)}:null}const Tv=(o,e)=>{let n=!1;for(let s=0,l=e.length-1;s<e.length;l=s++){const u=e[s].lon,c=e[s].lat,h=e[l].lon,y=e[l].lat;c>o.lat!=y>o.lat&&o.lon<(h-u)*(o.lat-c)/(y-c)+u&&(n=!n)}return n};function Sv(o,e){const s=o.lat*Math.PI/180,l=e.lat*Math.PI/180,u=(e.lat-o.lat)*Math.PI/180,c=(e.lon-o.lon)*Math.PI/180,h=Math.sin(u/2)*Math.sin(u/2)+Math.cos(s)*Math.cos(l)*Math.sin(c/2)*Math.sin(c/2);return 6371e3*(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)))}function rN(o,e,n){const s={x:o.lon-e.lon,y:o.lat-e.lat},l={x:n.lon-e.lon,y:n.lat-e.lat},u=s.x*l.x+s.y*l.y,c=Math.sqrt(s.x*s.x+s.y*s.y),h=Math.sqrt(l.x*l.x+l.y*l.y);if(c===0||h===0)return 180;const y=u/(c*h),p=Math.max(-1,Math.min(1,y));return Math.acos(p)*(180/Math.PI)}function ts(o){switch(o){case"500":return[4,6];case"3500":return[3,4];case"7500":return[1.5,2.5];case"12000":return[1,1.5];case"40000":return[.5,1];default:return null}}function Do(o,e){return e<=0?0:Math.sqrt(2*o*e)*3.6}function df(){const o=document.querySelector(".threat-list");if(!o)return;if(o.innerHTML="",fe.size===0){hf();return}const n=document.getElementById("vehicle-select").value,s=ts(n),l=Array.from(fe.entries()).map(([u,c])=>{if(c.entryPoints.length===0)return null;const h=Math.round(c.totalLength);let y=0;if(s&&h>0){const[,p]=s;y=Math.round(Do(p,h))}return{name:u,data:c,maxSpeed:y,lengthInMeters:h}}).filter(u=>u!==null);if(l.sort((u,c)=>c.maxSpeed-u.maxSpeed),l.forEach(({name:u,maxSpeed:c,lengthInMeters:h})=>{const y=document.createElement("li");let p=`${u} (${h} m`;c>0&&(p+=` / ${c} km/h`),p+=")",y.textContent=p,y.setAttribute("role","button"),y.setAttribute("tabindex","0"),y.addEventListener("click",()=>{o.querySelectorAll("li").forEach(S=>S.classList.remove("active")),y.classList.add("active");const v=ja.get(u);if(v&&v.length>0){const S=L.featureGroup(v);W.fitBounds(S.getBounds().pad(.5))}}),y.addEventListener("keydown",v=>{(v.key==="Enter"||v.key===" ")&&y.click()}),o.appendChild(y)}),o.children.length===0){const u=document.createElement("li");u.textContent=it("threats.noCrossingWaysBoundary"),o.appendChild(u)}hf(!0)}function hf(o=!1){const e=document.querySelector("#floating-threats h4");e&&(o?e.textContent=`${it("threats.title")} (Strecke / Endgeschw.)`:e.textContent=it("threats.title"))}const Ev=async()=>{if(!Nt){alert(it("alerts.noPolygon"));return}if(!Nt.getLatLngs||typeof Nt.getLatLngs!="function"){console.error("Invalid polygon object - missing getLatLngs method"),alert(it("alerts.invalidPolygon"));return}const o=Nt.getLatLngs();if(!o||o.length===0){console.error("Polygon has no coordinates"),alert(it("alerts.emptyPolygon"));return}console.log(`Analyzing threats for polygon with ${o.length} coordinate sets`),console.log("Polygon coordinates:",o);const e=document.querySelector(".loading-indicator");if(e){Oa(),e.classList.remove("hidden");try{const n=Nt.getBounds();if(!n||!n.isValid())throw new Error("Invalid polygon bounds");const s=.002,l=n.getSouthWest(),u=n.getNorthEast(),c=`${l.lat-s},${l.lng-s},${u.lat+s},${u.lng+s}`;console.log("Analysis bounds:",c);const h=`
            [out:json][timeout:25];
            (
              way["highway"](bbox:${c});
              way["railway"="tram"](bbox:${c});
            );
            (._;>;);
            out;
        `,y=`https://overpass-api.de/api/interpreter?data=${encodeURIComponent(h)}`;let p;try{const A=await fetch(y);if(!A.ok)throw new Error(it("alerts.overpassError",{status:A.status}));p=await A.json()}catch(A){console.error("Overpass API error:",A),alert(it("alerts.analysisError")),e.classList.add("hidden");return}const v={},S={};p.elements.forEach(A=>{A.type==="node"?v[A.id]={lat:A.lat,lon:A.lon}:A.type==="way"&&A.tags&&(A.tags.highway||A.tags.railway)&&A.tags.name&&(S[A.id]={name:A.tags.name,nodes:A.nodes,id:A.id})});const E=new Map;let C=[];try{if(Array.isArray(o[0])?Array.isArray(o[0][0])?C=o[0][0].map(A=>({lat:A.lat||A.lat,lon:A.lng||A.lon})):C=o[0].map(A=>({lat:A.lat||A.lat,lon:A.lng||A.lon})):C=o.map(A=>({lat:A.lat||A.lat,lon:A.lng||A.lon})),C.length<3)throw new Error("Invalid polygon: insufficient vertices");if(C=C.filter(A=>typeof A.lat=="number"&&typeof A.lon=="number"&&!isNaN(A.lat)&&!isNaN(A.lon)),C.length<3)throw new Error("Invalid polygon: insufficient valid coordinates");console.log(`Extracted ${C.length} valid polygon vertices:`,C)}catch(A){console.error("Error extracting polygon coordinates:",A),alert(it("alerts.polygonCoordinateError")),e.classList.add("hidden");return}for(const A in S){const R=S[A],z=R.nodes.map(N=>({id:N,...v[N]})).filter(N=>N.lat&&N.lon);if(z.length<2)continue;const k=[],F=[];for(let N=0;N<z.length-1;N++){const K=z[N],D=z[N+1],X=Tv(K,C),Z=Tv(D,C);if(X!==Z){let H=null;for(let ot=0;ot<C.length;ot++){const lt=C[ot],yt=C[(ot+1)%C.length],Tt=lN(K,D,lt,yt);if(Tt){H=Tt;break}}if(H){F.push(H);const ot=[H];let lt,yt;Z?(ot.push({lat:K.lat,lon:K.lon}),lt=N-1,yt=-1):(ot.push({lat:D.lat,lon:D.lon}),lt=N+1,yt=1);for(let Tt=lt;Tt>=0&&Tt<z.length;Tt+=yt){const dt=z[Tt];if(ot.length>=2){const $=ot[ot.length-2],tt=ot[ot.length-1],V={lat:dt.lat,lon:dt.lon};if(rN($,tt,V)<150)break}ot.push({lat:dt.lat,lon:dt.lon})}k.push(ot)}}}if(F.length>0){E.has(R.name)||E.set(R.name,{entryPoints:[],pathSegments:[],totalLength:0});const N=E.get(R.name);N.entryPoints.push(...F),N.pathSegments.push(...k);let K=0;k.forEach(D=>{for(let X=0;X<D.length-1;X++)K+=Sv(D[X],D[X+1])}),N.totalLength+=K}}if(fe=E,fe.size>0){if(ln)try{ln.clearLayers(),W.removeLayer(ln)}catch{}ln=L.layerGroup().addTo(W);const A=document.getElementById("vehicle-select"),R=(A==null?void 0:A.value)||"alle",z=ts(R),k=z?z[1]:3;fe.forEach((K,D)=>{if(K.entryPoints.length===0)return;const X=[];K.entryPoints.forEach(Z=>{const H=L.circle([Z.lat,Z.lon],{radius:5,color:"red",fillColor:"#f03",fillOpacity:1,weight:2}).bindPopup(`<b>${it("threats.popupHeader")}</b><br>${D}`);ln.addLayer(H),X.push(H)}),K.pathSegments.forEach(Z=>{if(Z.length>1){const H=Z.map(dt=>[dt.lat,dt.lon]);let ot=0;for(let dt=0;dt<Z.length-1;dt++)ot+=Sv(Z[dt],Z[dt+1]);const lt=Do(k,ot);let yt="#e74c3c";lt<=30?yt="#39b54a":lt<=50&&(yt="#f1c40f");const Tt=L.polyline(H,{color:yt,weight:5,opacity:.9});ln.addLayer(Tt),X.push(Tt)}}),X.length>0&&ja.set(D,X)}),df();const F=document.getElementById("floating-threats");F&&F.classList.remove("view-hidden");const N=document.querySelector(".product-recommendations-container");N&&(N.classList.remove("hidden"),await Fl())}else{const A=document.querySelector(".threat-list"),R=document.createElement("li");R.textContent=it("threats.noCrossingWaysArea"),A.appendChild(R);const z=document.getElementById("floating-threats");z&&z.classList.remove("view-hidden")}}catch(n){console.error("Fehler bei der Gefahrenanalyse:",n),alert(it("alerts.analysisError"));const s=document.querySelector(".threat-list"),l=document.createElement("li");l.textContent=it("threats.analysisFailed"),s.appendChild(l)}finally{e.classList.add("hidden")}}};async function uN(o){try{const e=typeof window<"u"&&window.location.hostname.endsWith("github.io"),n="AIzaSyAu89J9B0b57XIao133a19Wd64T6oiCA9A";if(!n||e)return console.warn("AI disabled for public/demo build. Using placeholder report sections."),dN(o);const s=new Gx({apiKey:n}),l=it("ai.reportPrompt",{locationName:o.locationName,assetToProtect:o.assetToProtect,securityLevel:o.securityLevel,protectionGrade:o.protectionGrade,threatList:o.threatList,protectionPeriod:o.protectionPeriod,productType:o.productType,penetration:o.penetration,debrisDistance:o.debrisDistance,language:It==="de"?"German":"English"})+`

IMPORTANT: Generate the report in ${It==="de"?"German":"English"} language only. All text must be in ${It==="de"?"German":"English"}.`,c=((await s.models.generateContent({model:"gemini-2.5-flash",contents:l,config:{responseMimeType:"application/json",responseSchema:{type:xn.OBJECT,properties:{purpose:{type:xn.STRING},threatAnalysis:{type:xn.STRING},vulnerabilities:{type:xn.STRING},hvmMeasures:{type:xn.STRING},siteConsiderations:{type:xn.STRING},operationalImpact:{type:xn.STRING}},required:["purpose","threatAnalysis","vulnerabilities","hvmMeasures","siteConsiderations","operationalImpact"]}}})).text||"").trim(),h=JSON.parse(c);return cN(h)}catch(e){return console.error("Fehler bei der Gemini-API-Anfrage fr den Bericht:",e),alert(it("alerts.geminiError")),null}}function cN(o){const e=It==="de",n=o.purpose||o.threatAnalysis||"",s=["der","die","das","und","fr","von","mit","bei","auf","in","an","zu","zur","zum"],l=["the","and","for","of","with","at","on","in","to","from","by","as","is","are"],u=s.filter(v=>n.toLowerCase().includes(v)).length,c=l.filter(v=>n.toLowerCase().includes(v)).length,h=u>c;if(!(e&&!h||!e&&h))return console.log("AI text is already in correct language, no translation needed"),o;console.log("AI text needs translation. Current language:",It,"Text language:",h?"German":"English");const p={};for(const[v,S]of Object.entries(o))typeof S=="string"?p[v]=fN(S,e):p[v]=S;return p}function fN(o,e){return e?o.replace(/\bThis report\b/gi,"Dieser Bericht").replace(/\baims to\b/gi,"zielt darauf ab").replace(/\bidentify\b/gi,"zu identifizieren").replace(/\bassess\b/gi,"zu bewerten").replace(/\bmitigate\b/gi,"zu mindern").replace(/\bpotential\b/gi,"potenzielle").replace(/\brisks\b/gi,"Risiken").replace(/\bassets\b/gi,"Schutzgter").replace(/\bensuring\b/gi,"um sicherzustellen").replace(/\bbusiness continuity\b/gi,"Geschftskontinuitt").replace(/\bstrategic\b/gi,"strategische").replace(/\bsecurity\b/gi,"Sicherheits").replace(/\binvestments\b/gi,"Investitionen").replace(/\bThe primary threat\b/gi,"Die primre Bedrohung").replace(/\bis\b/gi,"ist").replace(/\buse of vehicles\b/gi,"die Nutzung von Fahrzeugen").replace(/\bas\b/gi,"als").replace(/\bweapon\b/gi,"Waffe").replace(/\bPotential\b/gi,"Potenzielle").replace(/\badversaries\b/gi,"Gegner").replace(/\binclude\b/gi,"umfassen").replace(/\bstate-sponsored\b/gi,"staatsgesttzte").replace(/\bterrorist\b/gi,"terroristische").replace(/\binsider threats\b/gi,"Innentter-Bedrohungen").replace(/\bmalicious software\b/gi,"schdliche Software").replace(/\bdistributed denial\b/gi,"verteilte Verweigerung").replace(/\battacks\b/gi,"Angriffe").replace(/\bGiven\b/gi,"Angesichts").replace(/\bglobal\b/gi,"globaler").replace(/\btrends\b/gi,"Trends").replace(/\band\b/gi,"und").replace(/\bthe\b/gi,"der").replace(/\bof\b/gi,"von").replace(/\bto\b/gi,"zu").replace(/\bin\b/gi,"in").replace(/\bon\b/gi,"auf").replace(/\bat\b/gi,"bei").replace(/\bwith\b/gi,"mit").replace(/\bfor\b/gi,"fr").replace(/\bfrom\b/gi,"von").replace(/\bby\b/gi,"durch").replace(/\bas\b/gi,"als").replace(/\bis\b/gi,"ist").replace(/\bare\b/gi,"sind").replace(/\bwas\b/gi,"war").replace(/\bwere\b/gi,"waren").replace(/\bwill\b/gi,"wird").replace(/\bwould\b/gi,"wrde").replace(/\bcould\b/gi,"knnte").replace(/\bshould\b/gi,"sollte").replace(/\bmay\b/gi,"kann").replace(/\bmight\b/gi,"knnte").replace(/\bcan\b/gi,"kann"):o.replace(/\bDieser Bericht\b/gi,"This report").replace(/\bzielt darauf ab\b/gi,"aims to").replace(/\bzu identifizieren\b/gi,"identify").replace(/\bzu bewerten\b/gi,"assess").replace(/\bzu mindern\b/gi,"mitigate").replace(/\bpotenzielle\b/gi,"potential").replace(/\bRisiken\b/gi,"risks").replace(/\bSchutzgter\b/gi,"assets").replace(/\bum sicherzustellen\b/gi,"ensuring").replace(/\bGeschftskontinuitt\b/gi,"business continuity").replace(/\bstrategische\b/gi,"strategic").replace(/\bSicherheits\b/gi,"security").replace(/\bInvestitionen\b/gi,"investments").replace(/\bDie primre Bedrohung\b/gi,"The primary threat").replace(/\bist\b/gi,"is").replace(/\bdie Nutzung von Fahrzeugen\b/gi,"use of vehicles").replace(/\bals\b/gi,"as").replace(/\bWaffe\b/gi,"weapon").replace(/\bPotenzielle\b/gi,"Potential").replace(/\bGegner\b/gi,"adversaries").replace(/\bumfassen\b/gi,"include").replace(/\bstaatsgesttzte\b/gi,"state-sponsored").replace(/\bterroristische\b/gi,"terrorist").replace(/\bInnentter-Bedrohungen\b/gi,"insider threats").replace(/\bschdliche Software\b/gi,"malicious software").replace(/\bverteilte Verweigerung\b/gi,"distributed denial").replace(/\bAngriffe\b/gi,"attacks").replace(/\bAngesichts\b/gi,"Given").replace(/\bglobaler\b/gi,"global").replace(/\bTrends\b/gi,"trends").replace(/\bund\b/gi,"and").replace(/\bder\b/gi,"the").replace(/\bvon\b/gi,"of").replace(/\bzu\b/gi,"to").replace(/\bin\b/gi,"in").replace(/\bauf\b/gi,"on").replace(/\bbei\b/gi,"at").replace(/\bmit\b/gi,"with").replace(/\bfr\b/gi,"for").replace(/\bdurch\b/gi,"by").replace(/\bist\b/gi,"is").replace(/\bsind\b/gi,"are").replace(/\bwar\b/gi,"was").replace(/\bwaren\b/gi,"were").replace(/\bwird\b/gi,"will").replace(/\bwrde\b/gi,"would").replace(/\bknnte\b/gi,"could").replace(/\bsollte\b/gi,"should").replace(/\bkann\b/gi,"may")}function dN(o){var e,n,s,l,u,c,h,y,p,v;try{const S=window.planningState||{},E=((e=S.schutzgter)==null?void 0:e.join(", "))||o.assetToProtect||it("report.undefinedAsset"),C=((s=(n=S.risiko)==null?void 0:n.bedrohung)==null?void 0:s.art)||it("report.undefinedValue"),A=((u=(l=S.risiko)==null?void 0:l.dynamik)==null?void 0:u.v_kmh)||o.estimatedSpeedKmH||it("report.undefinedValue"),R=((h=(c=S.risiko)==null?void 0:c.site)==null?void 0:h.untergrund)||it("report.undefinedValue"),z=((y=S.restrisiko)==null?void 0:y.klasse)||o.securityLevel||it("report.undefinedValue"),k=(v=(p=S.risiko)==null?void 0:p.site)!=null&&v.anfahrkorridore&&S.risiko.site.anfahrkorridore.length>0?it("report.identifiedCorridors",{count:S.risiko.site.anfahrkorridore.length}):it("report.noChatGeometry");return It==="de"?{purpose:`Schutzziel: Sicherung von ${E} am Standort ${o.locationName}. Der Assistent lieferte ergnzende Eingaben (Normbezug DIN SPEC 914142 / ISO 223432).`,threatAnalysis:`Bedrohungsannahme: ${C}. Aus der Karten-/Chat-Analyse ergibt sich eine Zufahrtsgeschwindigkeit von ca. ${A} km/h. Anfahrkorridore laut Chat: ${k}.`,vulnerabilities:`Untergrund/Fundamente: ${R}. Restrisiko (Chat/Slider): ${z}. Kritische Zufahrtswinkel bzw. Engstellen sind bei der Manahmendefinition zu bercksichtigen.`,hvmMeasures:`Empfohlene Manahmen orientieren sich an der erwarteten Geschwindigkeit und den Schutzzielen. Fr ${E} mit Geschwindigkeit ~${A} km/h sind FSB mit entsprechendem Leistungsniveau, geprften Fundamenten und Bercksichtigung des Anprallwinkels anzusetzen.`,siteConsiderations:`Betriebliche Rahmenbedingungen (z. B. Feuerwehrzufahrt, Fluchtwege) aus Chat sollten in die Detailplanung einflieen. Untergrund: ${R}.`,operationalImpact:"Manahmen sind so auszulegen, dass Betrieb, Rettungswege und Gestaltung bercksichtigt sind; temporre Anpassungen (Events) werden untersttzt."}:{purpose:`Protection objective: Securing ${E} at location ${o.locationName}. The assistant provided additional inputs (standard reference DIN SPEC 914142 / ISO 223432).`,threatAnalysis:`Threat assumption: ${C}. From the map/chat analysis, an access speed of approximately ${A} km/h results. Access corridors according to chat: ${k}.`,vulnerabilities:`Ground/foundations: ${R}. Residual risk (Chat/Slider): ${z}. Critical impact angles or bottlenecks must be considered in measure definition.`,hvmMeasures:`Recommended measures are oriented to expected speed and protection objectives. For ${E} with speed ~${A} km/h, FSB with corresponding performance level, tested foundations and consideration of impact angle should be applied.`,siteConsiderations:`Operational framework conditions (e.g., fire brigade access, escape routes) from chat should flow into detailed planning. Ground: ${R}.`,operationalImpact:"Measures are designed so that operations, rescue routes and design are considered; temporary adaptations (events) are supported."}}catch{return It==="de"?{purpose:`Schutzziel und Rahmenbedingungen fr ${o.locationName}.`,threatAnalysis:"Zusammenfassung der Gefahren basierend auf Karten-/Chat-Eingaben.",vulnerabilities:"Allgemeine Schwachstellen am Standort.",hvmMeasures:"Empfohlene HVMManahmen gem Annahmen.",siteConsiderations:"Standortspezifische Hinweise.",operationalImpact:"Betriebliche Auswirkungen und Gestaltung."}:{purpose:`Protection objective and framework conditions for ${o.locationName}.`,threatAnalysis:"Summary of hazards based on map/chat inputs.",vulnerabilities:"General vulnerabilities at the site.",hvmMeasures:"Recommended HVM measures according to assumptions.",siteConsiderations:"Site-specific notes.",operationalImpact:"Operational impacts and design."}}}async function hN(o){const e=`https://nominatim.openstreetmap.org/reverse?format=json&lat=${o.lat}&lon=${o.lng}&zoom=18&addressdetails=1`;try{const n=await fetch(e,{headers:{"Accept-Language":It}});return n.ok&&(await n.json()).display_name||"Unknown Location"}catch(n){return console.error("Fehler beim Reverse Geocoding:",n),"Could not determine location"}}async function Fl(){if(Pi.length===0)try{const o=await fetch("/Barricadix_MWP/product-database.json");if(!o.ok)throw new Error("Product database fetch failed");Pi=await o.json()}catch(o){console.error(it("alerts.productDbError"),o);return}await pN()}async function pN(){console.log("Initializing product selection map with threat data");const o=document.getElementById("map");if(!o||!W){console.error("Map not available for product selection");return}o.classList.remove("view-hidden"),setTimeout(()=>{W&&(W.invalidateSize(),console.log("Map size invalidated for product selection"))},100),fe.size>0?await mN():console.log("No threat analysis data available for product selection")}async function mN(){console.log("Adding product recommendation tooltips to threat markers"),Wl(),ja.forEach((o,e)=>{const n=fe.get(e);!n||!o||o.forEach(s=>{const l=vN(n),u=gN(l);u.length>0&&yN(s,e,l,u[0])})})}function gN(o){if(console.log("Finding products for required speed:",o),console.log("Product database size:",Pi.length),!Pi||Pi.length===0)return console.log("No product database available"),[];const e=Pi.filter(s=>{const l=parseFloat(s.speed),u=!isNaN(l)&&l>=o;return u&&console.log(`Suitable product found: ${s.type} (${l} km/h >= ${o} km/h)`),u});console.log(`Found ${e.length} suitable products`);const n=e.sort((s,l)=>parseFloat(l.speed)-parseFloat(s.speed));return n.length>0&&console.log("Best product selected:",n[0]),n}function yN(o,e,n,s){let l=null,u=!1;const c=o.getElement();c&&c.classList.add("has-tooltip");const h=()=>{const y=$f(s);return console.log("Tooltip: Product image path generated:",y),console.log("Tooltip: Product data:",s),`
            <div class="product-tooltip">
                <div class="tooltip-header">
                    <h4>${e}</h4>
                    <span class="tooltip-close"></span>
                </div>
                <div class="tooltip-content">
                    <div class="product-image">
                        <img src="${y}" alt="${s.type}" 
                             onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <div class="product-image-placeholder" style="display: none;">
                            <i class="fas fa-image"></i>
                        </div>
                    </div>
                    <div class="product-info">
                        <h5>${s.type}</h5>
                        <p><strong>Hersteller:</strong> ${s.manufacturer}</p>
                        <p><strong>Getestete Geschw.:</strong> ${s.speed} km/h</p>
                        <p><strong>Erforderlich:</strong> ${n} km/h</p>
                        <p><strong>Standard:</strong> ${s.standard}</p>
                    </div>
                </div>
                <div class="tooltip-pin-indicator ${u?"pinned":""}">
                    <i class="fas fa-thumbtack"></i> ${u?"Angepinnt":"Klicken zum Anpinnen"}
                </div>
            </div>
        `};o.on("mouseover",y=>{if(u)return;l=document.createElement("div"),l.className="leaflet-tooltip-pane",l.innerHTML=h(),document.body.appendChild(l);const p=v=>{l&&(l.style.left=`${v.clientX+10}px`,l.style.top=`${v.clientY-10}px`)};p(y.originalEvent),document.addEventListener("mousemove",p),l.cleanup=()=>{document.removeEventListener("mousemove",p)}}),o.on("mouseout",()=>{u||l&&(l.cleanup&&l.cleanup(),document.body.removeChild(l),l=null)}),o.on("click",y=>{if(y.originalEvent.stopPropagation(),u)u=!1,l&&(l.cleanup&&l.cleanup(),document.body.removeChild(l),l=null);else{u=!0,l&&!l.classList.contains("pinned-tooltip")&&(l.cleanup&&l.cleanup(),document.body.removeChild(l)),l=document.createElement("div"),l.className="leaflet-tooltip-pane pinned-tooltip",l.innerHTML=h(),document.body.appendChild(l);const p=W.latLngToContainerPoint(o.getLatLng()),S=W.getContainer().getBoundingClientRect();l.style.left=`${S.left+p.x+10}px`,l.style.top=`${S.top+p.y-10}px`;const E=l.querySelector(".tooltip-close");E&&E.addEventListener("click",()=>{u=!1,l&&(document.body.removeChild(l),l=null)})}})}function vN(o){if(!o.entryPoints||o.entryPoints.length===0)return 0;const n=document.getElementById("vehicle-select").value,s=ts(n);if(!s)return 0;let l=0;return o.entryPoints.forEach(()=>{const u=Do(s[1],o.totalLength);u>l&&(l=u)}),Math.round(l)}function Wl(){document.querySelectorAll(".pinned-tooltip").forEach(n=>{n.parentNode&&n.parentNode.removeChild(n)}),document.querySelectorAll(".leaflet-tooltip-pane:not(.pinned-tooltip)").forEach(n=>{n.parentNode&&n.parentNode.removeChild(n)})}function bv(o){return o<33?it("sidebar.low"):o<66?it("products.resistanceMedium"):it("sidebar.high")}function TN(){const o=document.getElementById("vehicle-select"),e=parseInt(o.value,10);if(isNaN(e))return null;let n=null,s=1/0;for(const l of Pi){const u=parseInt(l.vehicleWeight,10),c=parseFloat(l.penetration);!isNaN(u)&&!isNaN(c)&&u>=e&&c<s&&(s=c,n=l)}return n}async function SN(){var c;const o=document.getElementById("report-iframe"),e=document.querySelector(".report-loading-overlay"),n=document.getElementById("download-report-btn"),s=document.getElementById("map"),l=document.getElementById("report-preview-area");e.classList.remove("view-hidden"),n.disabled=!0;let u=null;try{if(Nt){if(console.log(`Generating report for language: ${It}`),console.log("Drawn polygon data:",Nt),!Nt.getLatLngs||typeof Nt.getLatLngs!="function")throw console.error("Invalid polygon object - missing getLatLngs method"),new Error("Invalid polygon data for map capture");const dt=Nt.getLatLngs();if(!dt||dt.length===0)throw console.error("Polygon has no coordinates"),new Error("Polygon has no valid coordinates");console.log(`Polygon coordinates: ${dt.length} points`),l.classList.add("view-hidden"),s.classList.remove("view-hidden"),await new Promise(($,tt)=>{const V=setTimeout(()=>{tt(new Error("Map rendering timeout"))},1e4),G=()=>{clearTimeout(V);const rt=It==="de"?1e3:500;requestAnimationFrame(()=>setTimeout($,rt))};let J;W.invalidateSize(),ff.once("load",()=>{console.log("Tile layer loaded successfully"),clearTimeout(J),G()}),W.once("moveend",()=>{console.log("Map movement ended"),J=window.setTimeout(G,1e3)});try{const rt=Nt.getBounds();rt&&rt.isValid()?(console.log("Fitting map to polygon bounds"),W.fitBounds(rt,{animate:!1,padding:[20,20]})):(console.warn("Invalid bounds, using default view"),W.setView(W.getCenter(),W.getZoom()))}catch(rt){console.error("Error fitting bounds:",rt)}}),await new Promise($=>setTimeout($,500)),console.log("Capturing map screenshot..."),u=await html2canvas(s,{useCORS:!0,logging:!0,allowTaint:!0,backgroundColor:"#ffffff",scale:2,width:s.offsetWidth,height:s.offsetHeight,onclone:$=>{console.log("Cloning document for screenshot"),$.querySelectorAll(".leaflet-popup-pane > *").forEach(G=>{G.style.display="none"});const tt=$.getElementById("map");tt&&(tt.style.visibility="visible",tt.style.opacity="1",tt.style.display="block");const V=$.querySelector(".leaflet-container");V&&(V.style.visibility="visible",V.style.opacity="1")}}),console.log("Map screenshot captured successfully")}else console.log("No polygon drawn, skipping map capture");u&&u.width>0&&u.height>0?console.log(`Canvas dimensions: ${u.width}x${u.height}`):(console.warn("Invalid canvas generated, continuing without map image"),u=null);const h=Nt?await hN(Nt.getBounds().getCenter()):it("report.undefinedLocation"),p=document.getElementById("asset-to-protect").value.trim()||it("report.undefinedAsset");let v=it("report.noThreatAnalysis");if(fe.size>0){const $=document.getElementById("vehicle-select").value,tt=ts($),V=Array.from(fe.entries()).map(([G,J])=>{const rt=Math.round(J.totalLength);let x=0;if(tt&&rt>0){const[,Q]=tt;x=Math.round(Do(Q,rt))}return{name:G,lengthInMeters:rt,maxSpeed:x}});V.sort((G,J)=>J.maxSpeed-G.maxSpeed),v=`
                <table style="width: 100%; border-collapse: collapse; margin: 10px 0; font-size: 12px;">
                    <thead>
                        <tr style="background-color: #f0f0f0; font-weight: bold;">
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">${it("report.threatsTable.street")}</th>
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">${it("report.threatsTable.distance")}</th>
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">${it("report.threatsTable.maxSpeed")}</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${V.map(G=>`
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">${G.name}</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">${G.lengthInMeters} m</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">${G.maxSpeed} km/h</td>
                            </tr>
                        `).join("")}
                    </tbody>
                </table>
            `}const S=document.getElementById("security-risk-slider"),E=document.getElementById("product-class-slider"),C=document.getElementById("protection-period-select"),A=document.getElementById("protection-product-select"),R=TN(),z={locationName:h,assetToProtect:p,securityLevel:bv(parseInt(S.value)),protectionGrade:bv(parseInt(E.value)),threatList:v,protectionPeriod:C.options[C.selectedIndex].text,productType:A.options[A.selectedIndex].text,penetration:R?R.penetration:it("report.undefinedValue"),debrisDistance:R&&R.debrisDistance||it("report.undefinedValue")},k=await uN(z);if(!k)throw new Error("AI did not return report sections.");const{jsPDF:F}=window.jspdf,N=new F({orientation:"p",unit:"mm",format:"a4"}),K=()=>{const dt=N.internal.pageSize.getWidth(),$=N.internal.pageSize.getHeight();if(N.saveGraphicsState(),N.setFont("helvetica","bold"),N.setFontSize(120),N.setTextColor(200,200,200),F.GState){const tt=new F.GState({opacity:.2});N.setGState(tt)}N.text(it("report.watermark"),dt/2+50,$/2+50,{align:"center",angle:45}),N.restoreGraphicsState()},D=20,X=N.internal.pageSize.getWidth(),Z=X-D*2;let H=25;const ot=(dt,$)=>{H>250&&(N.addPage(),K(),H=25),N.setFont("helvetica","bold").setFontSize(14).text(it(dt),D,H),H+=7;const tt=N.setFont("helvetica","normal").setFontSize(11).splitTextToSize($,Z);H+tt.length*5>280&&(N.addPage(),K(),H=25),N.text(tt,D,H),H+=tt.length*5+10};K();const lt=it("report.mainTitle",{locationName:h});N.setFont("helvetica","bold").setFontSize(18);const yt=N.splitTextToSize(lt,Z),Tt=8;if(H+yt.length*Tt>280&&(N.addPage(),K(),H=25),N.text(yt,D,H),H+=yt.length*Tt+5,N.setDrawColor(30,144,255).setLineWidth(.5).line(D,H,X-D,H),H+=15,ot("report.sections.purpose.title",k.purpose),ot("report.sections.threatAnalysis.title",k.threatAnalysis),fe.size>0){H-=5,N.setFont("helvetica","normal").setFontSize(11);const $=document.getElementById("vehicle-select").value,tt=ts($);fe.forEach((V,G)=>{let J=` ${G} (${Math.round(V.totalLength)} m)`;if(tt&&V.totalLength>0){const[x,Q]=tt,nt=Math.round(Do(x,V.totalLength)),j=Math.round(Do(Q,V.totalLength));J+=` | ${it("threats.speed")}: ${nt}-${j} km/h`}const rt=N.splitTextToSize(J,Z-5);H+rt.length*7>280&&(N.addPage(),K(),H=25),N.text(rt,D+5,H),H+=rt.length*6}),H+=10}if(ot("report.sections.vulnerabilities.title",k.vulnerabilities),ot("report.sections.hvmMeasures.title",k.hvmMeasures),ot("report.sections.siteConsiderations.title",k.siteConsiderations),u){const dt=u.height/u.width,$=Z*dt;H+$>280&&(N.addPage(),K(),H=25),N.addImage(u,"PNG",D,H,Z,$),H+=$+10}else{const dt=it("report.noMapAvailable"),$=N.setFont("helvetica","italic").setFontSize(10).splitTextToSize(dt,Z);H+$.length*5>280&&(N.addPage(),K(),H=25),N.text($,D,H),H+=$.length*5+10}ot("report.sections.operationalImpact.title",k.operationalImpact);try{const dt=N.getNumberOfPages||((c=N.internal)==null?void 0:c.getNumberOfPages),$=typeof dt=="function"?dt.call(N):1;for(let tt=1;tt<=$;tt++)N.setPage(tt),K()}catch{K()}l.classList.remove("view-hidden"),s.classList.add("view-hidden"),await new Promise(requestAnimationFrame);try{const dt=N.output("blob");wl&&URL.revokeObjectURL(wl),wl=URL.createObjectURL(dt),o.src=wl}catch{o.src=N.output("datauristring")}_n=N,n.disabled=!1}catch(h){console.error("Fehler bei der Erstellung des Berichts:",h),alert(it("alerts.reportCreationError")),s.classList.add("view-hidden"),l.classList.remove("view-hidden")}finally{e.classList.add("view-hidden")}}function EN(){_n?_n.save(it("report.reportFilename")):alert(it("alerts.noReportToDownload"))}async function bN(){var dt;console.log("Initializing main application..."),gv(),C0();let o=0;const e=3;for(;o<e&&(!ce.de||!ce.en);)console.log(`Translation load attempt ${o+1}/${e}`),await b0(),o++,o<e&&(!ce.de||!ce.en)&&(console.log("Waiting 500ms before retry..."),await new Promise($=>setTimeout($,500)));(!ce.de||!ce.en)&&(console.warn("Failed to load translations from file, using embedded translations"),ce=Vi),It="de",console.log("Translating UI..."),await Hl(),A0();const n=localStorage.getItem("language")||"de";n!==It&&(console.log(`Setting saved language: ${n}`),await vv(n)),document.querySelectorAll(".lang-btn").forEach($=>{$.addEventListener("click",tt=>{const V=tt.currentTarget.dataset.lang;V&&V!==It&&vv(V)})}),console.log("Initialization completed successfully");const s=document.getElementById("tooltip");document.querySelectorAll(".info-icon").forEach($=>{$.addEventListener("mouseover",tt=>{const V=tt.currentTarget,G=V.dataset.tooltip||"";s.textContent=G,s.style.opacity="1";const J=V.getBoundingClientRect();s.style.left=`${J.left+window.scrollX}px`,s.style.top=`${J.bottom+window.scrollY+5}px`}),$.addEventListener("mouseout",()=>{s.style.opacity="0"})});const u=document.getElementById("map-search-input"),c=document.getElementById("map-search-button"),h=document.getElementById("toggle-sidebar"),y=document.querySelector(".sidebar"),p=async()=>{const $=u.value.trim();if(!$)return;const tt=`https://nominatim.openstreetmap.org/search?format=json&limit=1&q=${encodeURIComponent($)}`;try{const V=await fetch(tt,{headers:{"Accept-Language":It}});if(!V.ok)throw new Error(`API request failed with status ${V.status}`);const G=await V.json();if(G&&G.length>0){const{lat:J,lon:rt,display_name:x}=G[0];W.setView([J,rt],15),_i&&W.removeLayer(_i),_i&&(W.removeLayer(_i),_i=null);const Q=L.divIcon({className:"search-marker",html:'<i class="fas fa-map-marker-alt" style="color: #dc2626; font-size: 20px;"></i>',iconSize:[25,41],iconAnchor:[12,41]});_i=L.marker([J,rt],{icon:Q,zIndexOffset:1e3}).addTo(W),_i.bindPopup(`<b>${x}</b>`).openPopup(),W.invalidateSize()}else alert(it("alerts.locationNotFound"))}catch(V){console.error("Fehler bei der Kartensuche:",V),alert(it("alerts.searchError"))}};c.addEventListener("click",p),u.addEventListener("keypress",$=>{$.key==="Enter"&&p()}),h&&y&&h.addEventListener("click",()=>{y.classList.toggle("open")});const v=document.getElementById("toggle-draw-mode"),S=document.getElementById("reset-drawing"),E=document.getElementById("map"),C=$=>{Co=$;const tt=v.querySelector("span");$?(v.classList.add("active"),tt&&(tt.textContent=it("map.setWaypointsActive")),E==null||E.classList.add("drawing-mode")):(v.classList.remove("active"),tt&&(tt.textContent=it("map.setWaypoints")),E==null||E.classList.remove("drawing-mode"))},A=()=>{Ri.forEach($=>W.removeLayer($)),Ri=[],je&&W.removeLayer(je),je=null,Nt&&W.removeLayer(Nt),Nt=null,Li&&W.removeLayer(Li),Li=null,ve=[],Co&&C(!1)},R=()=>{je&&W.removeLayer(je),ve.length>1&&(je=L.polyline(ve,{color:"var(--accent-color)",weight:3}).addTo(W))},z=()=>{if(ve.length<3)return;Nt&&W.removeLayer(Nt),Nt=L.polygon(ve,{color:"yellow",fillColor:"#FFFF00",fillOpacity:.3,weight:2}).addTo(W);const $=Nt.getBounds().getCenter();Li=L.marker($,{icon:L.divIcon({className:"polygon-label",html:it("map.securityAreaLabel"),iconSize:[150,24]})}).addTo(W),je&&W.removeLayer(je),je=null,Ri.forEach(tt=>W.removeLayer(tt)),Ri=[],ve=[],C(!1)},k=$=>{if(!Co)return;const tt=$.latlng,V=L.marker(tt).addTo(W);ve.length===0&&V.on("click",()=>{Co&&ve.length>=3&&z()}),ve.push(tt),Ri.push(V),R()};W.on("click",k);const F=document.querySelectorAll(".main-nav a"),N=document.querySelectorAll(".map-tabs a"),K=document.getElementById("analyze-threats"),D=document.getElementById("create-report-btn"),X=document.getElementById("download-report-btn"),Z=document.getElementById("report-iframe"),H=document.getElementById("map"),ot=document.getElementById("report-preview-area"),lt=document.getElementById("vehicle-select"),yt=async($,tt)=>{tt&&(F.forEach(G=>G.classList.remove("active")),tt.classList.add("active")),N.forEach(G=>{const J=G;J.classList.toggle("active",J.getAttribute("data-target")===$)}),$==="nav-param-input"&&(A(),Oa(),_n=null),$==="nav-marking-area"&&(Oa(),_n=null),$==="nav-threat-analysis"&&(_n=null),$==="nav-product-selection"?await Fl():Wl(),$==="nav-project-description"&&(Oa(),_n=null),v.classList.add("hidden"),S.classList.add("hidden"),K.classList.add("hidden"),D.classList.add("hidden"),X.classList.add("hidden");const V=$==="nav-risk-report";H.classList.toggle("view-hidden",V),ot.classList.toggle("view-hidden",!V),W&&(V||W.invalidateSize()),_n||(Z.src="about:blank",X.disabled=!0),$==="nav-marking-area"?(v.classList.remove("hidden"),S.classList.remove("hidden")):$==="nav-threat-analysis"?K.classList.remove("hidden"):$==="nav-risk-report"&&(D.classList.remove("hidden"),X.classList.remove("hidden"),X.disabled=!_n)};F.forEach($=>{$.addEventListener("click",async tt=>{tt.preventDefault();const V=tt.currentTarget,G=V.id;await yt(G,V)})}),N.forEach($=>{$.addEventListener("click",async tt=>{tt.preventDefault();const G=tt.currentTarget.getAttribute("data-target"),J=document.getElementById(G);await yt(G,J??void 0)})}),lt.addEventListener("change",async()=>{var $;fe.size>0&&await Ev(),(($=document.querySelector(".product-recommendations-container"))==null?void 0:$.classList.contains("hidden"))===!1&&await Fl()}),v.addEventListener("click",()=>{Nt&&A(),C(!Co)}),S.addEventListener("click",()=>{A(),Oa()}),K.addEventListener("click",Ev),D.addEventListener("click",SN),X.addEventListener("click",EN),(dt=document.getElementById("nav-param-input"))==null||dt.click();const Tt=document.getElementById("chatbot-react-root");if(Tt)try{ID.createRoot(Tt).render(et.createElement(RD))}catch($){console.error("Chatbot mount failed:",$)}gv()}function A0(){console.log("Translating chatbot for language:",It);const o=document.querySelector("#chatbot-react-root h2");o&&(o.textContent=it("ai.chatbot.title"));const e=document.querySelector("#chatbot-react-root .message:first-child .message-content");e&&(e.textContent=it("ai.chatbot.welcome"));const n=document.querySelector("#chatbot-react-root .message:nth-child(2) .message-content");n&&(n.textContent=it("ai.chatbot.assetQuestion"));const s=document.querySelector('#chatbot-react-root input[type="text"]');s&&(s.placeholder=it("ai.chatbot.inputPlaceholder"));const l=document.querySelector('#chatbot-react-root button[type="submit"]');l&&(l.textContent=it("ai.chatbot.sendButton")),console.log("Chatbot translation completed")}function CN(){document.querySelectorAll(".logo-img, .welcome-logo").forEach(e=>{e.addEventListener("click",n=>{n.preventDefault(),console.log("Logo clicked - logging out..."),v0()}),e.style.cursor="pointer"})}document.addEventListener("DOMContentLoaded",()=>{console.log("DOM loaded, initializing authentication..."),zD(),CN()});
